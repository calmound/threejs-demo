{
  "version": 3,
  "sources": ["../../@mapbox/geojson-rewind/index.js", "../../@mapbox/vector-tile/lib/vectortilefeature.js", "../../@mapbox/vector-tile/lib/vectortilelayer.js", "../../@mapbox/vector-tile/lib/vectortile.js", "../../@mapbox/vector-tile/index.js", "../../ieee754/index.js", "../../pbf/index.js", "../../supercluster/dist/supercluster.js", "../../earcut/src/earcut.js", "../../@antv/g-device-api/node_modules/eventemitter3/index.js", "../../regl/dist/regl.js", "../../@antv/l7-source/es/factory.js", "../../d3-dsv/src/dsv.js", "../../d3-dsv/src/csv.js", "../../d3-dsv/src/tsv.js", "../../d3-dsv/src/autoType.js", "../../@turf/invariant/dist/es/index.js", "../../@antv/l7-source/es/utils/util.js", "../../@antv/l7-source/es/parser/json.js", "../../@antv/l7-source/es/parser/csv.js", "../../@antv/l7-source/es/parser/geojson.js", "../../geojson-vt/src/simplify.js", "../../geojson-vt/src/feature.js", "../../geojson-vt/src/convert.js", "../../geojson-vt/src/clip.js", "../../geojson-vt/src/wrap.js", "../../geojson-vt/src/transform.js", "../../geojson-vt/src/tile.js", "../../geojson-vt/src/index.js", "../../@antv/l7-source/es/source/geojsonvt.js", "../../@antv/l7-source/es/parser/geojsonvt.js", "../../@antv/l7-source/es/parser/image.js", "../../@antv/l7-source/es/parser/jsonTile.js", "../../@antv/l7-source/es/source/vector.js", "../../@antv/l7-source/es/parser/mvt.js", "../../@antv/l7-source/es/utils/bandOperation/math.js", "../../@antv/l7-source/es/utils/bandOperation/operationSchema.js", "../../@antv/l7-source/es/utils/bandOperation/bands.js", "../../@antv/l7-source/es/parser/raster.js", "../../@antv/l7-source/es/utils/tile/getCustomData.js", "../../@antv/l7-source/es/utils/tile/request.js", "../../@antv/l7-source/es/utils/tile/getRasterData.js", "../../@antv/l7-source/es/utils/tile/getRasterTile.js", "../../@antv/l7-source/es/parser/raster-tile.js", "../../@antv/l7-source/es/parser/raster/ndi.js", "../../@antv/l7-source/es/parser/raster/rgb.js", "../../@antv/l7-source/es/parser/rasterRgb.js", "../../@antv/l7-source/es/parser/testTile.js", "../../@antv/l7-source/es/source.js", "../../@antv/l7-source/es/transform/cluster.js", "../../@antv/l7-source/es/utils/statistics.js", "../../@antv/l7-source/es/transform/filter.js", "../../@antv/l7-source/es/transform/grid.js", "../../d3-hexbin/src/hexbin.js", "../../@antv/l7-source/es/transform/hexagon.js", "../../@antv/l7-source/es/transform/join.js", "../../@antv/l7-source/es/transform/map.js", "../../@antv/l7-source/es/index.js", "../../@antv/l7-component/es/marker.js", "../../@antv/l7-component/es/marker-layer.js", "../../@antv/l7-component/es/assets/iconfont/iconfont.js", "../../@antv/l7-component/es/control/baseControl/control.js", "../../@antv/l7-component/es/control/baseControl/buttonControl.js", "../../@antv/l7-component/es/utils/popper.js", "../../@antv/l7-component/es/control/baseControl/popperControl.js", "../../@antv/l7-component/es/control/baseControl/selectControl.js", "../../@antv/l7-component/es/utils/icon.js", "../../@antv/l7-component/es/control/exportImage.js", "../../@antv/l7-component/es/utils/screenfull.js", "../../@antv/l7-component/es/control/fullscreen.js", "../../@antv/l7-component/es/control/geoLocate.js", "../../@antv/l7-component/es/control/layerSwitch.js", "../../@antv/l7-component/es/control/logo.js", "../../@antv/l7-component/es/constants/index.js", "../../@antv/l7-component/es/control/mapTheme.js", "../../@antv/l7-component/es/control/mouseLocation.js", "../../@antv/l7-component/es/control/scale.js", "../../@antv/l7-layers/es/core/BaseLayer.js", "../../@antv/l7-layers/es/plugins/DataMappingPlugin.js", "../../@antv/l7-layers/es/plugins/DataSourcePlugin.js", "../../d3-array/src/ascending.js", "../../d3-array/src/bisector.js", "../../d3-array/src/number.js", "../../d3-array/src/bisect.js", "../../d3-array/src/extent.js", "../../d3-array/src/array.js", "../../d3-array/src/ticks.js", "../../d3-array/src/shuffle.js", "../../d3-interpolate/src/basis.js", "../../d3-interpolate/src/basisClosed.js", "../../d3-interpolate/src/constant.js", "../../d3-interpolate/src/color.js", "../../d3-interpolate/src/rgb.js", "../../d3-interpolate/src/numberArray.js", "../../d3-interpolate/src/array.js", "../../d3-interpolate/src/date.js", "../../d3-interpolate/src/number.js", "../../d3-interpolate/src/object.js", "../../d3-interpolate/src/string.js", "../../d3-interpolate/src/value.js", "../../d3-interpolate/src/round.js", "../../d3-interpolate/src/transform/decompose.js", "../../d3-interpolate/src/transform/parse.js", "../../d3-interpolate/src/transform/index.js", "../../d3-interpolate/src/hsl.js", "../../d3-interpolate/src/hcl.js", "../../d3-interpolate/src/cubehelix.js", "../../d3-scale/node_modules/d3-array/src/ascending.js", "../../d3-scale/node_modules/d3-array/src/bisector.js", "../../d3-scale/node_modules/d3-array/src/bisect.js", "../../d3-scale/node_modules/d3-array/src/number.js", "../../d3-scale/node_modules/d3-array/src/array.js", "../../d3-scale/node_modules/d3-array/src/ticks.js", "../../d3-scale/node_modules/d3-array/src/quantile.js", "../../d3-scale/src/init.js", "../../d3-collection/src/map.js", "../../d3-collection/src/set.js", "../../d3-scale/src/array.js", "../../d3-scale/src/ordinal.js", "../../d3-scale/src/constant.js", "../../d3-scale/src/number.js", "../../d3-scale/src/continuous.js", "../../d3-format/src/formatDecimal.js", "../../d3-format/src/exponent.js", "../../d3-format/src/formatGroup.js", "../../d3-format/src/formatNumerals.js", "../../d3-format/src/formatSpecifier.js", "../../d3-format/src/formatTrim.js", "../../d3-format/src/formatPrefixAuto.js", "../../d3-format/src/formatRounded.js", "../../d3-format/src/formatTypes.js", "../../d3-format/src/identity.js", "../../d3-format/src/locale.js", "../../d3-format/src/defaultLocale.js", "../../d3-format/src/precisionFixed.js", "../../d3-format/src/precisionPrefix.js", "../../d3-format/src/precisionRound.js", "../../d3-scale/src/tickFormat.js", "../../d3-scale/src/linear.js", "../../d3-scale/src/nice.js", "../../d3-scale/src/log.js", "../../d3-scale/src/pow.js", "../../d3-scale/src/quantile.js", "../../d3-scale/src/quantize.js", "../../d3-scale/src/threshold.js", "../../d3-time/src/interval.js", "../../d3-time/src/millisecond.js", "../../d3-time/src/duration.js", "../../d3-time/src/second.js", "../../d3-time/src/minute.js", "../../d3-time/src/hour.js", "../../d3-time/src/day.js", "../../d3-time/src/week.js", "../../d3-time/src/month.js", "../../d3-time/src/year.js", "../../d3-time/src/utcMinute.js", "../../d3-time/src/utcHour.js", "../../d3-time/src/utcDay.js", "../../d3-time/src/utcWeek.js", "../../d3-time/src/utcMonth.js", "../../d3-time/src/utcYear.js", "../../d3-time-format/src/locale.js", "../../d3-time-format/src/defaultLocale.js", "../../d3-time-format/src/isoFormat.js", "../../d3-time-format/src/isoParse.js", "../../d3-scale/src/time.js", "../../d3-scale/src/sequential.js", "../../d3-scale/src/diverging.js", "../../@antv/l7-layers/es/utils/identityScale.js", "../../@antv/l7-layers/es/plugins/FeatureScalePlugin.js", "../../@antv/l7-layers/es/plugins/LayerAnimateStylePlugin.js", "../../@antv/l7-layers/es/plugins/LayerMaskPlugin.js", "../../@antv/l7-layers/es/plugins/LayerModelPlugin.js", "../../@antv/l7-layers/es/plugins/LayerStylePlugin.js", "../../@antv/l7-layers/es/plugins/LightingPlugin.js", "../../@antv/l7-layers/es/utils/multiPassRender.js", "../../@antv/l7-layers/es/plugins/MultiPassRendererPlugin.js", "../../@antv/l7-layers/es/core/CommonStyleAttribute.js", "../../@antv/l7-layers/es/plugins/PixelPickingPlugin.js", "../../@antv/l7-layers/es/tile/utils/utils.js", "../../@antv/l7-layers/es/plugins/RegisterStyleAttributePlugin.js", "../../@antv/l7-layers/es/plugins/ShaderUniformPlugin.js", "../../@antv/l7-layers/es/plugins/UpdateModelPlugin.js", "../../@antv/l7-layers/es/plugins/UpdateStyleAttributePlugin.js", "../../@antv/l7-layers/es/plugins/index.js", "../../@antv/l7-layers/es/utils/blend.js", "../../@antv/l7-layers/es/core/LayerPickService.js", "../../@antv/l7-layers/es/core/TextureService.js", "../../@antv/l7-layers/es/utils/stencil.js", "../../@antv/l7-layers/es/core/constant.js", "../../@antv/l7-layers/es/core/utils.js", "../../@antv/l7-layers/es/core/BaseModel.js", "../../@antv/l7-layers/es/core/interface.js", "../../@antv/l7-layers/es/canvas/models/constants.js", "../../@antv/l7-layers/es/canvas/models/canvas.js", "../../@antv/l7-layers/es/canvas/index.js", "../../@antv/l7-layers/es/core/triangulation.js", "../../@antv/l7-layers/es/earth/utils.js", "../../@antv/l7-layers/es/utils/extrude_polyline.js", "../../@antv/l7-layers/es/core/shape/Path.js", "../../@antv/l7-layers/es/core/shape/extrude.js", "../../@antv/l7-layers/es/citybuliding/models/build.js", "../../@antv/l7-layers/es/citybuliding/building.js", "../../@antv/l7-layers/es/geometry/models/billboard.js", "../../@antv/l7-layers/es/geometry/models/plane.js", "../../@antv/l7-layers/es/geometry/models/sprite.js", "../../@antv/l7-layers/es/geometry/models/index.js", "../../@antv/l7-layers/es/geometry/index.js", "../../@antv/l7-layers/es/utils/rampcolor_legend.js", "../../@antv/l7-layers/es/heatmap/models/grid.js", "../../@antv/l7-layers/es/heatmap/models/grid3d.js", "../../@antv/l7-layers/es/heatmap/triangulation.js", "../../@antv/l7-layers/es/heatmap/models/heatmap.js", "../../@antv/l7-layers/es/heatmap/models/hexagon.js", "../../@antv/l7-layers/es/heatmap/models/index.js", "../../@antv/l7-layers/es/heatmap/index.js", "../../@antv/l7-layers/es/image/models/image.js", "../../@antv/l7-layers/es/image/models/index.js", "../../@antv/l7-layers/es/image/index.js", "../../@antv/l7-layers/es/line/models/arc.js", "../../@antv/l7-layers/es/line/models/arc_3d.js", "../../@antv/l7-layers/es/core/shape/arrow.js", "../../@antv/l7-layers/es/core/line_trangluation.js", "../../@antv/l7-layers/es/line/models/flow.js", "../../@antv/l7-layers/es/line/models/great_circle.js", "../../@antv/l7-layers/es/line/models/line.js", "../../@antv/l7-layers/es/line/models/simple_line.js", "../../@antv/l7-layers/es/line/models/wall.js", "../../@antv/l7-layers/es/line/models/index.js", "../../@antv/l7-layers/es/line/index.js", "../../@antv/l7-layers/es/point/models/billboard_point.js", "../../@antv/l7-layers/es/point/models/earthExtrude.js", "../../@antv/l7-layers/es/point/models/earthFill.js", "../../@antv/l7-layers/es/point/models/extrude.js", "../../@antv/l7-layers/es/point/models/fill.js", "../../@antv/l7-layers/es/point/models/fillImage.js", "../../@antv/l7-layers/es/point/models/image.js", "../../@antv/l7-layers/es/point/models/normal.js", "../../@antv/l7-layers/es/point/models/radar.js", "../../@antv/l7-layers/es/utils/grid-index.js", "../../@antv/l7-layers/es/utils/collision-index.js", "../../@antv/l7-layers/es/utils/symbol-layout.js", "../../@antv/l7-layers/es/point/models/text.js", "../../@antv/l7-layers/es/point/models/index.js", "../../@antv/l7-layers/es/point/index.js", "../../@antv/l7-layers/es/utils/load-image.js", "../../@antv/l7-layers/es/polygon/models/extrude.js", "../../@antv/l7-layers/es/polygon/models/extrusion.js", "../../@antv/l7-layers/es/polygon/models/fill.js", "../../@antv/l7-layers/es/polygon/models/ocean.js", "../../@antv/l7-layers/es/polygon/models/water.js", "../../@antv/l7-layers/es/polygon/models/index.js", "../../@antv/l7-layers/es/polygon/index.js", "../../@antv/l7-layers/es/raster/models/raster.js", "../../@antv/l7-layers/es/raster/models/rasterRgb.js", "../../@antv/l7-layers/es/raster/models/rasterTerrainRgb.js", "../../@antv/l7-layers/es/raster/models/index.js", "../../@antv/l7-layers/es/raster/index.js", "../../@antv/l7-layers/es/tile/service/TileLayerService.js", "../../splaytree/dist/splay.esm.js", "../../robust-predicates/esm/util.js", "../../robust-predicates/esm/orient2d.js", "../../robust-predicates/esm/orient3d.js", "../../robust-predicates/esm/incircle.js", "../../robust-predicates/esm/insphere.js", "../../polygon-clipping/dist/polygon-clipping.esm.js", "../../@turf/union/dist/es/index.js", "../../@antv/l7-layers/es/tile/service/TileSourceService.js", "../../@antv/l7-layers/es/tile/service/TilePickService.js", "../../@antv/l7-layers/es/tile/tile/Tile.js", "../../@antv/l7-layers/es/tile/tile/util.js", "../../@antv/l7-layers/es/tile/tile/DebugTile.js", "../../@antv/l7-layers/es/tile/tile/ImageTile.js", "../../@antv/l7-layers/es/mask/models/fill.js", "../../@antv/l7-layers/es/mask/models/index.js", "../../@antv/l7-layers/es/mask/index.js", "../../@antv/l7-layers/es/tile/tile/MaskTile.js", "../../@antv/l7-layers/es/tile/tile/RasterRGBTile.js", "../../@antv/l7-layers/es/tile/tile/RasterTerrainRGBTile.js", "../../@antv/l7-layers/es/tile/tile/RasterTile.js", "../../@antv/l7-layers/es/tile/tile/VectorTile.js", "../../@antv/l7-layers/es/tile/tile/index.js", "../../@antv/l7-layers/es/tile/utils/constants.js", "../../@antv/l7-layers/es/tile/core/BaseLayer.js", "../../@antv/l7-layers/es/tile/core/TileDebugLayer.js", "../../@antv/l7-layers/es/earth/models/atmosphere.js", "../../@antv/l7-layers/es/earth/models/base.js", "../../@antv/l7-layers/es/earth/models/bloomsphere.js", "../../@antv/l7-layers/es/earth/index.js", "../../@antv/l7-layers/es/wind/models/utils.js", "../../@antv/l7-layers/es/wind/models/windShader.js", "../../@antv/l7-layers/es/wind/models/windRender.js", "../../@antv/l7-layers/es/wind/models/wind.js", "../../@antv/l7-layers/es/wind/models/index.js", "../../@antv/l7-layers/es/wind/index.js", "../../@antv/l7-component/es/control/swipe.js", "../../@antv/l7-component/es/control/zoom.js", "../../@antv/l7-component/es/popup/popup.js", "../../@antv/l7-component/es/popup/layerPopup.js", "../../@antv/l7-component/es/index.js", "../../@antv/util/esm/color/color/arr2rgb.ts", "../../@antv/util/esm/lodash/lodash/is-nil.ts", "../../@antv/util/esm/lodash/lodash/is-type.ts", "../../@antv/util/esm/lodash/lodash/pull.ts", "../../@antv/util/esm/lodash/lodash/pull-at.ts", "../../@antv/util/esm/lodash/lodash/clamp.ts", "../../@antv/util/esm/lodash/lodash/is-number.ts", "../../@antv/util/esm/lodash/lodash/to-degree.ts", "../../@antv/util/esm/lodash/lodash/to-radian.ts", "../../@antv/util/esm/lodash/lodash/get-type.ts", "../../@antv/util/esm/lodash/lodash/is-prototype.ts", "../../@antv/util/esm/lodash/lodash/memoize.ts", "../../@antv/util/esm/lodash/lodash/cache.ts", "../../@antv/util/esm/color/color/torgb.ts", "../../tslib/tslib.es6.mjs", "../../@antv/util/esm/path/parser/path/parser/path-parser.ts", "../../@antv/g-device-api/node_modules/eventemitter3/index.mjs", "../../@antv/g-device-api/src/src/api/constants.ts", "../../@antv/g-device-api/src/src/api/interfaces.ts", "../../@antv/g-device-api/src/src/api/format.ts", "../../@antv/g-device-api/src/src/api/utils/assert.ts", "../../@antv/g-device-api/src/src/api/utils/color.ts", "../../@antv/g-device-api/src/src/api/utils/depth.ts", "../../@antv/g-device-api/src/src/api/utils/states.ts", "../../@antv/g-device-api/src/src/api/utils/hash.ts", "../../@antv/g-device-api/src/src/api/utils/uniform.ts", "../../@antv/g-device-api/src/src/api/utils/typedarray.ts", "../../@antv/g-device-api/src/src/shader/compiler.ts", "../../@antv/g-device-api/src/src/webgl/ResourceBase.ts", "../../@antv/g-device-api/src/src/webgl/Bindings.ts", "../../@antv/g-device-api/src/src/webgl/utils.ts", "../../@antv/g-device-api/src/src/webgl/Buffer.ts", "../../@antv/g-device-api/src/src/webgl/InputLayout.ts", "../../@antv/g-device-api/src/src/webgl/Texture.ts", "../../@antv/g-device-api/src/src/webgl/RenderTarget.ts", "../../@antv/g-device-api/src/src/webgl/Program.ts", "../../@antv/g-device-api/src/src/webgl/QueryPool.ts", "../../@antv/g-device-api/src/src/webgl/Readback.ts", "../../@antv/g-device-api/src/src/webgl/RenderPipeline.ts", "../../@antv/g-device-api/src/src/webgl/ComputePipeline.ts", "../../@antv/g-device-api/src/src/webgl/ResourceCreationTracker.ts", "../../@antv/g-device-api/src/src/webgl/Sampler.ts", "../../@antv/g-device-api/src/src/webgl/ComputePass.ts", "../../@antv/g-device-api/src/src/webgl/RenderBundle.ts", "../../@antv/g-device-api/src/src/webgl/Device.ts", "../../@antv/g-device-api/src/src/webgl/WebGLDeviceContribution.ts", "../../@antv/g-device-api/rust/pkg/glsl_wgsl_compiler.js", "../../@antv/g-device-api/src/src/webgpu/constants.ts", "../../@antv/g-device-api/src/src/webgpu/utils.ts", "../../@antv/g-device-api/src/src/webgpu/ResourceBase.ts", "../../@antv/g-device-api/src/src/webgpu/Bindings.ts", "../../@antv/g-device-api/src/src/webgpu/Buffer.ts", "../../@antv/g-device-api/src/src/webgpu/ComputePass.ts", "../../@antv/g-device-api/src/src/webgpu/ComputePipeline.ts", "../../@antv/g-device-api/src/src/webgpu/InputLayout.ts", "../../@antv/g-device-api/src/src/webgpu/Program.ts", "../../@antv/g-device-api/src/src/webgpu/QueryPool.ts", "../../@antv/g-device-api/src/src/webgpu/Readback.ts", "../../@antv/g-device-api/src/src/webgpu/RenderPass.ts", "../../@antv/g-device-api/src/src/webgpu/RenderPipeline.ts", "../../@antv/g-device-api/src/src/webgpu/Sampler.ts", "../../@antv/g-device-api/src/src/webgpu/Texture.ts", "../../@antv/g-device-api/src/src/webgpu/RenderBundle.ts", "../../@antv/g-device-api/src/src/webgpu/Device.ts", "../../@antv/g-device-api/src/src/webgpu/WebGPUDeviceContribution.ts", "../../@antv/l7-renderer/es/device/DeviceAttribute.js", "../../@antv/l7-renderer/es/device/constants.js", "../../@antv/l7-renderer/es/device/utils/typedarray.js", "../../@antv/l7-renderer/es/device/DeviceBuffer.js", "../../@antv/l7-renderer/es/device/utils/HashMap.js", "../../@antv/l7-renderer/es/device/DeviceCache.js", "../../@antv/l7-renderer/es/device/DeviceElements.js", "../../@antv/l7-renderer/es/device/DeviceTexture2D.js", "../../@antv/l7-renderer/es/device/DeviceFramebuffer.js", "../../@antv/l7-renderer/es/device/DeviceModel.js", "../../@antv/l7-renderer/es/device/utils/webgl.js", "../../@antv/l7-renderer/es/device/index.js", "../../@antv/l7-renderer/es/regl/index.js", "../../@antv/l7-renderer/es/regl/ReglAttribute.js", "../../@antv/l7-renderer/es/regl/constants.js", "../../@antv/l7-renderer/es/regl/ReglBuffer.js", "../../@antv/l7-renderer/es/regl/ReglElements.js", "../../@antv/l7-renderer/es/regl/ReglFramebuffer.js", "../../@antv/l7-renderer/es/regl/ReglModel.js", "../../@antv/l7-renderer/es/regl/ReglTexture2D.js", "../../@antv/l7-scene/es/boxSelect.js", "../../@antv/l7-scene/es/index.js", "../../@antv/l7/es/version.js"],
  "sourcesContent": ["\nmodule.exports = rewind;\n\nfunction rewind(gj, outer) {\n    var type = gj && gj.type, i;\n\n    if (type === 'FeatureCollection') {\n        for (i = 0; i < gj.features.length; i++) rewind(gj.features[i], outer);\n\n    } else if (type === 'GeometryCollection') {\n        for (i = 0; i < gj.geometries.length; i++) rewind(gj.geometries[i], outer);\n\n    } else if (type === 'Feature') {\n        rewind(gj.geometry, outer);\n\n    } else if (type === 'Polygon') {\n        rewindRings(gj.coordinates, outer);\n\n    } else if (type === 'MultiPolygon') {\n        for (i = 0; i < gj.coordinates.length; i++) rewindRings(gj.coordinates[i], outer);\n    }\n\n    return gj;\n}\n\nfunction rewindRings(rings, outer) {\n    if (rings.length === 0) return;\n\n    rewindRing(rings[0], outer);\n    for (var i = 1; i < rings.length; i++) {\n        rewindRing(rings[i], !outer);\n    }\n}\n\nfunction rewindRing(ring, dir) {\n    var area = 0, err = 0;\n    for (var i = 0, len = ring.length, j = len - 1; i < len; j = i++) {\n        var k = (ring[i][0] - ring[j][0]) * (ring[j][1] + ring[i][1]);\n        var m = area + k;\n        err += Math.abs(area) >= Math.abs(k) ? area - m + k : k - m + area;\n        area = m;\n    }\n    if (area + err >= 0 !== !!dir) ring.reverse();\n}\n", "'use strict';\n\nvar Point = require('@mapbox/point-geometry');\n\nmodule.exports = VectorTileFeature;\n\nfunction VectorTileFeature(pbf, end, extent, keys, values) {\n    // Public\n    this.properties = {};\n    this.extent = extent;\n    this.type = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._geometry = -1;\n    this._keys = keys;\n    this._values = values;\n\n    pbf.readFields(readFeature, this, end);\n}\n\nfunction readFeature(tag, feature, pbf) {\n    if (tag == 1) feature.id = pbf.readVarint();\n    else if (tag == 2) readTag(pbf, feature);\n    else if (tag == 3) feature.type = pbf.readVarint();\n    else if (tag == 4) feature._geometry = pbf.pos;\n}\n\nfunction readTag(pbf, feature) {\n    var end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var key = feature._keys[pbf.readVarint()],\n            value = feature._values[pbf.readVarint()];\n        feature.properties[key] = value;\n    }\n}\n\nVectorTileFeature.types = ['Unknown', 'Point', 'LineString', 'Polygon'];\n\nVectorTileFeature.prototype.loadGeometry = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        lines = [],\n        line;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n\n            if (cmd === 1) { // moveTo\n                if (line) lines.push(line);\n                line = [];\n            }\n\n            line.push(new Point(x, y));\n\n        } else if (cmd === 7) {\n\n            // Workaround for https://github.com/mapbox/mapnik-vector-tile/issues/90\n            if (line) {\n                line.push(line[0].clone()); // closePolygon\n            }\n\n        } else {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    if (line) lines.push(line);\n\n    return lines;\n};\n\nVectorTileFeature.prototype.bbox = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        x1 = Infinity,\n        x2 = -Infinity,\n        y1 = Infinity,\n        y2 = -Infinity;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n            if (x < x1) x1 = x;\n            if (x > x2) x2 = x;\n            if (y < y1) y1 = y;\n            if (y > y2) y2 = y;\n\n        } else if (cmd !== 7) {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    return [x1, y1, x2, y2];\n};\n\nVectorTileFeature.prototype.toGeoJSON = function(x, y, z) {\n    var size = this.extent * Math.pow(2, z),\n        x0 = this.extent * x,\n        y0 = this.extent * y,\n        coords = this.loadGeometry(),\n        type = VectorTileFeature.types[this.type],\n        i, j;\n\n    function project(line) {\n        for (var j = 0; j < line.length; j++) {\n            var p = line[j], y2 = 180 - (p.y + y0) * 360 / size;\n            line[j] = [\n                (p.x + x0) * 360 / size - 180,\n                360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90\n            ];\n        }\n    }\n\n    switch (this.type) {\n    case 1:\n        var points = [];\n        for (i = 0; i < coords.length; i++) {\n            points[i] = coords[i][0];\n        }\n        coords = points;\n        project(coords);\n        break;\n\n    case 2:\n        for (i = 0; i < coords.length; i++) {\n            project(coords[i]);\n        }\n        break;\n\n    case 3:\n        coords = classifyRings(coords);\n        for (i = 0; i < coords.length; i++) {\n            for (j = 0; j < coords[i].length; j++) {\n                project(coords[i][j]);\n            }\n        }\n        break;\n    }\n\n    if (coords.length === 1) {\n        coords = coords[0];\n    } else {\n        type = 'Multi' + type;\n    }\n\n    var result = {\n        type: \"Feature\",\n        geometry: {\n            type: type,\n            coordinates: coords\n        },\n        properties: this.properties\n    };\n\n    if ('id' in this) {\n        result.id = this.id;\n    }\n\n    return result;\n};\n\n// classifies an array of rings into polygons with outer rings and holes\n\nfunction classifyRings(rings) {\n    var len = rings.length;\n\n    if (len <= 1) return [rings];\n\n    var polygons = [],\n        polygon,\n        ccw;\n\n    for (var i = 0; i < len; i++) {\n        var area = signedArea(rings[i]);\n        if (area === 0) continue;\n\n        if (ccw === undefined) ccw = area < 0;\n\n        if (ccw === area < 0) {\n            if (polygon) polygons.push(polygon);\n            polygon = [rings[i]];\n\n        } else {\n            polygon.push(rings[i]);\n        }\n    }\n    if (polygon) polygons.push(polygon);\n\n    return polygons;\n}\n\nfunction signedArea(ring) {\n    var sum = 0;\n    for (var i = 0, len = ring.length, j = len - 1, p1, p2; i < len; j = i++) {\n        p1 = ring[i];\n        p2 = ring[j];\n        sum += (p2.x - p1.x) * (p1.y + p2.y);\n    }\n    return sum;\n}\n", "'use strict';\n\nvar VectorTileFeature = require('./vectortilefeature.js');\n\nmodule.exports = VectorTileLayer;\n\nfunction VectorTileLayer(pbf, end) {\n    // Public\n    this.version = 1;\n    this.name = null;\n    this.extent = 4096;\n    this.length = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n\n    pbf.readFields(readLayer, this, end);\n\n    this.length = this._features.length;\n}\n\nfunction readLayer(tag, layer, pbf) {\n    if (tag === 15) layer.version = pbf.readVarint();\n    else if (tag === 1) layer.name = pbf.readString();\n    else if (tag === 5) layer.extent = pbf.readVarint();\n    else if (tag === 2) layer._features.push(pbf.pos);\n    else if (tag === 3) layer._keys.push(pbf.readString());\n    else if (tag === 4) layer._values.push(readValueMessage(pbf));\n}\n\nfunction readValueMessage(pbf) {\n    var value = null,\n        end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var tag = pbf.readVarint() >> 3;\n\n        value = tag === 1 ? pbf.readString() :\n            tag === 2 ? pbf.readFloat() :\n            tag === 3 ? pbf.readDouble() :\n            tag === 4 ? pbf.readVarint64() :\n            tag === 5 ? pbf.readVarint() :\n            tag === 6 ? pbf.readSVarint() :\n            tag === 7 ? pbf.readBoolean() : null;\n    }\n\n    return value;\n}\n\n// return feature `i` from this layer as a `VectorTileFeature`\nVectorTileLayer.prototype.feature = function(i) {\n    if (i < 0 || i >= this._features.length) throw new Error('feature index out of bounds');\n\n    this._pbf.pos = this._features[i];\n\n    var end = this._pbf.readVarint() + this._pbf.pos;\n    return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n};\n", "'use strict';\n\nvar VectorTileLayer = require('./vectortilelayer');\n\nmodule.exports = VectorTile;\n\nfunction VectorTile(pbf, end) {\n    this.layers = pbf.readFields(readTile, {}, end);\n}\n\nfunction readTile(tag, layers, pbf) {\n    if (tag === 3) {\n        var layer = new VectorTileLayer(pbf, pbf.readVarint() + pbf.pos);\n        if (layer.length) layers[layer.name] = layer;\n    }\n}\n\n", "module.exports.VectorTile = require('./lib/vectortile.js');\nmodule.exports.VectorTileFeature = require('./lib/vectortilefeature.js');\nmodule.exports.VectorTileLayer = require('./lib/vectortilelayer.js');\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "'use strict';\n\nmodule.exports = Pbf;\n\nvar ieee754 = require('ieee754');\n\nfunction Pbf(buf) {\n    this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n    this.pos = 0;\n    this.type = 0;\n    this.length = this.buf.length;\n}\n\nPbf.Varint  = 0; // varint: int32, int64, uint32, uint64, sint32, sint64, bool, enum\nPbf.Fixed64 = 1; // 64-bit: double, fixed64, sfixed64\nPbf.Bytes   = 2; // length-delimited: string, bytes, embedded messages, packed repeated fields\nPbf.Fixed32 = 5; // 32-bit: float, fixed32, sfixed32\n\nvar SHIFT_LEFT_32 = (1 << 16) * (1 << 16),\n    SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n\n// Threshold chosen based on both benchmarking and knowledge about browser string\n// data structures (which currently switch structure types at 12 bytes or more)\nvar TEXT_DECODER_MIN_LENGTH = 12;\nvar utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf-8');\n\nPbf.prototype = {\n\n    destroy: function() {\n        this.buf = null;\n    },\n\n    // === READING =================================================================\n\n    readFields: function(readField, result, end) {\n        end = end || this.length;\n\n        while (this.pos < end) {\n            var val = this.readVarint(),\n                tag = val >> 3,\n                startPos = this.pos;\n\n            this.type = val & 0x7;\n            readField(tag, result, this);\n\n            if (this.pos === startPos) this.skip(val);\n        }\n        return result;\n    },\n\n    readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n    },\n\n    readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    // 64-bit int handling is based on github.com/dpw/node-buffer-more-ints (MIT-licensed)\n\n    readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n    },\n\n    readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n    },\n\n    readVarint: function(isSigned) {\n        var buf = this.buf,\n            val, b;\n\n        b = buf[this.pos++]; val  =  b & 0x7f;        if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 7;  if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 14; if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 21; if (b < 0x80) return val;\n        b = buf[this.pos];   val |= (b & 0x0f) << 28;\n\n        return readVarintRemainder(val, isSigned, this);\n    },\n\n    readVarint64: function() { // for compatibility with v2.0.1\n        return this.readVarint(true);\n    },\n\n    readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2; // zigzag encoding\n    },\n\n    readBoolean: function() {\n        return Boolean(this.readVarint());\n    },\n\n    readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n            // longer strings are fast with the built-in browser TextDecoder API\n            return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        // short strings are fast with our custom implementation\n        return readUtf8(this.buf, pos, end);\n    },\n\n    readBytes: function() {\n        var end = this.readVarint() + this.pos,\n            buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n    },\n\n    // verbose for performance reasons; doesn't affect gzipped size\n\n    readPackedVarint: function(arr, isSigned) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readVarint(isSigned));\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readVarint(isSigned));\n        return arr;\n    },\n    readPackedSVarint: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSVarint());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSVarint());\n        return arr;\n    },\n    readPackedBoolean: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readBoolean());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readBoolean());\n        return arr;\n    },\n    readPackedFloat: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFloat());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFloat());\n        return arr;\n    },\n    readPackedDouble: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readDouble());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readDouble());\n        return arr;\n    },\n    readPackedFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed32());\n        return arr;\n    },\n    readPackedSFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed32());\n        return arr;\n    },\n    readPackedFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed64());\n        return arr;\n    },\n    readPackedSFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed64());\n        return arr;\n    },\n\n    skip: function(val) {\n        var type = val & 0x7;\n        if (type === Pbf.Varint) while (this.buf[this.pos++] > 0x7f) {}\n        else if (type === Pbf.Bytes) this.pos = this.readVarint() + this.pos;\n        else if (type === Pbf.Fixed32) this.pos += 4;\n        else if (type === Pbf.Fixed64) this.pos += 8;\n        else throw new Error('Unimplemented type: ' + type);\n    },\n\n    // === WRITING =================================================================\n\n    writeTag: function(tag, type) {\n        this.writeVarint((tag << 3) | type);\n    },\n\n    realloc: function(min) {\n        var length = this.length || 16;\n\n        while (length < this.pos + min) length *= 2;\n\n        if (length !== this.length) {\n            var buf = new Uint8Array(length);\n            buf.set(this.buf);\n            this.buf = buf;\n            this.length = length;\n        }\n    },\n\n    finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n    },\n\n    writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeVarint: function(val) {\n        val = +val || 0;\n\n        if (val > 0xfffffff || val < 0) {\n            writeBigVarint(val, this);\n            return;\n        }\n\n        this.realloc(4);\n\n        this.buf[this.pos++] =           val & 0x7f  | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] =   (val >>> 7) & 0x7f;\n    },\n\n    writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n    },\n\n    writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n    },\n\n    writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n\n        this.pos++; // reserve 1 byte for short string length\n\n        var startPos = this.pos;\n        // write the string directly to the buffer and see how much was written\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n    },\n\n    writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n    },\n\n    writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i = 0; i < len; i++) this.buf[this.pos++] = buffer[i];\n    },\n\n    writeRawMessage: function(fn, obj) {\n        this.pos++; // reserve 1 byte for short message length\n\n        // write the message directly to the buffer and see how much was written\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n    },\n\n    writePackedVarint:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedVarint, arr);   },\n    writePackedSVarint:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSVarint, arr);  },\n    writePackedBoolean:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedBoolean, arr);  },\n    writePackedFloat:    function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFloat, arr);    },\n    writePackedDouble:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedDouble, arr);   },\n    writePackedFixed32:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed32, arr);  },\n    writePackedSFixed32: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed32, arr); },\n    writePackedFixed64:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed64, arr);  },\n    writePackedSFixed64: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed64, arr); },\n\n    writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n    },\n    writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n    },\n    writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n    },\n    writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n    },\n    writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n    },\n    writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n    },\n    writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n    },\n    writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n    },\n    writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n    },\n    writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n    },\n    writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n    }\n};\n\nfunction readVarintRemainder(l, s, p) {\n    var buf = p.buf,\n        h, b;\n\n    b = buf[p.pos++]; h  = (b & 0x70) >> 4;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 3;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 10; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 17; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 24; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x01) << 31; if (b < 0x80) return toNum(l, h, s);\n\n    throw new Error('Expected varint not more than 10 bytes');\n}\n\nfunction readPackedEnd(pbf) {\n    return pbf.type === Pbf.Bytes ?\n        pbf.readVarint() + pbf.pos : pbf.pos + 1;\n}\n\nfunction toNum(low, high, isSigned) {\n    if (isSigned) {\n        return high * 0x100000000 + (low >>> 0);\n    }\n\n    return ((high >>> 0) * 0x100000000) + (low >>> 0);\n}\n\nfunction writeBigVarint(val, pbf) {\n    var low, high;\n\n    if (val >= 0) {\n        low  = (val % 0x100000000) | 0;\n        high = (val / 0x100000000) | 0;\n    } else {\n        low  = ~(-val % 0x100000000);\n        high = ~(-val / 0x100000000);\n\n        if (low ^ 0xffffffff) {\n            low = (low + 1) | 0;\n        } else {\n            low = 0;\n            high = (high + 1) | 0;\n        }\n    }\n\n    if (val >= 0x10000000000000000 || val < -0x10000000000000000) {\n        throw new Error('Given varint doesn\\'t fit into 10 bytes');\n    }\n\n    pbf.realloc(10);\n\n    writeBigVarintLow(low, high, pbf);\n    writeBigVarintHigh(high, pbf);\n}\n\nfunction writeBigVarintLow(low, high, pbf) {\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos]   = low & 0x7f;\n}\n\nfunction writeBigVarintHigh(high, pbf) {\n    var lsb = (high & 0x07) << 4;\n\n    pbf.buf[pbf.pos++] |= lsb         | ((high >>>= 3) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f;\n}\n\nfunction makeRoomForExtraLength(startPos, len, pbf) {\n    var extraLen =\n        len <= 0x3fff ? 1 :\n        len <= 0x1fffff ? 2 :\n        len <= 0xfffffff ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n\n    // if 1 byte isn't enough for encoding message length, shift the data to the right\n    pbf.realloc(extraLen);\n    for (var i = pbf.pos - 1; i >= startPos; i--) pbf.buf[i + extraLen] = pbf.buf[i];\n}\n\nfunction writePackedVarint(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeVarint(arr[i]);   }\nfunction writePackedSVarint(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeSVarint(arr[i]);  }\nfunction writePackedFloat(arr, pbf)    { for (var i = 0; i < arr.length; i++) pbf.writeFloat(arr[i]);    }\nfunction writePackedDouble(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeDouble(arr[i]);   }\nfunction writePackedBoolean(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeBoolean(arr[i]);  }\nfunction writePackedFixed32(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed32(arr[i]);  }\nfunction writePackedSFixed32(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed32(arr[i]); }\nfunction writePackedFixed64(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed64(arr[i]);  }\nfunction writePackedSFixed64(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed64(arr[i]); }\n\n// Buffer code below from https://github.com/feross/buffer, MIT-licensed\n\nfunction readUInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] * 0x1000000);\n}\n\nfunction writeInt32(buf, val, pos) {\n    buf[pos] = val;\n    buf[pos + 1] = (val >>> 8);\n    buf[pos + 2] = (val >>> 16);\n    buf[pos + 3] = (val >>> 24);\n}\n\nfunction readInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] << 24);\n}\n\nfunction readUtf8(buf, pos, end) {\n    var str = '';\n    var i = pos;\n\n    while (i < end) {\n        var b0 = buf[i];\n        var c = null; // codepoint\n        var bytesPerSequence =\n            b0 > 0xEF ? 4 :\n            b0 > 0xDF ? 3 :\n            b0 > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence > end) break;\n\n        var b1, b2, b3;\n\n        if (bytesPerSequence === 1) {\n            if (b0 < 0x80) {\n                c = b0;\n            }\n        } else if (bytesPerSequence === 2) {\n            b1 = buf[i + 1];\n            if ((b1 & 0xC0) === 0x80) {\n                c = (b0 & 0x1F) << 0x6 | (b1 & 0x3F);\n                if (c <= 0x7F) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 3) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0xC | (b1 & 0x3F) << 0x6 | (b2 & 0x3F);\n                if (c <= 0x7FF || (c >= 0xD800 && c <= 0xDFFF)) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 4) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            b3 = buf[i + 3];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0x12 | (b1 & 0x3F) << 0xC | (b2 & 0x3F) << 0x6 | (b3 & 0x3F);\n                if (c <= 0xFFFF || c >= 0x110000) {\n                    c = null;\n                }\n            }\n        }\n\n        if (c === null) {\n            c = 0xFFFD;\n            bytesPerSequence = 1;\n\n        } else if (c > 0xFFFF) {\n            c -= 0x10000;\n            str += String.fromCharCode(c >>> 10 & 0x3FF | 0xD800);\n            c = 0xDC00 | c & 0x3FF;\n        }\n\n        str += String.fromCharCode(c);\n        i += bytesPerSequence;\n    }\n\n    return str;\n}\n\nfunction readUtf8TextDecoder(buf, pos, end) {\n    return utf8TextDecoder.decode(buf.subarray(pos, end));\n}\n\nfunction writeUtf8(buf, str, pos) {\n    for (var i = 0, c, lead; i < str.length; i++) {\n        c = str.charCodeAt(i); // code point\n\n        if (c > 0xD7FF && c < 0xE000) {\n            if (lead) {\n                if (c < 0xDC00) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                    lead = c;\n                    continue;\n                } else {\n                    c = lead - 0xD800 << 10 | c - 0xDC00 | 0x10000;\n                    lead = null;\n                }\n            } else {\n                if (c > 0xDBFF || (i + 1 === str.length)) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                } else {\n                    lead = c;\n                }\n                continue;\n            }\n        } else if (lead) {\n            buf[pos++] = 0xEF;\n            buf[pos++] = 0xBF;\n            buf[pos++] = 0xBD;\n            lead = null;\n        }\n\n        if (c < 0x80) {\n            buf[pos++] = c;\n        } else {\n            if (c < 0x800) {\n                buf[pos++] = c >> 0x6 | 0xC0;\n            } else {\n                if (c < 0x10000) {\n                    buf[pos++] = c >> 0xC | 0xE0;\n                } else {\n                    buf[pos++] = c >> 0x12 | 0xF0;\n                    buf[pos++] = c >> 0xC & 0x3F | 0x80;\n                }\n                buf[pos++] = c >> 0x6 & 0x3F | 0x80;\n            }\n            buf[pos++] = c & 0x3F | 0x80;\n        }\n    }\n    return pos;\n}\n", "(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\ntypeof define === 'function' && define.amd ? define(factory) :\n(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Supercluster = factory());\n})(this, (function () { 'use strict';\n\nfunction sortKD(ids, coords, nodeSize, left, right, depth) {\n    if (right - left <= nodeSize) { return; }\n\n    var m = (left + right) >> 1;\n\n    select(ids, coords, m, left, right, depth % 2);\n\n    sortKD(ids, coords, nodeSize, left, m - 1, depth + 1);\n    sortKD(ids, coords, nodeSize, m + 1, right, depth + 1);\n}\n\nfunction select(ids, coords, k, left, right, inc) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            select(ids, coords, k, newLeft, newRight, inc);\n        }\n\n        var t = coords[2 * k + inc];\n        var i = left;\n        var j = right;\n\n        swapItem(ids, coords, left, k);\n        if (coords[2 * right + inc] > t) { swapItem(ids, coords, left, right); }\n\n        while (i < j) {\n            swapItem(ids, coords, i, j);\n            i++;\n            j--;\n            while (coords[2 * i + inc] < t) { i++; }\n            while (coords[2 * j + inc] > t) { j--; }\n        }\n\n        if (coords[2 * left + inc] === t) { swapItem(ids, coords, left, j); }\n        else {\n            j++;\n            swapItem(ids, coords, j, right);\n        }\n\n        if (j <= k) { left = j + 1; }\n        if (k <= j) { right = j - 1; }\n    }\n}\n\nfunction swapItem(ids, coords, i, j) {\n    swap(ids, i, j);\n    swap(coords, 2 * i, 2 * j);\n    swap(coords, 2 * i + 1, 2 * j + 1);\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n    var stack = [0, ids.length - 1, 0];\n    var result = [];\n    var x, y;\n\n    while (stack.length) {\n        var axis = stack.pop();\n        var right = stack.pop();\n        var left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (var i = left; i <= right; i++) {\n                x = coords[2 * i];\n                y = coords[2 * i + 1];\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) { result.push(ids[i]); }\n            }\n            continue;\n        }\n\n        var m = Math.floor((left + right) / 2);\n\n        x = coords[2 * m];\n        y = coords[2 * m + 1];\n\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) { result.push(ids[m]); }\n\n        var nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? minX <= x : minY <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? maxX >= x : maxY >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction within(ids, coords, qx, qy, r, nodeSize) {\n    var stack = [0, ids.length - 1, 0];\n    var result = [];\n    var r2 = r * r;\n\n    while (stack.length) {\n        var axis = stack.pop();\n        var right = stack.pop();\n        var left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (var i = left; i <= right; i++) {\n                if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) { result.push(ids[i]); }\n            }\n            continue;\n        }\n\n        var m = Math.floor((left + right) / 2);\n\n        var x = coords[2 * m];\n        var y = coords[2 * m + 1];\n\n        if (sqDist(x, y, qx, qy) <= r2) { result.push(ids[m]); }\n\n        var nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? qx - r <= x : qy - r <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? qx + r >= x : qy + r >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction sqDist(ax, ay, bx, by) {\n    var dx = ax - bx;\n    var dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nvar defaultGetX = function (p) { return p[0]; };\nvar defaultGetY = function (p) { return p[1]; };\n\nvar KDBush = function KDBush(points, getX, getY, nodeSize, ArrayType) {\n    if ( getX === void 0 ) getX = defaultGetX;\n    if ( getY === void 0 ) getY = defaultGetY;\n    if ( nodeSize === void 0 ) nodeSize = 64;\n    if ( ArrayType === void 0 ) ArrayType = Float64Array;\n\n    this.nodeSize = nodeSize;\n    this.points = points;\n\n    var IndexArrayType = points.length < 65536 ? Uint16Array : Uint32Array;\n\n    var ids = this.ids = new IndexArrayType(points.length);\n    var coords = this.coords = new ArrayType(points.length * 2);\n\n    for (var i = 0; i < points.length; i++) {\n        ids[i] = i;\n        coords[2 * i] = getX(points[i]);\n        coords[2 * i + 1] = getY(points[i]);\n    }\n\n    sortKD(ids, coords, nodeSize, 0, ids.length - 1, 0);\n};\n\nKDBush.prototype.range = function range$1 (minX, minY, maxX, maxY) {\n    return range(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n};\n\nKDBush.prototype.within = function within$1 (x, y, r) {\n    return within(this.ids, this.coords, x, y, r, this.nodeSize);\n};\n\nvar defaultOptions = {\n    minZoom: 0,   // min zoom to generate clusters on\n    maxZoom: 16,  // max zoom level to cluster the points on\n    minPoints: 2, // minimum points to form a cluster\n    radius: 40,   // cluster radius in pixels\n    extent: 512,  // tile extent (radius is calculated relative to it)\n    nodeSize: 64, // size of the KD-tree leaf node, affects performance\n    log: false,   // whether to log timing info\n\n    // whether to generate numeric ids for input features (in vector tiles)\n    generateId: false,\n\n    // a reduce function for calculating custom cluster properties\n    reduce: null, // (accumulated, props) => { accumulated.sum += props.sum; }\n\n    // properties to use for individual points when running the reducer\n    map: function (props) { return props; } // props => ({sum: props.my_value})\n};\n\nvar fround = Math.fround || (function (tmp) { return (function (x) { tmp[0] = +x; return tmp[0]; }); })(new Float32Array(1));\n\nvar Supercluster = function Supercluster(options) {\n    this.options = extend(Object.create(defaultOptions), options);\n    this.trees = new Array(this.options.maxZoom + 1);\n};\n\nSupercluster.prototype.load = function load (points) {\n    var ref = this.options;\n        var log = ref.log;\n        var minZoom = ref.minZoom;\n        var maxZoom = ref.maxZoom;\n        var nodeSize = ref.nodeSize;\n\n    if (log) { console.time('total time'); }\n\n    var timerId = \"prepare \" + (points.length) + \" points\";\n    if (log) { console.time(timerId); }\n\n    this.points = points;\n\n    // generate a cluster object for each point and index input points into a KD-tree\n    var clusters = [];\n    for (var i = 0; i < points.length; i++) {\n        if (!points[i].geometry) { continue; }\n        clusters.push(createPointCluster(points[i], i));\n    }\n    this.trees[maxZoom + 1] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n    if (log) { console.timeEnd(timerId); }\n\n    // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n    // results in a cluster hierarchy across zoom levels\n    for (var z = maxZoom; z >= minZoom; z--) {\n        var now = +Date.now();\n\n        // create a new set of clusters for the zoom and index them with a KD-tree\n        clusters = this._cluster(clusters, z);\n        this.trees[z] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n        if (log) { console.log('z%d: %d clusters in %dms', z, clusters.length, +Date.now() - now); }\n    }\n\n    if (log) { console.timeEnd('total time'); }\n\n    return this;\n};\n\nSupercluster.prototype.getClusters = function getClusters (bbox, zoom) {\n    var minLng = ((bbox[0] + 180) % 360 + 360) % 360 - 180;\n    var minLat = Math.max(-90, Math.min(90, bbox[1]));\n    var maxLng = bbox[2] === 180 ? 180 : ((bbox[2] + 180) % 360 + 360) % 360 - 180;\n    var maxLat = Math.max(-90, Math.min(90, bbox[3]));\n\n    if (bbox[2] - bbox[0] >= 360) {\n        minLng = -180;\n        maxLng = 180;\n    } else if (minLng > maxLng) {\n        var easternHem = this.getClusters([minLng, minLat, 180, maxLat], zoom);\n        var westernHem = this.getClusters([-180, minLat, maxLng, maxLat], zoom);\n        return easternHem.concat(westernHem);\n    }\n\n    var tree = this.trees[this._limitZoom(zoom)];\n    var ids = tree.range(lngX(minLng), latY(maxLat), lngX(maxLng), latY(minLat));\n    var clusters = [];\n    for (var i = 0, list = ids; i < list.length; i += 1) {\n        var id = list[i];\n\n            var c = tree.points[id];\n        clusters.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n    }\n    return clusters;\n};\n\nSupercluster.prototype.getChildren = function getChildren (clusterId) {\n    var originId = this._getOriginId(clusterId);\n    var originZoom = this._getOriginZoom(clusterId);\n    var errorMsg = 'No cluster with the specified id.';\n\n    var index = this.trees[originZoom];\n    if (!index) { throw new Error(errorMsg); }\n\n    var origin = index.points[originId];\n    if (!origin) { throw new Error(errorMsg); }\n\n    var r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n    var ids = index.within(origin.x, origin.y, r);\n    var children = [];\n    for (var i = 0, list = ids; i < list.length; i += 1) {\n        var id = list[i];\n\n            var c = index.points[id];\n        if (c.parentId === clusterId) {\n            children.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n        }\n    }\n\n    if (children.length === 0) { throw new Error(errorMsg); }\n\n    return children;\n};\n\nSupercluster.prototype.getLeaves = function getLeaves (clusterId, limit, offset) {\n    limit = limit || 10;\n    offset = offset || 0;\n\n    var leaves = [];\n    this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n    return leaves;\n};\n\nSupercluster.prototype.getTile = function getTile (z, x, y) {\n    var tree = this.trees[this._limitZoom(z)];\n    var z2 = Math.pow(2, z);\n    var ref = this.options;\n        var extent = ref.extent;\n        var radius = ref.radius;\n    var p = radius / extent;\n    var top = (y - p) / z2;\n    var bottom = (y + 1 + p) / z2;\n\n    var tile = {\n        features: []\n    };\n\n    this._addTileFeatures(\n        tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n        tree.points, x, y, z2, tile);\n\n    if (x === 0) {\n        this._addTileFeatures(\n            tree.range(1 - p / z2, top, 1, bottom),\n            tree.points, z2, y, z2, tile);\n    }\n    if (x === z2 - 1) {\n        this._addTileFeatures(\n            tree.range(0, top, p / z2, bottom),\n            tree.points, -1, y, z2, tile);\n    }\n\n    return tile.features.length ? tile : null;\n};\n\nSupercluster.prototype.getClusterExpansionZoom = function getClusterExpansionZoom (clusterId) {\n    var expansionZoom = this._getOriginZoom(clusterId) - 1;\n    while (expansionZoom <= this.options.maxZoom) {\n        var children = this.getChildren(clusterId);\n        expansionZoom++;\n        if (children.length !== 1) { break; }\n        clusterId = children[0].properties.cluster_id;\n    }\n    return expansionZoom;\n};\n\nSupercluster.prototype._appendLeaves = function _appendLeaves (result, clusterId, limit, offset, skipped) {\n    var children = this.getChildren(clusterId);\n\n    for (var i = 0, list = children; i < list.length; i += 1) {\n        var child = list[i];\n\n            var props = child.properties;\n\n        if (props && props.cluster) {\n            if (skipped + props.point_count <= offset) {\n                // skip the whole cluster\n                skipped += props.point_count;\n            } else {\n                // enter the cluster\n                skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                // exit the cluster\n            }\n        } else if (skipped < offset) {\n            // skip a single point\n            skipped++;\n        } else {\n            // add a single point\n            result.push(child);\n        }\n        if (result.length === limit) { break; }\n    }\n\n    return skipped;\n};\n\nSupercluster.prototype._addTileFeatures = function _addTileFeatures (ids, points, x, y, z2, tile) {\n    for (var i$1 = 0, list = ids; i$1 < list.length; i$1 += 1) {\n        var i = list[i$1];\n\n            var c = points[i];\n        var isCluster = c.numPoints;\n\n        var tags = (void 0), px = (void 0), py = (void 0);\n        if (isCluster) {\n            tags = getClusterProperties(c);\n            px = c.x;\n            py = c.y;\n        } else {\n            var p = this.points[c.index];\n            tags = p.properties;\n            px = lngX(p.geometry.coordinates[0]);\n            py = latY(p.geometry.coordinates[1]);\n        }\n\n        var f = {\n            type: 1,\n            geometry: [[\n                Math.round(this.options.extent * (px * z2 - x)),\n                Math.round(this.options.extent * (py * z2 - y))\n            ]],\n            tags: tags\n        };\n\n        // assign id\n        var id = (void 0);\n        if (isCluster) {\n            id = c.id;\n        } else if (this.options.generateId) {\n            // optionally generate id\n            id = c.index;\n        } else if (this.points[c.index].id) {\n            // keep id if already assigned\n            id = this.points[c.index].id;\n        }\n\n        if (id !== undefined) { f.id = id; }\n\n        tile.features.push(f);\n    }\n};\n\nSupercluster.prototype._limitZoom = function _limitZoom (z) {\n    return Math.max(this.options.minZoom, Math.min(Math.floor(+z), this.options.maxZoom + 1));\n};\n\nSupercluster.prototype._cluster = function _cluster (points, zoom) {\n    var clusters = [];\n    var ref = this.options;\n        var radius = ref.radius;\n        var extent = ref.extent;\n        var reduce = ref.reduce;\n        var minPoints = ref.minPoints;\n    var r = radius / (extent * Math.pow(2, zoom));\n\n    // loop through each point\n    for (var i = 0; i < points.length; i++) {\n        var p = points[i];\n        // if we've already visited the point at this zoom level, skip it\n        if (p.zoom <= zoom) { continue; }\n        p.zoom = zoom;\n\n        // find all nearby points\n        var tree = this.trees[zoom + 1];\n        var neighborIds = tree.within(p.x, p.y, r);\n\n        var numPointsOrigin = p.numPoints || 1;\n        var numPoints = numPointsOrigin;\n\n        // count the number of points in a potential cluster\n        for (var i$1 = 0, list = neighborIds; i$1 < list.length; i$1 += 1) {\n            var neighborId = list[i$1];\n\n                var b = tree.points[neighborId];\n            // filter out neighbors that are already processed\n            if (b.zoom > zoom) { numPoints += b.numPoints || 1; }\n        }\n\n        // if there were neighbors to merge, and there are enough points to form a cluster\n        if (numPoints > numPointsOrigin && numPoints >= minPoints) {\n            var wx = p.x * numPointsOrigin;\n            var wy = p.y * numPointsOrigin;\n\n            var clusterProperties = reduce && numPointsOrigin > 1 ? this._map(p, true) : null;\n\n            // encode both zoom and point index on which the cluster originated -- offset by total length of features\n            var id = (i << 5) + (zoom + 1) + this.points.length;\n\n            for (var i$2 = 0, list$1 = neighborIds; i$2 < list$1.length; i$2 += 1) {\n                var neighborId$1 = list$1[i$2];\n\n                    var b$1 = tree.points[neighborId$1];\n\n                if (b$1.zoom <= zoom) { continue; }\n                b$1.zoom = zoom; // save the zoom (so it doesn't get processed twice)\n\n                var numPoints2 = b$1.numPoints || 1;\n                wx += b$1.x * numPoints2; // accumulate coordinates for calculating weighted center\n                wy += b$1.y * numPoints2;\n\n                b$1.parentId = id;\n\n                if (reduce) {\n                    if (!clusterProperties) { clusterProperties = this._map(p, true); }\n                    reduce(clusterProperties, this._map(b$1));\n                }\n            }\n\n            p.parentId = id;\n            clusters.push(createCluster(wx / numPoints, wy / numPoints, id, numPoints, clusterProperties));\n\n        } else { // left points as unclustered\n            clusters.push(p);\n\n            if (numPoints > 1) {\n                for (var i$3 = 0, list$2 = neighborIds; i$3 < list$2.length; i$3 += 1) {\n                    var neighborId$2 = list$2[i$3];\n\n                        var b$2 = tree.points[neighborId$2];\n                    if (b$2.zoom <= zoom) { continue; }\n                    b$2.zoom = zoom;\n                    clusters.push(b$2);\n                }\n            }\n        }\n    }\n\n    return clusters;\n};\n\n// get index of the point from which the cluster originated\nSupercluster.prototype._getOriginId = function _getOriginId (clusterId) {\n    return (clusterId - this.points.length) >> 5;\n};\n\n// get zoom of the point from which the cluster originated\nSupercluster.prototype._getOriginZoom = function _getOriginZoom (clusterId) {\n    return (clusterId - this.points.length) % 32;\n};\n\nSupercluster.prototype._map = function _map (point, clone) {\n    if (point.numPoints) {\n        return clone ? extend({}, point.properties) : point.properties;\n    }\n    var original = this.points[point.index].properties;\n    var result = this.options.map(original);\n    return clone && result === original ? extend({}, result) : result;\n};\n\nfunction createCluster(x, y, id, numPoints, properties) {\n    return {\n        x: fround(x), // weighted cluster center; round for consistency with Float32Array index\n        y: fround(y),\n        zoom: Infinity, // the last zoom the cluster was processed at\n        id: id, // encodes index of the first child of the cluster and its zoom level\n        parentId: -1, // parent cluster id\n        numPoints: numPoints,\n        properties: properties\n    };\n}\n\nfunction createPointCluster(p, id) {\n    var ref = p.geometry.coordinates;\n    var x = ref[0];\n    var y = ref[1];\n    return {\n        x: fround(lngX(x)), // projected point coordinates\n        y: fround(latY(y)),\n        zoom: Infinity, // the last zoom the point was processed at\n        index: id, // index of the source feature in the original input array,\n        parentId: -1 // parent cluster id\n    };\n}\n\nfunction getClusterJSON(cluster) {\n    return {\n        type: 'Feature',\n        id: cluster.id,\n        properties: getClusterProperties(cluster),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(cluster.x), yLat(cluster.y)]\n        }\n    };\n}\n\nfunction getClusterProperties(cluster) {\n    var count = cluster.numPoints;\n    var abbrev =\n        count >= 10000 ? ((Math.round(count / 1000)) + \"k\") :\n        count >= 1000 ? ((Math.round(count / 100) / 10) + \"k\") : count;\n    return extend(extend({}, cluster.properties), {\n        cluster: true,\n        cluster_id: cluster.id,\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    var sin = Math.sin(lat * Math.PI / 180);\n    var y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    var y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n\nfunction extend(dest, src) {\n    for (var id in src) { dest[id] = src[id]; }\n    return dest;\n}\n\nfunction getX(p) {\n    return p.x;\n}\nfunction getY(p) {\n    return p.y;\n}\n\nreturn Supercluster;\n\n}));\n", "'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 32767 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim | 0);\n            triangles.push(ear.i / dim | 0);\n            triangles.push(next.i / dim | 0);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    var p = c.next;\n    while (p !== a) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(x0, y0, minX, minY, invSize),\n        maxZ = zOrder(x1, y1, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim | 0);\n            triangles.push(p.i / dim | 0);\n            triangles.push(b.i / dim | 0);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);\n                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    filterPoints(bridgeReverse, bridgeReverse.next);\n    return filterPoints(bridge, bridge.next);\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                m = p.x < p.next.x ? p : p.next;\n                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = (x - minX) * invSize | 0;\n    y = (y - minY) * invSize | 0;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&\n           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&\n           (bx - px) * (cy - py) >= (cx - px) * (by - py);\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = 0;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.createREGL = factory());\n}(this, (function () { 'use strict';\n\nvar isTypedArray = function (x) {\n  return (\n    x instanceof Uint8Array ||\n    x instanceof Uint16Array ||\n    x instanceof Uint32Array ||\n    x instanceof Int8Array ||\n    x instanceof Int16Array ||\n    x instanceof Int32Array ||\n    x instanceof Float32Array ||\n    x instanceof Float64Array ||\n    x instanceof Uint8ClampedArray\n  )\n}\n\nvar extend = function (base, opts) {\n  var keys = Object.keys(opts)\n  for (var i = 0; i < keys.length; ++i) {\n    base[keys[i]] = opts[keys[i]]\n  }\n  return base\n}\n\n// Error checking and parameter validation.\n//\n// Statements for the form `check.someProcedure(...)` get removed by\n// a browserify transform for optimized/minified bundles.\n//\n/* globals atob */\nvar endl = '\\n'\n\n// only used for extracting shader names.  if atob not present, then errors\n// will be slightly crappier\nfunction decodeB64 (str) {\n  if (typeof atob !== 'undefined') {\n    return atob(str)\n  }\n  return 'base64:' + str\n}\n\nfunction raise (message) {\n  var error = new Error('(regl) ' + message)\n  console.error(error)\n  throw error\n}\n\nfunction check (pred, message) {\n  if (!pred) {\n    raise(message)\n  }\n}\n\nfunction encolon (message) {\n  if (message) {\n    return ': ' + message\n  }\n  return ''\n}\n\nfunction checkParameter (param, possibilities, message) {\n  if (!(param in possibilities)) {\n    raise('unknown parameter (' + param + ')' + encolon(message) +\n          '. possible values: ' + Object.keys(possibilities).join())\n  }\n}\n\nfunction checkIsTypedArray (data, message) {\n  if (!isTypedArray(data)) {\n    raise(\n      'invalid parameter type' + encolon(message) +\n      '. must be a typed array')\n  }\n}\n\nfunction standardTypeEh (value, type) {\n  switch (type) {\n    case 'number': return typeof value === 'number'\n    case 'object': return typeof value === 'object'\n    case 'string': return typeof value === 'string'\n    case 'boolean': return typeof value === 'boolean'\n    case 'function': return typeof value === 'function'\n    case 'undefined': return typeof value === 'undefined'\n    case 'symbol': return typeof value === 'symbol'\n  }\n}\n\nfunction checkTypeOf (value, type, message) {\n  if (!standardTypeEh(value, type)) {\n    raise(\n      'invalid parameter type' + encolon(message) +\n      '. expected ' + type + ', got ' + (typeof value))\n  }\n}\n\nfunction checkNonNegativeInt (value, message) {\n  if (!((value >= 0) &&\n        ((value | 0) === value))) {\n    raise('invalid parameter type, (' + value + ')' + encolon(message) +\n          '. must be a nonnegative integer')\n  }\n}\n\nfunction checkOneOf (value, list, message) {\n  if (list.indexOf(value) < 0) {\n    raise('invalid value' + encolon(message) + '. must be one of: ' + list)\n  }\n}\n\nvar constructorKeys = [\n  'gl',\n  'canvas',\n  'container',\n  'attributes',\n  'pixelRatio',\n  'extensions',\n  'optionalExtensions',\n  'profile',\n  'onDone'\n]\n\nfunction checkConstructor (obj) {\n  Object.keys(obj).forEach(function (key) {\n    if (constructorKeys.indexOf(key) < 0) {\n      raise('invalid regl constructor argument \"' + key + '\". must be one of ' + constructorKeys)\n    }\n  })\n}\n\nfunction leftPad (str, n) {\n  str = str + ''\n  while (str.length < n) {\n    str = ' ' + str\n  }\n  return str\n}\n\nfunction ShaderFile () {\n  this.name = 'unknown'\n  this.lines = []\n  this.index = {}\n  this.hasErrors = false\n}\n\nfunction ShaderLine (number, line) {\n  this.number = number\n  this.line = line\n  this.errors = []\n}\n\nfunction ShaderError (fileNumber, lineNumber, message) {\n  this.file = fileNumber\n  this.line = lineNumber\n  this.message = message\n}\n\nfunction guessCommand () {\n  var error = new Error()\n  var stack = (error.stack || error).toString()\n  var pat = /compileProcedure.*\\n\\s*at.*\\((.*)\\)/.exec(stack)\n  if (pat) {\n    return pat[1]\n  }\n  var pat2 = /compileProcedure.*\\n\\s*at\\s+(.*)(\\n|$)/.exec(stack)\n  if (pat2) {\n    return pat2[1]\n  }\n  return 'unknown'\n}\n\nfunction guessCallSite () {\n  var error = new Error()\n  var stack = (error.stack || error).toString()\n  var pat = /at REGLCommand.*\\n\\s+at.*\\((.*)\\)/.exec(stack)\n  if (pat) {\n    return pat[1]\n  }\n  var pat2 = /at REGLCommand.*\\n\\s+at\\s+(.*)\\n/.exec(stack)\n  if (pat2) {\n    return pat2[1]\n  }\n  return 'unknown'\n}\n\nfunction parseSource (source, command) {\n  var lines = source.split('\\n')\n  var lineNumber = 1\n  var fileNumber = 0\n  var files = {\n    unknown: new ShaderFile(),\n    0: new ShaderFile()\n  }\n  files.unknown.name = files[0].name = command || guessCommand()\n  files.unknown.lines.push(new ShaderLine(0, ''))\n  for (var i = 0; i < lines.length; ++i) {\n    var line = lines[i]\n    var parts = /^\\s*#\\s*(\\w+)\\s+(.+)\\s*$/.exec(line)\n    if (parts) {\n      switch (parts[1]) {\n        case 'line':\n          var lineNumberInfo = /(\\d+)(\\s+\\d+)?/.exec(parts[2])\n          if (lineNumberInfo) {\n            lineNumber = lineNumberInfo[1] | 0\n            if (lineNumberInfo[2]) {\n              fileNumber = lineNumberInfo[2] | 0\n              if (!(fileNumber in files)) {\n                files[fileNumber] = new ShaderFile()\n              }\n            }\n          }\n          break\n        case 'define':\n          var nameInfo = /SHADER_NAME(_B64)?\\s+(.*)$/.exec(parts[2])\n          if (nameInfo) {\n            files[fileNumber].name = (nameInfo[1]\n              ? decodeB64(nameInfo[2])\n              : nameInfo[2])\n          }\n          break\n      }\n    }\n    files[fileNumber].lines.push(new ShaderLine(lineNumber++, line))\n  }\n  Object.keys(files).forEach(function (fileNumber) {\n    var file = files[fileNumber]\n    file.lines.forEach(function (line) {\n      file.index[line.number] = line\n    })\n  })\n  return files\n}\n\nfunction parseErrorLog (errLog) {\n  var result = []\n  errLog.split('\\n').forEach(function (errMsg) {\n    if (errMsg.length < 5) {\n      return\n    }\n    var parts = /^ERROR:\\s+(\\d+):(\\d+):\\s*(.*)$/.exec(errMsg)\n    if (parts) {\n      result.push(new ShaderError(\n        parts[1] | 0,\n        parts[2] | 0,\n        parts[3].trim()))\n    } else if (errMsg.length > 0) {\n      result.push(new ShaderError('unknown', 0, errMsg))\n    }\n  })\n  return result\n}\n\nfunction annotateFiles (files, errors) {\n  errors.forEach(function (error) {\n    var file = files[error.file]\n    if (file) {\n      var line = file.index[error.line]\n      if (line) {\n        line.errors.push(error)\n        file.hasErrors = true\n        return\n      }\n    }\n    files.unknown.hasErrors = true\n    files.unknown.lines[0].errors.push(error)\n  })\n}\n\nfunction checkShaderError (gl, shader, source, type, command) {\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    var errLog = gl.getShaderInfoLog(shader)\n    var typeName = type === gl.FRAGMENT_SHADER ? 'fragment' : 'vertex'\n    checkCommandType(source, 'string', typeName + ' shader source must be a string', command)\n    var files = parseSource(source, command)\n    var errors = parseErrorLog(errLog)\n    annotateFiles(files, errors)\n\n    Object.keys(files).forEach(function (fileNumber) {\n      var file = files[fileNumber]\n      if (!file.hasErrors) {\n        return\n      }\n\n      var strings = ['']\n      var styles = ['']\n\n      function push (str, style) {\n        strings.push(str)\n        styles.push(style || '')\n      }\n\n      push('file number ' + fileNumber + ': ' + file.name + '\\n', 'color:red;text-decoration:underline;font-weight:bold')\n\n      file.lines.forEach(function (line) {\n        if (line.errors.length > 0) {\n          push(leftPad(line.number, 4) + '|  ', 'background-color:yellow; font-weight:bold')\n          push(line.line + endl, 'color:red; background-color:yellow; font-weight:bold')\n\n          // try to guess token\n          var offset = 0\n          line.errors.forEach(function (error) {\n            var message = error.message\n            var token = /^\\s*'(.*)'\\s*:\\s*(.*)$/.exec(message)\n            if (token) {\n              var tokenPat = token[1]\n              message = token[2]\n              switch (tokenPat) {\n                case 'assign':\n                  tokenPat = '='\n                  break\n              }\n              offset = Math.max(line.line.indexOf(tokenPat, offset), 0)\n            } else {\n              offset = 0\n            }\n\n            push(leftPad('| ', 6))\n            push(leftPad('^^^', offset + 3) + endl, 'font-weight:bold')\n            push(leftPad('| ', 6))\n            push(message + endl, 'font-weight:bold')\n          })\n          push(leftPad('| ', 6) + endl)\n        } else {\n          push(leftPad(line.number, 4) + '|  ')\n          push(line.line + endl, 'color:red')\n        }\n      })\n      if (typeof document !== 'undefined' && !window.chrome) {\n        styles[0] = strings.join('%c')\n        console.log.apply(console, styles)\n      } else {\n        console.log(strings.join(''))\n      }\n    })\n\n    check.raise('Error compiling ' + typeName + ' shader, ' + files[0].name)\n  }\n}\n\nfunction checkLinkError (gl, program, fragShader, vertShader, command) {\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    var errLog = gl.getProgramInfoLog(program)\n    var fragParse = parseSource(fragShader, command)\n    var vertParse = parseSource(vertShader, command)\n\n    var header = 'Error linking program with vertex shader, \"' +\n      vertParse[0].name + '\", and fragment shader \"' + fragParse[0].name + '\"'\n\n    if (typeof document !== 'undefined') {\n      console.log('%c' + header + endl + '%c' + errLog,\n        'color:red;text-decoration:underline;font-weight:bold',\n        'color:red')\n    } else {\n      console.log(header + endl + errLog)\n    }\n    check.raise(header)\n  }\n}\n\nfunction saveCommandRef (object) {\n  object._commandRef = guessCommand()\n}\n\nfunction saveDrawCommandInfo (opts, uniforms, attributes, stringStore) {\n  saveCommandRef(opts)\n\n  function id (str) {\n    if (str) {\n      return stringStore.id(str)\n    }\n    return 0\n  }\n  opts._fragId = id(opts.static.frag)\n  opts._vertId = id(opts.static.vert)\n\n  function addProps (dict, set) {\n    Object.keys(set).forEach(function (u) {\n      dict[stringStore.id(u)] = true\n    })\n  }\n\n  var uniformSet = opts._uniformSet = {}\n  addProps(uniformSet, uniforms.static)\n  addProps(uniformSet, uniforms.dynamic)\n\n  var attributeSet = opts._attributeSet = {}\n  addProps(attributeSet, attributes.static)\n  addProps(attributeSet, attributes.dynamic)\n\n  opts._hasCount = (\n    'count' in opts.static ||\n    'count' in opts.dynamic ||\n    'elements' in opts.static ||\n    'elements' in opts.dynamic)\n}\n\nfunction commandRaise (message, command) {\n  var callSite = guessCallSite()\n  raise(message +\n    ' in command ' + (command || guessCommand()) +\n    (callSite === 'unknown' ? '' : ' called from ' + callSite))\n}\n\nfunction checkCommand (pred, message, command) {\n  if (!pred) {\n    commandRaise(message, command || guessCommand())\n  }\n}\n\nfunction checkParameterCommand (param, possibilities, message, command) {\n  if (!(param in possibilities)) {\n    commandRaise(\n      'unknown parameter (' + param + ')' + encolon(message) +\n      '. possible values: ' + Object.keys(possibilities).join(),\n      command || guessCommand())\n  }\n}\n\nfunction checkCommandType (value, type, message, command) {\n  if (!standardTypeEh(value, type)) {\n    commandRaise(\n      'invalid parameter type' + encolon(message) +\n      '. expected ' + type + ', got ' + (typeof value),\n      command || guessCommand())\n  }\n}\n\nfunction checkOptional (block) {\n  block()\n}\n\nfunction checkFramebufferFormat (attachment, texFormats, rbFormats) {\n  if (attachment.texture) {\n    checkOneOf(\n      attachment.texture._texture.internalformat,\n      texFormats,\n      'unsupported texture format for attachment')\n  } else {\n    checkOneOf(\n      attachment.renderbuffer._renderbuffer.format,\n      rbFormats,\n      'unsupported renderbuffer format for attachment')\n  }\n}\n\nvar GL_CLAMP_TO_EDGE = 0x812F\n\nvar GL_NEAREST = 0x2600\nvar GL_NEAREST_MIPMAP_NEAREST = 0x2700\nvar GL_LINEAR_MIPMAP_NEAREST = 0x2701\nvar GL_NEAREST_MIPMAP_LINEAR = 0x2702\nvar GL_LINEAR_MIPMAP_LINEAR = 0x2703\n\nvar GL_BYTE = 5120\nvar GL_UNSIGNED_BYTE = 5121\nvar GL_SHORT = 5122\nvar GL_UNSIGNED_SHORT = 5123\nvar GL_INT = 5124\nvar GL_UNSIGNED_INT = 5125\nvar GL_FLOAT = 5126\n\nvar GL_UNSIGNED_SHORT_4_4_4_4 = 0x8033\nvar GL_UNSIGNED_SHORT_5_5_5_1 = 0x8034\nvar GL_UNSIGNED_SHORT_5_6_5 = 0x8363\nvar GL_UNSIGNED_INT_24_8_WEBGL = 0x84FA\n\nvar GL_HALF_FLOAT_OES = 0x8D61\n\nvar TYPE_SIZE = {}\n\nTYPE_SIZE[GL_BYTE] =\nTYPE_SIZE[GL_UNSIGNED_BYTE] = 1\n\nTYPE_SIZE[GL_SHORT] =\nTYPE_SIZE[GL_UNSIGNED_SHORT] =\nTYPE_SIZE[GL_HALF_FLOAT_OES] =\nTYPE_SIZE[GL_UNSIGNED_SHORT_5_6_5] =\nTYPE_SIZE[GL_UNSIGNED_SHORT_4_4_4_4] =\nTYPE_SIZE[GL_UNSIGNED_SHORT_5_5_5_1] = 2\n\nTYPE_SIZE[GL_INT] =\nTYPE_SIZE[GL_UNSIGNED_INT] =\nTYPE_SIZE[GL_FLOAT] =\nTYPE_SIZE[GL_UNSIGNED_INT_24_8_WEBGL] = 4\n\nfunction pixelSize (type, channels) {\n  if (type === GL_UNSIGNED_SHORT_5_5_5_1 ||\n      type === GL_UNSIGNED_SHORT_4_4_4_4 ||\n      type === GL_UNSIGNED_SHORT_5_6_5) {\n    return 2\n  } else if (type === GL_UNSIGNED_INT_24_8_WEBGL) {\n    return 4\n  } else {\n    return TYPE_SIZE[type] * channels\n  }\n}\n\nfunction isPow2 (v) {\n  return !(v & (v - 1)) && (!!v)\n}\n\nfunction checkTexture2D (info, mipData, limits) {\n  var i\n  var w = mipData.width\n  var h = mipData.height\n  var c = mipData.channels\n\n  // Check texture shape\n  check(w > 0 && w <= limits.maxTextureSize &&\n        h > 0 && h <= limits.maxTextureSize,\n  'invalid texture shape')\n\n  // check wrap mode\n  if (info.wrapS !== GL_CLAMP_TO_EDGE || info.wrapT !== GL_CLAMP_TO_EDGE) {\n    check(isPow2(w) && isPow2(h),\n      'incompatible wrap mode for texture, both width and height must be power of 2')\n  }\n\n  if (mipData.mipmask === 1) {\n    if (w !== 1 && h !== 1) {\n      check(\n        info.minFilter !== GL_NEAREST_MIPMAP_NEAREST &&\n        info.minFilter !== GL_NEAREST_MIPMAP_LINEAR &&\n        info.minFilter !== GL_LINEAR_MIPMAP_NEAREST &&\n        info.minFilter !== GL_LINEAR_MIPMAP_LINEAR,\n        'min filter requires mipmap')\n    }\n  } else {\n    // texture must be power of 2\n    check(isPow2(w) && isPow2(h),\n      'texture must be a square power of 2 to support mipmapping')\n    check(mipData.mipmask === (w << 1) - 1,\n      'missing or incomplete mipmap data')\n  }\n\n  if (mipData.type === GL_FLOAT) {\n    if (limits.extensions.indexOf('oes_texture_float_linear') < 0) {\n      check(info.minFilter === GL_NEAREST && info.magFilter === GL_NEAREST,\n        'filter not supported, must enable oes_texture_float_linear')\n    }\n    check(!info.genMipmaps,\n      'mipmap generation not supported with float textures')\n  }\n\n  // check image complete\n  var mipimages = mipData.images\n  for (i = 0; i < 16; ++i) {\n    if (mipimages[i]) {\n      var mw = w >> i\n      var mh = h >> i\n      check(mipData.mipmask & (1 << i), 'missing mipmap data')\n\n      var img = mipimages[i]\n\n      check(\n        img.width === mw &&\n        img.height === mh,\n        'invalid shape for mip images')\n\n      check(\n        img.format === mipData.format &&\n        img.internalformat === mipData.internalformat &&\n        img.type === mipData.type,\n        'incompatible type for mip image')\n\n      if (img.compressed) {\n        // TODO: check size for compressed images\n      } else if (img.data) {\n        // check(img.data.byteLength === mw * mh *\n        // Math.max(pixelSize(img.type, c), img.unpackAlignment),\n        var rowSize = Math.ceil(pixelSize(img.type, c) * mw / img.unpackAlignment) * img.unpackAlignment\n        check(img.data.byteLength === rowSize * mh,\n          'invalid data for image, buffer size is inconsistent with image format')\n      } else if (img.element) {\n        // TODO: check element can be loaded\n      } else if (img.copy) {\n        // TODO: check compatible format and type\n      }\n    } else if (!info.genMipmaps) {\n      check((mipData.mipmask & (1 << i)) === 0, 'extra mipmap data')\n    }\n  }\n\n  if (mipData.compressed) {\n    check(!info.genMipmaps,\n      'mipmap generation for compressed images not supported')\n  }\n}\n\nfunction checkTextureCube (texture, info, faces, limits) {\n  var w = texture.width\n  var h = texture.height\n  var c = texture.channels\n\n  // Check texture shape\n  check(\n    w > 0 && w <= limits.maxTextureSize && h > 0 && h <= limits.maxTextureSize,\n    'invalid texture shape')\n  check(\n    w === h,\n    'cube map must be square')\n  check(\n    info.wrapS === GL_CLAMP_TO_EDGE && info.wrapT === GL_CLAMP_TO_EDGE,\n    'wrap mode not supported by cube map')\n\n  for (var i = 0; i < faces.length; ++i) {\n    var face = faces[i]\n    check(\n      face.width === w && face.height === h,\n      'inconsistent cube map face shape')\n\n    if (info.genMipmaps) {\n      check(!face.compressed,\n        'can not generate mipmap for compressed textures')\n      check(face.mipmask === 1,\n        'can not specify mipmaps and generate mipmaps')\n    } else {\n      // TODO: check mip and filter mode\n    }\n\n    var mipmaps = face.images\n    for (var j = 0; j < 16; ++j) {\n      var img = mipmaps[j]\n      if (img) {\n        var mw = w >> j\n        var mh = h >> j\n        check(face.mipmask & (1 << j), 'missing mipmap data')\n        check(\n          img.width === mw &&\n          img.height === mh,\n          'invalid shape for mip images')\n        check(\n          img.format === texture.format &&\n          img.internalformat === texture.internalformat &&\n          img.type === texture.type,\n          'incompatible type for mip image')\n\n        if (img.compressed) {\n          // TODO: check size for compressed images\n        } else if (img.data) {\n          check(img.data.byteLength === mw * mh *\n            Math.max(pixelSize(img.type, c), img.unpackAlignment),\n          'invalid data for image, buffer size is inconsistent with image format')\n        } else if (img.element) {\n          // TODO: check element can be loaded\n        } else if (img.copy) {\n          // TODO: check compatible format and type\n        }\n      }\n    }\n  }\n}\n\nvar check$1 = extend(check, {\n  optional: checkOptional,\n  raise: raise,\n  commandRaise: commandRaise,\n  command: checkCommand,\n  parameter: checkParameter,\n  commandParameter: checkParameterCommand,\n  constructor: checkConstructor,\n  type: checkTypeOf,\n  commandType: checkCommandType,\n  isTypedArray: checkIsTypedArray,\n  nni: checkNonNegativeInt,\n  oneOf: checkOneOf,\n  shaderError: checkShaderError,\n  linkError: checkLinkError,\n  callSite: guessCallSite,\n  saveCommandRef: saveCommandRef,\n  saveDrawInfo: saveDrawCommandInfo,\n  framebufferFormat: checkFramebufferFormat,\n  guessCommand: guessCommand,\n  texture2D: checkTexture2D,\n  textureCube: checkTextureCube\n});\n\nvar VARIABLE_COUNTER = 0\n\nvar DYN_FUNC = 0\n\nfunction DynamicVariable (type, data) {\n  this.id = (VARIABLE_COUNTER++)\n  this.type = type\n  this.data = data\n}\n\nfunction escapeStr (str) {\n  return str.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"')\n}\n\nfunction splitParts (str) {\n  if (str.length === 0) {\n    return []\n  }\n\n  var firstChar = str.charAt(0)\n  var lastChar = str.charAt(str.length - 1)\n\n  if (str.length > 1 &&\n      firstChar === lastChar &&\n      (firstChar === '\"' || firstChar === \"'\")) {\n    return ['\"' + escapeStr(str.substr(1, str.length - 2)) + '\"']\n  }\n\n  var parts = /\\[(false|true|null|\\d+|'[^']*'|\"[^\"]*\")\\]/.exec(str)\n  if (parts) {\n    return (\n      splitParts(str.substr(0, parts.index))\n        .concat(splitParts(parts[1]))\n        .concat(splitParts(str.substr(parts.index + parts[0].length)))\n    )\n  }\n\n  var subparts = str.split('.')\n  if (subparts.length === 1) {\n    return ['\"' + escapeStr(str) + '\"']\n  }\n\n  var result = []\n  for (var i = 0; i < subparts.length; ++i) {\n    result = result.concat(splitParts(subparts[i]))\n  }\n  return result\n}\n\nfunction toAccessorString (str) {\n  return '[' + splitParts(str).join('][') + ']'\n}\n\nfunction defineDynamic (type, data) {\n  return new DynamicVariable(type, toAccessorString(data + ''))\n}\n\nfunction isDynamic (x) {\n  return (typeof x === 'function' && !x._reglType) ||\n         x instanceof DynamicVariable\n}\n\nfunction unbox (x, path) {\n  if (typeof x === 'function') {\n    return new DynamicVariable(DYN_FUNC, x)\n  }\n  return x\n}\n\nvar dynamic = {\n  DynamicVariable: DynamicVariable,\n  define: defineDynamic,\n  isDynamic: isDynamic,\n  unbox: unbox,\n  accessor: toAccessorString\n};\n\n/* globals requestAnimationFrame, cancelAnimationFrame */\nvar raf = {\n  next: typeof requestAnimationFrame === 'function'\n    ? function (cb) { return requestAnimationFrame(cb) }\n    : function (cb) { return setTimeout(cb, 16) },\n  cancel: typeof cancelAnimationFrame === 'function'\n    ? function (raf) { return cancelAnimationFrame(raf) }\n    : clearTimeout\n};\n\n/* globals performance */\nvar clock = (typeof performance !== 'undefined' && performance.now)\n    ? function () { return performance.now() }\n    : function () { return +(new Date()) };\n\nfunction createStringStore () {\n  var stringIds = { '': 0 }\n  var stringValues = ['']\n  return {\n    id: function (str) {\n      var result = stringIds[str]\n      if (result) {\n        return result\n      }\n      result = stringIds[str] = stringValues.length\n      stringValues.push(str)\n      return result\n    },\n\n    str: function (id) {\n      return stringValues[id]\n    }\n  }\n}\n\n// Context and canvas creation helper functions\nfunction createCanvas (element, onDone, pixelRatio) {\n  var canvas = document.createElement('canvas')\n  extend(canvas.style, {\n    border: 0,\n    margin: 0,\n    padding: 0,\n    top: 0,\n    left: 0\n  })\n  element.appendChild(canvas)\n\n  if (element === document.body) {\n    canvas.style.position = 'absolute'\n    extend(element.style, {\n      margin: 0,\n      padding: 0\n    })\n  }\n\n  function resize () {\n    var w = window.innerWidth\n    var h = window.innerHeight\n    if (element !== document.body) {\n      var bounds = element.getBoundingClientRect()\n      w = bounds.right - bounds.left\n      h = bounds.bottom - bounds.top\n    }\n    canvas.width = pixelRatio * w\n    canvas.height = pixelRatio * h\n    extend(canvas.style, {\n      width: w + 'px',\n      height: h + 'px'\n    })\n  }\n\n  var resizeObserver\n  if (element !== document.body && typeof ResizeObserver === 'function') {\n    // ignore 'ResizeObserver' is not defined\n    // eslint-disable-next-line\n    resizeObserver = new ResizeObserver(function () {\n      // setTimeout to avoid flicker\n      setTimeout(resize)\n    })\n    resizeObserver.observe(element)\n  } else {\n    window.addEventListener('resize', resize, false)\n  }\n\n  function onDestroy () {\n    if (resizeObserver) {\n      resizeObserver.disconnect()\n    } else {\n      window.removeEventListener('resize', resize)\n    }\n    element.removeChild(canvas)\n  }\n\n  resize()\n\n  return {\n    canvas: canvas,\n    onDestroy: onDestroy\n  }\n}\n\nfunction createContext (canvas, contextAttributes) {\n  function get (name) {\n    try {\n      return canvas.getContext(name, contextAttributes)\n    } catch (e) {\n      return null\n    }\n  }\n  return (\n    get('webgl') ||\n    get('experimental-webgl') ||\n    get('webgl-experimental')\n  )\n}\n\nfunction isHTMLElement (obj) {\n  return (\n    typeof obj.nodeName === 'string' &&\n    typeof obj.appendChild === 'function' &&\n    typeof obj.getBoundingClientRect === 'function'\n  )\n}\n\nfunction isWebGLContext (obj) {\n  return (\n    typeof obj.drawArrays === 'function' ||\n    typeof obj.drawElements === 'function'\n  )\n}\n\nfunction parseExtensions (input) {\n  if (typeof input === 'string') {\n    return input.split()\n  }\n  check$1(Array.isArray(input), 'invalid extension array')\n  return input\n}\n\nfunction getElement (desc) {\n  if (typeof desc === 'string') {\n    check$1(typeof document !== 'undefined', 'not supported outside of DOM')\n    return document.querySelector(desc)\n  }\n  return desc\n}\n\nfunction parseArgs (args_) {\n  var args = args_ || {}\n  var element, container, canvas, gl\n  var contextAttributes = {}\n  var extensions = []\n  var optionalExtensions = []\n  var pixelRatio = (typeof window === 'undefined' ? 1 : window.devicePixelRatio)\n  var profile = false\n  var onDone = function (err) {\n    if (err) {\n      check$1.raise(err)\n    }\n  }\n  var onDestroy = function () {}\n  if (typeof args === 'string') {\n    check$1(\n      typeof document !== 'undefined',\n      'selector queries only supported in DOM enviroments')\n    element = document.querySelector(args)\n    check$1(element, 'invalid query string for element')\n  } else if (typeof args === 'object') {\n    if (isHTMLElement(args)) {\n      element = args\n    } else if (isWebGLContext(args)) {\n      gl = args\n      canvas = gl.canvas\n    } else {\n      check$1.constructor(args)\n      if ('gl' in args) {\n        gl = args.gl\n      } else if ('canvas' in args) {\n        canvas = getElement(args.canvas)\n      } else if ('container' in args) {\n        container = getElement(args.container)\n      }\n      if ('attributes' in args) {\n        contextAttributes = args.attributes\n        check$1.type(contextAttributes, 'object', 'invalid context attributes')\n      }\n      if ('extensions' in args) {\n        extensions = parseExtensions(args.extensions)\n      }\n      if ('optionalExtensions' in args) {\n        optionalExtensions = parseExtensions(args.optionalExtensions)\n      }\n      if ('onDone' in args) {\n        check$1.type(\n          args.onDone, 'function',\n          'invalid or missing onDone callback')\n        onDone = args.onDone\n      }\n      if ('profile' in args) {\n        profile = !!args.profile\n      }\n      if ('pixelRatio' in args) {\n        pixelRatio = +args.pixelRatio\n        check$1(pixelRatio > 0, 'invalid pixel ratio')\n      }\n    }\n  } else {\n    check$1.raise('invalid arguments to regl')\n  }\n\n  if (element) {\n    if (element.nodeName.toLowerCase() === 'canvas') {\n      canvas = element\n    } else {\n      container = element\n    }\n  }\n\n  if (!gl) {\n    if (!canvas) {\n      check$1(\n        typeof document !== 'undefined',\n        'must manually specify webgl context outside of DOM environments')\n      var result = createCanvas(container || document.body, onDone, pixelRatio)\n      if (!result) {\n        return null\n      }\n      canvas = result.canvas\n      onDestroy = result.onDestroy\n    }\n    // workaround for chromium bug, premultiplied alpha value is platform dependent\n    if (contextAttributes.premultipliedAlpha === undefined) contextAttributes.premultipliedAlpha = true\n    gl = createContext(canvas, contextAttributes)\n  }\n\n  if (!gl) {\n    onDestroy()\n    onDone('webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org')\n    return null\n  }\n\n  return {\n    gl: gl,\n    canvas: canvas,\n    container: container,\n    extensions: extensions,\n    optionalExtensions: optionalExtensions,\n    pixelRatio: pixelRatio,\n    profile: profile,\n    onDone: onDone,\n    onDestroy: onDestroy\n  }\n}\n\nfunction createExtensionCache (gl, config) {\n  var extensions = {}\n\n  function tryLoadExtension (name_) {\n    check$1.type(name_, 'string', 'extension name must be string')\n    var name = name_.toLowerCase()\n    var ext\n    try {\n      ext = extensions[name] = gl.getExtension(name)\n    } catch (e) {}\n    return !!ext\n  }\n\n  for (var i = 0; i < config.extensions.length; ++i) {\n    var name = config.extensions[i]\n    if (!tryLoadExtension(name)) {\n      config.onDestroy()\n      config.onDone('\"' + name + '\" extension is not supported by the current WebGL context, try upgrading your system or a different browser')\n      return null\n    }\n  }\n\n  config.optionalExtensions.forEach(tryLoadExtension)\n\n  return {\n    extensions: extensions,\n    restore: function () {\n      Object.keys(extensions).forEach(function (name) {\n        if (extensions[name] && !tryLoadExtension(name)) {\n          throw new Error('(regl): error restoring extension ' + name)\n        }\n      })\n    }\n  }\n}\n\nfunction loop (n, f) {\n  var result = Array(n)\n  for (var i = 0; i < n; ++i) {\n    result[i] = f(i)\n  }\n  return result\n}\n\nvar GL_BYTE$1 = 5120\nvar GL_UNSIGNED_BYTE$2 = 5121\nvar GL_SHORT$1 = 5122\nvar GL_UNSIGNED_SHORT$1 = 5123\nvar GL_INT$1 = 5124\nvar GL_UNSIGNED_INT$1 = 5125\nvar GL_FLOAT$2 = 5126\n\nfunction nextPow16 (v) {\n  for (var i = 16; i <= (1 << 28); i *= 16) {\n    if (v <= i) {\n      return i\n    }\n  }\n  return 0\n}\n\nfunction log2 (v) {\n  var r, shift\n  r = (v > 0xFFFF) << 4\n  v >>>= r\n  shift = (v > 0xFF) << 3\n  v >>>= shift; r |= shift\n  shift = (v > 0xF) << 2\n  v >>>= shift; r |= shift\n  shift = (v > 0x3) << 1\n  v >>>= shift; r |= shift\n  return r | (v >> 1)\n}\n\nfunction createPool () {\n  var bufferPool = loop(8, function () {\n    return []\n  })\n\n  function alloc (n) {\n    var sz = nextPow16(n)\n    var bin = bufferPool[log2(sz) >> 2]\n    if (bin.length > 0) {\n      return bin.pop()\n    }\n    return new ArrayBuffer(sz)\n  }\n\n  function free (buf) {\n    bufferPool[log2(buf.byteLength) >> 2].push(buf)\n  }\n\n  function allocType (type, n) {\n    var result = null\n    switch (type) {\n      case GL_BYTE$1:\n        result = new Int8Array(alloc(n), 0, n)\n        break\n      case GL_UNSIGNED_BYTE$2:\n        result = new Uint8Array(alloc(n), 0, n)\n        break\n      case GL_SHORT$1:\n        result = new Int16Array(alloc(2 * n), 0, n)\n        break\n      case GL_UNSIGNED_SHORT$1:\n        result = new Uint16Array(alloc(2 * n), 0, n)\n        break\n      case GL_INT$1:\n        result = new Int32Array(alloc(4 * n), 0, n)\n        break\n      case GL_UNSIGNED_INT$1:\n        result = new Uint32Array(alloc(4 * n), 0, n)\n        break\n      case GL_FLOAT$2:\n        result = new Float32Array(alloc(4 * n), 0, n)\n        break\n      default:\n        return null\n    }\n    if (result.length !== n) {\n      return result.subarray(0, n)\n    }\n    return result\n  }\n\n  function freeType (array) {\n    free(array.buffer)\n  }\n\n  return {\n    alloc: alloc,\n    free: free,\n    allocType: allocType,\n    freeType: freeType\n  }\n}\n\nvar pool = createPool()\n\n// zero pool for initial zero data\npool.zero = createPool()\n\nvar GL_SUBPIXEL_BITS = 0x0D50\nvar GL_RED_BITS = 0x0D52\nvar GL_GREEN_BITS = 0x0D53\nvar GL_BLUE_BITS = 0x0D54\nvar GL_ALPHA_BITS = 0x0D55\nvar GL_DEPTH_BITS = 0x0D56\nvar GL_STENCIL_BITS = 0x0D57\n\nvar GL_ALIASED_POINT_SIZE_RANGE = 0x846D\nvar GL_ALIASED_LINE_WIDTH_RANGE = 0x846E\n\nvar GL_MAX_TEXTURE_SIZE = 0x0D33\nvar GL_MAX_VIEWPORT_DIMS = 0x0D3A\nvar GL_MAX_VERTEX_ATTRIBS = 0x8869\nvar GL_MAX_VERTEX_UNIFORM_VECTORS = 0x8DFB\nvar GL_MAX_VARYING_VECTORS = 0x8DFC\nvar GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS = 0x8B4D\nvar GL_MAX_VERTEX_TEXTURE_IMAGE_UNITS = 0x8B4C\nvar GL_MAX_TEXTURE_IMAGE_UNITS = 0x8872\nvar GL_MAX_FRAGMENT_UNIFORM_VECTORS = 0x8DFD\nvar GL_MAX_CUBE_MAP_TEXTURE_SIZE = 0x851C\nvar GL_MAX_RENDERBUFFER_SIZE = 0x84E8\n\nvar GL_VENDOR = 0x1F00\nvar GL_RENDERER = 0x1F01\nvar GL_VERSION = 0x1F02\nvar GL_SHADING_LANGUAGE_VERSION = 0x8B8C\n\nvar GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT = 0x84FF\n\nvar GL_MAX_COLOR_ATTACHMENTS_WEBGL = 0x8CDF\nvar GL_MAX_DRAW_BUFFERS_WEBGL = 0x8824\n\nvar GL_TEXTURE_2D = 0x0DE1\nvar GL_TEXTURE_CUBE_MAP = 0x8513\nvar GL_TEXTURE_CUBE_MAP_POSITIVE_X = 0x8515\nvar GL_TEXTURE0 = 0x84C0\nvar GL_RGBA = 0x1908\nvar GL_FLOAT$1 = 0x1406\nvar GL_UNSIGNED_BYTE$1 = 0x1401\nvar GL_FRAMEBUFFER = 0x8D40\nvar GL_FRAMEBUFFER_COMPLETE = 0x8CD5\nvar GL_COLOR_ATTACHMENT0 = 0x8CE0\nvar GL_COLOR_BUFFER_BIT$1 = 0x4000\n\nvar wrapLimits = function (gl, extensions) {\n  var maxAnisotropic = 1\n  if (extensions.ext_texture_filter_anisotropic) {\n    maxAnisotropic = gl.getParameter(GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT)\n  }\n\n  var maxDrawbuffers = 1\n  var maxColorAttachments = 1\n  if (extensions.webgl_draw_buffers) {\n    maxDrawbuffers = gl.getParameter(GL_MAX_DRAW_BUFFERS_WEBGL)\n    maxColorAttachments = gl.getParameter(GL_MAX_COLOR_ATTACHMENTS_WEBGL)\n  }\n\n  // detect if reading float textures is available (Safari doesn't support)\n  var readFloat = !!extensions.oes_texture_float\n  if (readFloat) {\n    var readFloatTexture = gl.createTexture()\n    gl.bindTexture(GL_TEXTURE_2D, readFloatTexture)\n    gl.texImage2D(GL_TEXTURE_2D, 0, GL_RGBA, 1, 1, 0, GL_RGBA, GL_FLOAT$1, null)\n\n    var fbo = gl.createFramebuffer()\n    gl.bindFramebuffer(GL_FRAMEBUFFER, fbo)\n    gl.framebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, readFloatTexture, 0)\n    gl.bindTexture(GL_TEXTURE_2D, null)\n\n    if (gl.checkFramebufferStatus(GL_FRAMEBUFFER) !== GL_FRAMEBUFFER_COMPLETE) readFloat = false\n\n    else {\n      gl.viewport(0, 0, 1, 1)\n      gl.clearColor(1.0, 0.0, 0.0, 1.0)\n      gl.clear(GL_COLOR_BUFFER_BIT$1)\n      var pixels = pool.allocType(GL_FLOAT$1, 4)\n      gl.readPixels(0, 0, 1, 1, GL_RGBA, GL_FLOAT$1, pixels)\n\n      if (gl.getError()) readFloat = false\n      else {\n        gl.deleteFramebuffer(fbo)\n        gl.deleteTexture(readFloatTexture)\n\n        readFloat = pixels[0] === 1.0\n      }\n\n      pool.freeType(pixels)\n    }\n  }\n\n  // detect non power of two cube textures support (IE doesn't support)\n  var isIE = typeof navigator !== 'undefined' && (/MSIE/.test(navigator.userAgent) || /Trident\\//.test(navigator.appVersion) || /Edge/.test(navigator.userAgent))\n\n  var npotTextureCube = true\n\n  if (!isIE) {\n    var cubeTexture = gl.createTexture()\n    var data = pool.allocType(GL_UNSIGNED_BYTE$1, 36)\n    gl.activeTexture(GL_TEXTURE0)\n    gl.bindTexture(GL_TEXTURE_CUBE_MAP, cubeTexture)\n    gl.texImage2D(GL_TEXTURE_CUBE_MAP_POSITIVE_X, 0, GL_RGBA, 3, 3, 0, GL_RGBA, GL_UNSIGNED_BYTE$1, data)\n    pool.freeType(data)\n    gl.bindTexture(GL_TEXTURE_CUBE_MAP, null)\n    gl.deleteTexture(cubeTexture)\n    npotTextureCube = !gl.getError()\n  }\n\n  return {\n    // drawing buffer bit depth\n    colorBits: [\n      gl.getParameter(GL_RED_BITS),\n      gl.getParameter(GL_GREEN_BITS),\n      gl.getParameter(GL_BLUE_BITS),\n      gl.getParameter(GL_ALPHA_BITS)\n    ],\n    depthBits: gl.getParameter(GL_DEPTH_BITS),\n    stencilBits: gl.getParameter(GL_STENCIL_BITS),\n    subpixelBits: gl.getParameter(GL_SUBPIXEL_BITS),\n\n    // supported extensions\n    extensions: Object.keys(extensions).filter(function (ext) {\n      return !!extensions[ext]\n    }),\n\n    // max aniso samples\n    maxAnisotropic: maxAnisotropic,\n\n    // max draw buffers\n    maxDrawbuffers: maxDrawbuffers,\n    maxColorAttachments: maxColorAttachments,\n\n    // point and line size ranges\n    pointSizeDims: gl.getParameter(GL_ALIASED_POINT_SIZE_RANGE),\n    lineWidthDims: gl.getParameter(GL_ALIASED_LINE_WIDTH_RANGE),\n    maxViewportDims: gl.getParameter(GL_MAX_VIEWPORT_DIMS),\n    maxCombinedTextureUnits: gl.getParameter(GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS),\n    maxCubeMapSize: gl.getParameter(GL_MAX_CUBE_MAP_TEXTURE_SIZE),\n    maxRenderbufferSize: gl.getParameter(GL_MAX_RENDERBUFFER_SIZE),\n    maxTextureUnits: gl.getParameter(GL_MAX_TEXTURE_IMAGE_UNITS),\n    maxTextureSize: gl.getParameter(GL_MAX_TEXTURE_SIZE),\n    maxAttributes: gl.getParameter(GL_MAX_VERTEX_ATTRIBS),\n    maxVertexUniforms: gl.getParameter(GL_MAX_VERTEX_UNIFORM_VECTORS),\n    maxVertexTextureUnits: gl.getParameter(GL_MAX_VERTEX_TEXTURE_IMAGE_UNITS),\n    maxVaryingVectors: gl.getParameter(GL_MAX_VARYING_VECTORS),\n    maxFragmentUniforms: gl.getParameter(GL_MAX_FRAGMENT_UNIFORM_VECTORS),\n\n    // vendor info\n    glsl: gl.getParameter(GL_SHADING_LANGUAGE_VERSION),\n    renderer: gl.getParameter(GL_RENDERER),\n    vendor: gl.getParameter(GL_VENDOR),\n    version: gl.getParameter(GL_VERSION),\n\n    // quirks\n    readFloat: readFloat,\n    npotTextureCube: npotTextureCube\n  }\n}\n\nfunction isNDArrayLike (obj) {\n  return (\n    !!obj &&\n    typeof obj === 'object' &&\n    Array.isArray(obj.shape) &&\n    Array.isArray(obj.stride) &&\n    typeof obj.offset === 'number' &&\n    obj.shape.length === obj.stride.length &&\n    (Array.isArray(obj.data) ||\n      isTypedArray(obj.data)))\n}\n\nvar values = function (obj) {\n  return Object.keys(obj).map(function (key) { return obj[key] })\n}\n\nvar flattenUtils = {\n  shape: arrayShape$1,\n  flatten: flattenArray\n};\n\nfunction flatten1D (array, nx, out) {\n  for (var i = 0; i < nx; ++i) {\n    out[i] = array[i]\n  }\n}\n\nfunction flatten2D (array, nx, ny, out) {\n  var ptr = 0\n  for (var i = 0; i < nx; ++i) {\n    var row = array[i]\n    for (var j = 0; j < ny; ++j) {\n      out[ptr++] = row[j]\n    }\n  }\n}\n\nfunction flatten3D (array, nx, ny, nz, out, ptr_) {\n  var ptr = ptr_\n  for (var i = 0; i < nx; ++i) {\n    var row = array[i]\n    for (var j = 0; j < ny; ++j) {\n      var col = row[j]\n      for (var k = 0; k < nz; ++k) {\n        out[ptr++] = col[k]\n      }\n    }\n  }\n}\n\nfunction flattenRec (array, shape, level, out, ptr) {\n  var stride = 1\n  for (var i = level + 1; i < shape.length; ++i) {\n    stride *= shape[i]\n  }\n  var n = shape[level]\n  if (shape.length - level === 4) {\n    var nx = shape[level + 1]\n    var ny = shape[level + 2]\n    var nz = shape[level + 3]\n    for (i = 0; i < n; ++i) {\n      flatten3D(array[i], nx, ny, nz, out, ptr)\n      ptr += stride\n    }\n  } else {\n    for (i = 0; i < n; ++i) {\n      flattenRec(array[i], shape, level + 1, out, ptr)\n      ptr += stride\n    }\n  }\n}\n\nfunction flattenArray (array, shape, type, out_) {\n  var sz = 1\n  if (shape.length) {\n    for (var i = 0; i < shape.length; ++i) {\n      sz *= shape[i]\n    }\n  } else {\n    sz = 0\n  }\n  var out = out_ || pool.allocType(type, sz)\n  switch (shape.length) {\n    case 0:\n      break\n    case 1:\n      flatten1D(array, shape[0], out)\n      break\n    case 2:\n      flatten2D(array, shape[0], shape[1], out)\n      break\n    case 3:\n      flatten3D(array, shape[0], shape[1], shape[2], out, 0)\n      break\n    default:\n      flattenRec(array, shape, 0, out, 0)\n  }\n  return out\n}\n\nfunction arrayShape$1 (array_) {\n  var shape = []\n  for (var array = array_; array.length; array = array[0]) {\n    shape.push(array.length)\n  }\n  return shape\n}\n\nvar arrayTypes =  {\n\t\"[object Int8Array]\": 5120,\n\t\"[object Int16Array]\": 5122,\n\t\"[object Int32Array]\": 5124,\n\t\"[object Uint8Array]\": 5121,\n\t\"[object Uint8ClampedArray]\": 5121,\n\t\"[object Uint16Array]\": 5123,\n\t\"[object Uint32Array]\": 5125,\n\t\"[object Float32Array]\": 5126,\n\t\"[object Float64Array]\": 5121,\n\t\"[object ArrayBuffer]\": 5121\n};\n\nvar int8 = 5120;\nvar int16 = 5122;\nvar int32 = 5124;\nvar uint8 = 5121;\nvar uint16 = 5123;\nvar uint32 = 5125;\nvar float = 5126;\nvar float32 = 5126;\nvar glTypes = {\n\tint8: int8,\n\tint16: int16,\n\tint32: int32,\n\tuint8: uint8,\n\tuint16: uint16,\n\tuint32: uint32,\n\tfloat: float,\n\tfloat32: float32\n};\n\nvar dynamic$1 = 35048;\nvar stream = 35040;\nvar usageTypes = {\n\tdynamic: dynamic$1,\n\tstream: stream,\n\t\"static\": 35044\n};\n\nvar arrayFlatten = flattenUtils.flatten\nvar arrayShape = flattenUtils.shape\n\nvar GL_STATIC_DRAW = 0x88E4\nvar GL_STREAM_DRAW = 0x88E0\n\nvar GL_UNSIGNED_BYTE$3 = 5121\nvar GL_FLOAT$3 = 5126\n\nvar DTYPES_SIZES = []\nDTYPES_SIZES[5120] = 1 // int8\nDTYPES_SIZES[5122] = 2 // int16\nDTYPES_SIZES[5124] = 4 // int32\nDTYPES_SIZES[5121] = 1 // uint8\nDTYPES_SIZES[5123] = 2 // uint16\nDTYPES_SIZES[5125] = 4 // uint32\nDTYPES_SIZES[5126] = 4 // float32\n\nfunction typedArrayCode (data) {\n  return arrayTypes[Object.prototype.toString.call(data)] | 0\n}\n\nfunction copyArray (out, inp) {\n  for (var i = 0; i < inp.length; ++i) {\n    out[i] = inp[i]\n  }\n}\n\nfunction transpose (\n  result, data, shapeX, shapeY, strideX, strideY, offset) {\n  var ptr = 0\n  for (var i = 0; i < shapeX; ++i) {\n    for (var j = 0; j < shapeY; ++j) {\n      result[ptr++] = data[strideX * i + strideY * j + offset]\n    }\n  }\n}\n\nfunction wrapBufferState (gl, stats, config, destroyBuffer) {\n  var bufferCount = 0\n  var bufferSet = {}\n\n  function REGLBuffer (type) {\n    this.id = bufferCount++\n    this.buffer = gl.createBuffer()\n    this.type = type\n    this.usage = GL_STATIC_DRAW\n    this.byteLength = 0\n    this.dimension = 1\n    this.dtype = GL_UNSIGNED_BYTE$3\n\n    this.persistentData = null\n\n    if (config.profile) {\n      this.stats = { size: 0 }\n    }\n  }\n\n  REGLBuffer.prototype.bind = function () {\n    gl.bindBuffer(this.type, this.buffer)\n  }\n\n  REGLBuffer.prototype.destroy = function () {\n    destroy(this)\n  }\n\n  var streamPool = []\n\n  function createStream (type, data) {\n    var buffer = streamPool.pop()\n    if (!buffer) {\n      buffer = new REGLBuffer(type)\n    }\n    buffer.bind()\n    initBufferFromData(buffer, data, GL_STREAM_DRAW, 0, 1, false)\n    return buffer\n  }\n\n  function destroyStream (stream$$1) {\n    streamPool.push(stream$$1)\n  }\n\n  function initBufferFromTypedArray (buffer, data, usage) {\n    buffer.byteLength = data.byteLength\n    gl.bufferData(buffer.type, data, usage)\n  }\n\n  function initBufferFromData (buffer, data, usage, dtype, dimension, persist) {\n    var shape\n    buffer.usage = usage\n    if (Array.isArray(data)) {\n      buffer.dtype = dtype || GL_FLOAT$3\n      if (data.length > 0) {\n        var flatData\n        if (Array.isArray(data[0])) {\n          shape = arrayShape(data)\n          var dim = 1\n          for (var i = 1; i < shape.length; ++i) {\n            dim *= shape[i]\n          }\n          buffer.dimension = dim\n          flatData = arrayFlatten(data, shape, buffer.dtype)\n          initBufferFromTypedArray(buffer, flatData, usage)\n          if (persist) {\n            buffer.persistentData = flatData\n          } else {\n            pool.freeType(flatData)\n          }\n        } else if (typeof data[0] === 'number') {\n          buffer.dimension = dimension\n          var typedData = pool.allocType(buffer.dtype, data.length)\n          copyArray(typedData, data)\n          initBufferFromTypedArray(buffer, typedData, usage)\n          if (persist) {\n            buffer.persistentData = typedData\n          } else {\n            pool.freeType(typedData)\n          }\n        } else if (isTypedArray(data[0])) {\n          buffer.dimension = data[0].length\n          buffer.dtype = dtype || typedArrayCode(data[0]) || GL_FLOAT$3\n          flatData = arrayFlatten(\n            data,\n            [data.length, data[0].length],\n            buffer.dtype)\n          initBufferFromTypedArray(buffer, flatData, usage)\n          if (persist) {\n            buffer.persistentData = flatData\n          } else {\n            pool.freeType(flatData)\n          }\n        } else {\n          check$1.raise('invalid buffer data')\n        }\n      }\n    } else if (isTypedArray(data)) {\n      buffer.dtype = dtype || typedArrayCode(data)\n      buffer.dimension = dimension\n      initBufferFromTypedArray(buffer, data, usage)\n      if (persist) {\n        buffer.persistentData = new Uint8Array(new Uint8Array(data.buffer))\n      }\n    } else if (isNDArrayLike(data)) {\n      shape = data.shape\n      var stride = data.stride\n      var offset = data.offset\n\n      var shapeX = 0\n      var shapeY = 0\n      var strideX = 0\n      var strideY = 0\n      if (shape.length === 1) {\n        shapeX = shape[0]\n        shapeY = 1\n        strideX = stride[0]\n        strideY = 0\n      } else if (shape.length === 2) {\n        shapeX = shape[0]\n        shapeY = shape[1]\n        strideX = stride[0]\n        strideY = stride[1]\n      } else {\n        check$1.raise('invalid shape')\n      }\n\n      buffer.dtype = dtype || typedArrayCode(data.data) || GL_FLOAT$3\n      buffer.dimension = shapeY\n\n      var transposeData = pool.allocType(buffer.dtype, shapeX * shapeY)\n      transpose(transposeData,\n        data.data,\n        shapeX, shapeY,\n        strideX, strideY,\n        offset)\n      initBufferFromTypedArray(buffer, transposeData, usage)\n      if (persist) {\n        buffer.persistentData = transposeData\n      } else {\n        pool.freeType(transposeData)\n      }\n    } else if (data instanceof ArrayBuffer) {\n      buffer.dtype = GL_UNSIGNED_BYTE$3\n      buffer.dimension = dimension\n      initBufferFromTypedArray(buffer, data, usage)\n      if (persist) {\n        buffer.persistentData = new Uint8Array(new Uint8Array(data))\n      }\n    } else {\n      check$1.raise('invalid buffer data')\n    }\n  }\n\n  function destroy (buffer) {\n    stats.bufferCount--\n\n    // remove attribute link\n    destroyBuffer(buffer)\n\n    var handle = buffer.buffer\n    check$1(handle, 'buffer must not be deleted already')\n    gl.deleteBuffer(handle)\n    buffer.buffer = null\n    delete bufferSet[buffer.id]\n  }\n\n  function createBuffer (options, type, deferInit, persistent) {\n    stats.bufferCount++\n\n    var buffer = new REGLBuffer(type)\n    bufferSet[buffer.id] = buffer\n\n    function reglBuffer (options) {\n      var usage = GL_STATIC_DRAW\n      var data = null\n      var byteLength = 0\n      var dtype = 0\n      var dimension = 1\n      if (Array.isArray(options) ||\n          isTypedArray(options) ||\n          isNDArrayLike(options) ||\n          options instanceof ArrayBuffer) {\n        data = options\n      } else if (typeof options === 'number') {\n        byteLength = options | 0\n      } else if (options) {\n        check$1.type(\n          options, 'object',\n          'buffer arguments must be an object, a number or an array')\n\n        if ('data' in options) {\n          check$1(\n            data === null ||\n            Array.isArray(data) ||\n            isTypedArray(data) ||\n            isNDArrayLike(data),\n            'invalid data for buffer')\n          data = options.data\n        }\n\n        if ('usage' in options) {\n          check$1.parameter(options.usage, usageTypes, 'invalid buffer usage')\n          usage = usageTypes[options.usage]\n        }\n\n        if ('type' in options) {\n          check$1.parameter(options.type, glTypes, 'invalid buffer type')\n          dtype = glTypes[options.type]\n        }\n\n        if ('dimension' in options) {\n          check$1.type(options.dimension, 'number', 'invalid dimension')\n          dimension = options.dimension | 0\n        }\n\n        if ('length' in options) {\n          check$1.nni(byteLength, 'buffer length must be a nonnegative integer')\n          byteLength = options.length | 0\n        }\n      }\n\n      buffer.bind()\n      if (!data) {\n        // #475\n        if (byteLength) gl.bufferData(buffer.type, byteLength, usage)\n        buffer.dtype = dtype || GL_UNSIGNED_BYTE$3\n        buffer.usage = usage\n        buffer.dimension = dimension\n        buffer.byteLength = byteLength\n      } else {\n        initBufferFromData(buffer, data, usage, dtype, dimension, persistent)\n      }\n\n      if (config.profile) {\n        buffer.stats.size = buffer.byteLength * DTYPES_SIZES[buffer.dtype]\n      }\n\n      return reglBuffer\n    }\n\n    function setSubData (data, offset) {\n      check$1(offset + data.byteLength <= buffer.byteLength,\n        'invalid buffer subdata call, buffer is too small. ' + ' Can\\'t write data of size ' + data.byteLength + ' starting from offset ' + offset + ' to a buffer of size ' + buffer.byteLength)\n\n      gl.bufferSubData(buffer.type, offset, data)\n    }\n\n    function subdata (data, offset_) {\n      var offset = (offset_ || 0) | 0\n      var shape\n      buffer.bind()\n      if (isTypedArray(data) || data instanceof ArrayBuffer) {\n        setSubData(data, offset)\n      } else if (Array.isArray(data)) {\n        if (data.length > 0) {\n          if (typeof data[0] === 'number') {\n            var converted = pool.allocType(buffer.dtype, data.length)\n            copyArray(converted, data)\n            setSubData(converted, offset)\n            pool.freeType(converted)\n          } else if (Array.isArray(data[0]) || isTypedArray(data[0])) {\n            shape = arrayShape(data)\n            var flatData = arrayFlatten(data, shape, buffer.dtype)\n            setSubData(flatData, offset)\n            pool.freeType(flatData)\n          } else {\n            check$1.raise('invalid buffer data')\n          }\n        }\n      } else if (isNDArrayLike(data)) {\n        shape = data.shape\n        var stride = data.stride\n\n        var shapeX = 0\n        var shapeY = 0\n        var strideX = 0\n        var strideY = 0\n        if (shape.length === 1) {\n          shapeX = shape[0]\n          shapeY = 1\n          strideX = stride[0]\n          strideY = 0\n        } else if (shape.length === 2) {\n          shapeX = shape[0]\n          shapeY = shape[1]\n          strideX = stride[0]\n          strideY = stride[1]\n        } else {\n          check$1.raise('invalid shape')\n        }\n        var dtype = Array.isArray(data.data)\n          ? buffer.dtype\n          : typedArrayCode(data.data)\n\n        var transposeData = pool.allocType(dtype, shapeX * shapeY)\n        transpose(transposeData,\n          data.data,\n          shapeX, shapeY,\n          strideX, strideY,\n          data.offset)\n        setSubData(transposeData, offset)\n        pool.freeType(transposeData)\n      } else {\n        check$1.raise('invalid data for buffer subdata')\n      }\n      return reglBuffer\n    }\n\n    if (!deferInit) {\n      reglBuffer(options)\n    }\n\n    reglBuffer._reglType = 'buffer'\n    reglBuffer._buffer = buffer\n    reglBuffer.subdata = subdata\n    if (config.profile) {\n      reglBuffer.stats = buffer.stats\n    }\n    reglBuffer.destroy = function () { destroy(buffer) }\n\n    return reglBuffer\n  }\n\n  function restoreBuffers () {\n    values(bufferSet).forEach(function (buffer) {\n      buffer.buffer = gl.createBuffer()\n      gl.bindBuffer(buffer.type, buffer.buffer)\n      gl.bufferData(\n        buffer.type, buffer.persistentData || buffer.byteLength, buffer.usage)\n    })\n  }\n\n  if (config.profile) {\n    stats.getTotalBufferSize = function () {\n      var total = 0\n      // TODO: Right now, the streams are not part of the total count.\n      Object.keys(bufferSet).forEach(function (key) {\n        total += bufferSet[key].stats.size\n      })\n      return total\n    }\n  }\n\n  return {\n    create: createBuffer,\n\n    createStream: createStream,\n    destroyStream: destroyStream,\n\n    clear: function () {\n      values(bufferSet).forEach(destroy)\n      streamPool.forEach(destroy)\n    },\n\n    getBuffer: function (wrapper) {\n      if (wrapper && wrapper._buffer instanceof REGLBuffer) {\n        return wrapper._buffer\n      }\n      return null\n    },\n\n    restore: restoreBuffers,\n\n    _initBuffer: initBufferFromData\n  }\n}\n\nvar points = 0;\nvar point = 0;\nvar lines = 1;\nvar line = 1;\nvar triangles = 4;\nvar triangle = 4;\nvar primTypes = {\n\tpoints: points,\n\tpoint: point,\n\tlines: lines,\n\tline: line,\n\ttriangles: triangles,\n\ttriangle: triangle,\n\t\"line loop\": 2,\n\t\"line strip\": 3,\n\t\"triangle strip\": 5,\n\t\"triangle fan\": 6\n};\n\nvar GL_POINTS = 0\nvar GL_LINES = 1\nvar GL_TRIANGLES = 4\n\nvar GL_BYTE$2 = 5120\nvar GL_UNSIGNED_BYTE$4 = 5121\nvar GL_SHORT$2 = 5122\nvar GL_UNSIGNED_SHORT$2 = 5123\nvar GL_INT$2 = 5124\nvar GL_UNSIGNED_INT$2 = 5125\n\nvar GL_ELEMENT_ARRAY_BUFFER = 34963\n\nvar GL_STREAM_DRAW$1 = 0x88E0\nvar GL_STATIC_DRAW$1 = 0x88E4\n\nfunction wrapElementsState (gl, extensions, bufferState, stats) {\n  var elementSet = {}\n  var elementCount = 0\n\n  var elementTypes = {\n    'uint8': GL_UNSIGNED_BYTE$4,\n    'uint16': GL_UNSIGNED_SHORT$2\n  }\n\n  if (extensions.oes_element_index_uint) {\n    elementTypes.uint32 = GL_UNSIGNED_INT$2\n  }\n\n  function REGLElementBuffer (buffer) {\n    this.id = elementCount++\n    elementSet[this.id] = this\n    this.buffer = buffer\n    this.primType = GL_TRIANGLES\n    this.vertCount = 0\n    this.type = 0\n  }\n\n  REGLElementBuffer.prototype.bind = function () {\n    this.buffer.bind()\n  }\n\n  var bufferPool = []\n\n  function createElementStream (data) {\n    var result = bufferPool.pop()\n    if (!result) {\n      result = new REGLElementBuffer(bufferState.create(\n        null,\n        GL_ELEMENT_ARRAY_BUFFER,\n        true,\n        false)._buffer)\n    }\n    initElements(result, data, GL_STREAM_DRAW$1, -1, -1, 0, 0)\n    return result\n  }\n\n  function destroyElementStream (elements) {\n    bufferPool.push(elements)\n  }\n\n  function initElements (\n    elements,\n    data,\n    usage,\n    prim,\n    count,\n    byteLength,\n    type) {\n    elements.buffer.bind()\n    var dtype\n    if (data) {\n      var predictedType = type\n      if (!type && (\n        !isTypedArray(data) ||\n         (isNDArrayLike(data) && !isTypedArray(data.data)))) {\n        predictedType = extensions.oes_element_index_uint\n          ? GL_UNSIGNED_INT$2\n          : GL_UNSIGNED_SHORT$2\n      }\n      bufferState._initBuffer(\n        elements.buffer,\n        data,\n        usage,\n        predictedType,\n        3)\n    } else {\n      gl.bufferData(GL_ELEMENT_ARRAY_BUFFER, byteLength, usage)\n      elements.buffer.dtype = dtype || GL_UNSIGNED_BYTE$4\n      elements.buffer.usage = usage\n      elements.buffer.dimension = 3\n      elements.buffer.byteLength = byteLength\n    }\n\n    dtype = type\n    if (!type) {\n      switch (elements.buffer.dtype) {\n        case GL_UNSIGNED_BYTE$4:\n        case GL_BYTE$2:\n          dtype = GL_UNSIGNED_BYTE$4\n          break\n\n        case GL_UNSIGNED_SHORT$2:\n        case GL_SHORT$2:\n          dtype = GL_UNSIGNED_SHORT$2\n          break\n\n        case GL_UNSIGNED_INT$2:\n        case GL_INT$2:\n          dtype = GL_UNSIGNED_INT$2\n          break\n\n        default:\n          check$1.raise('unsupported type for element array')\n      }\n      elements.buffer.dtype = dtype\n    }\n    elements.type = dtype\n\n    // Check oes_element_index_uint extension\n    check$1(\n      dtype !== GL_UNSIGNED_INT$2 ||\n      !!extensions.oes_element_index_uint,\n      '32 bit element buffers not supported, enable oes_element_index_uint first')\n\n    // try to guess default primitive type and arguments\n    var vertCount = count\n    if (vertCount < 0) {\n      vertCount = elements.buffer.byteLength\n      if (dtype === GL_UNSIGNED_SHORT$2) {\n        vertCount >>= 1\n      } else if (dtype === GL_UNSIGNED_INT$2) {\n        vertCount >>= 2\n      }\n    }\n    elements.vertCount = vertCount\n\n    // try to guess primitive type from cell dimension\n    var primType = prim\n    if (prim < 0) {\n      primType = GL_TRIANGLES\n      var dimension = elements.buffer.dimension\n      if (dimension === 1) primType = GL_POINTS\n      if (dimension === 2) primType = GL_LINES\n      if (dimension === 3) primType = GL_TRIANGLES\n    }\n    elements.primType = primType\n  }\n\n  function destroyElements (elements) {\n    stats.elementsCount--\n\n    check$1(elements.buffer !== null, 'must not double destroy elements')\n    delete elementSet[elements.id]\n    elements.buffer.destroy()\n    elements.buffer = null\n  }\n\n  function createElements (options, persistent) {\n    var buffer = bufferState.create(null, GL_ELEMENT_ARRAY_BUFFER, true)\n    var elements = new REGLElementBuffer(buffer._buffer)\n    stats.elementsCount++\n\n    function reglElements (options) {\n      if (!options) {\n        buffer()\n        elements.primType = GL_TRIANGLES\n        elements.vertCount = 0\n        elements.type = GL_UNSIGNED_BYTE$4\n      } else if (typeof options === 'number') {\n        buffer(options)\n        elements.primType = GL_TRIANGLES\n        elements.vertCount = options | 0\n        elements.type = GL_UNSIGNED_BYTE$4\n      } else {\n        var data = null\n        var usage = GL_STATIC_DRAW$1\n        var primType = -1\n        var vertCount = -1\n        var byteLength = 0\n        var dtype = 0\n        if (Array.isArray(options) ||\n            isTypedArray(options) ||\n            isNDArrayLike(options)) {\n          data = options\n        } else {\n          check$1.type(options, 'object', 'invalid arguments for elements')\n          if ('data' in options) {\n            data = options.data\n            check$1(\n              Array.isArray(data) ||\n                isTypedArray(data) ||\n                isNDArrayLike(data),\n              'invalid data for element buffer')\n          }\n          if ('usage' in options) {\n            check$1.parameter(\n              options.usage,\n              usageTypes,\n              'invalid element buffer usage')\n            usage = usageTypes[options.usage]\n          }\n          if ('primitive' in options) {\n            check$1.parameter(\n              options.primitive,\n              primTypes,\n              'invalid element buffer primitive')\n            primType = primTypes[options.primitive]\n          }\n          if ('count' in options) {\n            check$1(\n              typeof options.count === 'number' && options.count >= 0,\n              'invalid vertex count for elements')\n            vertCount = options.count | 0\n          }\n          if ('type' in options) {\n            check$1.parameter(\n              options.type,\n              elementTypes,\n              'invalid buffer type')\n            dtype = elementTypes[options.type]\n          }\n          if ('length' in options) {\n            byteLength = options.length | 0\n          } else {\n            byteLength = vertCount\n            if (dtype === GL_UNSIGNED_SHORT$2 || dtype === GL_SHORT$2) {\n              byteLength *= 2\n            } else if (dtype === GL_UNSIGNED_INT$2 || dtype === GL_INT$2) {\n              byteLength *= 4\n            }\n          }\n        }\n        initElements(\n          elements,\n          data,\n          usage,\n          primType,\n          vertCount,\n          byteLength,\n          dtype)\n      }\n\n      return reglElements\n    }\n\n    reglElements(options)\n\n    reglElements._reglType = 'elements'\n    reglElements._elements = elements\n    reglElements.subdata = function (data, offset) {\n      buffer.subdata(data, offset)\n      return reglElements\n    }\n    reglElements.destroy = function () {\n      destroyElements(elements)\n    }\n\n    return reglElements\n  }\n\n  return {\n    create: createElements,\n    createStream: createElementStream,\n    destroyStream: destroyElementStream,\n    getElements: function (elements) {\n      if (typeof elements === 'function' &&\n          elements._elements instanceof REGLElementBuffer) {\n        return elements._elements\n      }\n      return null\n    },\n    clear: function () {\n      values(elementSet).forEach(destroyElements)\n    }\n  }\n}\n\nvar FLOAT = new Float32Array(1)\nvar INT = new Uint32Array(FLOAT.buffer)\n\nvar GL_UNSIGNED_SHORT$4 = 5123\n\nfunction convertToHalfFloat (array) {\n  var ushorts = pool.allocType(GL_UNSIGNED_SHORT$4, array.length)\n\n  for (var i = 0; i < array.length; ++i) {\n    if (isNaN(array[i])) {\n      ushorts[i] = 0xffff\n    } else if (array[i] === Infinity) {\n      ushorts[i] = 0x7c00\n    } else if (array[i] === -Infinity) {\n      ushorts[i] = 0xfc00\n    } else {\n      FLOAT[0] = array[i]\n      var x = INT[0]\n\n      var sgn = (x >>> 31) << 15\n      var exp = ((x << 1) >>> 24) - 127\n      var frac = (x >> 13) & ((1 << 10) - 1)\n\n      if (exp < -24) {\n        // round non-representable denormals to 0\n        ushorts[i] = sgn\n      } else if (exp < -14) {\n        // handle denormals\n        var s = -14 - exp\n        ushorts[i] = sgn + ((frac + (1 << 10)) >> s)\n      } else if (exp > 15) {\n        // round overflow to +/- Infinity\n        ushorts[i] = sgn + 0x7c00\n      } else {\n        // otherwise convert directly\n        ushorts[i] = sgn + ((exp + 15) << 10) + frac\n      }\n    }\n  }\n\n  return ushorts\n}\n\nfunction isArrayLike (s) {\n  return Array.isArray(s) || isTypedArray(s)\n}\n\nvar isPow2$1 = function (v) {\n  return !(v & (v - 1)) && (!!v)\n}\n\nvar GL_COMPRESSED_TEXTURE_FORMATS = 0x86A3\n\nvar GL_TEXTURE_2D$1 = 0x0DE1\nvar GL_TEXTURE_CUBE_MAP$1 = 0x8513\nvar GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 = 0x8515\n\nvar GL_RGBA$1 = 0x1908\nvar GL_ALPHA = 0x1906\nvar GL_RGB = 0x1907\nvar GL_LUMINANCE = 0x1909\nvar GL_LUMINANCE_ALPHA = 0x190A\n\nvar GL_RGBA4 = 0x8056\nvar GL_RGB5_A1 = 0x8057\nvar GL_RGB565 = 0x8D62\n\nvar GL_UNSIGNED_SHORT_4_4_4_4$1 = 0x8033\nvar GL_UNSIGNED_SHORT_5_5_5_1$1 = 0x8034\nvar GL_UNSIGNED_SHORT_5_6_5$1 = 0x8363\nvar GL_UNSIGNED_INT_24_8_WEBGL$1 = 0x84FA\n\nvar GL_DEPTH_COMPONENT = 0x1902\nvar GL_DEPTH_STENCIL = 0x84F9\n\nvar GL_SRGB_EXT = 0x8C40\nvar GL_SRGB_ALPHA_EXT = 0x8C42\n\nvar GL_HALF_FLOAT_OES$1 = 0x8D61\n\nvar GL_COMPRESSED_RGB_S3TC_DXT1_EXT = 0x83F0\nvar GL_COMPRESSED_RGBA_S3TC_DXT1_EXT = 0x83F1\nvar GL_COMPRESSED_RGBA_S3TC_DXT3_EXT = 0x83F2\nvar GL_COMPRESSED_RGBA_S3TC_DXT5_EXT = 0x83F3\n\nvar GL_COMPRESSED_RGB_ATC_WEBGL = 0x8C92\nvar GL_COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL = 0x8C93\nvar GL_COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL = 0x87EE\n\nvar GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 0x8C00\nvar GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 0x8C01\nvar GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 0x8C02\nvar GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 0x8C03\n\nvar GL_COMPRESSED_RGB_ETC1_WEBGL = 0x8D64\n\nvar GL_UNSIGNED_BYTE$5 = 0x1401\nvar GL_UNSIGNED_SHORT$3 = 0x1403\nvar GL_UNSIGNED_INT$3 = 0x1405\nvar GL_FLOAT$4 = 0x1406\n\nvar GL_TEXTURE_WRAP_S = 0x2802\nvar GL_TEXTURE_WRAP_T = 0x2803\n\nvar GL_REPEAT = 0x2901\nvar GL_CLAMP_TO_EDGE$1 = 0x812F\nvar GL_MIRRORED_REPEAT = 0x8370\n\nvar GL_TEXTURE_MAG_FILTER = 0x2800\nvar GL_TEXTURE_MIN_FILTER = 0x2801\n\nvar GL_NEAREST$1 = 0x2600\nvar GL_LINEAR = 0x2601\nvar GL_NEAREST_MIPMAP_NEAREST$1 = 0x2700\nvar GL_LINEAR_MIPMAP_NEAREST$1 = 0x2701\nvar GL_NEAREST_MIPMAP_LINEAR$1 = 0x2702\nvar GL_LINEAR_MIPMAP_LINEAR$1 = 0x2703\n\nvar GL_GENERATE_MIPMAP_HINT = 0x8192\nvar GL_DONT_CARE = 0x1100\nvar GL_FASTEST = 0x1101\nvar GL_NICEST = 0x1102\n\nvar GL_TEXTURE_MAX_ANISOTROPY_EXT = 0x84FE\n\nvar GL_UNPACK_ALIGNMENT = 0x0CF5\nvar GL_UNPACK_FLIP_Y_WEBGL = 0x9240\nvar GL_UNPACK_PREMULTIPLY_ALPHA_WEBGL = 0x9241\nvar GL_UNPACK_COLORSPACE_CONVERSION_WEBGL = 0x9243\n\nvar GL_BROWSER_DEFAULT_WEBGL = 0x9244\n\nvar GL_TEXTURE0$1 = 0x84C0\n\nvar MIPMAP_FILTERS = [\n  GL_NEAREST_MIPMAP_NEAREST$1,\n  GL_NEAREST_MIPMAP_LINEAR$1,\n  GL_LINEAR_MIPMAP_NEAREST$1,\n  GL_LINEAR_MIPMAP_LINEAR$1\n]\n\nvar CHANNELS_FORMAT = [\n  0,\n  GL_LUMINANCE,\n  GL_LUMINANCE_ALPHA,\n  GL_RGB,\n  GL_RGBA$1\n]\n\nvar FORMAT_CHANNELS = {}\nFORMAT_CHANNELS[GL_LUMINANCE] =\nFORMAT_CHANNELS[GL_ALPHA] =\nFORMAT_CHANNELS[GL_DEPTH_COMPONENT] = 1\nFORMAT_CHANNELS[GL_DEPTH_STENCIL] =\nFORMAT_CHANNELS[GL_LUMINANCE_ALPHA] = 2\nFORMAT_CHANNELS[GL_RGB] =\nFORMAT_CHANNELS[GL_SRGB_EXT] = 3\nFORMAT_CHANNELS[GL_RGBA$1] =\nFORMAT_CHANNELS[GL_SRGB_ALPHA_EXT] = 4\n\nfunction objectName (str) {\n  return '[object ' + str + ']'\n}\n\nvar CANVAS_CLASS = objectName('HTMLCanvasElement')\nvar OFFSCREENCANVAS_CLASS = objectName('OffscreenCanvas')\nvar CONTEXT2D_CLASS = objectName('CanvasRenderingContext2D')\nvar BITMAP_CLASS = objectName('ImageBitmap')\nvar IMAGE_CLASS = objectName('HTMLImageElement')\nvar VIDEO_CLASS = objectName('HTMLVideoElement')\n\nvar PIXEL_CLASSES = Object.keys(arrayTypes).concat([\n  CANVAS_CLASS,\n  OFFSCREENCANVAS_CLASS,\n  CONTEXT2D_CLASS,\n  BITMAP_CLASS,\n  IMAGE_CLASS,\n  VIDEO_CLASS\n])\n\n// for every texture type, store\n// the size in bytes.\nvar TYPE_SIZES = []\nTYPE_SIZES[GL_UNSIGNED_BYTE$5] = 1\nTYPE_SIZES[GL_FLOAT$4] = 4\nTYPE_SIZES[GL_HALF_FLOAT_OES$1] = 2\n\nTYPE_SIZES[GL_UNSIGNED_SHORT$3] = 2\nTYPE_SIZES[GL_UNSIGNED_INT$3] = 4\n\nvar FORMAT_SIZES_SPECIAL = []\nFORMAT_SIZES_SPECIAL[GL_RGBA4] = 2\nFORMAT_SIZES_SPECIAL[GL_RGB5_A1] = 2\nFORMAT_SIZES_SPECIAL[GL_RGB565] = 2\nFORMAT_SIZES_SPECIAL[GL_DEPTH_STENCIL] = 4\n\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_S3TC_DXT1_EXT] = 0.5\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_S3TC_DXT1_EXT] = 0.5\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_S3TC_DXT3_EXT] = 1\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_S3TC_DXT5_EXT] = 1\n\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_ATC_WEBGL] = 0.5\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL] = 1\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL] = 1\n\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG] = 0.5\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG] = 0.25\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG] = 0.5\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG] = 0.25\n\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_ETC1_WEBGL] = 0.5\n\nfunction isNumericArray (arr) {\n  return (\n    Array.isArray(arr) &&\n    (arr.length === 0 ||\n    typeof arr[0] === 'number'))\n}\n\nfunction isRectArray (arr) {\n  if (!Array.isArray(arr)) {\n    return false\n  }\n  var width = arr.length\n  if (width === 0 || !isArrayLike(arr[0])) {\n    return false\n  }\n  return true\n}\n\nfunction classString (x) {\n  return Object.prototype.toString.call(x)\n}\n\nfunction isCanvasElement (object) {\n  return classString(object) === CANVAS_CLASS\n}\n\nfunction isOffscreenCanvas (object) {\n  return classString(object) === OFFSCREENCANVAS_CLASS\n}\n\nfunction isContext2D (object) {\n  return classString(object) === CONTEXT2D_CLASS\n}\n\nfunction isBitmap (object) {\n  return classString(object) === BITMAP_CLASS\n}\n\nfunction isImageElement (object) {\n  return classString(object) === IMAGE_CLASS\n}\n\nfunction isVideoElement (object) {\n  return classString(object) === VIDEO_CLASS\n}\n\nfunction isPixelData (object) {\n  if (!object) {\n    return false\n  }\n  var className = classString(object)\n  if (PIXEL_CLASSES.indexOf(className) >= 0) {\n    return true\n  }\n  return (\n    isNumericArray(object) ||\n    isRectArray(object) ||\n    isNDArrayLike(object))\n}\n\nfunction typedArrayCode$1 (data) {\n  return arrayTypes[Object.prototype.toString.call(data)] | 0\n}\n\nfunction convertData (result, data) {\n  var n = data.length\n  switch (result.type) {\n    case GL_UNSIGNED_BYTE$5:\n    case GL_UNSIGNED_SHORT$3:\n    case GL_UNSIGNED_INT$3:\n    case GL_FLOAT$4:\n      var converted = pool.allocType(result.type, n)\n      converted.set(data)\n      result.data = converted\n      break\n\n    case GL_HALF_FLOAT_OES$1:\n      result.data = convertToHalfFloat(data)\n      break\n\n    default:\n      check$1.raise('unsupported texture type, must specify a typed array')\n  }\n}\n\nfunction preConvert (image, n) {\n  return pool.allocType(\n    image.type === GL_HALF_FLOAT_OES$1\n      ? GL_FLOAT$4\n      : image.type, n)\n}\n\nfunction postConvert (image, data) {\n  if (image.type === GL_HALF_FLOAT_OES$1) {\n    image.data = convertToHalfFloat(data)\n    pool.freeType(data)\n  } else {\n    image.data = data\n  }\n}\n\nfunction transposeData (image, array, strideX, strideY, strideC, offset) {\n  var w = image.width\n  var h = image.height\n  var c = image.channels\n  var n = w * h * c\n  var data = preConvert(image, n)\n\n  var p = 0\n  for (var i = 0; i < h; ++i) {\n    for (var j = 0; j < w; ++j) {\n      for (var k = 0; k < c; ++k) {\n        data[p++] = array[strideX * j + strideY * i + strideC * k + offset]\n      }\n    }\n  }\n\n  postConvert(image, data)\n}\n\nfunction getTextureSize (format, type, width, height, isMipmap, isCube) {\n  var s\n  if (typeof FORMAT_SIZES_SPECIAL[format] !== 'undefined') {\n    // we have a special array for dealing with weird color formats such as RGB5A1\n    s = FORMAT_SIZES_SPECIAL[format]\n  } else {\n    s = FORMAT_CHANNELS[format] * TYPE_SIZES[type]\n  }\n\n  if (isCube) {\n    s *= 6\n  }\n\n  if (isMipmap) {\n    // compute the total size of all the mipmaps.\n    var total = 0\n\n    var w = width\n    while (w >= 1) {\n      // we can only use mipmaps on a square image,\n      // so we can simply use the width and ignore the height:\n      total += s * w * w\n      w /= 2\n    }\n    return total\n  } else {\n    return s * width * height\n  }\n}\n\nfunction createTextureSet (\n  gl, extensions, limits, reglPoll, contextState, stats, config) {\n  // -------------------------------------------------------\n  // Initialize constants and parameter tables here\n  // -------------------------------------------------------\n  var mipmapHint = {\n    \"don't care\": GL_DONT_CARE,\n    'dont care': GL_DONT_CARE,\n    'nice': GL_NICEST,\n    'fast': GL_FASTEST\n  }\n\n  var wrapModes = {\n    'repeat': GL_REPEAT,\n    'clamp': GL_CLAMP_TO_EDGE$1,\n    'mirror': GL_MIRRORED_REPEAT\n  }\n\n  var magFilters = {\n    'nearest': GL_NEAREST$1,\n    'linear': GL_LINEAR\n  }\n\n  var minFilters = extend({\n    'mipmap': GL_LINEAR_MIPMAP_LINEAR$1,\n    'nearest mipmap nearest': GL_NEAREST_MIPMAP_NEAREST$1,\n    'linear mipmap nearest': GL_LINEAR_MIPMAP_NEAREST$1,\n    'nearest mipmap linear': GL_NEAREST_MIPMAP_LINEAR$1,\n    'linear mipmap linear': GL_LINEAR_MIPMAP_LINEAR$1\n  }, magFilters)\n\n  var colorSpace = {\n    'none': 0,\n    'browser': GL_BROWSER_DEFAULT_WEBGL\n  }\n\n  var textureTypes = {\n    'uint8': GL_UNSIGNED_BYTE$5,\n    'rgba4': GL_UNSIGNED_SHORT_4_4_4_4$1,\n    'rgb565': GL_UNSIGNED_SHORT_5_6_5$1,\n    'rgb5 a1': GL_UNSIGNED_SHORT_5_5_5_1$1\n  }\n\n  var textureFormats = {\n    'alpha': GL_ALPHA,\n    'luminance': GL_LUMINANCE,\n    'luminance alpha': GL_LUMINANCE_ALPHA,\n    'rgb': GL_RGB,\n    'rgba': GL_RGBA$1,\n    'rgba4': GL_RGBA4,\n    'rgb5 a1': GL_RGB5_A1,\n    'rgb565': GL_RGB565\n  }\n\n  var compressedTextureFormats = {}\n\n  if (extensions.ext_srgb) {\n    textureFormats.srgb = GL_SRGB_EXT\n    textureFormats.srgba = GL_SRGB_ALPHA_EXT\n  }\n\n  if (extensions.oes_texture_float) {\n    textureTypes.float32 = textureTypes.float = GL_FLOAT$4\n  }\n\n  if (extensions.oes_texture_half_float) {\n    textureTypes['float16'] = textureTypes['half float'] = GL_HALF_FLOAT_OES$1\n  }\n\n  if (extensions.webgl_depth_texture) {\n    extend(textureFormats, {\n      'depth': GL_DEPTH_COMPONENT,\n      'depth stencil': GL_DEPTH_STENCIL\n    })\n\n    extend(textureTypes, {\n      'uint16': GL_UNSIGNED_SHORT$3,\n      'uint32': GL_UNSIGNED_INT$3,\n      'depth stencil': GL_UNSIGNED_INT_24_8_WEBGL$1\n    })\n  }\n\n  if (extensions.webgl_compressed_texture_s3tc) {\n    extend(compressedTextureFormats, {\n      'rgb s3tc dxt1': GL_COMPRESSED_RGB_S3TC_DXT1_EXT,\n      'rgba s3tc dxt1': GL_COMPRESSED_RGBA_S3TC_DXT1_EXT,\n      'rgba s3tc dxt3': GL_COMPRESSED_RGBA_S3TC_DXT3_EXT,\n      'rgba s3tc dxt5': GL_COMPRESSED_RGBA_S3TC_DXT5_EXT\n    })\n  }\n\n  if (extensions.webgl_compressed_texture_atc) {\n    extend(compressedTextureFormats, {\n      'rgb atc': GL_COMPRESSED_RGB_ATC_WEBGL,\n      'rgba atc explicit alpha': GL_COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,\n      'rgba atc interpolated alpha': GL_COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\n    })\n  }\n\n  if (extensions.webgl_compressed_texture_pvrtc) {\n    extend(compressedTextureFormats, {\n      'rgb pvrtc 4bppv1': GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG,\n      'rgb pvrtc 2bppv1': GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG,\n      'rgba pvrtc 4bppv1': GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,\n      'rgba pvrtc 2bppv1': GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\n    })\n  }\n\n  if (extensions.webgl_compressed_texture_etc1) {\n    compressedTextureFormats['rgb etc1'] = GL_COMPRESSED_RGB_ETC1_WEBGL\n  }\n\n  // Copy over all texture formats\n  var supportedCompressedFormats = Array.prototype.slice.call(\n    gl.getParameter(GL_COMPRESSED_TEXTURE_FORMATS))\n  Object.keys(compressedTextureFormats).forEach(function (name) {\n    var format = compressedTextureFormats[name]\n    if (supportedCompressedFormats.indexOf(format) >= 0) {\n      textureFormats[name] = format\n    }\n  })\n\n  var supportedFormats = Object.keys(textureFormats)\n  limits.textureFormats = supportedFormats\n\n  // associate with every format string its\n  // corresponding GL-value.\n  var textureFormatsInvert = []\n  Object.keys(textureFormats).forEach(function (key) {\n    var val = textureFormats[key]\n    textureFormatsInvert[val] = key\n  })\n\n  // associate with every type string its\n  // corresponding GL-value.\n  var textureTypesInvert = []\n  Object.keys(textureTypes).forEach(function (key) {\n    var val = textureTypes[key]\n    textureTypesInvert[val] = key\n  })\n\n  var magFiltersInvert = []\n  Object.keys(magFilters).forEach(function (key) {\n    var val = magFilters[key]\n    magFiltersInvert[val] = key\n  })\n\n  var minFiltersInvert = []\n  Object.keys(minFilters).forEach(function (key) {\n    var val = minFilters[key]\n    minFiltersInvert[val] = key\n  })\n\n  var wrapModesInvert = []\n  Object.keys(wrapModes).forEach(function (key) {\n    var val = wrapModes[key]\n    wrapModesInvert[val] = key\n  })\n\n  // colorFormats[] gives the format (channels) associated to an\n  // internalformat\n  var colorFormats = supportedFormats.reduce(function (color, key) {\n    var glenum = textureFormats[key]\n    if (glenum === GL_LUMINANCE ||\n        glenum === GL_ALPHA ||\n        glenum === GL_LUMINANCE ||\n        glenum === GL_LUMINANCE_ALPHA ||\n        glenum === GL_DEPTH_COMPONENT ||\n        glenum === GL_DEPTH_STENCIL ||\n        (extensions.ext_srgb &&\n                (glenum === GL_SRGB_EXT ||\n                 glenum === GL_SRGB_ALPHA_EXT))) {\n      color[glenum] = glenum\n    } else if (glenum === GL_RGB5_A1 || key.indexOf('rgba') >= 0) {\n      color[glenum] = GL_RGBA$1\n    } else {\n      color[glenum] = GL_RGB\n    }\n    return color\n  }, {})\n\n  function TexFlags () {\n    // format info\n    this.internalformat = GL_RGBA$1\n    this.format = GL_RGBA$1\n    this.type = GL_UNSIGNED_BYTE$5\n    this.compressed = false\n\n    // pixel storage\n    this.premultiplyAlpha = false\n    this.flipY = false\n    this.unpackAlignment = 1\n    this.colorSpace = GL_BROWSER_DEFAULT_WEBGL\n\n    // shape info\n    this.width = 0\n    this.height = 0\n    this.channels = 0\n  }\n\n  function copyFlags (result, other) {\n    result.internalformat = other.internalformat\n    result.format = other.format\n    result.type = other.type\n    result.compressed = other.compressed\n\n    result.premultiplyAlpha = other.premultiplyAlpha\n    result.flipY = other.flipY\n    result.unpackAlignment = other.unpackAlignment\n    result.colorSpace = other.colorSpace\n\n    result.width = other.width\n    result.height = other.height\n    result.channels = other.channels\n  }\n\n  function parseFlags (flags, options) {\n    if (typeof options !== 'object' || !options) {\n      return\n    }\n\n    if ('premultiplyAlpha' in options) {\n      check$1.type(options.premultiplyAlpha, 'boolean',\n        'invalid premultiplyAlpha')\n      flags.premultiplyAlpha = options.premultiplyAlpha\n    }\n\n    if ('flipY' in options) {\n      check$1.type(options.flipY, 'boolean',\n        'invalid texture flip')\n      flags.flipY = options.flipY\n    }\n\n    if ('alignment' in options) {\n      check$1.oneOf(options.alignment, [1, 2, 4, 8],\n        'invalid texture unpack alignment')\n      flags.unpackAlignment = options.alignment\n    }\n\n    if ('colorSpace' in options) {\n      check$1.parameter(options.colorSpace, colorSpace,\n        'invalid colorSpace')\n      flags.colorSpace = colorSpace[options.colorSpace]\n    }\n\n    if ('type' in options) {\n      var type = options.type\n      check$1(extensions.oes_texture_float ||\n        !(type === 'float' || type === 'float32'),\n      'you must enable the OES_texture_float extension in order to use floating point textures.')\n      check$1(extensions.oes_texture_half_float ||\n        !(type === 'half float' || type === 'float16'),\n      'you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.')\n      check$1(extensions.webgl_depth_texture ||\n        !(type === 'uint16' || type === 'uint32' || type === 'depth stencil'),\n      'you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.')\n      check$1.parameter(type, textureTypes,\n        'invalid texture type')\n      flags.type = textureTypes[type]\n    }\n\n    var w = flags.width\n    var h = flags.height\n    var c = flags.channels\n    var hasChannels = false\n    if ('shape' in options) {\n      check$1(Array.isArray(options.shape) && options.shape.length >= 2,\n        'shape must be an array')\n      w = options.shape[0]\n      h = options.shape[1]\n      if (options.shape.length === 3) {\n        c = options.shape[2]\n        check$1(c > 0 && c <= 4, 'invalid number of channels')\n        hasChannels = true\n      }\n      check$1(w >= 0 && w <= limits.maxTextureSize, 'invalid width')\n      check$1(h >= 0 && h <= limits.maxTextureSize, 'invalid height')\n    } else {\n      if ('radius' in options) {\n        w = h = options.radius\n        check$1(w >= 0 && w <= limits.maxTextureSize, 'invalid radius')\n      }\n      if ('width' in options) {\n        w = options.width\n        check$1(w >= 0 && w <= limits.maxTextureSize, 'invalid width')\n      }\n      if ('height' in options) {\n        h = options.height\n        check$1(h >= 0 && h <= limits.maxTextureSize, 'invalid height')\n      }\n      if ('channels' in options) {\n        c = options.channels\n        check$1(c > 0 && c <= 4, 'invalid number of channels')\n        hasChannels = true\n      }\n    }\n    flags.width = w | 0\n    flags.height = h | 0\n    flags.channels = c | 0\n\n    var hasFormat = false\n    if ('format' in options) {\n      var formatStr = options.format\n      check$1(extensions.webgl_depth_texture ||\n        !(formatStr === 'depth' || formatStr === 'depth stencil'),\n      'you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.')\n      check$1.parameter(formatStr, textureFormats,\n        'invalid texture format')\n      var internalformat = flags.internalformat = textureFormats[formatStr]\n      flags.format = colorFormats[internalformat]\n      if (formatStr in textureTypes) {\n        if (!('type' in options)) {\n          flags.type = textureTypes[formatStr]\n        }\n      }\n      if (formatStr in compressedTextureFormats) {\n        flags.compressed = true\n      }\n      hasFormat = true\n    }\n\n    // Reconcile channels and format\n    if (!hasChannels && hasFormat) {\n      flags.channels = FORMAT_CHANNELS[flags.format]\n    } else if (hasChannels && !hasFormat) {\n      if (flags.channels !== CHANNELS_FORMAT[flags.format]) {\n        flags.format = flags.internalformat = CHANNELS_FORMAT[flags.channels]\n      }\n    } else if (hasFormat && hasChannels) {\n      check$1(\n        flags.channels === FORMAT_CHANNELS[flags.format],\n        'number of channels inconsistent with specified format')\n    }\n  }\n\n  function setFlags (flags) {\n    gl.pixelStorei(GL_UNPACK_FLIP_Y_WEBGL, flags.flipY)\n    gl.pixelStorei(GL_UNPACK_PREMULTIPLY_ALPHA_WEBGL, flags.premultiplyAlpha)\n    gl.pixelStorei(GL_UNPACK_COLORSPACE_CONVERSION_WEBGL, flags.colorSpace)\n    gl.pixelStorei(GL_UNPACK_ALIGNMENT, flags.unpackAlignment)\n  }\n\n  // -------------------------------------------------------\n  // Tex image data\n  // -------------------------------------------------------\n  function TexImage () {\n    TexFlags.call(this)\n\n    this.xOffset = 0\n    this.yOffset = 0\n\n    // data\n    this.data = null\n    this.needsFree = false\n\n    // html element\n    this.element = null\n\n    // copyTexImage info\n    this.needsCopy = false\n  }\n\n  function parseImage (image, options) {\n    var data = null\n    if (isPixelData(options)) {\n      data = options\n    } else if (options) {\n      check$1.type(options, 'object', 'invalid pixel data type')\n      parseFlags(image, options)\n      if ('x' in options) {\n        image.xOffset = options.x | 0\n      }\n      if ('y' in options) {\n        image.yOffset = options.y | 0\n      }\n      if (isPixelData(options.data)) {\n        data = options.data\n      }\n    }\n\n    check$1(\n      !image.compressed ||\n      data instanceof Uint8Array,\n      'compressed texture data must be stored in a uint8array')\n\n    if (options.copy) {\n      check$1(!data, 'can not specify copy and data field for the same texture')\n      var viewW = contextState.viewportWidth\n      var viewH = contextState.viewportHeight\n      image.width = image.width || (viewW - image.xOffset)\n      image.height = image.height || (viewH - image.yOffset)\n      image.needsCopy = true\n      check$1(image.xOffset >= 0 && image.xOffset < viewW &&\n            image.yOffset >= 0 && image.yOffset < viewH &&\n            image.width > 0 && image.width <= viewW &&\n            image.height > 0 && image.height <= viewH,\n      'copy texture read out of bounds')\n    } else if (!data) {\n      image.width = image.width || 1\n      image.height = image.height || 1\n      image.channels = image.channels || 4\n    } else if (isTypedArray(data)) {\n      image.channels = image.channels || 4\n      image.data = data\n      if (!('type' in options) && image.type === GL_UNSIGNED_BYTE$5) {\n        image.type = typedArrayCode$1(data)\n      }\n    } else if (isNumericArray(data)) {\n      image.channels = image.channels || 4\n      convertData(image, data)\n      image.alignment = 1\n      image.needsFree = true\n    } else if (isNDArrayLike(data)) {\n      var array = data.data\n      if (!Array.isArray(array) && image.type === GL_UNSIGNED_BYTE$5) {\n        image.type = typedArrayCode$1(array)\n      }\n      var shape = data.shape\n      var stride = data.stride\n      var shapeX, shapeY, shapeC, strideX, strideY, strideC\n      if (shape.length === 3) {\n        shapeC = shape[2]\n        strideC = stride[2]\n      } else {\n        check$1(shape.length === 2, 'invalid ndarray pixel data, must be 2 or 3D')\n        shapeC = 1\n        strideC = 1\n      }\n      shapeX = shape[0]\n      shapeY = shape[1]\n      strideX = stride[0]\n      strideY = stride[1]\n      image.alignment = 1\n      image.width = shapeX\n      image.height = shapeY\n      image.channels = shapeC\n      image.format = image.internalformat = CHANNELS_FORMAT[shapeC]\n      image.needsFree = true\n      transposeData(image, array, strideX, strideY, strideC, data.offset)\n    } else if (isCanvasElement(data) || isOffscreenCanvas(data) || isContext2D(data)) {\n      if (isCanvasElement(data) || isOffscreenCanvas(data)) {\n        image.element = data\n      } else {\n        image.element = data.canvas\n      }\n      image.width = image.element.width\n      image.height = image.element.height\n      image.channels = 4\n    } else if (isBitmap(data)) {\n      image.element = data\n      image.width = data.width\n      image.height = data.height\n      image.channels = 4\n    } else if (isImageElement(data)) {\n      image.element = data\n      image.width = data.naturalWidth\n      image.height = data.naturalHeight\n      image.channels = 4\n    } else if (isVideoElement(data)) {\n      image.element = data\n      image.width = data.videoWidth\n      image.height = data.videoHeight\n      image.channels = 4\n    } else if (isRectArray(data)) {\n      var w = image.width || data[0].length\n      var h = image.height || data.length\n      var c = image.channels\n      if (isArrayLike(data[0][0])) {\n        c = c || data[0][0].length\n      } else {\n        c = c || 1\n      }\n      var arrayShape = flattenUtils.shape(data)\n      var n = 1\n      for (var dd = 0; dd < arrayShape.length; ++dd) {\n        n *= arrayShape[dd]\n      }\n      var allocData = preConvert(image, n)\n      flattenUtils.flatten(data, arrayShape, '', allocData)\n      postConvert(image, allocData)\n      image.alignment = 1\n      image.width = w\n      image.height = h\n      image.channels = c\n      image.format = image.internalformat = CHANNELS_FORMAT[c]\n      image.needsFree = true\n    }\n\n    if (image.type === GL_FLOAT$4) {\n      check$1(limits.extensions.indexOf('oes_texture_float') >= 0,\n        'oes_texture_float extension not enabled')\n    } else if (image.type === GL_HALF_FLOAT_OES$1) {\n      check$1(limits.extensions.indexOf('oes_texture_half_float') >= 0,\n        'oes_texture_half_float extension not enabled')\n    }\n\n    // do compressed texture  validation here.\n  }\n\n  function setImage (info, target, miplevel) {\n    var element = info.element\n    var data = info.data\n    var internalformat = info.internalformat\n    var format = info.format\n    var type = info.type\n    var width = info.width\n    var height = info.height\n\n    setFlags(info)\n\n    if (element) {\n      gl.texImage2D(target, miplevel, format, format, type, element)\n    } else if (info.compressed) {\n      gl.compressedTexImage2D(target, miplevel, internalformat, width, height, 0, data)\n    } else if (info.needsCopy) {\n      reglPoll()\n      gl.copyTexImage2D(\n        target, miplevel, format, info.xOffset, info.yOffset, width, height, 0)\n    } else {\n      gl.texImage2D(target, miplevel, format, width, height, 0, format, type, data || null)\n    }\n  }\n\n  function setSubImage (info, target, x, y, miplevel) {\n    var element = info.element\n    var data = info.data\n    var internalformat = info.internalformat\n    var format = info.format\n    var type = info.type\n    var width = info.width\n    var height = info.height\n\n    setFlags(info)\n\n    if (element) {\n      gl.texSubImage2D(\n        target, miplevel, x, y, format, type, element)\n    } else if (info.compressed) {\n      gl.compressedTexSubImage2D(\n        target, miplevel, x, y, internalformat, width, height, data)\n    } else if (info.needsCopy) {\n      reglPoll()\n      gl.copyTexSubImage2D(\n        target, miplevel, x, y, info.xOffset, info.yOffset, width, height)\n    } else {\n      gl.texSubImage2D(\n        target, miplevel, x, y, width, height, format, type, data)\n    }\n  }\n\n  // texImage pool\n  var imagePool = []\n\n  function allocImage () {\n    return imagePool.pop() || new TexImage()\n  }\n\n  function freeImage (image) {\n    if (image.needsFree) {\n      pool.freeType(image.data)\n    }\n    TexImage.call(image)\n    imagePool.push(image)\n  }\n\n  // -------------------------------------------------------\n  // Mip map\n  // -------------------------------------------------------\n  function MipMap () {\n    TexFlags.call(this)\n\n    this.genMipmaps = false\n    this.mipmapHint = GL_DONT_CARE\n    this.mipmask = 0\n    this.images = Array(16)\n  }\n\n  function parseMipMapFromShape (mipmap, width, height) {\n    var img = mipmap.images[0] = allocImage()\n    mipmap.mipmask = 1\n    img.width = mipmap.width = width\n    img.height = mipmap.height = height\n    img.channels = mipmap.channels = 4\n  }\n\n  function parseMipMapFromObject (mipmap, options) {\n    var imgData = null\n    if (isPixelData(options)) {\n      imgData = mipmap.images[0] = allocImage()\n      copyFlags(imgData, mipmap)\n      parseImage(imgData, options)\n      mipmap.mipmask = 1\n    } else {\n      parseFlags(mipmap, options)\n      if (Array.isArray(options.mipmap)) {\n        var mipData = options.mipmap\n        for (var i = 0; i < mipData.length; ++i) {\n          imgData = mipmap.images[i] = allocImage()\n          copyFlags(imgData, mipmap)\n          imgData.width >>= i\n          imgData.height >>= i\n          parseImage(imgData, mipData[i])\n          mipmap.mipmask |= (1 << i)\n        }\n      } else {\n        imgData = mipmap.images[0] = allocImage()\n        copyFlags(imgData, mipmap)\n        parseImage(imgData, options)\n        mipmap.mipmask = 1\n      }\n    }\n    copyFlags(mipmap, mipmap.images[0])\n\n    // For textures of the compressed format WEBGL_compressed_texture_s3tc\n    // we must have that\n    //\n    // \"When level equals zero width and height must be a multiple of 4.\n    // When level is greater than 0 width and height must be 0, 1, 2 or a multiple of 4. \"\n    //\n    // but we do not yet support having multiple mipmap levels for compressed textures,\n    // so we only test for level zero.\n\n    if (\n      mipmap.compressed &&\n      (\n        mipmap.internalformat === GL_COMPRESSED_RGB_S3TC_DXT1_EXT ||\n        mipmap.internalformat === GL_COMPRESSED_RGBA_S3TC_DXT1_EXT ||\n        mipmap.internalformat === GL_COMPRESSED_RGBA_S3TC_DXT3_EXT ||\n        mipmap.internalformat === GL_COMPRESSED_RGBA_S3TC_DXT5_EXT\n      )\n    ) {\n      check$1(mipmap.width % 4 === 0 && mipmap.height % 4 === 0,\n        'for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4')\n    }\n  }\n\n  function setMipMap (mipmap, target) {\n    var images = mipmap.images\n    for (var i = 0; i < images.length; ++i) {\n      if (!images[i]) {\n        return\n      }\n      setImage(images[i], target, i)\n    }\n  }\n\n  var mipPool = []\n\n  function allocMipMap () {\n    var result = mipPool.pop() || new MipMap()\n    TexFlags.call(result)\n    result.mipmask = 0\n    for (var i = 0; i < 16; ++i) {\n      result.images[i] = null\n    }\n    return result\n  }\n\n  function freeMipMap (mipmap) {\n    var images = mipmap.images\n    for (var i = 0; i < images.length; ++i) {\n      if (images[i]) {\n        freeImage(images[i])\n      }\n      images[i] = null\n    }\n    mipPool.push(mipmap)\n  }\n\n  // -------------------------------------------------------\n  // Tex info\n  // -------------------------------------------------------\n  function TexInfo () {\n    this.minFilter = GL_NEAREST$1\n    this.magFilter = GL_NEAREST$1\n\n    this.wrapS = GL_CLAMP_TO_EDGE$1\n    this.wrapT = GL_CLAMP_TO_EDGE$1\n\n    this.anisotropic = 1\n\n    this.genMipmaps = false\n    this.mipmapHint = GL_DONT_CARE\n  }\n\n  function parseTexInfo (info, options) {\n    if ('min' in options) {\n      var minFilter = options.min\n      check$1.parameter(minFilter, minFilters)\n      info.minFilter = minFilters[minFilter]\n      if (MIPMAP_FILTERS.indexOf(info.minFilter) >= 0 && !('faces' in options)) {\n        info.genMipmaps = true\n      }\n    }\n\n    if ('mag' in options) {\n      var magFilter = options.mag\n      check$1.parameter(magFilter, magFilters)\n      info.magFilter = magFilters[magFilter]\n    }\n\n    var wrapS = info.wrapS\n    var wrapT = info.wrapT\n    if ('wrap' in options) {\n      var wrap = options.wrap\n      if (typeof wrap === 'string') {\n        check$1.parameter(wrap, wrapModes)\n        wrapS = wrapT = wrapModes[wrap]\n      } else if (Array.isArray(wrap)) {\n        check$1.parameter(wrap[0], wrapModes)\n        check$1.parameter(wrap[1], wrapModes)\n        wrapS = wrapModes[wrap[0]]\n        wrapT = wrapModes[wrap[1]]\n      }\n    } else {\n      if ('wrapS' in options) {\n        var optWrapS = options.wrapS\n        check$1.parameter(optWrapS, wrapModes)\n        wrapS = wrapModes[optWrapS]\n      }\n      if ('wrapT' in options) {\n        var optWrapT = options.wrapT\n        check$1.parameter(optWrapT, wrapModes)\n        wrapT = wrapModes[optWrapT]\n      }\n    }\n    info.wrapS = wrapS\n    info.wrapT = wrapT\n\n    if ('anisotropic' in options) {\n      var anisotropic = options.anisotropic\n      check$1(typeof anisotropic === 'number' &&\n         anisotropic >= 1 && anisotropic <= limits.maxAnisotropic,\n      'aniso samples must be between 1 and ')\n      info.anisotropic = options.anisotropic\n    }\n\n    if ('mipmap' in options) {\n      var hasMipMap = false\n      switch (typeof options.mipmap) {\n        case 'string':\n          check$1.parameter(options.mipmap, mipmapHint,\n            'invalid mipmap hint')\n          info.mipmapHint = mipmapHint[options.mipmap]\n          info.genMipmaps = true\n          hasMipMap = true\n          break\n\n        case 'boolean':\n          hasMipMap = info.genMipmaps = options.mipmap\n          break\n\n        case 'object':\n          check$1(Array.isArray(options.mipmap), 'invalid mipmap type')\n          info.genMipmaps = false\n          hasMipMap = true\n          break\n\n        default:\n          check$1.raise('invalid mipmap type')\n      }\n      if (hasMipMap && !('min' in options)) {\n        info.minFilter = GL_NEAREST_MIPMAP_NEAREST$1\n      }\n    }\n  }\n\n  function setTexInfo (info, target) {\n    gl.texParameteri(target, GL_TEXTURE_MIN_FILTER, info.minFilter)\n    gl.texParameteri(target, GL_TEXTURE_MAG_FILTER, info.magFilter)\n    gl.texParameteri(target, GL_TEXTURE_WRAP_S, info.wrapS)\n    gl.texParameteri(target, GL_TEXTURE_WRAP_T, info.wrapT)\n    if (extensions.ext_texture_filter_anisotropic) {\n      gl.texParameteri(target, GL_TEXTURE_MAX_ANISOTROPY_EXT, info.anisotropic)\n    }\n    if (info.genMipmaps) {\n      gl.hint(GL_GENERATE_MIPMAP_HINT, info.mipmapHint)\n      gl.generateMipmap(target)\n    }\n  }\n\n  // -------------------------------------------------------\n  // Full texture object\n  // -------------------------------------------------------\n  var textureCount = 0\n  var textureSet = {}\n  var numTexUnits = limits.maxTextureUnits\n  var textureUnits = Array(numTexUnits).map(function () {\n    return null\n  })\n\n  function REGLTexture (target) {\n    TexFlags.call(this)\n    this.mipmask = 0\n    this.internalformat = GL_RGBA$1\n\n    this.id = textureCount++\n\n    this.refCount = 1\n\n    this.target = target\n    this.texture = gl.createTexture()\n\n    this.unit = -1\n    this.bindCount = 0\n\n    this.texInfo = new TexInfo()\n\n    if (config.profile) {\n      this.stats = { size: 0 }\n    }\n  }\n\n  function tempBind (texture) {\n    gl.activeTexture(GL_TEXTURE0$1)\n    gl.bindTexture(texture.target, texture.texture)\n  }\n\n  function tempRestore () {\n    var prev = textureUnits[0]\n    if (prev) {\n      gl.bindTexture(prev.target, prev.texture)\n    } else {\n      gl.bindTexture(GL_TEXTURE_2D$1, null)\n    }\n  }\n\n  function destroy (texture) {\n    var handle = texture.texture\n    check$1(handle, 'must not double destroy texture')\n    var unit = texture.unit\n    var target = texture.target\n    if (unit >= 0) {\n      gl.activeTexture(GL_TEXTURE0$1 + unit)\n      gl.bindTexture(target, null)\n      textureUnits[unit] = null\n    }\n    gl.deleteTexture(handle)\n    texture.texture = null\n    texture.params = null\n    texture.pixels = null\n    texture.refCount = 0\n    delete textureSet[texture.id]\n    stats.textureCount--\n  }\n\n  extend(REGLTexture.prototype, {\n    bind: function () {\n      var texture = this\n      texture.bindCount += 1\n      var unit = texture.unit\n      if (unit < 0) {\n        for (var i = 0; i < numTexUnits; ++i) {\n          var other = textureUnits[i]\n          if (other) {\n            if (other.bindCount > 0) {\n              continue\n            }\n            other.unit = -1\n          }\n          textureUnits[i] = texture\n          unit = i\n          break\n        }\n        if (unit >= numTexUnits) {\n          check$1.raise('insufficient number of texture units')\n        }\n        if (config.profile && stats.maxTextureUnits < (unit + 1)) {\n          stats.maxTextureUnits = unit + 1 // +1, since the units are zero-based\n        }\n        texture.unit = unit\n        gl.activeTexture(GL_TEXTURE0$1 + unit)\n        gl.bindTexture(texture.target, texture.texture)\n      }\n      return unit\n    },\n\n    unbind: function () {\n      this.bindCount -= 1\n    },\n\n    decRef: function () {\n      if (--this.refCount <= 0) {\n        destroy(this)\n      }\n    }\n  })\n\n  function createTexture2D (a, b) {\n    var texture = new REGLTexture(GL_TEXTURE_2D$1)\n    textureSet[texture.id] = texture\n    stats.textureCount++\n\n    function reglTexture2D (a, b) {\n      var texInfo = texture.texInfo\n      TexInfo.call(texInfo)\n      var mipData = allocMipMap()\n\n      if (typeof a === 'number') {\n        if (typeof b === 'number') {\n          parseMipMapFromShape(mipData, a | 0, b | 0)\n        } else {\n          parseMipMapFromShape(mipData, a | 0, a | 0)\n        }\n      } else if (a) {\n        check$1.type(a, 'object', 'invalid arguments to regl.texture')\n        parseTexInfo(texInfo, a)\n        parseMipMapFromObject(mipData, a)\n      } else {\n        // empty textures get assigned a default shape of 1x1\n        parseMipMapFromShape(mipData, 1, 1)\n      }\n\n      if (texInfo.genMipmaps) {\n        mipData.mipmask = (mipData.width << 1) - 1\n      }\n      texture.mipmask = mipData.mipmask\n\n      copyFlags(texture, mipData)\n\n      check$1.texture2D(texInfo, mipData, limits)\n      texture.internalformat = mipData.internalformat\n\n      reglTexture2D.width = mipData.width\n      reglTexture2D.height = mipData.height\n\n      tempBind(texture)\n      setMipMap(mipData, GL_TEXTURE_2D$1)\n      setTexInfo(texInfo, GL_TEXTURE_2D$1)\n      tempRestore()\n\n      freeMipMap(mipData)\n\n      if (config.profile) {\n        texture.stats.size = getTextureSize(\n          texture.internalformat,\n          texture.type,\n          mipData.width,\n          mipData.height,\n          texInfo.genMipmaps,\n          false)\n      }\n      reglTexture2D.format = textureFormatsInvert[texture.internalformat]\n      reglTexture2D.type = textureTypesInvert[texture.type]\n\n      reglTexture2D.mag = magFiltersInvert[texInfo.magFilter]\n      reglTexture2D.min = minFiltersInvert[texInfo.minFilter]\n\n      reglTexture2D.wrapS = wrapModesInvert[texInfo.wrapS]\n      reglTexture2D.wrapT = wrapModesInvert[texInfo.wrapT]\n\n      return reglTexture2D\n    }\n\n    function subimage (image, x_, y_, level_) {\n      check$1(!!image, 'must specify image data')\n\n      var x = x_ | 0\n      var y = y_ | 0\n      var level = level_ | 0\n\n      var imageData = allocImage()\n      copyFlags(imageData, texture)\n      imageData.width = 0\n      imageData.height = 0\n      parseImage(imageData, image)\n      imageData.width = imageData.width || ((texture.width >> level) - x)\n      imageData.height = imageData.height || ((texture.height >> level) - y)\n\n      check$1(\n        texture.type === imageData.type &&\n        texture.format === imageData.format &&\n        texture.internalformat === imageData.internalformat,\n        'incompatible format for texture.subimage')\n      check$1(\n        x >= 0 && y >= 0 &&\n        x + imageData.width <= texture.width &&\n        y + imageData.height <= texture.height,\n        'texture.subimage write out of bounds')\n      check$1(\n        texture.mipmask & (1 << level),\n        'missing mipmap data')\n      check$1(\n        imageData.data || imageData.element || imageData.needsCopy,\n        'missing image data')\n\n      tempBind(texture)\n      setSubImage(imageData, GL_TEXTURE_2D$1, x, y, level)\n      tempRestore()\n\n      freeImage(imageData)\n\n      return reglTexture2D\n    }\n\n    function resize (w_, h_) {\n      var w = w_ | 0\n      var h = (h_ | 0) || w\n      if (w === texture.width && h === texture.height) {\n        return reglTexture2D\n      }\n\n      reglTexture2D.width = texture.width = w\n      reglTexture2D.height = texture.height = h\n\n      tempBind(texture)\n\n      for (var i = 0; texture.mipmask >> i; ++i) {\n        var _w = w >> i\n        var _h = h >> i\n        if (!_w || !_h) break\n        gl.texImage2D(\n          GL_TEXTURE_2D$1,\n          i,\n          texture.format,\n          _w,\n          _h,\n          0,\n          texture.format,\n          texture.type,\n          null)\n      }\n      tempRestore()\n\n      // also, recompute the texture size.\n      if (config.profile) {\n        texture.stats.size = getTextureSize(\n          texture.internalformat,\n          texture.type,\n          w,\n          h,\n          false,\n          false)\n      }\n\n      return reglTexture2D\n    }\n\n    reglTexture2D(a, b)\n\n    reglTexture2D.subimage = subimage\n    reglTexture2D.resize = resize\n    reglTexture2D._reglType = 'texture2d'\n    reglTexture2D._texture = texture\n    if (config.profile) {\n      reglTexture2D.stats = texture.stats\n    }\n    reglTexture2D.destroy = function () {\n      texture.decRef()\n    }\n\n    return reglTexture2D\n  }\n\n  function createTextureCube (a0, a1, a2, a3, a4, a5) {\n    var texture = new REGLTexture(GL_TEXTURE_CUBE_MAP$1)\n    textureSet[texture.id] = texture\n    stats.cubeCount++\n\n    var faces = new Array(6)\n\n    function reglTextureCube (a0, a1, a2, a3, a4, a5) {\n      var i\n      var texInfo = texture.texInfo\n      TexInfo.call(texInfo)\n      for (i = 0; i < 6; ++i) {\n        faces[i] = allocMipMap()\n      }\n\n      if (typeof a0 === 'number' || !a0) {\n        var s = (a0 | 0) || 1\n        for (i = 0; i < 6; ++i) {\n          parseMipMapFromShape(faces[i], s, s)\n        }\n      } else if (typeof a0 === 'object') {\n        if (a1) {\n          parseMipMapFromObject(faces[0], a0)\n          parseMipMapFromObject(faces[1], a1)\n          parseMipMapFromObject(faces[2], a2)\n          parseMipMapFromObject(faces[3], a3)\n          parseMipMapFromObject(faces[4], a4)\n          parseMipMapFromObject(faces[5], a5)\n        } else {\n          parseTexInfo(texInfo, a0)\n          parseFlags(texture, a0)\n          if ('faces' in a0) {\n            var faceInput = a0.faces\n            check$1(Array.isArray(faceInput) && faceInput.length === 6,\n              'cube faces must be a length 6 array')\n            for (i = 0; i < 6; ++i) {\n              check$1(typeof faceInput[i] === 'object' && !!faceInput[i],\n                'invalid input for cube map face')\n              copyFlags(faces[i], texture)\n              parseMipMapFromObject(faces[i], faceInput[i])\n            }\n          } else {\n            for (i = 0; i < 6; ++i) {\n              parseMipMapFromObject(faces[i], a0)\n            }\n          }\n        }\n      } else {\n        check$1.raise('invalid arguments to cube map')\n      }\n\n      copyFlags(texture, faces[0])\n\n      if (!limits.npotTextureCube) {\n        check$1(isPow2$1(texture.width) && isPow2$1(texture.height), 'your browser does not support non power or two texture dimensions')\n      }\n\n      if (texInfo.genMipmaps) {\n        texture.mipmask = (faces[0].width << 1) - 1\n      } else {\n        texture.mipmask = faces[0].mipmask\n      }\n\n      check$1.textureCube(texture, texInfo, faces, limits)\n      texture.internalformat = faces[0].internalformat\n\n      reglTextureCube.width = faces[0].width\n      reglTextureCube.height = faces[0].height\n\n      tempBind(texture)\n      for (i = 0; i < 6; ++i) {\n        setMipMap(faces[i], GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 + i)\n      }\n      setTexInfo(texInfo, GL_TEXTURE_CUBE_MAP$1)\n      tempRestore()\n\n      if (config.profile) {\n        texture.stats.size = getTextureSize(\n          texture.internalformat,\n          texture.type,\n          reglTextureCube.width,\n          reglTextureCube.height,\n          texInfo.genMipmaps,\n          true)\n      }\n\n      reglTextureCube.format = textureFormatsInvert[texture.internalformat]\n      reglTextureCube.type = textureTypesInvert[texture.type]\n\n      reglTextureCube.mag = magFiltersInvert[texInfo.magFilter]\n      reglTextureCube.min = minFiltersInvert[texInfo.minFilter]\n\n      reglTextureCube.wrapS = wrapModesInvert[texInfo.wrapS]\n      reglTextureCube.wrapT = wrapModesInvert[texInfo.wrapT]\n\n      for (i = 0; i < 6; ++i) {\n        freeMipMap(faces[i])\n      }\n\n      return reglTextureCube\n    }\n\n    function subimage (face, image, x_, y_, level_) {\n      check$1(!!image, 'must specify image data')\n      check$1(typeof face === 'number' && face === (face | 0) &&\n        face >= 0 && face < 6, 'invalid face')\n\n      var x = x_ | 0\n      var y = y_ | 0\n      var level = level_ | 0\n\n      var imageData = allocImage()\n      copyFlags(imageData, texture)\n      imageData.width = 0\n      imageData.height = 0\n      parseImage(imageData, image)\n      imageData.width = imageData.width || ((texture.width >> level) - x)\n      imageData.height = imageData.height || ((texture.height >> level) - y)\n\n      check$1(\n        texture.type === imageData.type &&\n        texture.format === imageData.format &&\n        texture.internalformat === imageData.internalformat,\n        'incompatible format for texture.subimage')\n      check$1(\n        x >= 0 && y >= 0 &&\n        x + imageData.width <= texture.width &&\n        y + imageData.height <= texture.height,\n        'texture.subimage write out of bounds')\n      check$1(\n        texture.mipmask & (1 << level),\n        'missing mipmap data')\n      check$1(\n        imageData.data || imageData.element || imageData.needsCopy,\n        'missing image data')\n\n      tempBind(texture)\n      setSubImage(imageData, GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 + face, x, y, level)\n      tempRestore()\n\n      freeImage(imageData)\n\n      return reglTextureCube\n    }\n\n    function resize (radius_) {\n      var radius = radius_ | 0\n      if (radius === texture.width) {\n        return\n      }\n\n      reglTextureCube.width = texture.width = radius\n      reglTextureCube.height = texture.height = radius\n\n      tempBind(texture)\n      for (var i = 0; i < 6; ++i) {\n        for (var j = 0; texture.mipmask >> j; ++j) {\n          gl.texImage2D(\n            GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 + i,\n            j,\n            texture.format,\n            radius >> j,\n            radius >> j,\n            0,\n            texture.format,\n            texture.type,\n            null)\n        }\n      }\n      tempRestore()\n\n      if (config.profile) {\n        texture.stats.size = getTextureSize(\n          texture.internalformat,\n          texture.type,\n          reglTextureCube.width,\n          reglTextureCube.height,\n          false,\n          true)\n      }\n\n      return reglTextureCube\n    }\n\n    reglTextureCube(a0, a1, a2, a3, a4, a5)\n\n    reglTextureCube.subimage = subimage\n    reglTextureCube.resize = resize\n    reglTextureCube._reglType = 'textureCube'\n    reglTextureCube._texture = texture\n    if (config.profile) {\n      reglTextureCube.stats = texture.stats\n    }\n    reglTextureCube.destroy = function () {\n      texture.decRef()\n    }\n\n    return reglTextureCube\n  }\n\n  // Called when regl is destroyed\n  function destroyTextures () {\n    for (var i = 0; i < numTexUnits; ++i) {\n      gl.activeTexture(GL_TEXTURE0$1 + i)\n      gl.bindTexture(GL_TEXTURE_2D$1, null)\n      textureUnits[i] = null\n    }\n    values(textureSet).forEach(destroy)\n\n    stats.cubeCount = 0\n    stats.textureCount = 0\n  }\n\n  if (config.profile) {\n    stats.getTotalTextureSize = function () {\n      var total = 0\n      Object.keys(textureSet).forEach(function (key) {\n        total += textureSet[key].stats.size\n      })\n      return total\n    }\n  }\n\n  function restoreTextures () {\n    for (var i = 0; i < numTexUnits; ++i) {\n      var tex = textureUnits[i]\n      if (tex) {\n        tex.bindCount = 0\n        tex.unit = -1\n        textureUnits[i] = null\n      }\n    }\n\n    values(textureSet).forEach(function (texture) {\n      texture.texture = gl.createTexture()\n      gl.bindTexture(texture.target, texture.texture)\n      for (var i = 0; i < 32; ++i) {\n        if ((texture.mipmask & (1 << i)) === 0) {\n          continue\n        }\n        if (texture.target === GL_TEXTURE_2D$1) {\n          gl.texImage2D(GL_TEXTURE_2D$1,\n            i,\n            texture.internalformat,\n            texture.width >> i,\n            texture.height >> i,\n            0,\n            texture.internalformat,\n            texture.type,\n            null)\n        } else {\n          for (var j = 0; j < 6; ++j) {\n            gl.texImage2D(GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 + j,\n              i,\n              texture.internalformat,\n              texture.width >> i,\n              texture.height >> i,\n              0,\n              texture.internalformat,\n              texture.type,\n              null)\n          }\n        }\n      }\n      setTexInfo(texture.texInfo, texture.target)\n    })\n  }\n\n  return {\n    create2D: createTexture2D,\n    createCube: createTextureCube,\n    clear: destroyTextures,\n    getTexture: function (wrapper) {\n      return null\n    },\n    restore: restoreTextures\n  }\n}\n\nvar GL_RENDERBUFFER = 0x8D41\n\nvar GL_RGBA4$1 = 0x8056\nvar GL_RGB5_A1$1 = 0x8057\nvar GL_RGB565$1 = 0x8D62\nvar GL_DEPTH_COMPONENT16 = 0x81A5\nvar GL_STENCIL_INDEX8 = 0x8D48\nvar GL_DEPTH_STENCIL$1 = 0x84F9\n\nvar GL_SRGB8_ALPHA8_EXT = 0x8C43\n\nvar GL_RGBA32F_EXT = 0x8814\n\nvar GL_RGBA16F_EXT = 0x881A\nvar GL_RGB16F_EXT = 0x881B\n\nvar FORMAT_SIZES = []\n\nFORMAT_SIZES[GL_RGBA4$1] = 2\nFORMAT_SIZES[GL_RGB5_A1$1] = 2\nFORMAT_SIZES[GL_RGB565$1] = 2\n\nFORMAT_SIZES[GL_DEPTH_COMPONENT16] = 2\nFORMAT_SIZES[GL_STENCIL_INDEX8] = 1\nFORMAT_SIZES[GL_DEPTH_STENCIL$1] = 4\n\nFORMAT_SIZES[GL_SRGB8_ALPHA8_EXT] = 4\nFORMAT_SIZES[GL_RGBA32F_EXT] = 16\nFORMAT_SIZES[GL_RGBA16F_EXT] = 8\nFORMAT_SIZES[GL_RGB16F_EXT] = 6\n\nfunction getRenderbufferSize (format, width, height) {\n  return FORMAT_SIZES[format] * width * height\n}\n\nvar wrapRenderbuffers = function (gl, extensions, limits, stats, config) {\n  var formatTypes = {\n    'rgba4': GL_RGBA4$1,\n    'rgb565': GL_RGB565$1,\n    'rgb5 a1': GL_RGB5_A1$1,\n    'depth': GL_DEPTH_COMPONENT16,\n    'stencil': GL_STENCIL_INDEX8,\n    'depth stencil': GL_DEPTH_STENCIL$1\n  }\n\n  if (extensions.ext_srgb) {\n    formatTypes['srgba'] = GL_SRGB8_ALPHA8_EXT\n  }\n\n  if (extensions.ext_color_buffer_half_float) {\n    formatTypes['rgba16f'] = GL_RGBA16F_EXT\n    formatTypes['rgb16f'] = GL_RGB16F_EXT\n  }\n\n  if (extensions.webgl_color_buffer_float) {\n    formatTypes['rgba32f'] = GL_RGBA32F_EXT\n  }\n\n  var formatTypesInvert = []\n  Object.keys(formatTypes).forEach(function (key) {\n    var val = formatTypes[key]\n    formatTypesInvert[val] = key\n  })\n\n  var renderbufferCount = 0\n  var renderbufferSet = {}\n\n  function REGLRenderbuffer (renderbuffer) {\n    this.id = renderbufferCount++\n    this.refCount = 1\n\n    this.renderbuffer = renderbuffer\n\n    this.format = GL_RGBA4$1\n    this.width = 0\n    this.height = 0\n\n    if (config.profile) {\n      this.stats = { size: 0 }\n    }\n  }\n\n  REGLRenderbuffer.prototype.decRef = function () {\n    if (--this.refCount <= 0) {\n      destroy(this)\n    }\n  }\n\n  function destroy (rb) {\n    var handle = rb.renderbuffer\n    check$1(handle, 'must not double destroy renderbuffer')\n    gl.bindRenderbuffer(GL_RENDERBUFFER, null)\n    gl.deleteRenderbuffer(handle)\n    rb.renderbuffer = null\n    rb.refCount = 0\n    delete renderbufferSet[rb.id]\n    stats.renderbufferCount--\n  }\n\n  function createRenderbuffer (a, b) {\n    var renderbuffer = new REGLRenderbuffer(gl.createRenderbuffer())\n    renderbufferSet[renderbuffer.id] = renderbuffer\n    stats.renderbufferCount++\n\n    function reglRenderbuffer (a, b) {\n      var w = 0\n      var h = 0\n      var format = GL_RGBA4$1\n\n      if (typeof a === 'object' && a) {\n        var options = a\n        if ('shape' in options) {\n          var shape = options.shape\n          check$1(Array.isArray(shape) && shape.length >= 2,\n            'invalid renderbuffer shape')\n          w = shape[0] | 0\n          h = shape[1] | 0\n        } else {\n          if ('radius' in options) {\n            w = h = options.radius | 0\n          }\n          if ('width' in options) {\n            w = options.width | 0\n          }\n          if ('height' in options) {\n            h = options.height | 0\n          }\n        }\n        if ('format' in options) {\n          check$1.parameter(options.format, formatTypes,\n            'invalid renderbuffer format')\n          format = formatTypes[options.format]\n        }\n      } else if (typeof a === 'number') {\n        w = a | 0\n        if (typeof b === 'number') {\n          h = b | 0\n        } else {\n          h = w\n        }\n      } else if (!a) {\n        w = h = 1\n      } else {\n        check$1.raise('invalid arguments to renderbuffer constructor')\n      }\n\n      // check shape\n      check$1(\n        w > 0 && h > 0 &&\n        w <= limits.maxRenderbufferSize && h <= limits.maxRenderbufferSize,\n        'invalid renderbuffer size')\n\n      if (w === renderbuffer.width &&\n          h === renderbuffer.height &&\n          format === renderbuffer.format) {\n        return\n      }\n\n      reglRenderbuffer.width = renderbuffer.width = w\n      reglRenderbuffer.height = renderbuffer.height = h\n      renderbuffer.format = format\n\n      gl.bindRenderbuffer(GL_RENDERBUFFER, renderbuffer.renderbuffer)\n      gl.renderbufferStorage(GL_RENDERBUFFER, format, w, h)\n\n      check$1(\n        gl.getError() === 0,\n        'invalid render buffer format')\n\n      if (config.profile) {\n        renderbuffer.stats.size = getRenderbufferSize(renderbuffer.format, renderbuffer.width, renderbuffer.height)\n      }\n      reglRenderbuffer.format = formatTypesInvert[renderbuffer.format]\n\n      return reglRenderbuffer\n    }\n\n    function resize (w_, h_) {\n      var w = w_ | 0\n      var h = (h_ | 0) || w\n\n      if (w === renderbuffer.width && h === renderbuffer.height) {\n        return reglRenderbuffer\n      }\n\n      // check shape\n      check$1(\n        w > 0 && h > 0 &&\n        w <= limits.maxRenderbufferSize && h <= limits.maxRenderbufferSize,\n        'invalid renderbuffer size')\n\n      reglRenderbuffer.width = renderbuffer.width = w\n      reglRenderbuffer.height = renderbuffer.height = h\n\n      gl.bindRenderbuffer(GL_RENDERBUFFER, renderbuffer.renderbuffer)\n      gl.renderbufferStorage(GL_RENDERBUFFER, renderbuffer.format, w, h)\n\n      check$1(\n        gl.getError() === 0,\n        'invalid render buffer format')\n\n      // also, recompute size.\n      if (config.profile) {\n        renderbuffer.stats.size = getRenderbufferSize(\n          renderbuffer.format, renderbuffer.width, renderbuffer.height)\n      }\n\n      return reglRenderbuffer\n    }\n\n    reglRenderbuffer(a, b)\n\n    reglRenderbuffer.resize = resize\n    reglRenderbuffer._reglType = 'renderbuffer'\n    reglRenderbuffer._renderbuffer = renderbuffer\n    if (config.profile) {\n      reglRenderbuffer.stats = renderbuffer.stats\n    }\n    reglRenderbuffer.destroy = function () {\n      renderbuffer.decRef()\n    }\n\n    return reglRenderbuffer\n  }\n\n  if (config.profile) {\n    stats.getTotalRenderbufferSize = function () {\n      var total = 0\n      Object.keys(renderbufferSet).forEach(function (key) {\n        total += renderbufferSet[key].stats.size\n      })\n      return total\n    }\n  }\n\n  function restoreRenderbuffers () {\n    values(renderbufferSet).forEach(function (rb) {\n      rb.renderbuffer = gl.createRenderbuffer()\n      gl.bindRenderbuffer(GL_RENDERBUFFER, rb.renderbuffer)\n      gl.renderbufferStorage(GL_RENDERBUFFER, rb.format, rb.width, rb.height)\n    })\n    gl.bindRenderbuffer(GL_RENDERBUFFER, null)\n  }\n\n  return {\n    create: createRenderbuffer,\n    clear: function () {\n      values(renderbufferSet).forEach(destroy)\n    },\n    restore: restoreRenderbuffers\n  }\n}\n\n// We store these constants so that the minifier can inline them\nvar GL_FRAMEBUFFER$1 = 0x8D40\nvar GL_RENDERBUFFER$1 = 0x8D41\n\nvar GL_TEXTURE_2D$2 = 0x0DE1\nvar GL_TEXTURE_CUBE_MAP_POSITIVE_X$2 = 0x8515\n\nvar GL_COLOR_ATTACHMENT0$1 = 0x8CE0\nvar GL_DEPTH_ATTACHMENT = 0x8D00\nvar GL_STENCIL_ATTACHMENT = 0x8D20\nvar GL_DEPTH_STENCIL_ATTACHMENT = 0x821A\n\nvar GL_FRAMEBUFFER_COMPLETE$1 = 0x8CD5\nvar GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT = 0x8CD6\nvar GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 0x8CD7\nvar GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS = 0x8CD9\nvar GL_FRAMEBUFFER_UNSUPPORTED = 0x8CDD\n\nvar GL_HALF_FLOAT_OES$2 = 0x8D61\nvar GL_UNSIGNED_BYTE$6 = 0x1401\nvar GL_FLOAT$5 = 0x1406\n\nvar GL_RGB$1 = 0x1907\nvar GL_RGBA$2 = 0x1908\n\nvar GL_DEPTH_COMPONENT$1 = 0x1902\n\nvar colorTextureFormatEnums = [\n  GL_RGB$1,\n  GL_RGBA$2\n]\n\n// for every texture format, store\n// the number of channels\nvar textureFormatChannels = []\ntextureFormatChannels[GL_RGBA$2] = 4\ntextureFormatChannels[GL_RGB$1] = 3\n\n// for every texture type, store\n// the size in bytes.\nvar textureTypeSizes = []\ntextureTypeSizes[GL_UNSIGNED_BYTE$6] = 1\ntextureTypeSizes[GL_FLOAT$5] = 4\ntextureTypeSizes[GL_HALF_FLOAT_OES$2] = 2\n\nvar GL_RGBA4$2 = 0x8056\nvar GL_RGB5_A1$2 = 0x8057\nvar GL_RGB565$2 = 0x8D62\nvar GL_DEPTH_COMPONENT16$1 = 0x81A5\nvar GL_STENCIL_INDEX8$1 = 0x8D48\nvar GL_DEPTH_STENCIL$2 = 0x84F9\n\nvar GL_SRGB8_ALPHA8_EXT$1 = 0x8C43\n\nvar GL_RGBA32F_EXT$1 = 0x8814\n\nvar GL_RGBA16F_EXT$1 = 0x881A\nvar GL_RGB16F_EXT$1 = 0x881B\n\nvar colorRenderbufferFormatEnums = [\n  GL_RGBA4$2,\n  GL_RGB5_A1$2,\n  GL_RGB565$2,\n  GL_SRGB8_ALPHA8_EXT$1,\n  GL_RGBA16F_EXT$1,\n  GL_RGB16F_EXT$1,\n  GL_RGBA32F_EXT$1\n]\n\nvar statusCode = {}\nstatusCode[GL_FRAMEBUFFER_COMPLETE$1] = 'complete'\nstatusCode[GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT] = 'incomplete attachment'\nstatusCode[GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS] = 'incomplete dimensions'\nstatusCode[GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT] = 'incomplete, missing attachment'\nstatusCode[GL_FRAMEBUFFER_UNSUPPORTED] = 'unsupported'\n\nfunction wrapFBOState (\n  gl,\n  extensions,\n  limits,\n  textureState,\n  renderbufferState,\n  stats) {\n  var framebufferState = {\n    cur: null,\n    next: null,\n    dirty: false,\n    setFBO: null\n  }\n\n  var colorTextureFormats = ['rgba']\n  var colorRenderbufferFormats = ['rgba4', 'rgb565', 'rgb5 a1']\n\n  if (extensions.ext_srgb) {\n    colorRenderbufferFormats.push('srgba')\n  }\n\n  if (extensions.ext_color_buffer_half_float) {\n    colorRenderbufferFormats.push('rgba16f', 'rgb16f')\n  }\n\n  if (extensions.webgl_color_buffer_float) {\n    colorRenderbufferFormats.push('rgba32f')\n  }\n\n  var colorTypes = ['uint8']\n  if (extensions.oes_texture_half_float) {\n    colorTypes.push('half float', 'float16')\n  }\n  if (extensions.oes_texture_float) {\n    colorTypes.push('float', 'float32')\n  }\n\n  function FramebufferAttachment (target, texture, renderbuffer) {\n    this.target = target\n    this.texture = texture\n    this.renderbuffer = renderbuffer\n\n    var w = 0\n    var h = 0\n    if (texture) {\n      w = texture.width\n      h = texture.height\n    } else if (renderbuffer) {\n      w = renderbuffer.width\n      h = renderbuffer.height\n    }\n    this.width = w\n    this.height = h\n  }\n\n  function decRef (attachment) {\n    if (attachment) {\n      if (attachment.texture) {\n        attachment.texture._texture.decRef()\n      }\n      if (attachment.renderbuffer) {\n        attachment.renderbuffer._renderbuffer.decRef()\n      }\n    }\n  }\n\n  function incRefAndCheckShape (attachment, width, height) {\n    if (!attachment) {\n      return\n    }\n    if (attachment.texture) {\n      var texture = attachment.texture._texture\n      var tw = Math.max(1, texture.width)\n      var th = Math.max(1, texture.height)\n      check$1(tw === width && th === height,\n        'inconsistent width/height for supplied texture')\n      texture.refCount += 1\n    } else {\n      var renderbuffer = attachment.renderbuffer._renderbuffer\n      check$1(\n        renderbuffer.width === width && renderbuffer.height === height,\n        'inconsistent width/height for renderbuffer')\n      renderbuffer.refCount += 1\n    }\n  }\n\n  function attach (location, attachment) {\n    if (attachment) {\n      if (attachment.texture) {\n        gl.framebufferTexture2D(\n          GL_FRAMEBUFFER$1,\n          location,\n          attachment.target,\n          attachment.texture._texture.texture,\n          0)\n      } else {\n        gl.framebufferRenderbuffer(\n          GL_FRAMEBUFFER$1,\n          location,\n          GL_RENDERBUFFER$1,\n          attachment.renderbuffer._renderbuffer.renderbuffer)\n      }\n    }\n  }\n\n  function parseAttachment (attachment) {\n    var target = GL_TEXTURE_2D$2\n    var texture = null\n    var renderbuffer = null\n\n    var data = attachment\n    if (typeof attachment === 'object') {\n      data = attachment.data\n      if ('target' in attachment) {\n        target = attachment.target | 0\n      }\n    }\n\n    check$1.type(data, 'function', 'invalid attachment data')\n\n    var type = data._reglType\n    if (type === 'texture2d') {\n      texture = data\n      check$1(target === GL_TEXTURE_2D$2)\n    } else if (type === 'textureCube') {\n      texture = data\n      check$1(\n        target >= GL_TEXTURE_CUBE_MAP_POSITIVE_X$2 &&\n        target < GL_TEXTURE_CUBE_MAP_POSITIVE_X$2 + 6,\n        'invalid cube map target')\n    } else if (type === 'renderbuffer') {\n      renderbuffer = data\n      target = GL_RENDERBUFFER$1\n    } else {\n      check$1.raise('invalid regl object for attachment')\n    }\n\n    return new FramebufferAttachment(target, texture, renderbuffer)\n  }\n\n  function allocAttachment (\n    width,\n    height,\n    isTexture,\n    format,\n    type) {\n    if (isTexture) {\n      var texture = textureState.create2D({\n        width: width,\n        height: height,\n        format: format,\n        type: type\n      })\n      texture._texture.refCount = 0\n      return new FramebufferAttachment(GL_TEXTURE_2D$2, texture, null)\n    } else {\n      var rb = renderbufferState.create({\n        width: width,\n        height: height,\n        format: format\n      })\n      rb._renderbuffer.refCount = 0\n      return new FramebufferAttachment(GL_RENDERBUFFER$1, null, rb)\n    }\n  }\n\n  function unwrapAttachment (attachment) {\n    return attachment && (attachment.texture || attachment.renderbuffer)\n  }\n\n  function resizeAttachment (attachment, w, h) {\n    if (attachment) {\n      if (attachment.texture) {\n        attachment.texture.resize(w, h)\n      } else if (attachment.renderbuffer) {\n        attachment.renderbuffer.resize(w, h)\n      }\n      attachment.width = w\n      attachment.height = h\n    }\n  }\n\n  var framebufferCount = 0\n  var framebufferSet = {}\n\n  function REGLFramebuffer () {\n    this.id = framebufferCount++\n    framebufferSet[this.id] = this\n\n    this.framebuffer = gl.createFramebuffer()\n    this.width = 0\n    this.height = 0\n\n    this.colorAttachments = []\n    this.depthAttachment = null\n    this.stencilAttachment = null\n    this.depthStencilAttachment = null\n  }\n\n  function decFBORefs (framebuffer) {\n    framebuffer.colorAttachments.forEach(decRef)\n    decRef(framebuffer.depthAttachment)\n    decRef(framebuffer.stencilAttachment)\n    decRef(framebuffer.depthStencilAttachment)\n  }\n\n  function destroy (framebuffer) {\n    var handle = framebuffer.framebuffer\n    check$1(handle, 'must not double destroy framebuffer')\n    gl.deleteFramebuffer(handle)\n    framebuffer.framebuffer = null\n    stats.framebufferCount--\n    delete framebufferSet[framebuffer.id]\n  }\n\n  function updateFramebuffer (framebuffer) {\n    var i\n\n    gl.bindFramebuffer(GL_FRAMEBUFFER$1, framebuffer.framebuffer)\n    var colorAttachments = framebuffer.colorAttachments\n    for (i = 0; i < colorAttachments.length; ++i) {\n      attach(GL_COLOR_ATTACHMENT0$1 + i, colorAttachments[i])\n    }\n    for (i = colorAttachments.length; i < limits.maxColorAttachments; ++i) {\n      gl.framebufferTexture2D(\n        GL_FRAMEBUFFER$1,\n        GL_COLOR_ATTACHMENT0$1 + i,\n        GL_TEXTURE_2D$2,\n        null,\n        0)\n    }\n\n    gl.framebufferTexture2D(\n      GL_FRAMEBUFFER$1,\n      GL_DEPTH_STENCIL_ATTACHMENT,\n      GL_TEXTURE_2D$2,\n      null,\n      0)\n    gl.framebufferTexture2D(\n      GL_FRAMEBUFFER$1,\n      GL_DEPTH_ATTACHMENT,\n      GL_TEXTURE_2D$2,\n      null,\n      0)\n    gl.framebufferTexture2D(\n      GL_FRAMEBUFFER$1,\n      GL_STENCIL_ATTACHMENT,\n      GL_TEXTURE_2D$2,\n      null,\n      0)\n\n    attach(GL_DEPTH_ATTACHMENT, framebuffer.depthAttachment)\n    attach(GL_STENCIL_ATTACHMENT, framebuffer.stencilAttachment)\n    attach(GL_DEPTH_STENCIL_ATTACHMENT, framebuffer.depthStencilAttachment)\n\n    // Check status code\n    var status = gl.checkFramebufferStatus(GL_FRAMEBUFFER$1)\n    if (!gl.isContextLost() && status !== GL_FRAMEBUFFER_COMPLETE$1) {\n      check$1.raise('framebuffer configuration not supported, status = ' +\n        statusCode[status])\n    }\n\n    gl.bindFramebuffer(GL_FRAMEBUFFER$1, framebufferState.next ? framebufferState.next.framebuffer : null)\n    framebufferState.cur = framebufferState.next\n\n    // FIXME: Clear error code here.  This is a work around for a bug in\n    // headless-gl\n    gl.getError()\n  }\n\n  function createFBO (a0, a1) {\n    var framebuffer = new REGLFramebuffer()\n    stats.framebufferCount++\n\n    function reglFramebuffer (a, b) {\n      var i\n\n      check$1(framebufferState.next !== framebuffer,\n        'can not update framebuffer which is currently in use')\n\n      var width = 0\n      var height = 0\n\n      var needsDepth = true\n      var needsStencil = true\n\n      var colorBuffer = null\n      var colorTexture = true\n      var colorFormat = 'rgba'\n      var colorType = 'uint8'\n      var colorCount = 1\n\n      var depthBuffer = null\n      var stencilBuffer = null\n      var depthStencilBuffer = null\n      var depthStencilTexture = false\n\n      if (typeof a === 'number') {\n        width = a | 0\n        height = (b | 0) || width\n      } else if (!a) {\n        width = height = 1\n      } else {\n        check$1.type(a, 'object', 'invalid arguments for framebuffer')\n        var options = a\n\n        if ('shape' in options) {\n          var shape = options.shape\n          check$1(Array.isArray(shape) && shape.length >= 2,\n            'invalid shape for framebuffer')\n          width = shape[0]\n          height = shape[1]\n        } else {\n          if ('radius' in options) {\n            width = height = options.radius\n          }\n          if ('width' in options) {\n            width = options.width\n          }\n          if ('height' in options) {\n            height = options.height\n          }\n        }\n\n        if ('color' in options ||\n            'colors' in options) {\n          colorBuffer =\n            options.color ||\n            options.colors\n          if (Array.isArray(colorBuffer)) {\n            check$1(\n              colorBuffer.length === 1 || extensions.webgl_draw_buffers,\n              'multiple render targets not supported')\n          }\n        }\n\n        if (!colorBuffer) {\n          if ('colorCount' in options) {\n            colorCount = options.colorCount | 0\n            check$1(colorCount > 0, 'invalid color buffer count')\n          }\n\n          if ('colorTexture' in options) {\n            colorTexture = !!options.colorTexture\n            colorFormat = 'rgba4'\n          }\n\n          if ('colorType' in options) {\n            colorType = options.colorType\n            if (!colorTexture) {\n              if (colorType === 'half float' || colorType === 'float16') {\n                check$1(extensions.ext_color_buffer_half_float,\n                  'you must enable EXT_color_buffer_half_float to use 16-bit render buffers')\n                colorFormat = 'rgba16f'\n              } else if (colorType === 'float' || colorType === 'float32') {\n                check$1(extensions.webgl_color_buffer_float,\n                  'you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers')\n                colorFormat = 'rgba32f'\n              }\n            } else {\n              check$1(extensions.oes_texture_float ||\n                !(colorType === 'float' || colorType === 'float32'),\n              'you must enable OES_texture_float in order to use floating point framebuffer objects')\n              check$1(extensions.oes_texture_half_float ||\n                !(colorType === 'half float' || colorType === 'float16'),\n              'you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects')\n            }\n            check$1.oneOf(colorType, colorTypes, 'invalid color type')\n          }\n\n          if ('colorFormat' in options) {\n            colorFormat = options.colorFormat\n            if (colorTextureFormats.indexOf(colorFormat) >= 0) {\n              colorTexture = true\n            } else if (colorRenderbufferFormats.indexOf(colorFormat) >= 0) {\n              colorTexture = false\n            } else {\n              if (colorTexture) {\n                check$1.oneOf(\n                  options.colorFormat, colorTextureFormats,\n                  'invalid color format for texture')\n              } else {\n                check$1.oneOf(\n                  options.colorFormat, colorRenderbufferFormats,\n                  'invalid color format for renderbuffer')\n              }\n            }\n          }\n        }\n\n        if ('depthTexture' in options || 'depthStencilTexture' in options) {\n          depthStencilTexture = !!(options.depthTexture ||\n            options.depthStencilTexture)\n          check$1(!depthStencilTexture || extensions.webgl_depth_texture,\n            'webgl_depth_texture extension not supported')\n        }\n\n        if ('depth' in options) {\n          if (typeof options.depth === 'boolean') {\n            needsDepth = options.depth\n          } else {\n            depthBuffer = options.depth\n            needsStencil = false\n          }\n        }\n\n        if ('stencil' in options) {\n          if (typeof options.stencil === 'boolean') {\n            needsStencil = options.stencil\n          } else {\n            stencilBuffer = options.stencil\n            needsDepth = false\n          }\n        }\n\n        if ('depthStencil' in options) {\n          if (typeof options.depthStencil === 'boolean') {\n            needsDepth = needsStencil = options.depthStencil\n          } else {\n            depthStencilBuffer = options.depthStencil\n            needsDepth = false\n            needsStencil = false\n          }\n        }\n      }\n\n      // parse attachments\n      var colorAttachments = null\n      var depthAttachment = null\n      var stencilAttachment = null\n      var depthStencilAttachment = null\n\n      // Set up color attachments\n      if (Array.isArray(colorBuffer)) {\n        colorAttachments = colorBuffer.map(parseAttachment)\n      } else if (colorBuffer) {\n        colorAttachments = [parseAttachment(colorBuffer)]\n      } else {\n        colorAttachments = new Array(colorCount)\n        for (i = 0; i < colorCount; ++i) {\n          colorAttachments[i] = allocAttachment(\n            width,\n            height,\n            colorTexture,\n            colorFormat,\n            colorType)\n        }\n      }\n\n      check$1(extensions.webgl_draw_buffers || colorAttachments.length <= 1,\n        'you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.')\n      check$1(colorAttachments.length <= limits.maxColorAttachments,\n        'too many color attachments, not supported')\n\n      width = width || colorAttachments[0].width\n      height = height || colorAttachments[0].height\n\n      if (depthBuffer) {\n        depthAttachment = parseAttachment(depthBuffer)\n      } else if (needsDepth && !needsStencil) {\n        depthAttachment = allocAttachment(\n          width,\n          height,\n          depthStencilTexture,\n          'depth',\n          'uint32')\n      }\n\n      if (stencilBuffer) {\n        stencilAttachment = parseAttachment(stencilBuffer)\n      } else if (needsStencil && !needsDepth) {\n        stencilAttachment = allocAttachment(\n          width,\n          height,\n          false,\n          'stencil',\n          'uint8')\n      }\n\n      if (depthStencilBuffer) {\n        depthStencilAttachment = parseAttachment(depthStencilBuffer)\n      } else if (!depthBuffer && !stencilBuffer && needsStencil && needsDepth) {\n        depthStencilAttachment = allocAttachment(\n          width,\n          height,\n          depthStencilTexture,\n          'depth stencil',\n          'depth stencil')\n      }\n\n      check$1(\n        (!!depthBuffer) + (!!stencilBuffer) + (!!depthStencilBuffer) <= 1,\n        'invalid framebuffer configuration, can specify exactly one depth/stencil attachment')\n\n      var commonColorAttachmentSize = null\n\n      for (i = 0; i < colorAttachments.length; ++i) {\n        incRefAndCheckShape(colorAttachments[i], width, height)\n        check$1(!colorAttachments[i] ||\n          (colorAttachments[i].texture &&\n            colorTextureFormatEnums.indexOf(colorAttachments[i].texture._texture.format) >= 0) ||\n          (colorAttachments[i].renderbuffer &&\n            colorRenderbufferFormatEnums.indexOf(colorAttachments[i].renderbuffer._renderbuffer.format) >= 0),\n        'framebuffer color attachment ' + i + ' is invalid')\n\n        if (colorAttachments[i] && colorAttachments[i].texture) {\n          var colorAttachmentSize =\n              textureFormatChannels[colorAttachments[i].texture._texture.format] *\n              textureTypeSizes[colorAttachments[i].texture._texture.type]\n\n          if (commonColorAttachmentSize === null) {\n            commonColorAttachmentSize = colorAttachmentSize\n          } else {\n            // We need to make sure that all color attachments have the same number of bitplanes\n            // (that is, the same numer of bits per pixel)\n            // This is required by the GLES2.0 standard. See the beginning of Chapter 4 in that document.\n            check$1(commonColorAttachmentSize === colorAttachmentSize,\n              'all color attachments much have the same number of bits per pixel.')\n          }\n        }\n      }\n      incRefAndCheckShape(depthAttachment, width, height)\n      check$1(!depthAttachment ||\n        (depthAttachment.texture &&\n          depthAttachment.texture._texture.format === GL_DEPTH_COMPONENT$1) ||\n        (depthAttachment.renderbuffer &&\n          depthAttachment.renderbuffer._renderbuffer.format === GL_DEPTH_COMPONENT16$1),\n      'invalid depth attachment for framebuffer object')\n      incRefAndCheckShape(stencilAttachment, width, height)\n      check$1(!stencilAttachment ||\n        (stencilAttachment.renderbuffer &&\n          stencilAttachment.renderbuffer._renderbuffer.format === GL_STENCIL_INDEX8$1),\n      'invalid stencil attachment for framebuffer object')\n      incRefAndCheckShape(depthStencilAttachment, width, height)\n      check$1(!depthStencilAttachment ||\n        (depthStencilAttachment.texture &&\n          depthStencilAttachment.texture._texture.format === GL_DEPTH_STENCIL$2) ||\n        (depthStencilAttachment.renderbuffer &&\n          depthStencilAttachment.renderbuffer._renderbuffer.format === GL_DEPTH_STENCIL$2),\n      'invalid depth-stencil attachment for framebuffer object')\n\n      // decrement references\n      decFBORefs(framebuffer)\n\n      framebuffer.width = width\n      framebuffer.height = height\n\n      framebuffer.colorAttachments = colorAttachments\n      framebuffer.depthAttachment = depthAttachment\n      framebuffer.stencilAttachment = stencilAttachment\n      framebuffer.depthStencilAttachment = depthStencilAttachment\n\n      reglFramebuffer.color = colorAttachments.map(unwrapAttachment)\n      reglFramebuffer.depth = unwrapAttachment(depthAttachment)\n      reglFramebuffer.stencil = unwrapAttachment(stencilAttachment)\n      reglFramebuffer.depthStencil = unwrapAttachment(depthStencilAttachment)\n\n      reglFramebuffer.width = framebuffer.width\n      reglFramebuffer.height = framebuffer.height\n\n      updateFramebuffer(framebuffer)\n\n      return reglFramebuffer\n    }\n\n    function resize (w_, h_) {\n      check$1(framebufferState.next !== framebuffer,\n        'can not resize a framebuffer which is currently in use')\n\n      var w = Math.max(w_ | 0, 1)\n      var h = Math.max((h_ | 0) || w, 1)\n      if (w === framebuffer.width && h === framebuffer.height) {\n        return reglFramebuffer\n      }\n\n      // resize all buffers\n      var colorAttachments = framebuffer.colorAttachments\n      for (var i = 0; i < colorAttachments.length; ++i) {\n        resizeAttachment(colorAttachments[i], w, h)\n      }\n      resizeAttachment(framebuffer.depthAttachment, w, h)\n      resizeAttachment(framebuffer.stencilAttachment, w, h)\n      resizeAttachment(framebuffer.depthStencilAttachment, w, h)\n\n      framebuffer.width = reglFramebuffer.width = w\n      framebuffer.height = reglFramebuffer.height = h\n\n      updateFramebuffer(framebuffer)\n\n      return reglFramebuffer\n    }\n\n    reglFramebuffer(a0, a1)\n\n    return extend(reglFramebuffer, {\n      resize: resize,\n      _reglType: 'framebuffer',\n      _framebuffer: framebuffer,\n      destroy: function () {\n        destroy(framebuffer)\n        decFBORefs(framebuffer)\n      },\n      use: function (block) {\n        framebufferState.setFBO({\n          framebuffer: reglFramebuffer\n        }, block)\n      }\n    })\n  }\n\n  function createCubeFBO (options) {\n    var faces = Array(6)\n\n    function reglFramebufferCube (a) {\n      var i\n\n      check$1(faces.indexOf(framebufferState.next) < 0,\n        'can not update framebuffer which is currently in use')\n\n      var params = {\n        color: null\n      }\n\n      var radius = 0\n\n      var colorBuffer = null\n      var colorFormat = 'rgba'\n      var colorType = 'uint8'\n      var colorCount = 1\n\n      if (typeof a === 'number') {\n        radius = a | 0\n      } else if (!a) {\n        radius = 1\n      } else {\n        check$1.type(a, 'object', 'invalid arguments for framebuffer')\n        var options = a\n\n        if ('shape' in options) {\n          var shape = options.shape\n          check$1(\n            Array.isArray(shape) && shape.length >= 2,\n            'invalid shape for framebuffer')\n          check$1(\n            shape[0] === shape[1],\n            'cube framebuffer must be square')\n          radius = shape[0]\n        } else {\n          if ('radius' in options) {\n            radius = options.radius | 0\n          }\n          if ('width' in options) {\n            radius = options.width | 0\n            if ('height' in options) {\n              check$1(options.height === radius, 'must be square')\n            }\n          } else if ('height' in options) {\n            radius = options.height | 0\n          }\n        }\n\n        if ('color' in options ||\n            'colors' in options) {\n          colorBuffer =\n            options.color ||\n            options.colors\n          if (Array.isArray(colorBuffer)) {\n            check$1(\n              colorBuffer.length === 1 || extensions.webgl_draw_buffers,\n              'multiple render targets not supported')\n          }\n        }\n\n        if (!colorBuffer) {\n          if ('colorCount' in options) {\n            colorCount = options.colorCount | 0\n            check$1(colorCount > 0, 'invalid color buffer count')\n          }\n\n          if ('colorType' in options) {\n            check$1.oneOf(\n              options.colorType, colorTypes,\n              'invalid color type')\n            colorType = options.colorType\n          }\n\n          if ('colorFormat' in options) {\n            colorFormat = options.colorFormat\n            check$1.oneOf(\n              options.colorFormat, colorTextureFormats,\n              'invalid color format for texture')\n          }\n        }\n\n        if ('depth' in options) {\n          params.depth = options.depth\n        }\n\n        if ('stencil' in options) {\n          params.stencil = options.stencil\n        }\n\n        if ('depthStencil' in options) {\n          params.depthStencil = options.depthStencil\n        }\n      }\n\n      var colorCubes\n      if (colorBuffer) {\n        if (Array.isArray(colorBuffer)) {\n          colorCubes = []\n          for (i = 0; i < colorBuffer.length; ++i) {\n            colorCubes[i] = colorBuffer[i]\n          }\n        } else {\n          colorCubes = [ colorBuffer ]\n        }\n      } else {\n        colorCubes = Array(colorCount)\n        var cubeMapParams = {\n          radius: radius,\n          format: colorFormat,\n          type: colorType\n        }\n        for (i = 0; i < colorCount; ++i) {\n          colorCubes[i] = textureState.createCube(cubeMapParams)\n        }\n      }\n\n      // Check color cubes\n      params.color = Array(colorCubes.length)\n      for (i = 0; i < colorCubes.length; ++i) {\n        var cube = colorCubes[i]\n        check$1(\n          typeof cube === 'function' && cube._reglType === 'textureCube',\n          'invalid cube map')\n        radius = radius || cube.width\n        check$1(\n          cube.width === radius && cube.height === radius,\n          'invalid cube map shape')\n        params.color[i] = {\n          target: GL_TEXTURE_CUBE_MAP_POSITIVE_X$2,\n          data: colorCubes[i]\n        }\n      }\n\n      for (i = 0; i < 6; ++i) {\n        for (var j = 0; j < colorCubes.length; ++j) {\n          params.color[j].target = GL_TEXTURE_CUBE_MAP_POSITIVE_X$2 + i\n        }\n        // reuse depth-stencil attachments across all cube maps\n        if (i > 0) {\n          params.depth = faces[0].depth\n          params.stencil = faces[0].stencil\n          params.depthStencil = faces[0].depthStencil\n        }\n        if (faces[i]) {\n          (faces[i])(params)\n        } else {\n          faces[i] = createFBO(params)\n        }\n      }\n\n      return extend(reglFramebufferCube, {\n        width: radius,\n        height: radius,\n        color: colorCubes\n      })\n    }\n\n    function resize (radius_) {\n      var i\n      var radius = radius_ | 0\n      check$1(radius > 0 && radius <= limits.maxCubeMapSize,\n        'invalid radius for cube fbo')\n\n      if (radius === reglFramebufferCube.width) {\n        return reglFramebufferCube\n      }\n\n      var colors = reglFramebufferCube.color\n      for (i = 0; i < colors.length; ++i) {\n        colors[i].resize(radius)\n      }\n\n      for (i = 0; i < 6; ++i) {\n        faces[i].resize(radius)\n      }\n\n      reglFramebufferCube.width = reglFramebufferCube.height = radius\n\n      return reglFramebufferCube\n    }\n\n    reglFramebufferCube(options)\n\n    return extend(reglFramebufferCube, {\n      faces: faces,\n      resize: resize,\n      _reglType: 'framebufferCube',\n      destroy: function () {\n        faces.forEach(function (f) {\n          f.destroy()\n        })\n      }\n    })\n  }\n\n  function restoreFramebuffers () {\n    framebufferState.cur = null\n    framebufferState.next = null\n    framebufferState.dirty = true\n    values(framebufferSet).forEach(function (fb) {\n      fb.framebuffer = gl.createFramebuffer()\n      updateFramebuffer(fb)\n    })\n  }\n\n  return extend(framebufferState, {\n    getFramebuffer: function (object) {\n      if (typeof object === 'function' && object._reglType === 'framebuffer') {\n        var fbo = object._framebuffer\n        if (fbo instanceof REGLFramebuffer) {\n          return fbo\n        }\n      }\n      return null\n    },\n    create: createFBO,\n    createCube: createCubeFBO,\n    clear: function () {\n      values(framebufferSet).forEach(destroy)\n    },\n    restore: restoreFramebuffers\n  })\n}\n\nvar GL_FLOAT$6 = 5126\nvar GL_ARRAY_BUFFER$1 = 34962\n\nfunction AttributeRecord () {\n  this.state = 0\n\n  this.x = 0.0\n  this.y = 0.0\n  this.z = 0.0\n  this.w = 0.0\n\n  this.buffer = null\n  this.size = 0\n  this.normalized = false\n  this.type = GL_FLOAT$6\n  this.offset = 0\n  this.stride = 0\n  this.divisor = 0\n}\n\nfunction wrapAttributeState (\n  gl,\n  extensions,\n  limits,\n  stats,\n  bufferState) {\n  var NUM_ATTRIBUTES = limits.maxAttributes\n  var attributeBindings = new Array(NUM_ATTRIBUTES)\n  for (var i = 0; i < NUM_ATTRIBUTES; ++i) {\n    attributeBindings[i] = new AttributeRecord()\n  }\n  var vaoCount = 0\n  var vaoSet = {}\n\n  var state = {\n    Record: AttributeRecord,\n    scope: {},\n    state: attributeBindings,\n    currentVAO: null,\n    targetVAO: null,\n    restore: extVAO() ? restoreVAO : function () {},\n    createVAO: createVAO,\n    getVAO: getVAO,\n    destroyBuffer: destroyBuffer,\n    setVAO: extVAO() ? setVAOEXT : setVAOEmulated,\n    clear: extVAO() ? destroyVAOEXT : function () {}\n  }\n\n  function destroyBuffer (buffer) {\n    for (var i = 0; i < attributeBindings.length; ++i) {\n      var record = attributeBindings[i]\n      if (record.buffer === buffer) {\n        gl.disableVertexAttribArray(i)\n        record.buffer = null\n      }\n    }\n  }\n\n  function extVAO () {\n    return extensions.oes_vertex_array_object\n  }\n\n  function extInstanced () {\n    return extensions.angle_instanced_arrays\n  }\n\n  function getVAO (vao) {\n    if (typeof vao === 'function' && vao._vao) {\n      return vao._vao\n    }\n    return null\n  }\n\n  function setVAOEXT (vao) {\n    if (vao === state.currentVAO) {\n      return\n    }\n    var ext = extVAO()\n    if (vao) {\n      ext.bindVertexArrayOES(vao.vao)\n    } else {\n      ext.bindVertexArrayOES(null)\n    }\n    state.currentVAO = vao\n  }\n\n  function setVAOEmulated (vao) {\n    if (vao === state.currentVAO) {\n      return\n    }\n    if (vao) {\n      vao.bindAttrs()\n    } else {\n      var exti = extInstanced()\n      for (var i = 0; i < attributeBindings.length; ++i) {\n        var binding = attributeBindings[i]\n        if (binding.buffer) {\n          gl.enableVertexAttribArray(i)\n          gl.vertexAttribPointer(i, binding.size, binding.type, binding.normalized, binding.stride, binding.offfset)\n          if (exti) {\n            exti.vertexAttribDivisorANGLE(i, binding.divisor)\n          }\n        } else {\n          gl.disableVertexAttribArray(i)\n          gl.vertexAttrib4f(i, binding.x, binding.y, binding.z, binding.w)\n        }\n      }\n    }\n    state.currentVAO = vao\n  }\n\n  function destroyVAOEXT () {\n    values(vaoSet).forEach(function (vao) {\n      vao.destroy()\n    })\n  }\n\n  function REGLVAO () {\n    this.id = ++vaoCount\n    this.attributes = []\n    var extension = extVAO()\n    if (extension) {\n      this.vao = extension.createVertexArrayOES()\n    } else {\n      this.vao = null\n    }\n    vaoSet[this.id] = this\n    this.buffers = []\n  }\n\n  REGLVAO.prototype.bindAttrs = function () {\n    var exti = extInstanced()\n    var attributes = this.attributes\n    for (var i = 0; i < attributes.length; ++i) {\n      var attr = attributes[i]\n      if (attr.buffer) {\n        gl.enableVertexAttribArray(i)\n        gl.bindBuffer(GL_ARRAY_BUFFER$1, attr.buffer.buffer)\n        gl.vertexAttribPointer(i, attr.size, attr.type, attr.normalized, attr.stride, attr.offset)\n        if (exti) {\n          exti.vertexAttribDivisorANGLE(i, attr.divisor)\n        }\n      } else {\n        gl.disableVertexAttribArray(i)\n        gl.vertexAttrib4f(i, attr.x, attr.y, attr.z, attr.w)\n      }\n    }\n    for (var j = attributes.length; j < NUM_ATTRIBUTES; ++j) {\n      gl.disableVertexAttribArray(j)\n    }\n  }\n\n  REGLVAO.prototype.refresh = function () {\n    var ext = extVAO()\n    if (ext) {\n      ext.bindVertexArrayOES(this.vao)\n      this.bindAttrs()\n      state.currentVAO = this\n    }\n  }\n\n  REGLVAO.prototype.destroy = function () {\n    if (this.vao) {\n      var extension = extVAO()\n      if (this === state.currentVAO) {\n        state.currentVAO = null\n        extension.bindVertexArrayOES(null)\n      }\n      extension.deleteVertexArrayOES(this.vao)\n      this.vao = null\n    }\n    if (vaoSet[this.id]) {\n      delete vaoSet[this.id]\n      stats.vaoCount -= 1\n    }\n  }\n\n  function restoreVAO () {\n    var ext = extVAO()\n    if (ext) {\n      values(vaoSet).forEach(function (vao) {\n        vao.refresh()\n      })\n    }\n  }\n\n  function createVAO (_attr) {\n    var vao = new REGLVAO()\n    stats.vaoCount += 1\n\n    function updateVAO (attributes) {\n      check$1(Array.isArray(attributes), 'arguments to vertex array constructor must be an array')\n      check$1(attributes.length < NUM_ATTRIBUTES, 'too many attributes')\n      check$1(attributes.length > 0, 'must specify at least one attribute')\n\n      for (var j = 0; j < vao.buffers.length; ++j) {\n        vao.buffers[j].destroy()\n      }\n      vao.buffers.length = 0\n\n      var nattributes = vao.attributes\n      nattributes.length = attributes.length\n      for (var i = 0; i < attributes.length; ++i) {\n        var spec = attributes[i]\n        var rec = nattributes[i] = new AttributeRecord()\n        if (Array.isArray(spec) || isTypedArray(spec) || isNDArrayLike(spec)) {\n          var buf = bufferState.create(spec, GL_ARRAY_BUFFER$1, false, true)\n          rec.buffer = bufferState.getBuffer(buf)\n          rec.size = rec.buffer.dimension | 0\n          rec.normalized = false\n          rec.type = rec.buffer.dtype\n          rec.offset = 0\n          rec.stride = 0\n          rec.divisor = 0\n          rec.state = 1\n          vao.buffers.push(buf)\n        } else if (bufferState.getBuffer(spec)) {\n          rec.buffer = bufferState.getBuffer(spec)\n          rec.size = rec.buffer.dimension | 0\n          rec.normalized = false\n          rec.type = rec.buffer.dtype\n          rec.offset = 0\n          rec.stride = 0\n          rec.divisor = 0\n          rec.state = 1\n        } else if (bufferState.getBuffer(spec.buffer)) {\n          rec.buffer = bufferState.getBuffer(spec.buffer)\n          rec.size = ((+spec.size) || rec.buffer.dimension) | 0\n          rec.normalized = !!spec.normalized || false\n          if ('type' in spec) {\n            check$1.parameter(spec.type, glTypes, 'invalid buffer type')\n            rec.type = glTypes[spec.type]\n          } else {\n            rec.type = rec.buffer.dtype\n          }\n          rec.offset = (spec.offset || 0) | 0\n          rec.stride = (spec.stride || 0) | 0\n          rec.divisor = (spec.divisor || 0) | 0\n          rec.state = 1\n\n          check$1(rec.size >= 1 && rec.size <= 4, 'size must be between 1 and 4')\n          check$1(rec.offset >= 0, 'invalid offset')\n          check$1(rec.stride >= 0 && rec.stride <= 255, 'stride must be between 0 and 255')\n          check$1(rec.divisor >= 0, 'divisor must be positive')\n          check$1(!rec.divisor || !!extensions.angle_instanced_arrays, 'ANGLE_instanced_arrays must be enabled to use divisor')\n        } else if ('x' in spec) {\n          check$1(i > 0, 'first attribute must not be a constant')\n          rec.x = +spec.x || 0\n          rec.y = +spec.y || 0\n          rec.z = +spec.z || 0\n          rec.w = +spec.w || 0\n          rec.state = 2\n        } else {\n          check$1(false, 'invalid attribute spec for location ' + i)\n        }\n      }\n\n      vao.refresh()\n      return updateVAO\n    }\n\n    updateVAO.destroy = function () {\n      vao.destroy()\n    }\n\n    updateVAO._vao = vao\n    updateVAO._reglType = 'vao'\n\n    return updateVAO(_attr)\n  }\n\n  return state\n}\n\nvar GL_FRAGMENT_SHADER = 35632\nvar GL_VERTEX_SHADER = 35633\n\nvar GL_ACTIVE_UNIFORMS = 0x8B86\nvar GL_ACTIVE_ATTRIBUTES = 0x8B89\n\nfunction wrapShaderState (gl, stringStore, stats, config) {\n  // ===================================================\n  // glsl compilation and linking\n  // ===================================================\n  var fragShaders = {}\n  var vertShaders = {}\n\n  function ActiveInfo (name, id, location, info) {\n    this.name = name\n    this.id = id\n    this.location = location\n    this.info = info\n  }\n\n  function insertActiveInfo (list, info) {\n    for (var i = 0; i < list.length; ++i) {\n      if (list[i].id === info.id) {\n        list[i].location = info.location\n        return\n      }\n    }\n    list.push(info)\n  }\n\n  function getShader (type, id, command) {\n    var cache = type === GL_FRAGMENT_SHADER ? fragShaders : vertShaders\n    var shader = cache[id]\n\n    if (!shader) {\n      var source = stringStore.str(id)\n      shader = gl.createShader(type)\n      gl.shaderSource(shader, source)\n      gl.compileShader(shader)\n      check$1.shaderError(gl, shader, source, type, command)\n      cache[id] = shader\n    }\n\n    return shader\n  }\n\n  // ===================================================\n  // program linking\n  // ===================================================\n  var programCache = {}\n  var programList = []\n\n  var PROGRAM_COUNTER = 0\n\n  function REGLProgram (fragId, vertId) {\n    this.id = PROGRAM_COUNTER++\n    this.fragId = fragId\n    this.vertId = vertId\n    this.program = null\n    this.uniforms = []\n    this.attributes = []\n\n    if (config.profile) {\n      this.stats = {\n        uniformsCount: 0,\n        attributesCount: 0\n      }\n    }\n  }\n\n  function linkProgram (desc, command, attributeLocations) {\n    var i, info\n\n    // -------------------------------\n    // compile & link\n    // -------------------------------\n    var fragShader = getShader(GL_FRAGMENT_SHADER, desc.fragId)\n    var vertShader = getShader(GL_VERTEX_SHADER, desc.vertId)\n\n    var program = desc.program = gl.createProgram()\n    gl.attachShader(program, fragShader)\n    gl.attachShader(program, vertShader)\n    if (attributeLocations) {\n      for (i = 0; i < attributeLocations.length; ++i) {\n        var binding = attributeLocations[i]\n        gl.bindAttribLocation(program, binding[0], binding[1])\n      }\n    }\n\n    gl.linkProgram(program)\n    check$1.linkError(\n      gl,\n      program,\n      stringStore.str(desc.fragId),\n      stringStore.str(desc.vertId),\n      command)\n\n    // -------------------------------\n    // grab uniforms\n    // -------------------------------\n    var numUniforms = gl.getProgramParameter(program, GL_ACTIVE_UNIFORMS)\n    if (config.profile) {\n      desc.stats.uniformsCount = numUniforms\n    }\n    var uniforms = desc.uniforms\n    for (i = 0; i < numUniforms; ++i) {\n      info = gl.getActiveUniform(program, i)\n      if (info) {\n        if (info.size > 1) {\n          for (var j = 0; j < info.size; ++j) {\n            var name = info.name.replace('[0]', '[' + j + ']')\n            insertActiveInfo(uniforms, new ActiveInfo(\n              name,\n              stringStore.id(name),\n              gl.getUniformLocation(program, name),\n              info))\n          }\n        } else {\n          insertActiveInfo(uniforms, new ActiveInfo(\n            info.name,\n            stringStore.id(info.name),\n            gl.getUniformLocation(program, info.name),\n            info))\n        }\n      }\n    }\n\n    // -------------------------------\n    // grab attributes\n    // -------------------------------\n    var numAttributes = gl.getProgramParameter(program, GL_ACTIVE_ATTRIBUTES)\n    if (config.profile) {\n      desc.stats.attributesCount = numAttributes\n    }\n\n    var attributes = desc.attributes\n    for (i = 0; i < numAttributes; ++i) {\n      info = gl.getActiveAttrib(program, i)\n      if (info) {\n        insertActiveInfo(attributes, new ActiveInfo(\n          info.name,\n          stringStore.id(info.name),\n          gl.getAttribLocation(program, info.name),\n          info))\n      }\n    }\n  }\n\n  if (config.profile) {\n    stats.getMaxUniformsCount = function () {\n      var m = 0\n      programList.forEach(function (desc) {\n        if (desc.stats.uniformsCount > m) {\n          m = desc.stats.uniformsCount\n        }\n      })\n      return m\n    }\n\n    stats.getMaxAttributesCount = function () {\n      var m = 0\n      programList.forEach(function (desc) {\n        if (desc.stats.attributesCount > m) {\n          m = desc.stats.attributesCount\n        }\n      })\n      return m\n    }\n  }\n\n  function restoreShaders () {\n    fragShaders = {}\n    vertShaders = {}\n    for (var i = 0; i < programList.length; ++i) {\n      linkProgram(programList[i], null, programList[i].attributes.map(function (info) {\n        return [info.location, info.name]\n      }))\n    }\n  }\n\n  return {\n    clear: function () {\n      var deleteShader = gl.deleteShader.bind(gl)\n      values(fragShaders).forEach(deleteShader)\n      fragShaders = {}\n      values(vertShaders).forEach(deleteShader)\n      vertShaders = {}\n\n      programList.forEach(function (desc) {\n        gl.deleteProgram(desc.program)\n      })\n      programList.length = 0\n      programCache = {}\n\n      stats.shaderCount = 0\n    },\n\n    program: function (vertId, fragId, command, attribLocations) {\n      check$1.command(vertId >= 0, 'missing vertex shader', command)\n      check$1.command(fragId >= 0, 'missing fragment shader', command)\n\n      var cache = programCache[fragId]\n      if (!cache) {\n        cache = programCache[fragId] = {}\n      }\n      var prevProgram = cache[vertId]\n      if (prevProgram && !attribLocations) {\n        return prevProgram\n      }\n      var program = new REGLProgram(fragId, vertId)\n      stats.shaderCount++\n      linkProgram(program, command, attribLocations)\n      if (!prevProgram) {\n        cache[vertId] = program\n      }\n      programList.push(program)\n      return program\n    },\n\n    restore: restoreShaders,\n\n    shader: getShader,\n\n    frag: -1,\n    vert: -1\n  }\n}\n\nvar GL_RGBA$3 = 6408\nvar GL_UNSIGNED_BYTE$7 = 5121\nvar GL_PACK_ALIGNMENT = 0x0D05\nvar GL_FLOAT$7 = 0x1406 // 5126\n\nfunction wrapReadPixels (\n  gl,\n  framebufferState,\n  reglPoll,\n  context,\n  glAttributes,\n  extensions,\n  limits) {\n  function readPixelsImpl (input) {\n    var type\n    if (framebufferState.next === null) {\n      check$1(\n        glAttributes.preserveDrawingBuffer,\n        'you must create a webgl context with \"preserveDrawingBuffer\":true in order to read pixels from the drawing buffer')\n      type = GL_UNSIGNED_BYTE$7\n    } else {\n      check$1(\n        framebufferState.next.colorAttachments[0].texture !== null,\n        'You cannot read from a renderbuffer')\n      type = framebufferState.next.colorAttachments[0].texture._texture.type\n\n      if (extensions.oes_texture_float) {\n        check$1(\n          type === GL_UNSIGNED_BYTE$7 || type === GL_FLOAT$7,\n          'Reading from a framebuffer is only allowed for the types \\'uint8\\' and \\'float\\'')\n\n        if (type === GL_FLOAT$7) {\n          check$1(limits.readFloat, 'Reading \\'float\\' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float')\n        }\n      } else {\n        check$1(\n          type === GL_UNSIGNED_BYTE$7,\n          'Reading from a framebuffer is only allowed for the type \\'uint8\\'')\n      }\n    }\n\n    var x = 0\n    var y = 0\n    var width = context.framebufferWidth\n    var height = context.framebufferHeight\n    var data = null\n\n    if (isTypedArray(input)) {\n      data = input\n    } else if (input) {\n      check$1.type(input, 'object', 'invalid arguments to regl.read()')\n      x = input.x | 0\n      y = input.y | 0\n      check$1(\n        x >= 0 && x < context.framebufferWidth,\n        'invalid x offset for regl.read')\n      check$1(\n        y >= 0 && y < context.framebufferHeight,\n        'invalid y offset for regl.read')\n      width = (input.width || (context.framebufferWidth - x)) | 0\n      height = (input.height || (context.framebufferHeight - y)) | 0\n      data = input.data || null\n    }\n\n    // sanity check input.data\n    if (data) {\n      if (type === GL_UNSIGNED_BYTE$7) {\n        check$1(\n          data instanceof Uint8Array,\n          'buffer must be \\'Uint8Array\\' when reading from a framebuffer of type \\'uint8\\'')\n      } else if (type === GL_FLOAT$7) {\n        check$1(\n          data instanceof Float32Array,\n          'buffer must be \\'Float32Array\\' when reading from a framebuffer of type \\'float\\'')\n      }\n    }\n\n    check$1(\n      width > 0 && width + x <= context.framebufferWidth,\n      'invalid width for read pixels')\n    check$1(\n      height > 0 && height + y <= context.framebufferHeight,\n      'invalid height for read pixels')\n\n    // Update WebGL state\n    reglPoll()\n\n    // Compute size\n    var size = width * height * 4\n\n    // Allocate data\n    if (!data) {\n      if (type === GL_UNSIGNED_BYTE$7) {\n        data = new Uint8Array(size)\n      } else if (type === GL_FLOAT$7) {\n        data = data || new Float32Array(size)\n      }\n    }\n\n    // Type check\n    check$1.isTypedArray(data, 'data buffer for regl.read() must be a typedarray')\n    check$1(data.byteLength >= size, 'data buffer for regl.read() too small')\n\n    // Run read pixels\n    gl.pixelStorei(GL_PACK_ALIGNMENT, 4)\n    gl.readPixels(x, y, width, height, GL_RGBA$3,\n      type,\n      data)\n\n    return data\n  }\n\n  function readPixelsFBO (options) {\n    var result\n    framebufferState.setFBO({\n      framebuffer: options.framebuffer\n    }, function () {\n      result = readPixelsImpl(options)\n    })\n    return result\n  }\n\n  function readPixels (options) {\n    if (!options || !('framebuffer' in options)) {\n      return readPixelsImpl(options)\n    } else {\n      return readPixelsFBO(options)\n    }\n  }\n\n  return readPixels\n}\n\nfunction slice (x) {\n  return Array.prototype.slice.call(x)\n}\n\nfunction join (x) {\n  return slice(x).join('')\n}\n\nfunction createEnvironment () {\n  // Unique variable id counter\n  var varCounter = 0\n\n  // Linked values are passed from this scope into the generated code block\n  // Calling link() passes a value into the generated scope and returns\n  // the variable name which it is bound to\n  var linkedNames = []\n  var linkedValues = []\n  function link (value) {\n    for (var i = 0; i < linkedValues.length; ++i) {\n      if (linkedValues[i] === value) {\n        return linkedNames[i]\n      }\n    }\n\n    var name = 'g' + (varCounter++)\n    linkedNames.push(name)\n    linkedValues.push(value)\n    return name\n  }\n\n  // create a code block\n  function block () {\n    var code = []\n    function push () {\n      code.push.apply(code, slice(arguments))\n    }\n\n    var vars = []\n    function def () {\n      var name = 'v' + (varCounter++)\n      vars.push(name)\n\n      if (arguments.length > 0) {\n        code.push(name, '=')\n        code.push.apply(code, slice(arguments))\n        code.push(';')\n      }\n\n      return name\n    }\n\n    return extend(push, {\n      def: def,\n      toString: function () {\n        return join([\n          (vars.length > 0 ? 'var ' + vars.join(',') + ';' : ''),\n          join(code)\n        ])\n      }\n    })\n  }\n\n  function scope () {\n    var entry = block()\n    var exit = block()\n\n    var entryToString = entry.toString\n    var exitToString = exit.toString\n\n    function save (object, prop) {\n      exit(object, prop, '=', entry.def(object, prop), ';')\n    }\n\n    return extend(function () {\n      entry.apply(entry, slice(arguments))\n    }, {\n      def: entry.def,\n      entry: entry,\n      exit: exit,\n      save: save,\n      set: function (object, prop, value) {\n        save(object, prop)\n        entry(object, prop, '=', value, ';')\n      },\n      toString: function () {\n        return entryToString() + exitToString()\n      }\n    })\n  }\n\n  function conditional () {\n    var pred = join(arguments)\n    var thenBlock = scope()\n    var elseBlock = scope()\n\n    var thenToString = thenBlock.toString\n    var elseToString = elseBlock.toString\n\n    return extend(thenBlock, {\n      then: function () {\n        thenBlock.apply(thenBlock, slice(arguments))\n        return this\n      },\n      else: function () {\n        elseBlock.apply(elseBlock, slice(arguments))\n        return this\n      },\n      toString: function () {\n        var elseClause = elseToString()\n        if (elseClause) {\n          elseClause = 'else{' + elseClause + '}'\n        }\n        return join([\n          'if(', pred, '){',\n          thenToString(),\n          '}', elseClause\n        ])\n      }\n    })\n  }\n\n  // procedure list\n  var globalBlock = block()\n  var procedures = {}\n  function proc (name, count) {\n    var args = []\n    function arg () {\n      var name = 'a' + args.length\n      args.push(name)\n      return name\n    }\n\n    count = count || 0\n    for (var i = 0; i < count; ++i) {\n      arg()\n    }\n\n    var body = scope()\n    var bodyToString = body.toString\n\n    var result = procedures[name] = extend(body, {\n      arg: arg,\n      toString: function () {\n        return join([\n          'function(', args.join(), '){',\n          bodyToString(),\n          '}'\n        ])\n      }\n    })\n\n    return result\n  }\n\n  function compile () {\n    var code = ['\"use strict\";',\n      globalBlock,\n      'return {']\n    Object.keys(procedures).forEach(function (name) {\n      code.push('\"', name, '\":', procedures[name].toString(), ',')\n    })\n    code.push('}')\n    var src = join(code)\n      .replace(/;/g, ';\\n')\n      .replace(/}/g, '}\\n')\n      .replace(/{/g, '{\\n')\n    var proc = Function.apply(null, linkedNames.concat(src))\n    return proc.apply(null, linkedValues)\n  }\n\n  return {\n    global: globalBlock,\n    link: link,\n    block: block,\n    proc: proc,\n    scope: scope,\n    cond: conditional,\n    compile: compile\n  }\n}\n\n// \"cute\" names for vector components\nvar CUTE_COMPONENTS = 'xyzw'.split('')\n\nvar GL_UNSIGNED_BYTE$8 = 5121\n\nvar ATTRIB_STATE_POINTER = 1\nvar ATTRIB_STATE_CONSTANT = 2\n\nvar DYN_FUNC$1 = 0\nvar DYN_PROP$1 = 1\nvar DYN_CONTEXT$1 = 2\nvar DYN_STATE$1 = 3\nvar DYN_THUNK = 4\n\nvar S_DITHER = 'dither'\nvar S_BLEND_ENABLE = 'blend.enable'\nvar S_BLEND_COLOR = 'blend.color'\nvar S_BLEND_EQUATION = 'blend.equation'\nvar S_BLEND_FUNC = 'blend.func'\nvar S_DEPTH_ENABLE = 'depth.enable'\nvar S_DEPTH_FUNC = 'depth.func'\nvar S_DEPTH_RANGE = 'depth.range'\nvar S_DEPTH_MASK = 'depth.mask'\nvar S_COLOR_MASK = 'colorMask'\nvar S_CULL_ENABLE = 'cull.enable'\nvar S_CULL_FACE = 'cull.face'\nvar S_FRONT_FACE = 'frontFace'\nvar S_LINE_WIDTH = 'lineWidth'\nvar S_POLYGON_OFFSET_ENABLE = 'polygonOffset.enable'\nvar S_POLYGON_OFFSET_OFFSET = 'polygonOffset.offset'\nvar S_SAMPLE_ALPHA = 'sample.alpha'\nvar S_SAMPLE_ENABLE = 'sample.enable'\nvar S_SAMPLE_COVERAGE = 'sample.coverage'\nvar S_STENCIL_ENABLE = 'stencil.enable'\nvar S_STENCIL_MASK = 'stencil.mask'\nvar S_STENCIL_FUNC = 'stencil.func'\nvar S_STENCIL_OPFRONT = 'stencil.opFront'\nvar S_STENCIL_OPBACK = 'stencil.opBack'\nvar S_SCISSOR_ENABLE = 'scissor.enable'\nvar S_SCISSOR_BOX = 'scissor.box'\nvar S_VIEWPORT = 'viewport'\n\nvar S_PROFILE = 'profile'\n\nvar S_FRAMEBUFFER = 'framebuffer'\nvar S_VERT = 'vert'\nvar S_FRAG = 'frag'\nvar S_ELEMENTS = 'elements'\nvar S_PRIMITIVE = 'primitive'\nvar S_COUNT = 'count'\nvar S_OFFSET = 'offset'\nvar S_INSTANCES = 'instances'\nvar S_VAO = 'vao'\n\nvar SUFFIX_WIDTH = 'Width'\nvar SUFFIX_HEIGHT = 'Height'\n\nvar S_FRAMEBUFFER_WIDTH = S_FRAMEBUFFER + SUFFIX_WIDTH\nvar S_FRAMEBUFFER_HEIGHT = S_FRAMEBUFFER + SUFFIX_HEIGHT\nvar S_VIEWPORT_WIDTH = S_VIEWPORT + SUFFIX_WIDTH\nvar S_VIEWPORT_HEIGHT = S_VIEWPORT + SUFFIX_HEIGHT\nvar S_DRAWINGBUFFER = 'drawingBuffer'\nvar S_DRAWINGBUFFER_WIDTH = S_DRAWINGBUFFER + SUFFIX_WIDTH\nvar S_DRAWINGBUFFER_HEIGHT = S_DRAWINGBUFFER + SUFFIX_HEIGHT\n\nvar NESTED_OPTIONS = [\n  S_BLEND_FUNC,\n  S_BLEND_EQUATION,\n  S_STENCIL_FUNC,\n  S_STENCIL_OPFRONT,\n  S_STENCIL_OPBACK,\n  S_SAMPLE_COVERAGE,\n  S_VIEWPORT,\n  S_SCISSOR_BOX,\n  S_POLYGON_OFFSET_OFFSET\n]\n\nvar GL_ARRAY_BUFFER$2 = 34962\nvar GL_ELEMENT_ARRAY_BUFFER$1 = 34963\n\nvar GL_FRAGMENT_SHADER$1 = 35632\nvar GL_VERTEX_SHADER$1 = 35633\n\nvar GL_TEXTURE_2D$3 = 0x0DE1\nvar GL_TEXTURE_CUBE_MAP$2 = 0x8513\n\nvar GL_CULL_FACE = 0x0B44\nvar GL_BLEND = 0x0BE2\nvar GL_DITHER = 0x0BD0\nvar GL_STENCIL_TEST = 0x0B90\nvar GL_DEPTH_TEST = 0x0B71\nvar GL_SCISSOR_TEST = 0x0C11\nvar GL_POLYGON_OFFSET_FILL = 0x8037\nvar GL_SAMPLE_ALPHA_TO_COVERAGE = 0x809E\nvar GL_SAMPLE_COVERAGE = 0x80A0\n\nvar GL_FLOAT$8 = 5126\nvar GL_FLOAT_VEC2 = 35664\nvar GL_FLOAT_VEC3 = 35665\nvar GL_FLOAT_VEC4 = 35666\nvar GL_INT$3 = 5124\nvar GL_INT_VEC2 = 35667\nvar GL_INT_VEC3 = 35668\nvar GL_INT_VEC4 = 35669\nvar GL_BOOL = 35670\nvar GL_BOOL_VEC2 = 35671\nvar GL_BOOL_VEC3 = 35672\nvar GL_BOOL_VEC4 = 35673\nvar GL_FLOAT_MAT2 = 35674\nvar GL_FLOAT_MAT3 = 35675\nvar GL_FLOAT_MAT4 = 35676\nvar GL_SAMPLER_2D = 35678\nvar GL_SAMPLER_CUBE = 35680\n\nvar GL_TRIANGLES$1 = 4\n\nvar GL_FRONT = 1028\nvar GL_BACK = 1029\nvar GL_CW = 0x0900\nvar GL_CCW = 0x0901\nvar GL_MIN_EXT = 0x8007\nvar GL_MAX_EXT = 0x8008\nvar GL_ALWAYS = 519\nvar GL_KEEP = 7680\nvar GL_ZERO = 0\nvar GL_ONE = 1\nvar GL_FUNC_ADD = 0x8006\nvar GL_LESS = 513\n\nvar GL_FRAMEBUFFER$2 = 0x8D40\nvar GL_COLOR_ATTACHMENT0$2 = 0x8CE0\n\nvar blendFuncs = {\n  '0': 0,\n  '1': 1,\n  'zero': 0,\n  'one': 1,\n  'src color': 768,\n  'one minus src color': 769,\n  'src alpha': 770,\n  'one minus src alpha': 771,\n  'dst color': 774,\n  'one minus dst color': 775,\n  'dst alpha': 772,\n  'one minus dst alpha': 773,\n  'constant color': 32769,\n  'one minus constant color': 32770,\n  'constant alpha': 32771,\n  'one minus constant alpha': 32772,\n  'src alpha saturate': 776\n}\n\n// There are invalid values for srcRGB and dstRGB. See:\n// https://www.khronos.org/registry/webgl/specs/1.0/#6.13\n// https://github.com/KhronosGroup/WebGL/blob/0d3201f5f7ec3c0060bc1f04077461541f1987b9/conformance-suites/1.0.3/conformance/misc/webgl-specific.html#L56\nvar invalidBlendCombinations = [\n  'constant color, constant alpha',\n  'one minus constant color, constant alpha',\n  'constant color, one minus constant alpha',\n  'one minus constant color, one minus constant alpha',\n  'constant alpha, constant color',\n  'constant alpha, one minus constant color',\n  'one minus constant alpha, constant color',\n  'one minus constant alpha, one minus constant color'\n]\n\nvar compareFuncs = {\n  'never': 512,\n  'less': 513,\n  '<': 513,\n  'equal': 514,\n  '=': 514,\n  '==': 514,\n  '===': 514,\n  'lequal': 515,\n  '<=': 515,\n  'greater': 516,\n  '>': 516,\n  'notequal': 517,\n  '!=': 517,\n  '!==': 517,\n  'gequal': 518,\n  '>=': 518,\n  'always': 519\n}\n\nvar stencilOps = {\n  '0': 0,\n  'zero': 0,\n  'keep': 7680,\n  'replace': 7681,\n  'increment': 7682,\n  'decrement': 7683,\n  'increment wrap': 34055,\n  'decrement wrap': 34056,\n  'invert': 5386\n}\n\nvar shaderType = {\n  'frag': GL_FRAGMENT_SHADER$1,\n  'vert': GL_VERTEX_SHADER$1\n}\n\nvar orientationType = {\n  'cw': GL_CW,\n  'ccw': GL_CCW\n}\n\nfunction isBufferArgs (x) {\n  return Array.isArray(x) ||\n    isTypedArray(x) ||\n    isNDArrayLike(x)\n}\n\n// Make sure viewport is processed first\nfunction sortState (state) {\n  return state.sort(function (a, b) {\n    if (a === S_VIEWPORT) {\n      return -1\n    } else if (b === S_VIEWPORT) {\n      return 1\n    }\n    return (a < b) ? -1 : 1\n  })\n}\n\nfunction Declaration (thisDep, contextDep, propDep, append) {\n  this.thisDep = thisDep\n  this.contextDep = contextDep\n  this.propDep = propDep\n  this.append = append\n}\n\nfunction isStatic (decl) {\n  return decl && !(decl.thisDep || decl.contextDep || decl.propDep)\n}\n\nfunction createStaticDecl (append) {\n  return new Declaration(false, false, false, append)\n}\n\nfunction createDynamicDecl (dyn, append) {\n  var type = dyn.type\n  if (type === DYN_FUNC$1) {\n    var numArgs = dyn.data.length\n    return new Declaration(\n      true,\n      numArgs >= 1,\n      numArgs >= 2,\n      append)\n  } else if (type === DYN_THUNK) {\n    var data = dyn.data\n    return new Declaration(\n      data.thisDep,\n      data.contextDep,\n      data.propDep,\n      append)\n  } else {\n    return new Declaration(\n      type === DYN_STATE$1,\n      type === DYN_CONTEXT$1,\n      type === DYN_PROP$1,\n      append)\n  }\n}\n\nvar SCOPE_DECL = new Declaration(false, false, false, function () {})\n\nfunction reglCore (\n  gl,\n  stringStore,\n  extensions,\n  limits,\n  bufferState,\n  elementState,\n  textureState,\n  framebufferState,\n  uniformState,\n  attributeState,\n  shaderState,\n  drawState,\n  contextState,\n  timer,\n  config) {\n  var AttributeRecord = attributeState.Record\n\n  var blendEquations = {\n    'add': 32774,\n    'subtract': 32778,\n    'reverse subtract': 32779\n  }\n  if (extensions.ext_blend_minmax) {\n    blendEquations.min = GL_MIN_EXT\n    blendEquations.max = GL_MAX_EXT\n  }\n\n  var extInstancing = extensions.angle_instanced_arrays\n  var extDrawBuffers = extensions.webgl_draw_buffers\n\n  // ===================================================\n  // ===================================================\n  // WEBGL STATE\n  // ===================================================\n  // ===================================================\n  var currentState = {\n    dirty: true,\n    profile: config.profile\n  }\n  var nextState = {}\n  var GL_STATE_NAMES = []\n  var GL_FLAGS = {}\n  var GL_VARIABLES = {}\n\n  function propName (name) {\n    return name.replace('.', '_')\n  }\n\n  function stateFlag (sname, cap, init) {\n    var name = propName(sname)\n    GL_STATE_NAMES.push(sname)\n    nextState[name] = currentState[name] = !!init\n    GL_FLAGS[name] = cap\n  }\n\n  function stateVariable (sname, func, init) {\n    var name = propName(sname)\n    GL_STATE_NAMES.push(sname)\n    if (Array.isArray(init)) {\n      currentState[name] = init.slice()\n      nextState[name] = init.slice()\n    } else {\n      currentState[name] = nextState[name] = init\n    }\n    GL_VARIABLES[name] = func\n  }\n\n  // Dithering\n  stateFlag(S_DITHER, GL_DITHER)\n\n  // Blending\n  stateFlag(S_BLEND_ENABLE, GL_BLEND)\n  stateVariable(S_BLEND_COLOR, 'blendColor', [0, 0, 0, 0])\n  stateVariable(S_BLEND_EQUATION, 'blendEquationSeparate',\n    [GL_FUNC_ADD, GL_FUNC_ADD])\n  stateVariable(S_BLEND_FUNC, 'blendFuncSeparate',\n    [GL_ONE, GL_ZERO, GL_ONE, GL_ZERO])\n\n  // Depth\n  stateFlag(S_DEPTH_ENABLE, GL_DEPTH_TEST, true)\n  stateVariable(S_DEPTH_FUNC, 'depthFunc', GL_LESS)\n  stateVariable(S_DEPTH_RANGE, 'depthRange', [0, 1])\n  stateVariable(S_DEPTH_MASK, 'depthMask', true)\n\n  // Color mask\n  stateVariable(S_COLOR_MASK, S_COLOR_MASK, [true, true, true, true])\n\n  // Face culling\n  stateFlag(S_CULL_ENABLE, GL_CULL_FACE)\n  stateVariable(S_CULL_FACE, 'cullFace', GL_BACK)\n\n  // Front face orientation\n  stateVariable(S_FRONT_FACE, S_FRONT_FACE, GL_CCW)\n\n  // Line width\n  stateVariable(S_LINE_WIDTH, S_LINE_WIDTH, 1)\n\n  // Polygon offset\n  stateFlag(S_POLYGON_OFFSET_ENABLE, GL_POLYGON_OFFSET_FILL)\n  stateVariable(S_POLYGON_OFFSET_OFFSET, 'polygonOffset', [0, 0])\n\n  // Sample coverage\n  stateFlag(S_SAMPLE_ALPHA, GL_SAMPLE_ALPHA_TO_COVERAGE)\n  stateFlag(S_SAMPLE_ENABLE, GL_SAMPLE_COVERAGE)\n  stateVariable(S_SAMPLE_COVERAGE, 'sampleCoverage', [1, false])\n\n  // Stencil\n  stateFlag(S_STENCIL_ENABLE, GL_STENCIL_TEST)\n  stateVariable(S_STENCIL_MASK, 'stencilMask', -1)\n  stateVariable(S_STENCIL_FUNC, 'stencilFunc', [GL_ALWAYS, 0, -1])\n  stateVariable(S_STENCIL_OPFRONT, 'stencilOpSeparate',\n    [GL_FRONT, GL_KEEP, GL_KEEP, GL_KEEP])\n  stateVariable(S_STENCIL_OPBACK, 'stencilOpSeparate',\n    [GL_BACK, GL_KEEP, GL_KEEP, GL_KEEP])\n\n  // Scissor\n  stateFlag(S_SCISSOR_ENABLE, GL_SCISSOR_TEST)\n  stateVariable(S_SCISSOR_BOX, 'scissor',\n    [0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight])\n\n  // Viewport\n  stateVariable(S_VIEWPORT, S_VIEWPORT,\n    [0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight])\n\n  // ===================================================\n  // ===================================================\n  // ENVIRONMENT\n  // ===================================================\n  // ===================================================\n  var sharedState = {\n    gl: gl,\n    context: contextState,\n    strings: stringStore,\n    next: nextState,\n    current: currentState,\n    draw: drawState,\n    elements: elementState,\n    buffer: bufferState,\n    shader: shaderState,\n    attributes: attributeState.state,\n    vao: attributeState,\n    uniforms: uniformState,\n    framebuffer: framebufferState,\n    extensions: extensions,\n\n    timer: timer,\n    isBufferArgs: isBufferArgs\n  }\n\n  var sharedConstants = {\n    primTypes: primTypes,\n    compareFuncs: compareFuncs,\n    blendFuncs: blendFuncs,\n    blendEquations: blendEquations,\n    stencilOps: stencilOps,\n    glTypes: glTypes,\n    orientationType: orientationType\n  }\n\n  check$1.optional(function () {\n    sharedState.isArrayLike = isArrayLike\n  })\n\n  if (extDrawBuffers) {\n    sharedConstants.backBuffer = [GL_BACK]\n    sharedConstants.drawBuffer = loop(limits.maxDrawbuffers, function (i) {\n      if (i === 0) {\n        return [0]\n      }\n      return loop(i, function (j) {\n        return GL_COLOR_ATTACHMENT0$2 + j\n      })\n    })\n  }\n\n  var drawCallCounter = 0\n  function createREGLEnvironment () {\n    var env = createEnvironment()\n    var link = env.link\n    var global = env.global\n    env.id = drawCallCounter++\n\n    env.batchId = '0'\n\n    // link shared state\n    var SHARED = link(sharedState)\n    var shared = env.shared = {\n      props: 'a0'\n    }\n    Object.keys(sharedState).forEach(function (prop) {\n      shared[prop] = global.def(SHARED, '.', prop)\n    })\n\n    // Inject runtime assertion stuff for debug builds\n    check$1.optional(function () {\n      env.CHECK = link(check$1)\n      env.commandStr = check$1.guessCommand()\n      env.command = link(env.commandStr)\n      env.assert = function (block, pred, message) {\n        block(\n          'if(!(', pred, '))',\n          this.CHECK, '.commandRaise(', link(message), ',', this.command, ');')\n      }\n\n      sharedConstants.invalidBlendCombinations = invalidBlendCombinations\n    })\n\n    // Copy GL state variables over\n    var nextVars = env.next = {}\n    var currentVars = env.current = {}\n    Object.keys(GL_VARIABLES).forEach(function (variable) {\n      if (Array.isArray(currentState[variable])) {\n        nextVars[variable] = global.def(shared.next, '.', variable)\n        currentVars[variable] = global.def(shared.current, '.', variable)\n      }\n    })\n\n    // Initialize shared constants\n    var constants = env.constants = {}\n    Object.keys(sharedConstants).forEach(function (name) {\n      constants[name] = global.def(JSON.stringify(sharedConstants[name]))\n    })\n\n    // Helper function for calling a block\n    env.invoke = function (block, x) {\n      switch (x.type) {\n        case DYN_FUNC$1:\n          var argList = [\n            'this',\n            shared.context,\n            shared.props,\n            env.batchId\n          ]\n          return block.def(\n            link(x.data), '.call(',\n            argList.slice(0, Math.max(x.data.length + 1, 4)),\n            ')')\n        case DYN_PROP$1:\n          return block.def(shared.props, x.data)\n        case DYN_CONTEXT$1:\n          return block.def(shared.context, x.data)\n        case DYN_STATE$1:\n          return block.def('this', x.data)\n        case DYN_THUNK:\n          x.data.append(env, block)\n          return x.data.ref\n      }\n    }\n\n    env.attribCache = {}\n\n    var scopeAttribs = {}\n    env.scopeAttrib = function (name) {\n      var id = stringStore.id(name)\n      if (id in scopeAttribs) {\n        return scopeAttribs[id]\n      }\n      var binding = attributeState.scope[id]\n      if (!binding) {\n        binding = attributeState.scope[id] = new AttributeRecord()\n      }\n      var result = scopeAttribs[id] = link(binding)\n      return result\n    }\n\n    return env\n  }\n\n  // ===================================================\n  // ===================================================\n  // PARSING\n  // ===================================================\n  // ===================================================\n  function parseProfile (options) {\n    var staticOptions = options.static\n    var dynamicOptions = options.dynamic\n\n    var profileEnable\n    if (S_PROFILE in staticOptions) {\n      var value = !!staticOptions[S_PROFILE]\n      profileEnable = createStaticDecl(function (env, scope) {\n        return value\n      })\n      profileEnable.enable = value\n    } else if (S_PROFILE in dynamicOptions) {\n      var dyn = dynamicOptions[S_PROFILE]\n      profileEnable = createDynamicDecl(dyn, function (env, scope) {\n        return env.invoke(scope, dyn)\n      })\n    }\n\n    return profileEnable\n  }\n\n  function parseFramebuffer (options, env) {\n    var staticOptions = options.static\n    var dynamicOptions = options.dynamic\n\n    if (S_FRAMEBUFFER in staticOptions) {\n      var framebuffer = staticOptions[S_FRAMEBUFFER]\n      if (framebuffer) {\n        framebuffer = framebufferState.getFramebuffer(framebuffer)\n        check$1.command(framebuffer, 'invalid framebuffer object')\n        return createStaticDecl(function (env, block) {\n          var FRAMEBUFFER = env.link(framebuffer)\n          var shared = env.shared\n          block.set(\n            shared.framebuffer,\n            '.next',\n            FRAMEBUFFER)\n          var CONTEXT = shared.context\n          block.set(\n            CONTEXT,\n            '.' + S_FRAMEBUFFER_WIDTH,\n            FRAMEBUFFER + '.width')\n          block.set(\n            CONTEXT,\n            '.' + S_FRAMEBUFFER_HEIGHT,\n            FRAMEBUFFER + '.height')\n          return FRAMEBUFFER\n        })\n      } else {\n        return createStaticDecl(function (env, scope) {\n          var shared = env.shared\n          scope.set(\n            shared.framebuffer,\n            '.next',\n            'null')\n          var CONTEXT = shared.context\n          scope.set(\n            CONTEXT,\n            '.' + S_FRAMEBUFFER_WIDTH,\n            CONTEXT + '.' + S_DRAWINGBUFFER_WIDTH)\n          scope.set(\n            CONTEXT,\n            '.' + S_FRAMEBUFFER_HEIGHT,\n            CONTEXT + '.' + S_DRAWINGBUFFER_HEIGHT)\n          return 'null'\n        })\n      }\n    } else if (S_FRAMEBUFFER in dynamicOptions) {\n      var dyn = dynamicOptions[S_FRAMEBUFFER]\n      return createDynamicDecl(dyn, function (env, scope) {\n        var FRAMEBUFFER_FUNC = env.invoke(scope, dyn)\n        var shared = env.shared\n        var FRAMEBUFFER_STATE = shared.framebuffer\n        var FRAMEBUFFER = scope.def(\n          FRAMEBUFFER_STATE, '.getFramebuffer(', FRAMEBUFFER_FUNC, ')')\n\n        check$1.optional(function () {\n          env.assert(scope,\n            '!' + FRAMEBUFFER_FUNC + '||' + FRAMEBUFFER,\n            'invalid framebuffer object')\n        })\n\n        scope.set(\n          FRAMEBUFFER_STATE,\n          '.next',\n          FRAMEBUFFER)\n        var CONTEXT = shared.context\n        scope.set(\n          CONTEXT,\n          '.' + S_FRAMEBUFFER_WIDTH,\n          FRAMEBUFFER + '?' + FRAMEBUFFER + '.width:' +\n          CONTEXT + '.' + S_DRAWINGBUFFER_WIDTH)\n        scope.set(\n          CONTEXT,\n          '.' + S_FRAMEBUFFER_HEIGHT,\n          FRAMEBUFFER +\n          '?' + FRAMEBUFFER + '.height:' +\n          CONTEXT + '.' + S_DRAWINGBUFFER_HEIGHT)\n        return FRAMEBUFFER\n      })\n    } else {\n      return null\n    }\n  }\n\n  function parseViewportScissor (options, framebuffer, env) {\n    var staticOptions = options.static\n    var dynamicOptions = options.dynamic\n\n    function parseBox (param) {\n      if (param in staticOptions) {\n        var box = staticOptions[param]\n        check$1.commandType(box, 'object', 'invalid ' + param, env.commandStr)\n\n        var isStatic = true\n        var x = box.x | 0\n        var y = box.y | 0\n        var w, h\n        if ('width' in box) {\n          w = box.width | 0\n          check$1.command(w >= 0, 'invalid ' + param, env.commandStr)\n        } else {\n          isStatic = false\n        }\n        if ('height' in box) {\n          h = box.height | 0\n          check$1.command(h >= 0, 'invalid ' + param, env.commandStr)\n        } else {\n          isStatic = false\n        }\n\n        return new Declaration(\n          !isStatic && framebuffer && framebuffer.thisDep,\n          !isStatic && framebuffer && framebuffer.contextDep,\n          !isStatic && framebuffer && framebuffer.propDep,\n          function (env, scope) {\n            var CONTEXT = env.shared.context\n            var BOX_W = w\n            if (!('width' in box)) {\n              BOX_W = scope.def(CONTEXT, '.', S_FRAMEBUFFER_WIDTH, '-', x)\n            }\n            var BOX_H = h\n            if (!('height' in box)) {\n              BOX_H = scope.def(CONTEXT, '.', S_FRAMEBUFFER_HEIGHT, '-', y)\n            }\n            return [x, y, BOX_W, BOX_H]\n          })\n      } else if (param in dynamicOptions) {\n        var dynBox = dynamicOptions[param]\n        var result = createDynamicDecl(dynBox, function (env, scope) {\n          var BOX = env.invoke(scope, dynBox)\n\n          check$1.optional(function () {\n            env.assert(scope,\n              BOX + '&&typeof ' + BOX + '===\"object\"',\n              'invalid ' + param)\n          })\n\n          var CONTEXT = env.shared.context\n          var BOX_X = scope.def(BOX, '.x|0')\n          var BOX_Y = scope.def(BOX, '.y|0')\n          var BOX_W = scope.def(\n            '\"width\" in ', BOX, '?', BOX, '.width|0:',\n            '(', CONTEXT, '.', S_FRAMEBUFFER_WIDTH, '-', BOX_X, ')')\n          var BOX_H = scope.def(\n            '\"height\" in ', BOX, '?', BOX, '.height|0:',\n            '(', CONTEXT, '.', S_FRAMEBUFFER_HEIGHT, '-', BOX_Y, ')')\n\n          check$1.optional(function () {\n            env.assert(scope,\n              BOX_W + '>=0&&' +\n              BOX_H + '>=0',\n              'invalid ' + param)\n          })\n\n          return [BOX_X, BOX_Y, BOX_W, BOX_H]\n        })\n        if (framebuffer) {\n          result.thisDep = result.thisDep || framebuffer.thisDep\n          result.contextDep = result.contextDep || framebuffer.contextDep\n          result.propDep = result.propDep || framebuffer.propDep\n        }\n        return result\n      } else if (framebuffer) {\n        return new Declaration(\n          framebuffer.thisDep,\n          framebuffer.contextDep,\n          framebuffer.propDep,\n          function (env, scope) {\n            var CONTEXT = env.shared.context\n            return [\n              0, 0,\n              scope.def(CONTEXT, '.', S_FRAMEBUFFER_WIDTH),\n              scope.def(CONTEXT, '.', S_FRAMEBUFFER_HEIGHT)]\n          })\n      } else {\n        return null\n      }\n    }\n\n    var viewport = parseBox(S_VIEWPORT)\n\n    if (viewport) {\n      var prevViewport = viewport\n      viewport = new Declaration(\n        viewport.thisDep,\n        viewport.contextDep,\n        viewport.propDep,\n        function (env, scope) {\n          var VIEWPORT = prevViewport.append(env, scope)\n          var CONTEXT = env.shared.context\n          scope.set(\n            CONTEXT,\n            '.' + S_VIEWPORT_WIDTH,\n            VIEWPORT[2])\n          scope.set(\n            CONTEXT,\n            '.' + S_VIEWPORT_HEIGHT,\n            VIEWPORT[3])\n          return VIEWPORT\n        })\n    }\n\n    return {\n      viewport: viewport,\n      scissor_box: parseBox(S_SCISSOR_BOX)\n    }\n  }\n\n  function parseAttribLocations (options, attributes) {\n    var staticOptions = options.static\n    var staticProgram =\n      typeof staticOptions[S_FRAG] === 'string' &&\n      typeof staticOptions[S_VERT] === 'string'\n    if (staticProgram) {\n      if (Object.keys(attributes.dynamic).length > 0) {\n        return null\n      }\n      var staticAttributes = attributes.static\n      var sAttributes = Object.keys(staticAttributes)\n      if (sAttributes.length > 0 && typeof staticAttributes[sAttributes[0]] === 'number') {\n        var bindings = []\n        for (var i = 0; i < sAttributes.length; ++i) {\n          check$1(typeof staticAttributes[sAttributes[i]] === 'number', 'must specify all vertex attribute locations when using vaos')\n          bindings.push([staticAttributes[sAttributes[i]] | 0, sAttributes[i]])\n        }\n        return bindings\n      }\n    }\n    return null\n  }\n\n  function parseProgram (options, env, attribLocations) {\n    var staticOptions = options.static\n    var dynamicOptions = options.dynamic\n\n    function parseShader (name) {\n      if (name in staticOptions) {\n        var id = stringStore.id(staticOptions[name])\n        check$1.optional(function () {\n          shaderState.shader(shaderType[name], id, check$1.guessCommand())\n        })\n        var result = createStaticDecl(function () {\n          return id\n        })\n        result.id = id\n        return result\n      } else if (name in dynamicOptions) {\n        var dyn = dynamicOptions[name]\n        return createDynamicDecl(dyn, function (env, scope) {\n          var str = env.invoke(scope, dyn)\n          var id = scope.def(env.shared.strings, '.id(', str, ')')\n          check$1.optional(function () {\n            scope(\n              env.shared.shader, '.shader(',\n              shaderType[name], ',',\n              id, ',',\n              env.command, ');')\n          })\n          return id\n        })\n      }\n      return null\n    }\n\n    var frag = parseShader(S_FRAG)\n    var vert = parseShader(S_VERT)\n\n    var program = null\n    var progVar\n    if (isStatic(frag) && isStatic(vert)) {\n      program = shaderState.program(vert.id, frag.id, null, attribLocations)\n      progVar = createStaticDecl(function (env, scope) {\n        return env.link(program)\n      })\n    } else {\n      progVar = new Declaration(\n        (frag && frag.thisDep) || (vert && vert.thisDep),\n        (frag && frag.contextDep) || (vert && vert.contextDep),\n        (frag && frag.propDep) || (vert && vert.propDep),\n        function (env, scope) {\n          var SHADER_STATE = env.shared.shader\n          var fragId\n          if (frag) {\n            fragId = frag.append(env, scope)\n          } else {\n            fragId = scope.def(SHADER_STATE, '.', S_FRAG)\n          }\n          var vertId\n          if (vert) {\n            vertId = vert.append(env, scope)\n          } else {\n            vertId = scope.def(SHADER_STATE, '.', S_VERT)\n          }\n          var progDef = SHADER_STATE + '.program(' + vertId + ',' + fragId\n          check$1.optional(function () {\n            progDef += ',' + env.command\n          })\n          return scope.def(progDef + ')')\n        })\n    }\n\n    return {\n      frag: frag,\n      vert: vert,\n      progVar: progVar,\n      program: program\n    }\n  }\n\n  function parseDraw (options, env) {\n    var staticOptions = options.static\n    var dynamicOptions = options.dynamic\n\n    function parseElements () {\n      if (S_ELEMENTS in staticOptions) {\n        var elements = staticOptions[S_ELEMENTS]\n        if (isBufferArgs(elements)) {\n          elements = elementState.getElements(elementState.create(elements, true))\n        } else if (elements) {\n          elements = elementState.getElements(elements)\n          check$1.command(elements, 'invalid elements', env.commandStr)\n        }\n        var result = createStaticDecl(function (env, scope) {\n          if (elements) {\n            var result = env.link(elements)\n            env.ELEMENTS = result\n            return result\n          }\n          env.ELEMENTS = null\n          return null\n        })\n        result.value = elements\n        return result\n      } else if (S_ELEMENTS in dynamicOptions) {\n        var dyn = dynamicOptions[S_ELEMENTS]\n        return createDynamicDecl(dyn, function (env, scope) {\n          var shared = env.shared\n\n          var IS_BUFFER_ARGS = shared.isBufferArgs\n          var ELEMENT_STATE = shared.elements\n\n          var elementDefn = env.invoke(scope, dyn)\n          var elements = scope.def('null')\n          var elementStream = scope.def(IS_BUFFER_ARGS, '(', elementDefn, ')')\n\n          var ifte = env.cond(elementStream)\n            .then(elements, '=', ELEMENT_STATE, '.createStream(', elementDefn, ');')\n            .else(elements, '=', ELEMENT_STATE, '.getElements(', elementDefn, ');')\n\n          check$1.optional(function () {\n            env.assert(ifte.else,\n              '!' + elementDefn + '||' + elements,\n              'invalid elements')\n          })\n\n          scope.entry(ifte)\n          scope.exit(\n            env.cond(elementStream)\n              .then(ELEMENT_STATE, '.destroyStream(', elements, ');'))\n\n          env.ELEMENTS = elements\n\n          return elements\n        })\n      }\n\n      return null\n    }\n\n    var elements = parseElements()\n\n    function parsePrimitive () {\n      if (S_PRIMITIVE in staticOptions) {\n        var primitive = staticOptions[S_PRIMITIVE]\n        check$1.commandParameter(primitive, primTypes, 'invalid primitve', env.commandStr)\n        return createStaticDecl(function (env, scope) {\n          return primTypes[primitive]\n        })\n      } else if (S_PRIMITIVE in dynamicOptions) {\n        var dynPrimitive = dynamicOptions[S_PRIMITIVE]\n        return createDynamicDecl(dynPrimitive, function (env, scope) {\n          var PRIM_TYPES = env.constants.primTypes\n          var prim = env.invoke(scope, dynPrimitive)\n          check$1.optional(function () {\n            env.assert(scope,\n              prim + ' in ' + PRIM_TYPES,\n              'invalid primitive, must be one of ' + Object.keys(primTypes))\n          })\n          return scope.def(PRIM_TYPES, '[', prim, ']')\n        })\n      } else if (elements) {\n        if (isStatic(elements)) {\n          if (elements.value) {\n            return createStaticDecl(function (env, scope) {\n              return scope.def(env.ELEMENTS, '.primType')\n            })\n          } else {\n            return createStaticDecl(function () {\n              return GL_TRIANGLES$1\n            })\n          }\n        } else {\n          return new Declaration(\n            elements.thisDep,\n            elements.contextDep,\n            elements.propDep,\n            function (env, scope) {\n              var elements = env.ELEMENTS\n              return scope.def(elements, '?', elements, '.primType:', GL_TRIANGLES$1)\n            })\n        }\n      }\n      return null\n    }\n\n    function parseParam (param, isOffset) {\n      if (param in staticOptions) {\n        var value = staticOptions[param] | 0\n        check$1.command(!isOffset || value >= 0, 'invalid ' + param, env.commandStr)\n        return createStaticDecl(function (env, scope) {\n          if (isOffset) {\n            env.OFFSET = value\n          }\n          return value\n        })\n      } else if (param in dynamicOptions) {\n        var dynValue = dynamicOptions[param]\n        return createDynamicDecl(dynValue, function (env, scope) {\n          var result = env.invoke(scope, dynValue)\n          if (isOffset) {\n            env.OFFSET = result\n            check$1.optional(function () {\n              env.assert(scope,\n                result + '>=0',\n                'invalid ' + param)\n            })\n          }\n          return result\n        })\n      } else if (isOffset && elements) {\n        return createStaticDecl(function (env, scope) {\n          env.OFFSET = '0'\n          return 0\n        })\n      }\n      return null\n    }\n\n    var OFFSET = parseParam(S_OFFSET, true)\n\n    function parseVertCount () {\n      if (S_COUNT in staticOptions) {\n        var count = staticOptions[S_COUNT] | 0\n        check$1.command(\n          typeof count === 'number' && count >= 0, 'invalid vertex count', env.commandStr)\n        return createStaticDecl(function () {\n          return count\n        })\n      } else if (S_COUNT in dynamicOptions) {\n        var dynCount = dynamicOptions[S_COUNT]\n        return createDynamicDecl(dynCount, function (env, scope) {\n          var result = env.invoke(scope, dynCount)\n          check$1.optional(function () {\n            env.assert(scope,\n              'typeof ' + result + '===\"number\"&&' +\n              result + '>=0&&' +\n              result + '===(' + result + '|0)',\n              'invalid vertex count')\n          })\n          return result\n        })\n      } else if (elements) {\n        if (isStatic(elements)) {\n          if (elements) {\n            if (OFFSET) {\n              return new Declaration(\n                OFFSET.thisDep,\n                OFFSET.contextDep,\n                OFFSET.propDep,\n                function (env, scope) {\n                  var result = scope.def(\n                    env.ELEMENTS, '.vertCount-', env.OFFSET)\n\n                  check$1.optional(function () {\n                    env.assert(scope,\n                      result + '>=0',\n                      'invalid vertex offset/element buffer too small')\n                  })\n\n                  return result\n                })\n            } else {\n              return createStaticDecl(function (env, scope) {\n                return scope.def(env.ELEMENTS, '.vertCount')\n              })\n            }\n          } else {\n            var result = createStaticDecl(function () {\n              return -1\n            })\n            check$1.optional(function () {\n              result.MISSING = true\n            })\n            return result\n          }\n        } else {\n          var variable = new Declaration(\n            elements.thisDep || OFFSET.thisDep,\n            elements.contextDep || OFFSET.contextDep,\n            elements.propDep || OFFSET.propDep,\n            function (env, scope) {\n              var elements = env.ELEMENTS\n              if (env.OFFSET) {\n                return scope.def(elements, '?', elements, '.vertCount-',\n                  env.OFFSET, ':-1')\n              }\n              return scope.def(elements, '?', elements, '.vertCount:-1')\n            })\n          check$1.optional(function () {\n            variable.DYNAMIC = true\n          })\n          return variable\n        }\n      }\n      return null\n    }\n\n    return {\n      elements: elements,\n      primitive: parsePrimitive(),\n      count: parseVertCount(),\n      instances: parseParam(S_INSTANCES, false),\n      offset: OFFSET\n    }\n  }\n\n  function parseGLState (options, env) {\n    var staticOptions = options.static\n    var dynamicOptions = options.dynamic\n\n    var STATE = {}\n\n    GL_STATE_NAMES.forEach(function (prop) {\n      var param = propName(prop)\n\n      function parseParam (parseStatic, parseDynamic) {\n        if (prop in staticOptions) {\n          var value = parseStatic(staticOptions[prop])\n          STATE[param] = createStaticDecl(function () {\n            return value\n          })\n        } else if (prop in dynamicOptions) {\n          var dyn = dynamicOptions[prop]\n          STATE[param] = createDynamicDecl(dyn, function (env, scope) {\n            return parseDynamic(env, scope, env.invoke(scope, dyn))\n          })\n        }\n      }\n\n      switch (prop) {\n        case S_CULL_ENABLE:\n        case S_BLEND_ENABLE:\n        case S_DITHER:\n        case S_STENCIL_ENABLE:\n        case S_DEPTH_ENABLE:\n        case S_SCISSOR_ENABLE:\n        case S_POLYGON_OFFSET_ENABLE:\n        case S_SAMPLE_ALPHA:\n        case S_SAMPLE_ENABLE:\n        case S_DEPTH_MASK:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'boolean', prop, env.commandStr)\n              return value\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  'typeof ' + value + '===\"boolean\"',\n                  'invalid flag ' + prop, env.commandStr)\n              })\n              return value\n            })\n\n        case S_DEPTH_FUNC:\n          return parseParam(\n            function (value) {\n              check$1.commandParameter(value, compareFuncs, 'invalid ' + prop, env.commandStr)\n              return compareFuncs[value]\n            },\n            function (env, scope, value) {\n              var COMPARE_FUNCS = env.constants.compareFuncs\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + ' in ' + COMPARE_FUNCS,\n                  'invalid ' + prop + ', must be one of ' + Object.keys(compareFuncs))\n              })\n              return scope.def(COMPARE_FUNCS, '[', value, ']')\n            })\n\n        case S_DEPTH_RANGE:\n          return parseParam(\n            function (value) {\n              check$1.command(\n                isArrayLike(value) &&\n                value.length === 2 &&\n                typeof value[0] === 'number' &&\n                typeof value[1] === 'number' &&\n                value[0] <= value[1],\n                'depth range is 2d array',\n                env.commandStr)\n              return value\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  env.shared.isArrayLike + '(' + value + ')&&' +\n                  value + '.length===2&&' +\n                  'typeof ' + value + '[0]===\"number\"&&' +\n                  'typeof ' + value + '[1]===\"number\"&&' +\n                  value + '[0]<=' + value + '[1]',\n                  'depth range must be a 2d array')\n              })\n\n              var Z_NEAR = scope.def('+', value, '[0]')\n              var Z_FAR = scope.def('+', value, '[1]')\n              return [Z_NEAR, Z_FAR]\n            })\n\n        case S_BLEND_FUNC:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'object', 'blend.func', env.commandStr)\n              var srcRGB = ('srcRGB' in value ? value.srcRGB : value.src)\n              var srcAlpha = ('srcAlpha' in value ? value.srcAlpha : value.src)\n              var dstRGB = ('dstRGB' in value ? value.dstRGB : value.dst)\n              var dstAlpha = ('dstAlpha' in value ? value.dstAlpha : value.dst)\n              check$1.commandParameter(srcRGB, blendFuncs, param + '.srcRGB', env.commandStr)\n              check$1.commandParameter(srcAlpha, blendFuncs, param + '.srcAlpha', env.commandStr)\n              check$1.commandParameter(dstRGB, blendFuncs, param + '.dstRGB', env.commandStr)\n              check$1.commandParameter(dstAlpha, blendFuncs, param + '.dstAlpha', env.commandStr)\n\n              check$1.command(\n                (invalidBlendCombinations.indexOf(srcRGB + ', ' + dstRGB) === -1),\n                'unallowed blending combination (srcRGB, dstRGB) = (' + srcRGB + ', ' + dstRGB + ')', env.commandStr)\n\n              return [\n                blendFuncs[srcRGB],\n                blendFuncs[dstRGB],\n                blendFuncs[srcAlpha],\n                blendFuncs[dstAlpha]\n              ]\n            },\n            function (env, scope, value) {\n              var BLEND_FUNCS = env.constants.blendFuncs\n\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid blend func, must be an object')\n              })\n\n              function read (prefix, suffix) {\n                var func = scope.def(\n                  '\"', prefix, suffix, '\" in ', value,\n                  '?', value, '.', prefix, suffix,\n                  ':', value, '.', prefix)\n\n                check$1.optional(function () {\n                  env.assert(scope,\n                    func + ' in ' + BLEND_FUNCS,\n                    'invalid ' + prop + '.' + prefix + suffix + ', must be one of ' + Object.keys(blendFuncs))\n                })\n\n                return func\n              }\n\n              var srcRGB = read('src', 'RGB')\n              var dstRGB = read('dst', 'RGB')\n\n              check$1.optional(function () {\n                var INVALID_BLEND_COMBINATIONS = env.constants.invalidBlendCombinations\n\n                env.assert(scope,\n                  INVALID_BLEND_COMBINATIONS +\n                           '.indexOf(' + srcRGB + '+\", \"+' + dstRGB + ') === -1 ',\n                  'unallowed blending combination for (srcRGB, dstRGB)'\n                )\n              })\n\n              var SRC_RGB = scope.def(BLEND_FUNCS, '[', srcRGB, ']')\n              var SRC_ALPHA = scope.def(BLEND_FUNCS, '[', read('src', 'Alpha'), ']')\n              var DST_RGB = scope.def(BLEND_FUNCS, '[', dstRGB, ']')\n              var DST_ALPHA = scope.def(BLEND_FUNCS, '[', read('dst', 'Alpha'), ']')\n\n              return [SRC_RGB, DST_RGB, SRC_ALPHA, DST_ALPHA]\n            })\n\n        case S_BLEND_EQUATION:\n          return parseParam(\n            function (value) {\n              if (typeof value === 'string') {\n                check$1.commandParameter(value, blendEquations, 'invalid ' + prop, env.commandStr)\n                return [\n                  blendEquations[value],\n                  blendEquations[value]\n                ]\n              } else if (typeof value === 'object') {\n                check$1.commandParameter(\n                  value.rgb, blendEquations, prop + '.rgb', env.commandStr)\n                check$1.commandParameter(\n                  value.alpha, blendEquations, prop + '.alpha', env.commandStr)\n                return [\n                  blendEquations[value.rgb],\n                  blendEquations[value.alpha]\n                ]\n              } else {\n                check$1.commandRaise('invalid blend.equation', env.commandStr)\n              }\n            },\n            function (env, scope, value) {\n              var BLEND_EQUATIONS = env.constants.blendEquations\n\n              var RGB = scope.def()\n              var ALPHA = scope.def()\n\n              var ifte = env.cond('typeof ', value, '===\"string\"')\n\n              check$1.optional(function () {\n                function checkProp (block, name, value) {\n                  env.assert(block,\n                    value + ' in ' + BLEND_EQUATIONS,\n                    'invalid ' + name + ', must be one of ' + Object.keys(blendEquations))\n                }\n                checkProp(ifte.then, prop, value)\n\n                env.assert(ifte.else,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid ' + prop)\n                checkProp(ifte.else, prop + '.rgb', value + '.rgb')\n                checkProp(ifte.else, prop + '.alpha', value + '.alpha')\n              })\n\n              ifte.then(\n                RGB, '=', ALPHA, '=', BLEND_EQUATIONS, '[', value, '];')\n              ifte.else(\n                RGB, '=', BLEND_EQUATIONS, '[', value, '.rgb];',\n                ALPHA, '=', BLEND_EQUATIONS, '[', value, '.alpha];')\n\n              scope(ifte)\n\n              return [RGB, ALPHA]\n            })\n\n        case S_BLEND_COLOR:\n          return parseParam(\n            function (value) {\n              check$1.command(\n                isArrayLike(value) &&\n                value.length === 4,\n                'blend.color must be a 4d array', env.commandStr)\n              return loop(4, function (i) {\n                return +value[i]\n              })\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  env.shared.isArrayLike + '(' + value + ')&&' +\n                  value + '.length===4',\n                  'blend.color must be a 4d array')\n              })\n              return loop(4, function (i) {\n                return scope.def('+', value, '[', i, ']')\n              })\n            })\n\n        case S_STENCIL_MASK:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'number', param, env.commandStr)\n              return value | 0\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  'typeof ' + value + '===\"number\"',\n                  'invalid stencil.mask')\n              })\n              return scope.def(value, '|0')\n            })\n\n        case S_STENCIL_FUNC:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'object', param, env.commandStr)\n              var cmp = value.cmp || 'keep'\n              var ref = value.ref || 0\n              var mask = 'mask' in value ? value.mask : -1\n              check$1.commandParameter(cmp, compareFuncs, prop + '.cmp', env.commandStr)\n              check$1.commandType(ref, 'number', prop + '.ref', env.commandStr)\n              check$1.commandType(mask, 'number', prop + '.mask', env.commandStr)\n              return [\n                compareFuncs[cmp],\n                ref,\n                mask\n              ]\n            },\n            function (env, scope, value) {\n              var COMPARE_FUNCS = env.constants.compareFuncs\n              check$1.optional(function () {\n                function assert () {\n                  env.assert(scope,\n                    Array.prototype.join.call(arguments, ''),\n                    'invalid stencil.func')\n                }\n                assert(value + '&&typeof ', value, '===\"object\"')\n                assert('!(\"cmp\" in ', value, ')||(',\n                  value, '.cmp in ', COMPARE_FUNCS, ')')\n              })\n              var cmp = scope.def(\n                '\"cmp\" in ', value,\n                '?', COMPARE_FUNCS, '[', value, '.cmp]',\n                ':', GL_KEEP)\n              var ref = scope.def(value, '.ref|0')\n              var mask = scope.def(\n                '\"mask\" in ', value,\n                '?', value, '.mask|0:-1')\n              return [cmp, ref, mask]\n            })\n\n        case S_STENCIL_OPFRONT:\n        case S_STENCIL_OPBACK:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'object', param, env.commandStr)\n              var fail = value.fail || 'keep'\n              var zfail = value.zfail || 'keep'\n              var zpass = value.zpass || 'keep'\n              check$1.commandParameter(fail, stencilOps, prop + '.fail', env.commandStr)\n              check$1.commandParameter(zfail, stencilOps, prop + '.zfail', env.commandStr)\n              check$1.commandParameter(zpass, stencilOps, prop + '.zpass', env.commandStr)\n              return [\n                prop === S_STENCIL_OPBACK ? GL_BACK : GL_FRONT,\n                stencilOps[fail],\n                stencilOps[zfail],\n                stencilOps[zpass]\n              ]\n            },\n            function (env, scope, value) {\n              var STENCIL_OPS = env.constants.stencilOps\n\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid ' + prop)\n              })\n\n              function read (name) {\n                check$1.optional(function () {\n                  env.assert(scope,\n                    '!(\"' + name + '\" in ' + value + ')||' +\n                    '(' + value + '.' + name + ' in ' + STENCIL_OPS + ')',\n                    'invalid ' + prop + '.' + name + ', must be one of ' + Object.keys(stencilOps))\n                })\n\n                return scope.def(\n                  '\"', name, '\" in ', value,\n                  '?', STENCIL_OPS, '[', value, '.', name, ']:',\n                  GL_KEEP)\n              }\n\n              return [\n                prop === S_STENCIL_OPBACK ? GL_BACK : GL_FRONT,\n                read('fail'),\n                read('zfail'),\n                read('zpass')\n              ]\n            })\n\n        case S_POLYGON_OFFSET_OFFSET:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'object', param, env.commandStr)\n              var factor = value.factor | 0\n              var units = value.units | 0\n              check$1.commandType(factor, 'number', param + '.factor', env.commandStr)\n              check$1.commandType(units, 'number', param + '.units', env.commandStr)\n              return [factor, units]\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid ' + prop)\n              })\n\n              var FACTOR = scope.def(value, '.factor|0')\n              var UNITS = scope.def(value, '.units|0')\n\n              return [FACTOR, UNITS]\n            })\n\n        case S_CULL_FACE:\n          return parseParam(\n            function (value) {\n              var face = 0\n              if (value === 'front') {\n                face = GL_FRONT\n              } else if (value === 'back') {\n                face = GL_BACK\n              }\n              check$1.command(!!face, param, env.commandStr)\n              return face\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '===\"front\"||' +\n                  value + '===\"back\"',\n                  'invalid cull.face')\n              })\n              return scope.def(value, '===\"front\"?', GL_FRONT, ':', GL_BACK)\n            })\n\n        case S_LINE_WIDTH:\n          return parseParam(\n            function (value) {\n              check$1.command(\n                typeof value === 'number' &&\n                value >= limits.lineWidthDims[0] &&\n                value <= limits.lineWidthDims[1],\n                'invalid line width, must be a positive number between ' +\n                limits.lineWidthDims[0] + ' and ' + limits.lineWidthDims[1], env.commandStr)\n              return value\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  'typeof ' + value + '===\"number\"&&' +\n                  value + '>=' + limits.lineWidthDims[0] + '&&' +\n                  value + '<=' + limits.lineWidthDims[1],\n                  'invalid line width')\n              })\n\n              return value\n            })\n\n        case S_FRONT_FACE:\n          return parseParam(\n            function (value) {\n              check$1.commandParameter(value, orientationType, param, env.commandStr)\n              return orientationType[value]\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '===\"cw\"||' +\n                  value + '===\"ccw\"',\n                  'invalid frontFace, must be one of cw,ccw')\n              })\n              return scope.def(value + '===\"cw\"?' + GL_CW + ':' + GL_CCW)\n            })\n\n        case S_COLOR_MASK:\n          return parseParam(\n            function (value) {\n              check$1.command(\n                isArrayLike(value) && value.length === 4,\n                'color.mask must be length 4 array', env.commandStr)\n              return value.map(function (v) { return !!v })\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  env.shared.isArrayLike + '(' + value + ')&&' +\n                  value + '.length===4',\n                  'invalid color.mask')\n              })\n              return loop(4, function (i) {\n                return '!!' + value + '[' + i + ']'\n              })\n            })\n\n        case S_SAMPLE_COVERAGE:\n          return parseParam(\n            function (value) {\n              check$1.command(typeof value === 'object' && value, param, env.commandStr)\n              var sampleValue = 'value' in value ? value.value : 1\n              var sampleInvert = !!value.invert\n              check$1.command(\n                typeof sampleValue === 'number' &&\n                sampleValue >= 0 && sampleValue <= 1,\n                'sample.coverage.value must be a number between 0 and 1', env.commandStr)\n              return [sampleValue, sampleInvert]\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid sample.coverage')\n              })\n              var VALUE = scope.def(\n                '\"value\" in ', value, '?+', value, '.value:1')\n              var INVERT = scope.def('!!', value, '.invert')\n              return [VALUE, INVERT]\n            })\n      }\n    })\n\n    return STATE\n  }\n\n  function parseUniforms (uniforms, env) {\n    var staticUniforms = uniforms.static\n    var dynamicUniforms = uniforms.dynamic\n\n    var UNIFORMS = {}\n\n    Object.keys(staticUniforms).forEach(function (name) {\n      var value = staticUniforms[name]\n      var result\n      if (typeof value === 'number' ||\n          typeof value === 'boolean') {\n        result = createStaticDecl(function () {\n          return value\n        })\n      } else if (typeof value === 'function') {\n        var reglType = value._reglType\n        if (reglType === 'texture2d' ||\n            reglType === 'textureCube') {\n          result = createStaticDecl(function (env) {\n            return env.link(value)\n          })\n        } else if (reglType === 'framebuffer' ||\n                   reglType === 'framebufferCube') {\n          check$1.command(value.color.length > 0,\n            'missing color attachment for framebuffer sent to uniform \"' + name + '\"', env.commandStr)\n          result = createStaticDecl(function (env) {\n            return env.link(value.color[0])\n          })\n        } else {\n          check$1.commandRaise('invalid data for uniform \"' + name + '\"', env.commandStr)\n        }\n      } else if (isArrayLike(value)) {\n        result = createStaticDecl(function (env) {\n          var ITEM = env.global.def('[',\n            loop(value.length, function (i) {\n              check$1.command(\n                typeof value[i] === 'number' ||\n                typeof value[i] === 'boolean',\n                'invalid uniform ' + name, env.commandStr)\n              return value[i]\n            }), ']')\n          return ITEM\n        })\n      } else {\n        check$1.commandRaise('invalid or missing data for uniform \"' + name + '\"', env.commandStr)\n      }\n      result.value = value\n      UNIFORMS[name] = result\n    })\n\n    Object.keys(dynamicUniforms).forEach(function (key) {\n      var dyn = dynamicUniforms[key]\n      UNIFORMS[key] = createDynamicDecl(dyn, function (env, scope) {\n        return env.invoke(scope, dyn)\n      })\n    })\n\n    return UNIFORMS\n  }\n\n  function parseAttributes (attributes, env) {\n    var staticAttributes = attributes.static\n    var dynamicAttributes = attributes.dynamic\n\n    var attributeDefs = {}\n\n    Object.keys(staticAttributes).forEach(function (attribute) {\n      var value = staticAttributes[attribute]\n      var id = stringStore.id(attribute)\n\n      var record = new AttributeRecord()\n      if (isBufferArgs(value)) {\n        record.state = ATTRIB_STATE_POINTER\n        record.buffer = bufferState.getBuffer(\n          bufferState.create(value, GL_ARRAY_BUFFER$2, false, true))\n        record.type = 0\n      } else {\n        var buffer = bufferState.getBuffer(value)\n        if (buffer) {\n          record.state = ATTRIB_STATE_POINTER\n          record.buffer = buffer\n          record.type = 0\n        } else {\n          check$1.command(typeof value === 'object' && value,\n            'invalid data for attribute ' + attribute, env.commandStr)\n          if ('constant' in value) {\n            var constant = value.constant\n            record.buffer = 'null'\n            record.state = ATTRIB_STATE_CONSTANT\n            if (typeof constant === 'number') {\n              record.x = constant\n            } else {\n              check$1.command(\n                isArrayLike(constant) &&\n                constant.length > 0 &&\n                constant.length <= 4,\n                'invalid constant for attribute ' + attribute, env.commandStr)\n              CUTE_COMPONENTS.forEach(function (c, i) {\n                if (i < constant.length) {\n                  record[c] = constant[i]\n                }\n              })\n            }\n          } else {\n            if (isBufferArgs(value.buffer)) {\n              buffer = bufferState.getBuffer(\n                bufferState.create(value.buffer, GL_ARRAY_BUFFER$2, false, true))\n            } else {\n              buffer = bufferState.getBuffer(value.buffer)\n            }\n            check$1.command(!!buffer, 'missing buffer for attribute \"' + attribute + '\"', env.commandStr)\n\n            var offset = value.offset | 0\n            check$1.command(offset >= 0,\n              'invalid offset for attribute \"' + attribute + '\"', env.commandStr)\n\n            var stride = value.stride | 0\n            check$1.command(stride >= 0 && stride < 256,\n              'invalid stride for attribute \"' + attribute + '\", must be integer betweeen [0, 255]', env.commandStr)\n\n            var size = value.size | 0\n            check$1.command(!('size' in value) || (size > 0 && size <= 4),\n              'invalid size for attribute \"' + attribute + '\", must be 1,2,3,4', env.commandStr)\n\n            var normalized = !!value.normalized\n\n            var type = 0\n            if ('type' in value) {\n              check$1.commandParameter(\n                value.type, glTypes,\n                'invalid type for attribute ' + attribute, env.commandStr)\n              type = glTypes[value.type]\n            }\n\n            var divisor = value.divisor | 0\n            if ('divisor' in value) {\n              check$1.command(divisor === 0 || extInstancing,\n                'cannot specify divisor for attribute \"' + attribute + '\", instancing not supported', env.commandStr)\n              check$1.command(divisor >= 0,\n                'invalid divisor for attribute \"' + attribute + '\"', env.commandStr)\n            }\n\n            check$1.optional(function () {\n              var command = env.commandStr\n\n              var VALID_KEYS = [\n                'buffer',\n                'offset',\n                'divisor',\n                'normalized',\n                'type',\n                'size',\n                'stride'\n              ]\n\n              Object.keys(value).forEach(function (prop) {\n                check$1.command(\n                  VALID_KEYS.indexOf(prop) >= 0,\n                  'unknown parameter \"' + prop + '\" for attribute pointer \"' + attribute + '\" (valid parameters are ' + VALID_KEYS + ')',\n                  command)\n              })\n            })\n\n            record.buffer = buffer\n            record.state = ATTRIB_STATE_POINTER\n            record.size = size\n            record.normalized = normalized\n            record.type = type || buffer.dtype\n            record.offset = offset\n            record.stride = stride\n            record.divisor = divisor\n          }\n        }\n      }\n\n      attributeDefs[attribute] = createStaticDecl(function (env, scope) {\n        var cache = env.attribCache\n        if (id in cache) {\n          return cache[id]\n        }\n        var result = {\n          isStream: false\n        }\n        Object.keys(record).forEach(function (key) {\n          result[key] = record[key]\n        })\n        if (record.buffer) {\n          result.buffer = env.link(record.buffer)\n          result.type = result.type || (result.buffer + '.dtype')\n        }\n        cache[id] = result\n        return result\n      })\n    })\n\n    Object.keys(dynamicAttributes).forEach(function (attribute) {\n      var dyn = dynamicAttributes[attribute]\n\n      function appendAttributeCode (env, block) {\n        var VALUE = env.invoke(block, dyn)\n\n        var shared = env.shared\n        var constants = env.constants\n\n        var IS_BUFFER_ARGS = shared.isBufferArgs\n        var BUFFER_STATE = shared.buffer\n\n        // Perform validation on attribute\n        check$1.optional(function () {\n          env.assert(block,\n            VALUE + '&&(typeof ' + VALUE + '===\"object\"||typeof ' +\n            VALUE + '===\"function\")&&(' +\n            IS_BUFFER_ARGS + '(' + VALUE + ')||' +\n            BUFFER_STATE + '.getBuffer(' + VALUE + ')||' +\n            BUFFER_STATE + '.getBuffer(' + VALUE + '.buffer)||' +\n            IS_BUFFER_ARGS + '(' + VALUE + '.buffer)||' +\n            '(\"constant\" in ' + VALUE +\n            '&&(typeof ' + VALUE + '.constant===\"number\"||' +\n            shared.isArrayLike + '(' + VALUE + '.constant))))',\n            'invalid dynamic attribute \"' + attribute + '\"')\n        })\n\n        // allocate names for result\n        var result = {\n          isStream: block.def(false)\n        }\n        var defaultRecord = new AttributeRecord()\n        defaultRecord.state = ATTRIB_STATE_POINTER\n        Object.keys(defaultRecord).forEach(function (key) {\n          result[key] = block.def('' + defaultRecord[key])\n        })\n\n        var BUFFER = result.buffer\n        var TYPE = result.type\n        block(\n          'if(', IS_BUFFER_ARGS, '(', VALUE, ')){',\n          result.isStream, '=true;',\n          BUFFER, '=', BUFFER_STATE, '.createStream(', GL_ARRAY_BUFFER$2, ',', VALUE, ');',\n          TYPE, '=', BUFFER, '.dtype;',\n          '}else{',\n          BUFFER, '=', BUFFER_STATE, '.getBuffer(', VALUE, ');',\n          'if(', BUFFER, '){',\n          TYPE, '=', BUFFER, '.dtype;',\n          '}else if(\"constant\" in ', VALUE, '){',\n          result.state, '=', ATTRIB_STATE_CONSTANT, ';',\n          'if(typeof ' + VALUE + '.constant === \"number\"){',\n          result[CUTE_COMPONENTS[0]], '=', VALUE, '.constant;',\n          CUTE_COMPONENTS.slice(1).map(function (n) {\n            return result[n]\n          }).join('='), '=0;',\n          '}else{',\n          CUTE_COMPONENTS.map(function (name, i) {\n            return (\n              result[name] + '=' + VALUE + '.constant.length>' + i +\n              '?' + VALUE + '.constant[' + i + ']:0;'\n            )\n          }).join(''),\n          '}}else{',\n          'if(', IS_BUFFER_ARGS, '(', VALUE, '.buffer)){',\n          BUFFER, '=', BUFFER_STATE, '.createStream(', GL_ARRAY_BUFFER$2, ',', VALUE, '.buffer);',\n          '}else{',\n          BUFFER, '=', BUFFER_STATE, '.getBuffer(', VALUE, '.buffer);',\n          '}',\n          TYPE, '=\"type\" in ', VALUE, '?',\n          constants.glTypes, '[', VALUE, '.type]:', BUFFER, '.dtype;',\n          result.normalized, '=!!', VALUE, '.normalized;')\n        function emitReadRecord (name) {\n          block(result[name], '=', VALUE, '.', name, '|0;')\n        }\n        emitReadRecord('size')\n        emitReadRecord('offset')\n        emitReadRecord('stride')\n        emitReadRecord('divisor')\n\n        block('}}')\n\n        block.exit(\n          'if(', result.isStream, '){',\n          BUFFER_STATE, '.destroyStream(', BUFFER, ');',\n          '}')\n\n        return result\n      }\n\n      attributeDefs[attribute] = createDynamicDecl(dyn, appendAttributeCode)\n    })\n\n    return attributeDefs\n  }\n\n  function parseVAO (options, env) {\n    var staticOptions = options.static\n    var dynamicOptions = options.dynamic\n    if (S_VAO in staticOptions) {\n      var vao = staticOptions[S_VAO]\n      if (vao !== null && attributeState.getVAO(vao) === null) {\n        vao = attributeState.createVAO(vao)\n      }\n      return createStaticDecl(function (env) {\n        return env.link(attributeState.getVAO(vao))\n      })\n    } else if (S_VAO in dynamicOptions) {\n      var dyn = dynamicOptions[S_VAO]\n      return createDynamicDecl(dyn, function (env, scope) {\n        var vaoRef = env.invoke(scope, dyn)\n        return scope.def(env.shared.vao + '.getVAO(' + vaoRef + ')')\n      })\n    }\n    return null\n  }\n\n  function parseContext (context) {\n    var staticContext = context.static\n    var dynamicContext = context.dynamic\n    var result = {}\n\n    Object.keys(staticContext).forEach(function (name) {\n      var value = staticContext[name]\n      result[name] = createStaticDecl(function (env, scope) {\n        if (typeof value === 'number' || typeof value === 'boolean') {\n          return '' + value\n        } else {\n          return env.link(value)\n        }\n      })\n    })\n\n    Object.keys(dynamicContext).forEach(function (name) {\n      var dyn = dynamicContext[name]\n      result[name] = createDynamicDecl(dyn, function (env, scope) {\n        return env.invoke(scope, dyn)\n      })\n    })\n\n    return result\n  }\n\n  function parseArguments (options, attributes, uniforms, context, env) {\n    var staticOptions = options.static\n    var dynamicOptions = options.dynamic\n\n    check$1.optional(function () {\n      var KEY_NAMES = [\n        S_FRAMEBUFFER,\n        S_VERT,\n        S_FRAG,\n        S_ELEMENTS,\n        S_PRIMITIVE,\n        S_OFFSET,\n        S_COUNT,\n        S_INSTANCES,\n        S_PROFILE,\n        S_VAO\n      ].concat(GL_STATE_NAMES)\n\n      function checkKeys (dict) {\n        Object.keys(dict).forEach(function (key) {\n          check$1.command(\n            KEY_NAMES.indexOf(key) >= 0,\n            'unknown parameter \"' + key + '\"',\n            env.commandStr)\n        })\n      }\n\n      checkKeys(staticOptions)\n      checkKeys(dynamicOptions)\n    })\n\n    var attribLocations = parseAttribLocations(options, attributes)\n\n    var framebuffer = parseFramebuffer(options, env)\n    var viewportAndScissor = parseViewportScissor(options, framebuffer, env)\n    var draw = parseDraw(options, env)\n    var state = parseGLState(options, env)\n    var shader = parseProgram(options, env, attribLocations)\n\n    function copyBox (name) {\n      var defn = viewportAndScissor[name]\n      if (defn) {\n        state[name] = defn\n      }\n    }\n    copyBox(S_VIEWPORT)\n    copyBox(propName(S_SCISSOR_BOX))\n\n    var dirty = Object.keys(state).length > 0\n\n    var result = {\n      framebuffer: framebuffer,\n      draw: draw,\n      shader: shader,\n      state: state,\n      dirty: dirty,\n      scopeVAO: null,\n      drawVAO: null,\n      useVAO: false,\n      attributes: {}\n    }\n\n    result.profile = parseProfile(options, env)\n    result.uniforms = parseUniforms(uniforms, env)\n    result.drawVAO = result.scopeVAO = parseVAO(options, env)\n    // special case: check if we can statically allocate a vertex array object for this program\n    if (!result.drawVAO && shader.program && !attribLocations && extensions.angle_instanced_arrays) {\n      var useVAO = true\n      var staticBindings = shader.program.attributes.map(function (attr) {\n        var binding = attributes.static[attr]\n        useVAO = useVAO && !!binding\n        return binding\n      })\n      if (useVAO && staticBindings.length > 0) {\n        var vao = attributeState.getVAO(attributeState.createVAO(staticBindings))\n        result.drawVAO = new Declaration(null, null, null, function (env, scope) {\n          return env.link(vao)\n        })\n        result.useVAO = true\n      }\n    }\n    if (attribLocations) {\n      result.useVAO = true\n    } else {\n      result.attributes = parseAttributes(attributes, env)\n    }\n    result.context = parseContext(context, env)\n    return result\n  }\n\n  // ===================================================\n  // ===================================================\n  // COMMON UPDATE FUNCTIONS\n  // ===================================================\n  // ===================================================\n  function emitContext (env, scope, context) {\n    var shared = env.shared\n    var CONTEXT = shared.context\n\n    var contextEnter = env.scope()\n\n    Object.keys(context).forEach(function (name) {\n      scope.save(CONTEXT, '.' + name)\n      var defn = context[name]\n      contextEnter(CONTEXT, '.', name, '=', defn.append(env, scope), ';')\n    })\n\n    scope(contextEnter)\n  }\n\n  // ===================================================\n  // ===================================================\n  // COMMON DRAWING FUNCTIONS\n  // ===================================================\n  // ===================================================\n  function emitPollFramebuffer (env, scope, framebuffer, skipCheck) {\n    var shared = env.shared\n\n    var GL = shared.gl\n    var FRAMEBUFFER_STATE = shared.framebuffer\n    var EXT_DRAW_BUFFERS\n    if (extDrawBuffers) {\n      EXT_DRAW_BUFFERS = scope.def(shared.extensions, '.webgl_draw_buffers')\n    }\n\n    var constants = env.constants\n\n    var DRAW_BUFFERS = constants.drawBuffer\n    var BACK_BUFFER = constants.backBuffer\n\n    var NEXT\n    if (framebuffer) {\n      NEXT = framebuffer.append(env, scope)\n    } else {\n      NEXT = scope.def(FRAMEBUFFER_STATE, '.next')\n    }\n\n    if (!skipCheck) {\n      scope('if(', NEXT, '!==', FRAMEBUFFER_STATE, '.cur){')\n    }\n    scope(\n      'if(', NEXT, '){',\n      GL, '.bindFramebuffer(', GL_FRAMEBUFFER$2, ',', NEXT, '.framebuffer);')\n    if (extDrawBuffers) {\n      scope(EXT_DRAW_BUFFERS, '.drawBuffersWEBGL(',\n        DRAW_BUFFERS, '[', NEXT, '.colorAttachments.length]);')\n    }\n    scope('}else{',\n      GL, '.bindFramebuffer(', GL_FRAMEBUFFER$2, ',null);')\n    if (extDrawBuffers) {\n      scope(EXT_DRAW_BUFFERS, '.drawBuffersWEBGL(', BACK_BUFFER, ');')\n    }\n    scope(\n      '}',\n      FRAMEBUFFER_STATE, '.cur=', NEXT, ';')\n    if (!skipCheck) {\n      scope('}')\n    }\n  }\n\n  function emitPollState (env, scope, args) {\n    var shared = env.shared\n\n    var GL = shared.gl\n\n    var CURRENT_VARS = env.current\n    var NEXT_VARS = env.next\n    var CURRENT_STATE = shared.current\n    var NEXT_STATE = shared.next\n\n    var block = env.cond(CURRENT_STATE, '.dirty')\n\n    GL_STATE_NAMES.forEach(function (prop) {\n      var param = propName(prop)\n      if (param in args.state) {\n        return\n      }\n\n      var NEXT, CURRENT\n      if (param in NEXT_VARS) {\n        NEXT = NEXT_VARS[param]\n        CURRENT = CURRENT_VARS[param]\n        var parts = loop(currentState[param].length, function (i) {\n          return block.def(NEXT, '[', i, ']')\n        })\n        block(env.cond(parts.map(function (p, i) {\n          return p + '!==' + CURRENT + '[' + i + ']'\n        }).join('||'))\n          .then(\n            GL, '.', GL_VARIABLES[param], '(', parts, ');',\n            parts.map(function (p, i) {\n              return CURRENT + '[' + i + ']=' + p\n            }).join(';'), ';'))\n      } else {\n        NEXT = block.def(NEXT_STATE, '.', param)\n        var ifte = env.cond(NEXT, '!==', CURRENT_STATE, '.', param)\n        block(ifte)\n        if (param in GL_FLAGS) {\n          ifte(\n            env.cond(NEXT)\n              .then(GL, '.enable(', GL_FLAGS[param], ');')\n              .else(GL, '.disable(', GL_FLAGS[param], ');'),\n            CURRENT_STATE, '.', param, '=', NEXT, ';')\n        } else {\n          ifte(\n            GL, '.', GL_VARIABLES[param], '(', NEXT, ');',\n            CURRENT_STATE, '.', param, '=', NEXT, ';')\n        }\n      }\n    })\n    if (Object.keys(args.state).length === 0) {\n      block(CURRENT_STATE, '.dirty=false;')\n    }\n    scope(block)\n  }\n\n  function emitSetOptions (env, scope, options, filter) {\n    var shared = env.shared\n    var CURRENT_VARS = env.current\n    var CURRENT_STATE = shared.current\n    var GL = shared.gl\n    sortState(Object.keys(options)).forEach(function (param) {\n      var defn = options[param]\n      if (filter && !filter(defn)) {\n        return\n      }\n      var variable = defn.append(env, scope)\n      if (GL_FLAGS[param]) {\n        var flag = GL_FLAGS[param]\n        if (isStatic(defn)) {\n          if (variable) {\n            scope(GL, '.enable(', flag, ');')\n          } else {\n            scope(GL, '.disable(', flag, ');')\n          }\n        } else {\n          scope(env.cond(variable)\n            .then(GL, '.enable(', flag, ');')\n            .else(GL, '.disable(', flag, ');'))\n        }\n        scope(CURRENT_STATE, '.', param, '=', variable, ';')\n      } else if (isArrayLike(variable)) {\n        var CURRENT = CURRENT_VARS[param]\n        scope(\n          GL, '.', GL_VARIABLES[param], '(', variable, ');',\n          variable.map(function (v, i) {\n            return CURRENT + '[' + i + ']=' + v\n          }).join(';'), ';')\n      } else {\n        scope(\n          GL, '.', GL_VARIABLES[param], '(', variable, ');',\n          CURRENT_STATE, '.', param, '=', variable, ';')\n      }\n    })\n  }\n\n  function injectExtensions (env, scope) {\n    if (extInstancing) {\n      env.instancing = scope.def(\n        env.shared.extensions, '.angle_instanced_arrays')\n    }\n  }\n\n  function emitProfile (env, scope, args, useScope, incrementCounter) {\n    var shared = env.shared\n    var STATS = env.stats\n    var CURRENT_STATE = shared.current\n    var TIMER = shared.timer\n    var profileArg = args.profile\n\n    function perfCounter () {\n      if (typeof performance === 'undefined') {\n        return 'Date.now()'\n      } else {\n        return 'performance.now()'\n      }\n    }\n\n    var CPU_START, QUERY_COUNTER\n    function emitProfileStart (block) {\n      CPU_START = scope.def()\n      block(CPU_START, '=', perfCounter(), ';')\n      if (typeof incrementCounter === 'string') {\n        block(STATS, '.count+=', incrementCounter, ';')\n      } else {\n        block(STATS, '.count++;')\n      }\n      if (timer) {\n        if (useScope) {\n          QUERY_COUNTER = scope.def()\n          block(QUERY_COUNTER, '=', TIMER, '.getNumPendingQueries();')\n        } else {\n          block(TIMER, '.beginQuery(', STATS, ');')\n        }\n      }\n    }\n\n    function emitProfileEnd (block) {\n      block(STATS, '.cpuTime+=', perfCounter(), '-', CPU_START, ';')\n      if (timer) {\n        if (useScope) {\n          block(TIMER, '.pushScopeStats(',\n            QUERY_COUNTER, ',',\n            TIMER, '.getNumPendingQueries(),',\n            STATS, ');')\n        } else {\n          block(TIMER, '.endQuery();')\n        }\n      }\n    }\n\n    function scopeProfile (value) {\n      var prev = scope.def(CURRENT_STATE, '.profile')\n      scope(CURRENT_STATE, '.profile=', value, ';')\n      scope.exit(CURRENT_STATE, '.profile=', prev, ';')\n    }\n\n    var USE_PROFILE\n    if (profileArg) {\n      if (isStatic(profileArg)) {\n        if (profileArg.enable) {\n          emitProfileStart(scope)\n          emitProfileEnd(scope.exit)\n          scopeProfile('true')\n        } else {\n          scopeProfile('false')\n        }\n        return\n      }\n      USE_PROFILE = profileArg.append(env, scope)\n      scopeProfile(USE_PROFILE)\n    } else {\n      USE_PROFILE = scope.def(CURRENT_STATE, '.profile')\n    }\n\n    var start = env.block()\n    emitProfileStart(start)\n    scope('if(', USE_PROFILE, '){', start, '}')\n    var end = env.block()\n    emitProfileEnd(end)\n    scope.exit('if(', USE_PROFILE, '){', end, '}')\n  }\n\n  function emitAttributes (env, scope, args, attributes, filter) {\n    var shared = env.shared\n\n    function typeLength (x) {\n      switch (x) {\n        case GL_FLOAT_VEC2:\n        case GL_INT_VEC2:\n        case GL_BOOL_VEC2:\n          return 2\n        case GL_FLOAT_VEC3:\n        case GL_INT_VEC3:\n        case GL_BOOL_VEC3:\n          return 3\n        case GL_FLOAT_VEC4:\n        case GL_INT_VEC4:\n        case GL_BOOL_VEC4:\n          return 4\n        default:\n          return 1\n      }\n    }\n\n    function emitBindAttribute (ATTRIBUTE, size, record) {\n      var GL = shared.gl\n\n      var LOCATION = scope.def(ATTRIBUTE, '.location')\n      var BINDING = scope.def(shared.attributes, '[', LOCATION, ']')\n\n      var STATE = record.state\n      var BUFFER = record.buffer\n      var CONST_COMPONENTS = [\n        record.x,\n        record.y,\n        record.z,\n        record.w\n      ]\n\n      var COMMON_KEYS = [\n        'buffer',\n        'normalized',\n        'offset',\n        'stride'\n      ]\n\n      function emitBuffer () {\n        scope(\n          'if(!', BINDING, '.buffer){',\n          GL, '.enableVertexAttribArray(', LOCATION, ');}')\n\n        var TYPE = record.type\n        var SIZE\n        if (!record.size) {\n          SIZE = size\n        } else {\n          SIZE = scope.def(record.size, '||', size)\n        }\n\n        scope('if(',\n          BINDING, '.type!==', TYPE, '||',\n          BINDING, '.size!==', SIZE, '||',\n          COMMON_KEYS.map(function (key) {\n            return BINDING + '.' + key + '!==' + record[key]\n          }).join('||'),\n          '){',\n          GL, '.bindBuffer(', GL_ARRAY_BUFFER$2, ',', BUFFER, '.buffer);',\n          GL, '.vertexAttribPointer(', [\n            LOCATION,\n            SIZE,\n            TYPE,\n            record.normalized,\n            record.stride,\n            record.offset\n          ], ');',\n          BINDING, '.type=', TYPE, ';',\n          BINDING, '.size=', SIZE, ';',\n          COMMON_KEYS.map(function (key) {\n            return BINDING + '.' + key + '=' + record[key] + ';'\n          }).join(''),\n          '}')\n\n        if (extInstancing) {\n          var DIVISOR = record.divisor\n          scope(\n            'if(', BINDING, '.divisor!==', DIVISOR, '){',\n            env.instancing, '.vertexAttribDivisorANGLE(', [LOCATION, DIVISOR], ');',\n            BINDING, '.divisor=', DIVISOR, ';}')\n        }\n      }\n\n      function emitConstant () {\n        scope(\n          'if(', BINDING, '.buffer){',\n          GL, '.disableVertexAttribArray(', LOCATION, ');',\n          BINDING, '.buffer=null;',\n          '}if(', CUTE_COMPONENTS.map(function (c, i) {\n            return BINDING + '.' + c + '!==' + CONST_COMPONENTS[i]\n          }).join('||'), '){',\n          GL, '.vertexAttrib4f(', LOCATION, ',', CONST_COMPONENTS, ');',\n          CUTE_COMPONENTS.map(function (c, i) {\n            return BINDING + '.' + c + '=' + CONST_COMPONENTS[i] + ';'\n          }).join(''),\n          '}')\n      }\n\n      if (STATE === ATTRIB_STATE_POINTER) {\n        emitBuffer()\n      } else if (STATE === ATTRIB_STATE_CONSTANT) {\n        emitConstant()\n      } else {\n        scope('if(', STATE, '===', ATTRIB_STATE_POINTER, '){')\n        emitBuffer()\n        scope('}else{')\n        emitConstant()\n        scope('}')\n      }\n    }\n\n    attributes.forEach(function (attribute) {\n      var name = attribute.name\n      var arg = args.attributes[name]\n      var record\n      if (arg) {\n        if (!filter(arg)) {\n          return\n        }\n        record = arg.append(env, scope)\n      } else {\n        if (!filter(SCOPE_DECL)) {\n          return\n        }\n        var scopeAttrib = env.scopeAttrib(name)\n        check$1.optional(function () {\n          env.assert(scope,\n            scopeAttrib + '.state',\n            'missing attribute ' + name)\n        })\n        record = {}\n        Object.keys(new AttributeRecord()).forEach(function (key) {\n          record[key] = scope.def(scopeAttrib, '.', key)\n        })\n      }\n      emitBindAttribute(\n        env.link(attribute), typeLength(attribute.info.type), record)\n    })\n  }\n\n  function emitUniforms (env, scope, args, uniforms, filter) {\n    var shared = env.shared\n    var GL = shared.gl\n\n    var infix\n    for (var i = 0; i < uniforms.length; ++i) {\n      var uniform = uniforms[i]\n      var name = uniform.name\n      var type = uniform.info.type\n      var arg = args.uniforms[name]\n      var UNIFORM = env.link(uniform)\n      var LOCATION = UNIFORM + '.location'\n\n      var VALUE\n      if (arg) {\n        if (!filter(arg)) {\n          continue\n        }\n        if (isStatic(arg)) {\n          var value = arg.value\n          check$1.command(\n            value !== null && typeof value !== 'undefined',\n            'missing uniform \"' + name + '\"', env.commandStr)\n          if (type === GL_SAMPLER_2D || type === GL_SAMPLER_CUBE) {\n            check$1.command(\n              typeof value === 'function' &&\n              ((type === GL_SAMPLER_2D &&\n                (value._reglType === 'texture2d' ||\n                value._reglType === 'framebuffer')) ||\n              (type === GL_SAMPLER_CUBE &&\n                (value._reglType === 'textureCube' ||\n                value._reglType === 'framebufferCube'))),\n              'invalid texture for uniform ' + name, env.commandStr)\n            var TEX_VALUE = env.link(value._texture || value.color[0]._texture)\n            scope(GL, '.uniform1i(', LOCATION, ',', TEX_VALUE + '.bind());')\n            scope.exit(TEX_VALUE, '.unbind();')\n          } else if (\n            type === GL_FLOAT_MAT2 ||\n            type === GL_FLOAT_MAT3 ||\n            type === GL_FLOAT_MAT4) {\n            check$1.optional(function () {\n              check$1.command(isArrayLike(value),\n                'invalid matrix for uniform ' + name, env.commandStr)\n              check$1.command(\n                (type === GL_FLOAT_MAT2 && value.length === 4) ||\n                (type === GL_FLOAT_MAT3 && value.length === 9) ||\n                (type === GL_FLOAT_MAT4 && value.length === 16),\n                'invalid length for matrix uniform ' + name, env.commandStr)\n            })\n            var MAT_VALUE = env.global.def('new Float32Array([' +\n              Array.prototype.slice.call(value) + '])')\n            var dim = 2\n            if (type === GL_FLOAT_MAT3) {\n              dim = 3\n            } else if (type === GL_FLOAT_MAT4) {\n              dim = 4\n            }\n            scope(\n              GL, '.uniformMatrix', dim, 'fv(',\n              LOCATION, ',false,', MAT_VALUE, ');')\n          } else {\n            switch (type) {\n              case GL_FLOAT$8:\n                check$1.commandType(value, 'number', 'uniform ' + name, env.commandStr)\n                infix = '1f'\n                break\n              case GL_FLOAT_VEC2:\n                check$1.command(\n                  isArrayLike(value) && value.length === 2,\n                  'uniform ' + name, env.commandStr)\n                infix = '2f'\n                break\n              case GL_FLOAT_VEC3:\n                check$1.command(\n                  isArrayLike(value) && value.length === 3,\n                  'uniform ' + name, env.commandStr)\n                infix = '3f'\n                break\n              case GL_FLOAT_VEC4:\n                check$1.command(\n                  isArrayLike(value) && value.length === 4,\n                  'uniform ' + name, env.commandStr)\n                infix = '4f'\n                break\n              case GL_BOOL:\n                check$1.commandType(value, 'boolean', 'uniform ' + name, env.commandStr)\n                infix = '1i'\n                break\n              case GL_INT$3:\n                check$1.commandType(value, 'number', 'uniform ' + name, env.commandStr)\n                infix = '1i'\n                break\n              case GL_BOOL_VEC2:\n                check$1.command(\n                  isArrayLike(value) && value.length === 2,\n                  'uniform ' + name, env.commandStr)\n                infix = '2i'\n                break\n              case GL_INT_VEC2:\n                check$1.command(\n                  isArrayLike(value) && value.length === 2,\n                  'uniform ' + name, env.commandStr)\n                infix = '2i'\n                break\n              case GL_BOOL_VEC3:\n                check$1.command(\n                  isArrayLike(value) && value.length === 3,\n                  'uniform ' + name, env.commandStr)\n                infix = '3i'\n                break\n              case GL_INT_VEC3:\n                check$1.command(\n                  isArrayLike(value) && value.length === 3,\n                  'uniform ' + name, env.commandStr)\n                infix = '3i'\n                break\n              case GL_BOOL_VEC4:\n                check$1.command(\n                  isArrayLike(value) && value.length === 4,\n                  'uniform ' + name, env.commandStr)\n                infix = '4i'\n                break\n              case GL_INT_VEC4:\n                check$1.command(\n                  isArrayLike(value) && value.length === 4,\n                  'uniform ' + name, env.commandStr)\n                infix = '4i'\n                break\n            }\n            scope(GL, '.uniform', infix, '(', LOCATION, ',',\n              isArrayLike(value) ? Array.prototype.slice.call(value) : value,\n              ');')\n          }\n          continue\n        } else {\n          VALUE = arg.append(env, scope)\n        }\n      } else {\n        if (!filter(SCOPE_DECL)) {\n          continue\n        }\n        VALUE = scope.def(shared.uniforms, '[', stringStore.id(name), ']')\n      }\n\n      if (type === GL_SAMPLER_2D) {\n        scope(\n          'if(', VALUE, '&&', VALUE, '._reglType===\"framebuffer\"){',\n          VALUE, '=', VALUE, '.color[0];',\n          '}')\n      } else if (type === GL_SAMPLER_CUBE) {\n        scope(\n          'if(', VALUE, '&&', VALUE, '._reglType===\"framebufferCube\"){',\n          VALUE, '=', VALUE, '.color[0];',\n          '}')\n      }\n\n      // perform type validation\n      check$1.optional(function () {\n        function check (pred, message) {\n          env.assert(scope, pred,\n            'bad data or missing for uniform \"' + name + '\".  ' + message)\n        }\n\n        function checkType (type) {\n          check(\n            'typeof ' + VALUE + '===\"' + type + '\"',\n            'invalid type, expected ' + type)\n        }\n\n        function checkVector (n, type) {\n          check(\n            shared.isArrayLike + '(' + VALUE + ')&&' + VALUE + '.length===' + n,\n            'invalid vector, should have length ' + n, env.commandStr)\n        }\n\n        function checkTexture (target) {\n          check(\n            'typeof ' + VALUE + '===\"function\"&&' +\n            VALUE + '._reglType===\"texture' +\n            (target === GL_TEXTURE_2D$3 ? '2d' : 'Cube') + '\"',\n            'invalid texture type', env.commandStr)\n        }\n\n        switch (type) {\n          case GL_INT$3:\n            checkType('number')\n            break\n          case GL_INT_VEC2:\n            checkVector(2, 'number')\n            break\n          case GL_INT_VEC3:\n            checkVector(3, 'number')\n            break\n          case GL_INT_VEC4:\n            checkVector(4, 'number')\n            break\n          case GL_FLOAT$8:\n            checkType('number')\n            break\n          case GL_FLOAT_VEC2:\n            checkVector(2, 'number')\n            break\n          case GL_FLOAT_VEC3:\n            checkVector(3, 'number')\n            break\n          case GL_FLOAT_VEC4:\n            checkVector(4, 'number')\n            break\n          case GL_BOOL:\n            checkType('boolean')\n            break\n          case GL_BOOL_VEC2:\n            checkVector(2, 'boolean')\n            break\n          case GL_BOOL_VEC3:\n            checkVector(3, 'boolean')\n            break\n          case GL_BOOL_VEC4:\n            checkVector(4, 'boolean')\n            break\n          case GL_FLOAT_MAT2:\n            checkVector(4, 'number')\n            break\n          case GL_FLOAT_MAT3:\n            checkVector(9, 'number')\n            break\n          case GL_FLOAT_MAT4:\n            checkVector(16, 'number')\n            break\n          case GL_SAMPLER_2D:\n            checkTexture(GL_TEXTURE_2D$3)\n            break\n          case GL_SAMPLER_CUBE:\n            checkTexture(GL_TEXTURE_CUBE_MAP$2)\n            break\n        }\n      })\n\n      var unroll = 1\n      switch (type) {\n        case GL_SAMPLER_2D:\n        case GL_SAMPLER_CUBE:\n          var TEX = scope.def(VALUE, '._texture')\n          scope(GL, '.uniform1i(', LOCATION, ',', TEX, '.bind());')\n          scope.exit(TEX, '.unbind();')\n          continue\n\n        case GL_INT$3:\n        case GL_BOOL:\n          infix = '1i'\n          break\n\n        case GL_INT_VEC2:\n        case GL_BOOL_VEC2:\n          infix = '2i'\n          unroll = 2\n          break\n\n        case GL_INT_VEC3:\n        case GL_BOOL_VEC3:\n          infix = '3i'\n          unroll = 3\n          break\n\n        case GL_INT_VEC4:\n        case GL_BOOL_VEC4:\n          infix = '4i'\n          unroll = 4\n          break\n\n        case GL_FLOAT$8:\n          infix = '1f'\n          break\n\n        case GL_FLOAT_VEC2:\n          infix = '2f'\n          unroll = 2\n          break\n\n        case GL_FLOAT_VEC3:\n          infix = '3f'\n          unroll = 3\n          break\n\n        case GL_FLOAT_VEC4:\n          infix = '4f'\n          unroll = 4\n          break\n\n        case GL_FLOAT_MAT2:\n          infix = 'Matrix2fv'\n          break\n\n        case GL_FLOAT_MAT3:\n          infix = 'Matrix3fv'\n          break\n\n        case GL_FLOAT_MAT4:\n          infix = 'Matrix4fv'\n          break\n      }\n\n      scope(GL, '.uniform', infix, '(', LOCATION, ',')\n      if (infix.charAt(0) === 'M') {\n        var matSize = Math.pow(type - GL_FLOAT_MAT2 + 2, 2)\n        var STORAGE = env.global.def('new Float32Array(', matSize, ')')\n        scope(\n          'false,(Array.isArray(', VALUE, ')||', VALUE, ' instanceof Float32Array)?', VALUE, ':(',\n          loop(matSize, function (i) {\n            return STORAGE + '[' + i + ']=' + VALUE + '[' + i + ']'\n          }), ',', STORAGE, ')')\n      } else if (unroll > 1) {\n        scope(loop(unroll, function (i) {\n          return VALUE + '[' + i + ']'\n        }))\n      } else {\n        scope(VALUE)\n      }\n      scope(');')\n    }\n  }\n\n  function emitDraw (env, outer, inner, args) {\n    var shared = env.shared\n    var GL = shared.gl\n    var DRAW_STATE = shared.draw\n\n    var drawOptions = args.draw\n\n    function emitElements () {\n      var defn = drawOptions.elements\n      var ELEMENTS\n      var scope = outer\n      if (defn) {\n        if ((defn.contextDep && args.contextDynamic) || defn.propDep) {\n          scope = inner\n        }\n        ELEMENTS = defn.append(env, scope)\n      } else {\n        ELEMENTS = scope.def(DRAW_STATE, '.', S_ELEMENTS)\n      }\n      if (ELEMENTS) {\n        scope(\n          'if(' + ELEMENTS + ')' +\n          GL + '.bindBuffer(' + GL_ELEMENT_ARRAY_BUFFER$1 + ',' + ELEMENTS + '.buffer.buffer);')\n      }\n      return ELEMENTS\n    }\n\n    function emitCount () {\n      var defn = drawOptions.count\n      var COUNT\n      var scope = outer\n      if (defn) {\n        if ((defn.contextDep && args.contextDynamic) || defn.propDep) {\n          scope = inner\n        }\n        COUNT = defn.append(env, scope)\n        check$1.optional(function () {\n          if (defn.MISSING) {\n            env.assert(outer, 'false', 'missing vertex count')\n          }\n          if (defn.DYNAMIC) {\n            env.assert(scope, COUNT + '>=0', 'missing vertex count')\n          }\n        })\n      } else {\n        COUNT = scope.def(DRAW_STATE, '.', S_COUNT)\n        check$1.optional(function () {\n          env.assert(scope, COUNT + '>=0', 'missing vertex count')\n        })\n      }\n      return COUNT\n    }\n\n    var ELEMENTS = emitElements()\n    function emitValue (name) {\n      var defn = drawOptions[name]\n      if (defn) {\n        if ((defn.contextDep && args.contextDynamic) || defn.propDep) {\n          return defn.append(env, inner)\n        } else {\n          return defn.append(env, outer)\n        }\n      } else {\n        return outer.def(DRAW_STATE, '.', name)\n      }\n    }\n\n    var PRIMITIVE = emitValue(S_PRIMITIVE)\n    var OFFSET = emitValue(S_OFFSET)\n\n    var COUNT = emitCount()\n    if (typeof COUNT === 'number') {\n      if (COUNT === 0) {\n        return\n      }\n    } else {\n      inner('if(', COUNT, '){')\n      inner.exit('}')\n    }\n\n    var INSTANCES, EXT_INSTANCING\n    if (extInstancing) {\n      INSTANCES = emitValue(S_INSTANCES)\n      EXT_INSTANCING = env.instancing\n    }\n\n    var ELEMENT_TYPE = ELEMENTS + '.type'\n\n    var elementsStatic = drawOptions.elements && isStatic(drawOptions.elements)\n\n    function emitInstancing () {\n      function drawElements () {\n        inner(EXT_INSTANCING, '.drawElementsInstancedANGLE(', [\n          PRIMITIVE,\n          COUNT,\n          ELEMENT_TYPE,\n          OFFSET + '<<((' + ELEMENT_TYPE + '-' + GL_UNSIGNED_BYTE$8 + ')>>1)',\n          INSTANCES\n        ], ');')\n      }\n\n      function drawArrays () {\n        inner(EXT_INSTANCING, '.drawArraysInstancedANGLE(',\n          [PRIMITIVE, OFFSET, COUNT, INSTANCES], ');')\n      }\n\n      if (ELEMENTS) {\n        if (!elementsStatic) {\n          inner('if(', ELEMENTS, '){')\n          drawElements()\n          inner('}else{')\n          drawArrays()\n          inner('}')\n        } else {\n          drawElements()\n        }\n      } else {\n        drawArrays()\n      }\n    }\n\n    function emitRegular () {\n      function drawElements () {\n        inner(GL + '.drawElements(' + [\n          PRIMITIVE,\n          COUNT,\n          ELEMENT_TYPE,\n          OFFSET + '<<((' + ELEMENT_TYPE + '-' + GL_UNSIGNED_BYTE$8 + ')>>1)'\n        ] + ');')\n      }\n\n      function drawArrays () {\n        inner(GL + '.drawArrays(' + [PRIMITIVE, OFFSET, COUNT] + ');')\n      }\n\n      if (ELEMENTS) {\n        if (!elementsStatic) {\n          inner('if(', ELEMENTS, '){')\n          drawElements()\n          inner('}else{')\n          drawArrays()\n          inner('}')\n        } else {\n          drawElements()\n        }\n      } else {\n        drawArrays()\n      }\n    }\n\n    if (extInstancing && (typeof INSTANCES !== 'number' || INSTANCES >= 0)) {\n      if (typeof INSTANCES === 'string') {\n        inner('if(', INSTANCES, '>0){')\n        emitInstancing()\n        inner('}else if(', INSTANCES, '<0){')\n        emitRegular()\n        inner('}')\n      } else {\n        emitInstancing()\n      }\n    } else {\n      emitRegular()\n    }\n  }\n\n  function createBody (emitBody, parentEnv, args, program, count) {\n    var env = createREGLEnvironment()\n    var scope = env.proc('body', count)\n    check$1.optional(function () {\n      env.commandStr = parentEnv.commandStr\n      env.command = env.link(parentEnv.commandStr)\n    })\n    if (extInstancing) {\n      env.instancing = scope.def(\n        env.shared.extensions, '.angle_instanced_arrays')\n    }\n    emitBody(env, scope, args, program)\n    return env.compile().body\n  }\n\n  // ===================================================\n  // ===================================================\n  // DRAW PROC\n  // ===================================================\n  // ===================================================\n  function emitDrawBody (env, draw, args, program) {\n    injectExtensions(env, draw)\n    if (args.useVAO) {\n      if (args.drawVAO) {\n        draw(env.shared.vao, '.setVAO(', args.drawVAO.append(env, draw), ');')\n      } else {\n        draw(env.shared.vao, '.setVAO(', env.shared.vao, '.targetVAO);')\n      }\n    } else {\n      draw(env.shared.vao, '.setVAO(null);')\n      emitAttributes(env, draw, args, program.attributes, function () {\n        return true\n      })\n    }\n    emitUniforms(env, draw, args, program.uniforms, function () {\n      return true\n    })\n    emitDraw(env, draw, draw, args)\n  }\n\n  function emitDrawProc (env, args) {\n    var draw = env.proc('draw', 1)\n\n    injectExtensions(env, draw)\n\n    emitContext(env, draw, args.context)\n    emitPollFramebuffer(env, draw, args.framebuffer)\n\n    emitPollState(env, draw, args)\n    emitSetOptions(env, draw, args.state)\n\n    emitProfile(env, draw, args, false, true)\n\n    var program = args.shader.progVar.append(env, draw)\n    draw(env.shared.gl, '.useProgram(', program, '.program);')\n\n    if (args.shader.program) {\n      emitDrawBody(env, draw, args, args.shader.program)\n    } else {\n      draw(env.shared.vao, '.setVAO(null);')\n      var drawCache = env.global.def('{}')\n      var PROG_ID = draw.def(program, '.id')\n      var CACHED_PROC = draw.def(drawCache, '[', PROG_ID, ']')\n      draw(\n        env.cond(CACHED_PROC)\n          .then(CACHED_PROC, '.call(this,a0);')\n          .else(\n            CACHED_PROC, '=', drawCache, '[', PROG_ID, ']=',\n            env.link(function (program) {\n              return createBody(emitDrawBody, env, args, program, 1)\n            }), '(', program, ');',\n            CACHED_PROC, '.call(this,a0);'))\n    }\n\n    if (Object.keys(args.state).length > 0) {\n      draw(env.shared.current, '.dirty=true;')\n    }\n  }\n\n  // ===================================================\n  // ===================================================\n  // BATCH PROC\n  // ===================================================\n  // ===================================================\n\n  function emitBatchDynamicShaderBody (env, scope, args, program) {\n    env.batchId = 'a1'\n\n    injectExtensions(env, scope)\n\n    function all () {\n      return true\n    }\n\n    emitAttributes(env, scope, args, program.attributes, all)\n    emitUniforms(env, scope, args, program.uniforms, all)\n    emitDraw(env, scope, scope, args)\n  }\n\n  function emitBatchBody (env, scope, args, program) {\n    injectExtensions(env, scope)\n\n    var contextDynamic = args.contextDep\n\n    var BATCH_ID = scope.def()\n    var PROP_LIST = 'a0'\n    var NUM_PROPS = 'a1'\n    var PROPS = scope.def()\n    env.shared.props = PROPS\n    env.batchId = BATCH_ID\n\n    var outer = env.scope()\n    var inner = env.scope()\n\n    scope(\n      outer.entry,\n      'for(', BATCH_ID, '=0;', BATCH_ID, '<', NUM_PROPS, ';++', BATCH_ID, '){',\n      PROPS, '=', PROP_LIST, '[', BATCH_ID, '];',\n      inner,\n      '}',\n      outer.exit)\n\n    function isInnerDefn (defn) {\n      return ((defn.contextDep && contextDynamic) || defn.propDep)\n    }\n\n    function isOuterDefn (defn) {\n      return !isInnerDefn(defn)\n    }\n\n    if (args.needsContext) {\n      emitContext(env, inner, args.context)\n    }\n    if (args.needsFramebuffer) {\n      emitPollFramebuffer(env, inner, args.framebuffer)\n    }\n    emitSetOptions(env, inner, args.state, isInnerDefn)\n\n    if (args.profile && isInnerDefn(args.profile)) {\n      emitProfile(env, inner, args, false, true)\n    }\n\n    if (!program) {\n      var progCache = env.global.def('{}')\n      var PROGRAM = args.shader.progVar.append(env, inner)\n      var PROG_ID = inner.def(PROGRAM, '.id')\n      var CACHED_PROC = inner.def(progCache, '[', PROG_ID, ']')\n      inner(\n        env.shared.gl, '.useProgram(', PROGRAM, '.program);',\n        'if(!', CACHED_PROC, '){',\n        CACHED_PROC, '=', progCache, '[', PROG_ID, ']=',\n        env.link(function (program) {\n          return createBody(\n            emitBatchDynamicShaderBody, env, args, program, 2)\n        }), '(', PROGRAM, ');}',\n        CACHED_PROC, '.call(this,a0[', BATCH_ID, '],', BATCH_ID, ');')\n    } else {\n      if (args.useVAO) {\n        if (args.drawVAO) {\n          if (isInnerDefn(args.drawVAO)) {\n            // vao is a prop\n            inner(env.shared.vao, '.setVAO(', args.drawVAO.append(env, inner), ');')\n          } else {\n            // vao is invariant\n            outer(env.shared.vao, '.setVAO(', args.drawVAO.append(env, outer), ');')\n          }\n        } else {\n          // scoped vao binding\n          outer(env.shared.vao, '.setVAO(', env.shared.vao, '.targetVAO);')\n        }\n      } else {\n        outer(env.shared.vao, '.setVAO(null);')\n        emitAttributes(env, outer, args, program.attributes, isOuterDefn)\n        emitAttributes(env, inner, args, program.attributes, isInnerDefn)\n      }\n      emitUniforms(env, outer, args, program.uniforms, isOuterDefn)\n      emitUniforms(env, inner, args, program.uniforms, isInnerDefn)\n      emitDraw(env, outer, inner, args)\n    }\n  }\n\n  function emitBatchProc (env, args) {\n    var batch = env.proc('batch', 2)\n    env.batchId = '0'\n\n    injectExtensions(env, batch)\n\n    // Check if any context variables depend on props\n    var contextDynamic = false\n    var needsContext = true\n    Object.keys(args.context).forEach(function (name) {\n      contextDynamic = contextDynamic || args.context[name].propDep\n    })\n    if (!contextDynamic) {\n      emitContext(env, batch, args.context)\n      needsContext = false\n    }\n\n    // framebuffer state affects framebufferWidth/height context vars\n    var framebuffer = args.framebuffer\n    var needsFramebuffer = false\n    if (framebuffer) {\n      if (framebuffer.propDep) {\n        contextDynamic = needsFramebuffer = true\n      } else if (framebuffer.contextDep && contextDynamic) {\n        needsFramebuffer = true\n      }\n      if (!needsFramebuffer) {\n        emitPollFramebuffer(env, batch, framebuffer)\n      }\n    } else {\n      emitPollFramebuffer(env, batch, null)\n    }\n\n    // viewport is weird because it can affect context vars\n    if (args.state.viewport && args.state.viewport.propDep) {\n      contextDynamic = true\n    }\n\n    function isInnerDefn (defn) {\n      return (defn.contextDep && contextDynamic) || defn.propDep\n    }\n\n    // set webgl options\n    emitPollState(env, batch, args)\n    emitSetOptions(env, batch, args.state, function (defn) {\n      return !isInnerDefn(defn)\n    })\n\n    if (!args.profile || !isInnerDefn(args.profile)) {\n      emitProfile(env, batch, args, false, 'a1')\n    }\n\n    // Save these values to args so that the batch body routine can use them\n    args.contextDep = contextDynamic\n    args.needsContext = needsContext\n    args.needsFramebuffer = needsFramebuffer\n\n    // determine if shader is dynamic\n    var progDefn = args.shader.progVar\n    if ((progDefn.contextDep && contextDynamic) || progDefn.propDep) {\n      emitBatchBody(\n        env,\n        batch,\n        args,\n        null)\n    } else {\n      var PROGRAM = progDefn.append(env, batch)\n      batch(env.shared.gl, '.useProgram(', PROGRAM, '.program);')\n      if (args.shader.program) {\n        emitBatchBody(\n          env,\n          batch,\n          args,\n          args.shader.program)\n      } else {\n        batch(env.shared.vao, '.setVAO(null);')\n        var batchCache = env.global.def('{}')\n        var PROG_ID = batch.def(PROGRAM, '.id')\n        var CACHED_PROC = batch.def(batchCache, '[', PROG_ID, ']')\n        batch(\n          env.cond(CACHED_PROC)\n            .then(CACHED_PROC, '.call(this,a0,a1);')\n            .else(\n              CACHED_PROC, '=', batchCache, '[', PROG_ID, ']=',\n              env.link(function (program) {\n                return createBody(emitBatchBody, env, args, program, 2)\n              }), '(', PROGRAM, ');',\n              CACHED_PROC, '.call(this,a0,a1);'))\n      }\n    }\n\n    if (Object.keys(args.state).length > 0) {\n      batch(env.shared.current, '.dirty=true;')\n    }\n  }\n\n  // ===================================================\n  // ===================================================\n  // SCOPE COMMAND\n  // ===================================================\n  // ===================================================\n  function emitScopeProc (env, args) {\n    var scope = env.proc('scope', 3)\n    env.batchId = 'a2'\n\n    var shared = env.shared\n    var CURRENT_STATE = shared.current\n\n    emitContext(env, scope, args.context)\n\n    if (args.framebuffer) {\n      args.framebuffer.append(env, scope)\n    }\n\n    sortState(Object.keys(args.state)).forEach(function (name) {\n      var defn = args.state[name]\n      var value = defn.append(env, scope)\n      if (isArrayLike(value)) {\n        value.forEach(function (v, i) {\n          scope.set(env.next[name], '[' + i + ']', v)\n        })\n      } else {\n        scope.set(shared.next, '.' + name, value)\n      }\n    })\n\n    emitProfile(env, scope, args, true, true)\n\n    ;[S_ELEMENTS, S_OFFSET, S_COUNT, S_INSTANCES, S_PRIMITIVE].forEach(\n      function (opt) {\n        var variable = args.draw[opt]\n        if (!variable) {\n          return\n        }\n        scope.set(shared.draw, '.' + opt, '' + variable.append(env, scope))\n      })\n\n    Object.keys(args.uniforms).forEach(function (opt) {\n      scope.set(\n        shared.uniforms,\n        '[' + stringStore.id(opt) + ']',\n        args.uniforms[opt].append(env, scope))\n    })\n\n    Object.keys(args.attributes).forEach(function (name) {\n      var record = args.attributes[name].append(env, scope)\n      var scopeAttrib = env.scopeAttrib(name)\n      Object.keys(new AttributeRecord()).forEach(function (prop) {\n        scope.set(scopeAttrib, '.' + prop, record[prop])\n      })\n    })\n\n    if (args.scopeVAO) {\n      scope.set(shared.vao, '.targetVAO', args.scopeVAO.append(env, scope))\n    }\n\n    function saveShader (name) {\n      var shader = args.shader[name]\n      if (shader) {\n        scope.set(shared.shader, '.' + name, shader.append(env, scope))\n      }\n    }\n    saveShader(S_VERT)\n    saveShader(S_FRAG)\n\n    if (Object.keys(args.state).length > 0) {\n      scope(CURRENT_STATE, '.dirty=true;')\n      scope.exit(CURRENT_STATE, '.dirty=true;')\n    }\n\n    scope('a1(', env.shared.context, ',a0,', env.batchId, ');')\n  }\n\n  function isDynamicObject (object) {\n    if (typeof object !== 'object' || isArrayLike(object)) {\n      return\n    }\n    var props = Object.keys(object)\n    for (var i = 0; i < props.length; ++i) {\n      if (dynamic.isDynamic(object[props[i]])) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function splatObject (env, options, name) {\n    var object = options.static[name]\n    if (!object || !isDynamicObject(object)) {\n      return\n    }\n\n    var globals = env.global\n    var keys = Object.keys(object)\n    var thisDep = false\n    var contextDep = false\n    var propDep = false\n    var objectRef = env.global.def('{}')\n    keys.forEach(function (key) {\n      var value = object[key]\n      if (dynamic.isDynamic(value)) {\n        if (typeof value === 'function') {\n          value = object[key] = dynamic.unbox(value)\n        }\n        var deps = createDynamicDecl(value, null)\n        thisDep = thisDep || deps.thisDep\n        propDep = propDep || deps.propDep\n        contextDep = contextDep || deps.contextDep\n      } else {\n        globals(objectRef, '.', key, '=')\n        switch (typeof value) {\n          case 'number':\n            globals(value)\n            break\n          case 'string':\n            globals('\"', value, '\"')\n            break\n          case 'object':\n            if (Array.isArray(value)) {\n              globals('[', value.join(), ']')\n            }\n            break\n          default:\n            globals(env.link(value))\n            break\n        }\n        globals(';')\n      }\n    })\n\n    function appendBlock (env, block) {\n      keys.forEach(function (key) {\n        var value = object[key]\n        if (!dynamic.isDynamic(value)) {\n          return\n        }\n        var ref = env.invoke(block, value)\n        block(objectRef, '.', key, '=', ref, ';')\n      })\n    }\n\n    options.dynamic[name] = new dynamic.DynamicVariable(DYN_THUNK, {\n      thisDep: thisDep,\n      contextDep: contextDep,\n      propDep: propDep,\n      ref: objectRef,\n      append: appendBlock\n    })\n    delete options.static[name]\n  }\n\n  // ===========================================================================\n  // ===========================================================================\n  // MAIN DRAW COMMAND\n  // ===========================================================================\n  // ===========================================================================\n  function compileCommand (options, attributes, uniforms, context, stats) {\n    var env = createREGLEnvironment()\n\n    // link stats, so that we can easily access it in the program.\n    env.stats = env.link(stats)\n\n    // splat options and attributes to allow for dynamic nested properties\n    Object.keys(attributes.static).forEach(function (key) {\n      splatObject(env, attributes, key)\n    })\n    NESTED_OPTIONS.forEach(function (name) {\n      splatObject(env, options, name)\n    })\n\n    var args = parseArguments(options, attributes, uniforms, context, env)\n\n    emitDrawProc(env, args)\n    emitScopeProc(env, args)\n    emitBatchProc(env, args)\n\n    return env.compile()\n  }\n\n  // ===========================================================================\n  // ===========================================================================\n  // POLL / REFRESH\n  // ===========================================================================\n  // ===========================================================================\n  return {\n    next: nextState,\n    current: currentState,\n    procs: (function () {\n      var env = createREGLEnvironment()\n      var poll = env.proc('poll')\n      var refresh = env.proc('refresh')\n      var common = env.block()\n      poll(common)\n      refresh(common)\n\n      var shared = env.shared\n      var GL = shared.gl\n      var NEXT_STATE = shared.next\n      var CURRENT_STATE = shared.current\n\n      common(CURRENT_STATE, '.dirty=false;')\n\n      emitPollFramebuffer(env, poll)\n      emitPollFramebuffer(env, refresh, null, true)\n\n      // Refresh updates all attribute state changes\n      var INSTANCING\n      if (extInstancing) {\n        INSTANCING = env.link(extInstancing)\n      }\n\n      // update vertex array bindings\n      if (extensions.oes_vertex_array_object) {\n        refresh(env.link(extensions.oes_vertex_array_object), '.bindVertexArrayOES(null);')\n      }\n      for (var i = 0; i < limits.maxAttributes; ++i) {\n        var BINDING = refresh.def(shared.attributes, '[', i, ']')\n        var ifte = env.cond(BINDING, '.buffer')\n        ifte.then(\n          GL, '.enableVertexAttribArray(', i, ');',\n          GL, '.bindBuffer(',\n          GL_ARRAY_BUFFER$2, ',',\n          BINDING, '.buffer.buffer);',\n          GL, '.vertexAttribPointer(',\n          i, ',',\n          BINDING, '.size,',\n          BINDING, '.type,',\n          BINDING, '.normalized,',\n          BINDING, '.stride,',\n          BINDING, '.offset);'\n        ).else(\n          GL, '.disableVertexAttribArray(', i, ');',\n          GL, '.vertexAttrib4f(',\n          i, ',',\n          BINDING, '.x,',\n          BINDING, '.y,',\n          BINDING, '.z,',\n          BINDING, '.w);',\n          BINDING, '.buffer=null;')\n        refresh(ifte)\n        if (extInstancing) {\n          refresh(\n            INSTANCING, '.vertexAttribDivisorANGLE(',\n            i, ',',\n            BINDING, '.divisor);')\n        }\n      }\n      refresh(\n        env.shared.vao, '.currentVAO=null;',\n        env.shared.vao, '.setVAO(', env.shared.vao, '.targetVAO);')\n\n      Object.keys(GL_FLAGS).forEach(function (flag) {\n        var cap = GL_FLAGS[flag]\n        var NEXT = common.def(NEXT_STATE, '.', flag)\n        var block = env.block()\n        block('if(', NEXT, '){',\n          GL, '.enable(', cap, ')}else{',\n          GL, '.disable(', cap, ')}',\n          CURRENT_STATE, '.', flag, '=', NEXT, ';')\n        refresh(block)\n        poll(\n          'if(', NEXT, '!==', CURRENT_STATE, '.', flag, '){',\n          block,\n          '}')\n      })\n\n      Object.keys(GL_VARIABLES).forEach(function (name) {\n        var func = GL_VARIABLES[name]\n        var init = currentState[name]\n        var NEXT, CURRENT\n        var block = env.block()\n        block(GL, '.', func, '(')\n        if (isArrayLike(init)) {\n          var n = init.length\n          NEXT = env.global.def(NEXT_STATE, '.', name)\n          CURRENT = env.global.def(CURRENT_STATE, '.', name)\n          block(\n            loop(n, function (i) {\n              return NEXT + '[' + i + ']'\n            }), ');',\n            loop(n, function (i) {\n              return CURRENT + '[' + i + ']=' + NEXT + '[' + i + '];'\n            }).join(''))\n          poll(\n            'if(', loop(n, function (i) {\n              return NEXT + '[' + i + ']!==' + CURRENT + '[' + i + ']'\n            }).join('||'), '){',\n            block,\n            '}')\n        } else {\n          NEXT = common.def(NEXT_STATE, '.', name)\n          CURRENT = common.def(CURRENT_STATE, '.', name)\n          block(\n            NEXT, ');',\n            CURRENT_STATE, '.', name, '=', NEXT, ';')\n          poll(\n            'if(', NEXT, '!==', CURRENT, '){',\n            block,\n            '}')\n        }\n        refresh(block)\n      })\n\n      return env.compile()\n    })(),\n    compile: compileCommand\n  }\n}\n\nfunction stats () {\n  return {\n    vaoCount: 0,\n    bufferCount: 0,\n    elementsCount: 0,\n    framebufferCount: 0,\n    shaderCount: 0,\n    textureCount: 0,\n    cubeCount: 0,\n    renderbufferCount: 0,\n    maxTextureUnits: 0\n  }\n}\n\nvar GL_QUERY_RESULT_EXT = 0x8866\nvar GL_QUERY_RESULT_AVAILABLE_EXT = 0x8867\nvar GL_TIME_ELAPSED_EXT = 0x88BF\n\nvar createTimer = function (gl, extensions) {\n  if (!extensions.ext_disjoint_timer_query) {\n    return null\n  }\n\n  // QUERY POOL BEGIN\n  var queryPool = []\n  function allocQuery () {\n    return queryPool.pop() || extensions.ext_disjoint_timer_query.createQueryEXT()\n  }\n  function freeQuery (query) {\n    queryPool.push(query)\n  }\n  // QUERY POOL END\n\n  var pendingQueries = []\n  function beginQuery (stats) {\n    var query = allocQuery()\n    extensions.ext_disjoint_timer_query.beginQueryEXT(GL_TIME_ELAPSED_EXT, query)\n    pendingQueries.push(query)\n    pushScopeStats(pendingQueries.length - 1, pendingQueries.length, stats)\n  }\n\n  function endQuery () {\n    extensions.ext_disjoint_timer_query.endQueryEXT(GL_TIME_ELAPSED_EXT)\n  }\n\n  //\n  // Pending stats pool.\n  //\n  function PendingStats () {\n    this.startQueryIndex = -1\n    this.endQueryIndex = -1\n    this.sum = 0\n    this.stats = null\n  }\n  var pendingStatsPool = []\n  function allocPendingStats () {\n    return pendingStatsPool.pop() || new PendingStats()\n  }\n  function freePendingStats (pendingStats) {\n    pendingStatsPool.push(pendingStats)\n  }\n  // Pending stats pool end\n\n  var pendingStats = []\n  function pushScopeStats (start, end, stats) {\n    var ps = allocPendingStats()\n    ps.startQueryIndex = start\n    ps.endQueryIndex = end\n    ps.sum = 0\n    ps.stats = stats\n    pendingStats.push(ps)\n  }\n\n  // we should call this at the beginning of the frame,\n  // in order to update gpuTime\n  var timeSum = []\n  var queryPtr = []\n  function update () {\n    var ptr, i\n\n    var n = pendingQueries.length\n    if (n === 0) {\n      return\n    }\n\n    // Reserve space\n    queryPtr.length = Math.max(queryPtr.length, n + 1)\n    timeSum.length = Math.max(timeSum.length, n + 1)\n    timeSum[0] = 0\n    queryPtr[0] = 0\n\n    // Update all pending timer queries\n    var queryTime = 0\n    ptr = 0\n    for (i = 0; i < pendingQueries.length; ++i) {\n      var query = pendingQueries[i]\n      if (extensions.ext_disjoint_timer_query.getQueryObjectEXT(query, GL_QUERY_RESULT_AVAILABLE_EXT)) {\n        queryTime += extensions.ext_disjoint_timer_query.getQueryObjectEXT(query, GL_QUERY_RESULT_EXT)\n        freeQuery(query)\n      } else {\n        pendingQueries[ptr++] = query\n      }\n      timeSum[i + 1] = queryTime\n      queryPtr[i + 1] = ptr\n    }\n    pendingQueries.length = ptr\n\n    // Update all pending stat queries\n    ptr = 0\n    for (i = 0; i < pendingStats.length; ++i) {\n      var stats = pendingStats[i]\n      var start = stats.startQueryIndex\n      var end = stats.endQueryIndex\n      stats.sum += timeSum[end] - timeSum[start]\n      var startPtr = queryPtr[start]\n      var endPtr = queryPtr[end]\n      if (endPtr === startPtr) {\n        stats.stats.gpuTime += stats.sum / 1e6\n        freePendingStats(stats)\n      } else {\n        stats.startQueryIndex = startPtr\n        stats.endQueryIndex = endPtr\n        pendingStats[ptr++] = stats\n      }\n    }\n    pendingStats.length = ptr\n  }\n\n  return {\n    beginQuery: beginQuery,\n    endQuery: endQuery,\n    pushScopeStats: pushScopeStats,\n    update: update,\n    getNumPendingQueries: function () {\n      return pendingQueries.length\n    },\n    clear: function () {\n      queryPool.push.apply(queryPool, pendingQueries)\n      for (var i = 0; i < queryPool.length; i++) {\n        extensions.ext_disjoint_timer_query.deleteQueryEXT(queryPool[i])\n      }\n      pendingQueries.length = 0\n      queryPool.length = 0\n    },\n    restore: function () {\n      pendingQueries.length = 0\n      queryPool.length = 0\n    }\n  }\n}\n\nvar GL_COLOR_BUFFER_BIT = 16384\nvar GL_DEPTH_BUFFER_BIT = 256\nvar GL_STENCIL_BUFFER_BIT = 1024\n\nvar GL_ARRAY_BUFFER = 34962\n\nvar CONTEXT_LOST_EVENT = 'webglcontextlost'\nvar CONTEXT_RESTORED_EVENT = 'webglcontextrestored'\n\nvar DYN_PROP = 1\nvar DYN_CONTEXT = 2\nvar DYN_STATE = 3\n\nfunction find (haystack, needle) {\n  for (var i = 0; i < haystack.length; ++i) {\n    if (haystack[i] === needle) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction wrapREGL (args) {\n  var config = parseArgs(args)\n  if (!config) {\n    return null\n  }\n\n  var gl = config.gl\n  var glAttributes = gl.getContextAttributes()\n  var contextLost = gl.isContextLost()\n\n  var extensionState = createExtensionCache(gl, config)\n  if (!extensionState) {\n    return null\n  }\n\n  var stringStore = createStringStore()\n  var stats$$1 = stats()\n  var extensions = extensionState.extensions\n  var timer = createTimer(gl, extensions)\n\n  var START_TIME = clock()\n  var WIDTH = gl.drawingBufferWidth\n  var HEIGHT = gl.drawingBufferHeight\n\n  var contextState = {\n    tick: 0,\n    time: 0,\n    viewportWidth: WIDTH,\n    viewportHeight: HEIGHT,\n    framebufferWidth: WIDTH,\n    framebufferHeight: HEIGHT,\n    drawingBufferWidth: WIDTH,\n    drawingBufferHeight: HEIGHT,\n    pixelRatio: config.pixelRatio\n  }\n  var uniformState = {}\n  var drawState = {\n    elements: null,\n    primitive: 4, // GL_TRIANGLES\n    count: -1,\n    offset: 0,\n    instances: -1\n  }\n\n  var limits = wrapLimits(gl, extensions)\n  var bufferState = wrapBufferState(\n    gl,\n    stats$$1,\n    config,\n    destroyBuffer)\n  var attributeState = wrapAttributeState(\n    gl,\n    extensions,\n    limits,\n    stats$$1,\n    bufferState)\n  function destroyBuffer (buffer) {\n    return attributeState.destroyBuffer(buffer)\n  }\n  var elementState = wrapElementsState(gl, extensions, bufferState, stats$$1)\n  var shaderState = wrapShaderState(gl, stringStore, stats$$1, config)\n  var textureState = createTextureSet(\n    gl,\n    extensions,\n    limits,\n    function () { core.procs.poll() },\n    contextState,\n    stats$$1,\n    config)\n  var renderbufferState = wrapRenderbuffers(gl, extensions, limits, stats$$1, config)\n  var framebufferState = wrapFBOState(\n    gl,\n    extensions,\n    limits,\n    textureState,\n    renderbufferState,\n    stats$$1)\n  var core = reglCore(\n    gl,\n    stringStore,\n    extensions,\n    limits,\n    bufferState,\n    elementState,\n    textureState,\n    framebufferState,\n    uniformState,\n    attributeState,\n    shaderState,\n    drawState,\n    contextState,\n    timer,\n    config)\n  var readPixels = wrapReadPixels(\n    gl,\n    framebufferState,\n    core.procs.poll,\n    contextState,\n    glAttributes, extensions, limits)\n\n  var nextState = core.next\n  var canvas = gl.canvas\n\n  var rafCallbacks = []\n  var lossCallbacks = []\n  var restoreCallbacks = []\n  var destroyCallbacks = [config.onDestroy]\n\n  var activeRAF = null\n  function handleRAF () {\n    if (rafCallbacks.length === 0) {\n      if (timer) {\n        timer.update()\n      }\n      activeRAF = null\n      return\n    }\n\n    // schedule next animation frame\n    activeRAF = raf.next(handleRAF)\n\n    // poll for changes\n    poll()\n\n    // fire a callback for all pending rafs\n    for (var i = rafCallbacks.length - 1; i >= 0; --i) {\n      var cb = rafCallbacks[i]\n      if (cb) {\n        cb(contextState, null, 0)\n      }\n    }\n\n    // flush all pending webgl calls\n    gl.flush()\n\n    // poll GPU timers *after* gl.flush so we don't delay command dispatch\n    if (timer) {\n      timer.update()\n    }\n  }\n\n  function startRAF () {\n    if (!activeRAF && rafCallbacks.length > 0) {\n      activeRAF = raf.next(handleRAF)\n    }\n  }\n\n  function stopRAF () {\n    if (activeRAF) {\n      raf.cancel(handleRAF)\n      activeRAF = null\n    }\n  }\n\n  function handleContextLoss (event) {\n    event.preventDefault()\n\n    // set context lost flag\n    contextLost = true\n\n    // pause request animation frame\n    stopRAF()\n\n    // lose context\n    lossCallbacks.forEach(function (cb) {\n      cb()\n    })\n  }\n\n  function handleContextRestored (event) {\n    // clear error code\n    gl.getError()\n\n    // clear context lost flag\n    contextLost = false\n\n    // refresh state\n    extensionState.restore()\n    shaderState.restore()\n    bufferState.restore()\n    textureState.restore()\n    renderbufferState.restore()\n    framebufferState.restore()\n    attributeState.restore()\n    if (timer) {\n      timer.restore()\n    }\n\n    // refresh state\n    core.procs.refresh()\n\n    // restart RAF\n    startRAF()\n\n    // restore context\n    restoreCallbacks.forEach(function (cb) {\n      cb()\n    })\n  }\n\n  if (canvas) {\n    canvas.addEventListener(CONTEXT_LOST_EVENT, handleContextLoss, false)\n    canvas.addEventListener(CONTEXT_RESTORED_EVENT, handleContextRestored, false)\n  }\n\n  function destroy () {\n    rafCallbacks.length = 0\n    stopRAF()\n\n    if (canvas) {\n      canvas.removeEventListener(CONTEXT_LOST_EVENT, handleContextLoss)\n      canvas.removeEventListener(CONTEXT_RESTORED_EVENT, handleContextRestored)\n    }\n\n    shaderState.clear()\n    framebufferState.clear()\n    renderbufferState.clear()\n    textureState.clear()\n    elementState.clear()\n    bufferState.clear()\n    attributeState.clear()\n\n    if (timer) {\n      timer.clear()\n    }\n\n    destroyCallbacks.forEach(function (cb) {\n      cb()\n    })\n  }\n\n  function compileProcedure (options) {\n    check$1(!!options, 'invalid args to regl({...})')\n    check$1.type(options, 'object', 'invalid args to regl({...})')\n\n    function flattenNestedOptions (options) {\n      var result = extend({}, options)\n      delete result.uniforms\n      delete result.attributes\n      delete result.context\n      delete result.vao\n\n      if ('stencil' in result && result.stencil.op) {\n        result.stencil.opBack = result.stencil.opFront = result.stencil.op\n        delete result.stencil.op\n      }\n\n      function merge (name) {\n        if (name in result) {\n          var child = result[name]\n          delete result[name]\n          Object.keys(child).forEach(function (prop) {\n            result[name + '.' + prop] = child[prop]\n          })\n        }\n      }\n      merge('blend')\n      merge('depth')\n      merge('cull')\n      merge('stencil')\n      merge('polygonOffset')\n      merge('scissor')\n      merge('sample')\n\n      if ('vao' in options) {\n        result.vao = options.vao\n      }\n\n      return result\n    }\n\n    function separateDynamic (object) {\n      var staticItems = {}\n      var dynamicItems = {}\n      Object.keys(object).forEach(function (option) {\n        var value = object[option]\n        if (dynamic.isDynamic(value)) {\n          dynamicItems[option] = dynamic.unbox(value, option)\n        } else {\n          staticItems[option] = value\n        }\n      })\n      return {\n        dynamic: dynamicItems,\n        static: staticItems\n      }\n    }\n\n    // Treat context variables separate from other dynamic variables\n    var context = separateDynamic(options.context || {})\n    var uniforms = separateDynamic(options.uniforms || {})\n    var attributes = separateDynamic(options.attributes || {})\n    var opts = separateDynamic(flattenNestedOptions(options))\n\n    var stats$$1 = {\n      gpuTime: 0.0,\n      cpuTime: 0.0,\n      count: 0\n    }\n\n    var compiled = core.compile(opts, attributes, uniforms, context, stats$$1)\n\n    var draw = compiled.draw\n    var batch = compiled.batch\n    var scope = compiled.scope\n\n    // FIXME: we should modify code generation for batch commands so this\n    // isn't necessary\n    var EMPTY_ARRAY = []\n    function reserve (count) {\n      while (EMPTY_ARRAY.length < count) {\n        EMPTY_ARRAY.push(null)\n      }\n      return EMPTY_ARRAY\n    }\n\n    function REGLCommand (args, body) {\n      var i\n      if (contextLost) {\n        check$1.raise('context lost')\n      }\n      if (typeof args === 'function') {\n        return scope.call(this, null, args, 0)\n      } else if (typeof body === 'function') {\n        if (typeof args === 'number') {\n          for (i = 0; i < args; ++i) {\n            scope.call(this, null, body, i)\n          }\n        } else if (Array.isArray(args)) {\n          for (i = 0; i < args.length; ++i) {\n            scope.call(this, args[i], body, i)\n          }\n        } else {\n          return scope.call(this, args, body, 0)\n        }\n      } else if (typeof args === 'number') {\n        if (args > 0) {\n          return batch.call(this, reserve(args | 0), args | 0)\n        }\n      } else if (Array.isArray(args)) {\n        if (args.length) {\n          return batch.call(this, args, args.length)\n        }\n      } else {\n        return draw.call(this, args)\n      }\n    }\n\n    return extend(REGLCommand, {\n      stats: stats$$1\n    })\n  }\n\n  var setFBO = framebufferState.setFBO = compileProcedure({\n    framebuffer: dynamic.define.call(null, DYN_PROP, 'framebuffer')\n  })\n\n  function clearImpl (_, options) {\n    var clearFlags = 0\n    core.procs.poll()\n\n    var c = options.color\n    if (c) {\n      gl.clearColor(+c[0] || 0, +c[1] || 0, +c[2] || 0, +c[3] || 0)\n      clearFlags |= GL_COLOR_BUFFER_BIT\n    }\n    if ('depth' in options) {\n      gl.clearDepth(+options.depth)\n      clearFlags |= GL_DEPTH_BUFFER_BIT\n    }\n    if ('stencil' in options) {\n      gl.clearStencil(options.stencil | 0)\n      clearFlags |= GL_STENCIL_BUFFER_BIT\n    }\n\n    check$1(!!clearFlags, 'called regl.clear with no buffer specified')\n    gl.clear(clearFlags)\n  }\n\n  function clear (options) {\n    check$1(\n      typeof options === 'object' && options,\n      'regl.clear() takes an object as input')\n    if ('framebuffer' in options) {\n      if (options.framebuffer &&\n          options.framebuffer_reglType === 'framebufferCube') {\n        for (var i = 0; i < 6; ++i) {\n          setFBO(extend({\n            framebuffer: options.framebuffer.faces[i]\n          }, options), clearImpl)\n        }\n      } else {\n        setFBO(options, clearImpl)\n      }\n    } else {\n      clearImpl(null, options)\n    }\n  }\n\n  function frame (cb) {\n    check$1.type(cb, 'function', 'regl.frame() callback must be a function')\n    rafCallbacks.push(cb)\n\n    function cancel () {\n      // FIXME:  should we check something other than equals cb here?\n      // what if a user calls frame twice with the same callback...\n      //\n      var i = find(rafCallbacks, cb)\n      check$1(i >= 0, 'cannot cancel a frame twice')\n      function pendingCancel () {\n        var index = find(rafCallbacks, pendingCancel)\n        rafCallbacks[index] = rafCallbacks[rafCallbacks.length - 1]\n        rafCallbacks.length -= 1\n        if (rafCallbacks.length <= 0) {\n          stopRAF()\n        }\n      }\n      rafCallbacks[i] = pendingCancel\n    }\n\n    startRAF()\n\n    return {\n      cancel: cancel\n    }\n  }\n\n  // poll viewport\n  function pollViewport () {\n    var viewport = nextState.viewport\n    var scissorBox = nextState.scissor_box\n    viewport[0] = viewport[1] = scissorBox[0] = scissorBox[1] = 0\n    contextState.viewportWidth =\n      contextState.framebufferWidth =\n      contextState.drawingBufferWidth =\n      viewport[2] =\n      scissorBox[2] = gl.drawingBufferWidth\n    contextState.viewportHeight =\n      contextState.framebufferHeight =\n      contextState.drawingBufferHeight =\n      viewport[3] =\n      scissorBox[3] = gl.drawingBufferHeight\n  }\n\n  function poll () {\n    contextState.tick += 1\n    contextState.time = now()\n    pollViewport()\n    core.procs.poll()\n  }\n\n  function refresh () {\n    pollViewport()\n    core.procs.refresh()\n    if (timer) {\n      timer.update()\n    }\n  }\n\n  function now () {\n    return (clock() - START_TIME) / 1000.0\n  }\n\n  refresh()\n\n  function addListener (event, callback) {\n    check$1.type(callback, 'function', 'listener callback must be a function')\n\n    var callbacks\n    switch (event) {\n      case 'frame':\n        return frame(callback)\n      case 'lost':\n        callbacks = lossCallbacks\n        break\n      case 'restore':\n        callbacks = restoreCallbacks\n        break\n      case 'destroy':\n        callbacks = destroyCallbacks\n        break\n      default:\n        check$1.raise('invalid event, must be one of frame,lost,restore,destroy')\n    }\n\n    callbacks.push(callback)\n    return {\n      cancel: function () {\n        for (var i = 0; i < callbacks.length; ++i) {\n          if (callbacks[i] === callback) {\n            callbacks[i] = callbacks[callbacks.length - 1]\n            callbacks.pop()\n            return\n          }\n        }\n      }\n    }\n  }\n\n  var regl = extend(compileProcedure, {\n    // Clear current FBO\n    clear: clear,\n\n    // Short cuts for dynamic variables\n    prop: dynamic.define.bind(null, DYN_PROP),\n    context: dynamic.define.bind(null, DYN_CONTEXT),\n    this: dynamic.define.bind(null, DYN_STATE),\n\n    // executes an empty draw command\n    draw: compileProcedure({}),\n\n    // Resources\n    buffer: function (options) {\n      return bufferState.create(options, GL_ARRAY_BUFFER, false, false)\n    },\n    elements: function (options) {\n      return elementState.create(options, false)\n    },\n    texture: textureState.create2D,\n    cube: textureState.createCube,\n    renderbuffer: renderbufferState.create,\n    framebuffer: framebufferState.create,\n    framebufferCube: framebufferState.createCube,\n    vao: attributeState.createVAO,\n\n    // Expose context attributes\n    attributes: glAttributes,\n\n    // Frame rendering\n    frame: frame,\n    on: addListener,\n\n    // System limits\n    limits: limits,\n    hasExtension: function (name) {\n      return limits.extensions.indexOf(name.toLowerCase()) >= 0\n    },\n\n    // Read pixels\n    read: readPixels,\n\n    // Destroy regl and all associated resources\n    destroy: destroy,\n\n    // Direct GL state manipulation\n    _gl: gl,\n    _refresh: refresh,\n\n    poll: function () {\n      poll()\n      if (timer) {\n        timer.update()\n      }\n    },\n\n    // Current time\n    now: now,\n\n    // regl Statistics Information\n    stats: stats$$1\n  })\n\n  config.onDone(null, regl)\n\n  return regl\n}\n\nreturn wrapREGL;\n\n})));\n//# sourceMappingURL=regl.js.map\n", "// src/factory.ts\nvar TRANSFORMS = {};\nvar PARSERS = {};\nvar getParser = (type) => PARSERS[type];\nvar registerParser = (type, parserFunction) => {\n  PARSERS[type] = parserFunction;\n};\nvar getTransform = (type) => TRANSFORMS[type];\nvar registerTransform = (type, transFunction) => {\n  TRANSFORMS[type] = transFunction;\n};\nexport {\n  getParser,\n  getTransform,\n  registerParser,\n  registerTransform\n};\n", "var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n", "import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n", "import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n", "export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nvar fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();", "import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n", "// src/utils/util.ts\nimport { lodashUtil } from \"@antv/l7-utils\";\nimport rewind from \"@mapbox/geojson-rewind\";\nfunction getColumn(data, columnName) {\n  return data.map((item) => {\n    return item[columnName] * 1;\n  });\n}\nfunction isRasterFileData(data) {\n  if (data === void 0) {\n    return false;\n  }\n  if (!Array.isArray(data) && data.data !== void 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\nfunction isRasterFileDataArray(data) {\n  if (Array.isArray(data)) {\n    if (data.length === 0) {\n      return false;\n    }\n    if (isRasterFileData(data[0])) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}\nfunction isNumberArray(data) {\n  if (Array.isArray(data)) {\n    if (data.length === 0) {\n      return true;\n    }\n    if (typeof data[0] === \"number\") {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  return false;\n}\nfunction geojsonRewind(geojson) {\n  const data = Object.isFrozen(geojson) ? lodashUtil.cloneDeep(geojson) : geojson;\n  rewind(data, true);\n  return data;\n}\nfunction extentToCoord(coord, extent) {\n  return coord ? coord : [\n    [extent[0], extent[3]],\n    [extent[2], extent[3]],\n    [extent[2], extent[1]],\n    [extent[0], extent[1]]\n  ];\n}\nexport {\n  extentToCoord,\n  geojsonRewind,\n  getColumn,\n  isNumberArray,\n  isRasterFileData,\n  isRasterFileDataArray\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/parser/json.ts\nimport { getCoords } from \"@turf/invariant\";\nimport { flattenEach } from \"@turf/meta\";\nimport { geojsonRewind } from \"../utils/util\";\nfunction json(data, cfg) {\n  const { x, y, x1, y1, coordinates, geometry } = cfg;\n  const resultData = [];\n  if (!Array.isArray(data)) {\n    return {\n      dataArray: []\n    };\n  }\n  if (geometry) {\n    data.filter((item) => {\n      return item[geometry] && item[geometry].type && item[geometry].coordinates && item[geometry].coordinates.length > 0;\n    }).forEach((col, index) => {\n      const rewindGeometry = geojsonRewind(col[geometry]);\n      flattenEach(rewindGeometry, (currentFeature) => {\n        const coord = getCoords(currentFeature);\n        const dataItem = __spreadProps(__spreadValues({}, col), {\n          _id: index,\n          coordinates: coord\n        });\n        resultData.push(dataItem);\n      });\n    });\n    return {\n      dataArray: resultData\n    };\n  }\n  for (let featureIndex = 0; featureIndex < data.length; featureIndex++) {\n    const col = data[featureIndex];\n    let coords = [];\n    if (coordinates) {\n      let type = \"Polygon\";\n      if (!Array.isArray(coordinates[0])) {\n        type = \"Point\";\n      }\n      if (Array.isArray(coordinates[0]) && !Array.isArray(coordinates[0][0])) {\n        type = \"LineString\";\n      }\n      const rewindGeometry = geojsonRewind({\n        type,\n        coordinates: col[coordinates]\n      });\n      coords = rewindGeometry.coordinates;\n    } else if (x && y && x1 && y1) {\n      const from = [parseFloat(col[x]), parseFloat(col[y])];\n      const to = [parseFloat(col[x1]), parseFloat(col[y1])];\n      coords = [from, to];\n    } else if (x && y) {\n      coords = [parseFloat(col[x]), parseFloat(col[y])];\n    }\n    const dataItem = __spreadProps(__spreadValues({}, col), {\n      _id: featureIndex,\n      coordinates: coords\n    });\n    resultData.push(dataItem);\n  }\n  return {\n    dataArray: resultData\n  };\n}\nexport {\n  json as default\n};\n", "// src/parser/csv.ts\nimport { csvParse } from \"d3-dsv\";\nimport json from \"./json\";\nfunction csv(data, cfg) {\n  const csvData = csvParse(data);\n  return json(csvData, cfg);\n}\nexport {\n  csv as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/parser/geojson.ts\nimport { getCoords } from \"@turf/invariant\";\nimport { flattenEach } from \"@turf/meta\";\nimport { geojsonRewind } from \"../utils/util\";\nfunction djb2hash(field) {\n  const str = field.toString();\n  let hash = 5381;\n  let i = str.length;\n  while (i) {\n    hash = hash * 33 ^ str.charCodeAt(--i);\n  }\n  return hash >>> 0;\n}\nfunction getFeatureID(feature, key) {\n  if (key === void 0) {\n    return null;\n  }\n  if (!isNaN(feature.properties[key] * 1)) {\n    return feature.properties[key] * 1;\n  }\n  if (feature.properties && feature.properties[key]) {\n    return djb2hash(feature.properties[key] + \"\") % 1000019;\n  }\n  return null;\n}\nfunction geoJSON(data, cfg) {\n  const resultData = [];\n  const featureKeys = {};\n  if (!data.features) {\n    data.features = [];\n    return {\n      dataArray: []\n    };\n  }\n  data.features = data.features.filter((item) => {\n    const geometry = item.geometry;\n    return item != null && geometry && geometry.type && geometry.coordinates && geometry.coordinates.length > 0;\n  });\n  data = geojsonRewind(data);\n  if (data.features.length === 0) {\n    return {\n      dataArray: [],\n      featureKeys\n    };\n  }\n  flattenEach(data, (currentFeature, featureIndex) => {\n    let featureId = getFeatureID(currentFeature, cfg == null ? void 0 : cfg.featureId);\n    if (featureId === null) {\n      featureId = featureIndex;\n    }\n    const sortedID = featureId;\n    const coord = getCoords(currentFeature);\n    const dataItem = __spreadProps(__spreadValues({}, currentFeature.properties), {\n      coordinates: coord,\n      _id: sortedID\n    });\n    resultData.push(dataItem);\n  });\n  return {\n    dataArray: resultData,\n    featureKeys\n  };\n}\nexport {\n  geoJSON as default\n};\n", "\n// calculate simplification data using optimized Douglas-Peucker algorithm\n\nexport default function simplify(coords, first, last, sqTolerance) {\n    var maxSqDist = sqTolerance;\n    var mid = (last - first) >> 1;\n    var minPosToMid = last - first;\n    var index;\n\n    var ax = coords[first];\n    var ay = coords[first + 1];\n    var bx = coords[last];\n    var by = coords[last + 1];\n\n    for (var i = first + 3; i < last; i += 3) {\n        var d = getSqSegDist(coords[i], coords[i + 1], ax, ay, bx, by);\n\n        if (d > maxSqDist) {\n            index = i;\n            maxSqDist = d;\n\n        } else if (d === maxSqDist) {\n            // a workaround to ensure we choose a pivot close to the middle of the list,\n            // reducing recursion depth, for certain degenerate inputs\n            // https://github.com/mapbox/geojson-vt/issues/104\n            var posToMid = Math.abs(i - mid);\n            if (posToMid < minPosToMid) {\n                index = i;\n                minPosToMid = posToMid;\n            }\n        }\n    }\n\n    if (maxSqDist > sqTolerance) {\n        if (index - first > 3) simplify(coords, first, index, sqTolerance);\n        coords[index + 2] = maxSqDist;\n        if (last - index > 3) simplify(coords, index, last, sqTolerance);\n    }\n}\n\n// square distance from a point to a segment\nfunction getSqSegDist(px, py, x, y, bx, by) {\n\n    var dx = bx - x;\n    var dy = by - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((px - x) * dx + (py - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = bx;\n            y = by;\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = px - x;\n    dy = py - y;\n\n    return dx * dx + dy * dy;\n}\n", "\nexport default function createFeature(id, type, geom, tags) {\n    var feature = {\n        id: typeof id === 'undefined' ? null : id,\n        type: type,\n        geometry: geom,\n        tags: tags,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n    calcBBox(feature);\n    return feature;\n}\n\nfunction calcBBox(feature) {\n    var geom = feature.geometry;\n    var type = feature.type;\n\n    if (type === 'Point' || type === 'MultiPoint' || type === 'LineString') {\n        calcLineBBox(feature, geom);\n\n    } else if (type === 'Polygon' || type === 'MultiLineString') {\n        for (var i = 0; i < geom.length; i++) {\n            calcLineBBox(feature, geom[i]);\n        }\n\n    } else if (type === 'MultiPolygon') {\n        for (i = 0; i < geom.length; i++) {\n            for (var j = 0; j < geom[i].length; j++) {\n                calcLineBBox(feature, geom[i][j]);\n            }\n        }\n    }\n}\n\nfunction calcLineBBox(feature, geom) {\n    for (var i = 0; i < geom.length; i += 3) {\n        feature.minX = Math.min(feature.minX, geom[i]);\n        feature.minY = Math.min(feature.minY, geom[i + 1]);\n        feature.maxX = Math.max(feature.maxX, geom[i]);\n        feature.maxY = Math.max(feature.maxY, geom[i + 1]);\n    }\n}\n", "\nimport simplify from './simplify';\nimport createFeature from './feature';\n\n// converts GeoJSON feature into an intermediate projected JSON vector format with simplification data\n\nexport default function convert(data, options) {\n    var features = [];\n    if (data.type === 'FeatureCollection') {\n        for (var i = 0; i < data.features.length; i++) {\n            convertFeature(features, data.features[i], options, i);\n        }\n\n    } else if (data.type === 'Feature') {\n        convertFeature(features, data, options);\n\n    } else {\n        // single geometry or a geometry collection\n        convertFeature(features, {geometry: data}, options);\n    }\n\n    return features;\n}\n\nfunction convertFeature(features, geojson, options, index) {\n    if (!geojson.geometry) return;\n\n    var coords = geojson.geometry.coordinates;\n    var type = geojson.geometry.type;\n    var tolerance = Math.pow(options.tolerance / ((1 << options.maxZoom) * options.extent), 2);\n    var geometry = [];\n    var id = geojson.id;\n    if (options.promoteId) {\n        id = geojson.properties[options.promoteId];\n    } else if (options.generateId) {\n        id = index || 0;\n    }\n    if (type === 'Point') {\n        convertPoint(coords, geometry);\n\n    } else if (type === 'MultiPoint') {\n        for (var i = 0; i < coords.length; i++) {\n            convertPoint(coords[i], geometry);\n        }\n\n    } else if (type === 'LineString') {\n        convertLine(coords, geometry, tolerance, false);\n\n    } else if (type === 'MultiLineString') {\n        if (options.lineMetrics) {\n            // explode into linestrings to be able to track metrics\n            for (i = 0; i < coords.length; i++) {\n                geometry = [];\n                convertLine(coords[i], geometry, tolerance, false);\n                features.push(createFeature(id, 'LineString', geometry, geojson.properties));\n            }\n            return;\n        } else {\n            convertLines(coords, geometry, tolerance, false);\n        }\n\n    } else if (type === 'Polygon') {\n        convertLines(coords, geometry, tolerance, true);\n\n    } else if (type === 'MultiPolygon') {\n        for (i = 0; i < coords.length; i++) {\n            var polygon = [];\n            convertLines(coords[i], polygon, tolerance, true);\n            geometry.push(polygon);\n        }\n    } else if (type === 'GeometryCollection') {\n        for (i = 0; i < geojson.geometry.geometries.length; i++) {\n            convertFeature(features, {\n                id: id,\n                geometry: geojson.geometry.geometries[i],\n                properties: geojson.properties\n            }, options, index);\n        }\n        return;\n    } else {\n        throw new Error('Input data is not a valid GeoJSON object.');\n    }\n\n    features.push(createFeature(id, type, geometry, geojson.properties));\n}\n\nfunction convertPoint(coords, out) {\n    out.push(projectX(coords[0]));\n    out.push(projectY(coords[1]));\n    out.push(0);\n}\n\nfunction convertLine(ring, out, tolerance, isPolygon) {\n    var x0, y0;\n    var size = 0;\n\n    for (var j = 0; j < ring.length; j++) {\n        var x = projectX(ring[j][0]);\n        var y = projectY(ring[j][1]);\n\n        out.push(x);\n        out.push(y);\n        out.push(0);\n\n        if (j > 0) {\n            if (isPolygon) {\n                size += (x0 * y - x * y0) / 2; // area\n            } else {\n                size += Math.sqrt(Math.pow(x - x0, 2) + Math.pow(y - y0, 2)); // length\n            }\n        }\n        x0 = x;\n        y0 = y;\n    }\n\n    var last = out.length - 3;\n    out[2] = 1;\n    simplify(out, 0, last, tolerance);\n    out[last + 2] = 1;\n\n    out.size = Math.abs(size);\n    out.start = 0;\n    out.end = out.size;\n}\n\nfunction convertLines(rings, out, tolerance, isPolygon) {\n    for (var i = 0; i < rings.length; i++) {\n        var geom = [];\n        convertLine(rings[i], geom, tolerance, isPolygon);\n        out.push(geom);\n    }\n}\n\nfunction projectX(x) {\n    return x / 360 + 0.5;\n}\n\nfunction projectY(y) {\n    var sin = Math.sin(y * Math.PI / 180);\n    var y2 = 0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI;\n    return y2 < 0 ? 0 : y2 > 1 ? 1 : y2;\n}\n", "\nimport createFeature from './feature';\n\n/* clip features between two axis-parallel lines:\n *     |        |\n *  ___|___     |     /\n * /   |   \\____|____/\n *     |        |\n */\n\nexport default function clip(features, scale, k1, k2, axis, minAll, maxAll, options) {\n\n    k1 /= scale;\n    k2 /= scale;\n\n    if (minAll >= k1 && maxAll < k2) return features; // trivial accept\n    else if (maxAll < k1 || minAll >= k2) return null; // trivial reject\n\n    var clipped = [];\n\n    for (var i = 0; i < features.length; i++) {\n\n        var feature = features[i];\n        var geometry = feature.geometry;\n        var type = feature.type;\n\n        var min = axis === 0 ? feature.minX : feature.minY;\n        var max = axis === 0 ? feature.maxX : feature.maxY;\n\n        if (min >= k1 && max < k2) { // trivial accept\n            clipped.push(feature);\n            continue;\n        } else if (max < k1 || min >= k2) { // trivial reject\n            continue;\n        }\n\n        var newGeometry = [];\n\n        if (type === 'Point' || type === 'MultiPoint') {\n            clipPoints(geometry, newGeometry, k1, k2, axis);\n\n        } else if (type === 'LineString') {\n            clipLine(geometry, newGeometry, k1, k2, axis, false, options.lineMetrics);\n\n        } else if (type === 'MultiLineString') {\n            clipLines(geometry, newGeometry, k1, k2, axis, false);\n\n        } else if (type === 'Polygon') {\n            clipLines(geometry, newGeometry, k1, k2, axis, true);\n\n        } else if (type === 'MultiPolygon') {\n            for (var j = 0; j < geometry.length; j++) {\n                var polygon = [];\n                clipLines(geometry[j], polygon, k1, k2, axis, true);\n                if (polygon.length) {\n                    newGeometry.push(polygon);\n                }\n            }\n        }\n\n        if (newGeometry.length) {\n            if (options.lineMetrics && type === 'LineString') {\n                for (j = 0; j < newGeometry.length; j++) {\n                    clipped.push(createFeature(feature.id, type, newGeometry[j], feature.tags));\n                }\n                continue;\n            }\n\n            if (type === 'LineString' || type === 'MultiLineString') {\n                if (newGeometry.length === 1) {\n                    type = 'LineString';\n                    newGeometry = newGeometry[0];\n                } else {\n                    type = 'MultiLineString';\n                }\n            }\n            if (type === 'Point' || type === 'MultiPoint') {\n                type = newGeometry.length === 3 ? 'Point' : 'MultiPoint';\n            }\n\n            clipped.push(createFeature(feature.id, type, newGeometry, feature.tags));\n        }\n    }\n\n    return clipped.length ? clipped : null;\n}\n\nfunction clipPoints(geom, newGeom, k1, k2, axis) {\n    for (var i = 0; i < geom.length; i += 3) {\n        var a = geom[i + axis];\n\n        if (a >= k1 && a <= k2) {\n            newGeom.push(geom[i]);\n            newGeom.push(geom[i + 1]);\n            newGeom.push(geom[i + 2]);\n        }\n    }\n}\n\nfunction clipLine(geom, newGeom, k1, k2, axis, isPolygon, trackMetrics) {\n\n    var slice = newSlice(geom);\n    var intersect = axis === 0 ? intersectX : intersectY;\n    var len = geom.start;\n    var segLen, t;\n\n    for (var i = 0; i < geom.length - 3; i += 3) {\n        var ax = geom[i];\n        var ay = geom[i + 1];\n        var az = geom[i + 2];\n        var bx = geom[i + 3];\n        var by = geom[i + 4];\n        var a = axis === 0 ? ax : ay;\n        var b = axis === 0 ? bx : by;\n        var exited = false;\n\n        if (trackMetrics) segLen = Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\n\n        if (a < k1) {\n            // ---|-->  | (line enters the clip region from the left)\n            if (b > k1) {\n                t = intersect(slice, ax, ay, bx, by, k1);\n                if (trackMetrics) slice.start = len + segLen * t;\n            }\n        } else if (a > k2) {\n            // |  <--|--- (line enters the clip region from the right)\n            if (b < k2) {\n                t = intersect(slice, ax, ay, bx, by, k2);\n                if (trackMetrics) slice.start = len + segLen * t;\n            }\n        } else {\n            addPoint(slice, ax, ay, az);\n        }\n        if (b < k1 && a >= k1) {\n            // <--|---  | or <--|-----|--- (line exits the clip region on the left)\n            t = intersect(slice, ax, ay, bx, by, k1);\n            exited = true;\n        }\n        if (b > k2 && a <= k2) {\n            // |  ---|--> or ---|-----|--> (line exits the clip region on the right)\n            t = intersect(slice, ax, ay, bx, by, k2);\n            exited = true;\n        }\n\n        if (!isPolygon && exited) {\n            if (trackMetrics) slice.end = len + segLen * t;\n            newGeom.push(slice);\n            slice = newSlice(geom);\n        }\n\n        if (trackMetrics) len += segLen;\n    }\n\n    // add the last point\n    var last = geom.length - 3;\n    ax = geom[last];\n    ay = geom[last + 1];\n    az = geom[last + 2];\n    a = axis === 0 ? ax : ay;\n    if (a >= k1 && a <= k2) addPoint(slice, ax, ay, az);\n\n    // close the polygon if its endpoints are not the same after clipping\n    last = slice.length - 3;\n    if (isPolygon && last >= 3 && (slice[last] !== slice[0] || slice[last + 1] !== slice[1])) {\n        addPoint(slice, slice[0], slice[1], slice[2]);\n    }\n\n    // add the final slice\n    if (slice.length) {\n        newGeom.push(slice);\n    }\n}\n\nfunction newSlice(line) {\n    var slice = [];\n    slice.size = line.size;\n    slice.start = line.start;\n    slice.end = line.end;\n    return slice;\n}\n\nfunction clipLines(geom, newGeom, k1, k2, axis, isPolygon) {\n    for (var i = 0; i < geom.length; i++) {\n        clipLine(geom[i], newGeom, k1, k2, axis, isPolygon, false);\n    }\n}\n\nfunction addPoint(out, x, y, z) {\n    out.push(x);\n    out.push(y);\n    out.push(z);\n}\n\nfunction intersectX(out, ax, ay, bx, by, x) {\n    var t = (x - ax) / (bx - ax);\n    out.push(x);\n    out.push(ay + (by - ay) * t);\n    out.push(1);\n    return t;\n}\n\nfunction intersectY(out, ax, ay, bx, by, y) {\n    var t = (y - ay) / (by - ay);\n    out.push(ax + (bx - ax) * t);\n    out.push(y);\n    out.push(1);\n    return t;\n}\n", "\nimport clip from './clip';\nimport createFeature from './feature';\n\nexport default function wrap(features, options) {\n    var buffer = options.buffer / options.extent;\n    var merged = features;\n    var left  = clip(features, 1, -1 - buffer, buffer,     0, -1, 2, options); // left world copy\n    var right = clip(features, 1,  1 - buffer, 2 + buffer, 0, -1, 2, options); // right world copy\n\n    if (left || right) {\n        merged = clip(features, 1, -buffer, 1 + buffer, 0, -1, 2, options) || []; // center world copy\n\n        if (left) merged = shiftFeatureCoords(left, 1).concat(merged); // merge left into center\n        if (right) merged = merged.concat(shiftFeatureCoords(right, -1)); // merge right into center\n    }\n\n    return merged;\n}\n\nfunction shiftFeatureCoords(features, offset) {\n    var newFeatures = [];\n\n    for (var i = 0; i < features.length; i++) {\n        var feature = features[i],\n            type = feature.type;\n\n        var newGeometry;\n\n        if (type === 'Point' || type === 'MultiPoint' || type === 'LineString') {\n            newGeometry = shiftCoords(feature.geometry, offset);\n\n        } else if (type === 'MultiLineString' || type === 'Polygon') {\n            newGeometry = [];\n            for (var j = 0; j < feature.geometry.length; j++) {\n                newGeometry.push(shiftCoords(feature.geometry[j], offset));\n            }\n        } else if (type === 'MultiPolygon') {\n            newGeometry = [];\n            for (j = 0; j < feature.geometry.length; j++) {\n                var newPolygon = [];\n                for (var k = 0; k < feature.geometry[j].length; k++) {\n                    newPolygon.push(shiftCoords(feature.geometry[j][k], offset));\n                }\n                newGeometry.push(newPolygon);\n            }\n        }\n\n        newFeatures.push(createFeature(feature.id, type, newGeometry, feature.tags));\n    }\n\n    return newFeatures;\n}\n\nfunction shiftCoords(points, offset) {\n    var newPoints = [];\n    newPoints.size = points.size;\n\n    if (points.start !== undefined) {\n        newPoints.start = points.start;\n        newPoints.end = points.end;\n    }\n\n    for (var i = 0; i < points.length; i += 3) {\n        newPoints.push(points[i] + offset, points[i + 1], points[i + 2]);\n    }\n    return newPoints;\n}\n", "\n// Transforms the coordinates of each feature in the given tile from\n// mercator-projected space into (extent x extent) tile space.\nexport default function transformTile(tile, extent) {\n    if (tile.transformed) return tile;\n\n    var z2 = 1 << tile.z,\n        tx = tile.x,\n        ty = tile.y,\n        i, j, k;\n\n    for (i = 0; i < tile.features.length; i++) {\n        var feature = tile.features[i],\n            geom = feature.geometry,\n            type = feature.type;\n\n        feature.geometry = [];\n\n        if (type === 1) {\n            for (j = 0; j < geom.length; j += 2) {\n                feature.geometry.push(transformPoint(geom[j], geom[j + 1], extent, z2, tx, ty));\n            }\n        } else {\n            for (j = 0; j < geom.length; j++) {\n                var ring = [];\n                for (k = 0; k < geom[j].length; k += 2) {\n                    ring.push(transformPoint(geom[j][k], geom[j][k + 1], extent, z2, tx, ty));\n                }\n                feature.geometry.push(ring);\n            }\n        }\n    }\n\n    tile.transformed = true;\n\n    return tile;\n}\n\nfunction transformPoint(x, y, extent, z2, tx, ty) {\n    return [\n        Math.round(extent * (x * z2 - tx)),\n        Math.round(extent * (y * z2 - ty))];\n}\n", "\nexport default function createTile(features, z, tx, ty, options) {\n    var tolerance = z === options.maxZoom ? 0 : options.tolerance / ((1 << z) * options.extent);\n    var tile = {\n        features: [],\n        numPoints: 0,\n        numSimplified: 0,\n        numFeatures: 0,\n        source: null,\n        x: tx,\n        y: ty,\n        z: z,\n        transformed: false,\n        minX: 2,\n        minY: 1,\n        maxX: -1,\n        maxY: 0\n    };\n    for (var i = 0; i < features.length; i++) {\n        tile.numFeatures++;\n        addFeature(tile, features[i], tolerance, options);\n\n        var minX = features[i].minX;\n        var minY = features[i].minY;\n        var maxX = features[i].maxX;\n        var maxY = features[i].maxY;\n\n        if (minX < tile.minX) tile.minX = minX;\n        if (minY < tile.minY) tile.minY = minY;\n        if (maxX > tile.maxX) tile.maxX = maxX;\n        if (maxY > tile.maxY) tile.maxY = maxY;\n    }\n    return tile;\n}\n\nfunction addFeature(tile, feature, tolerance, options) {\n\n    var geom = feature.geometry,\n        type = feature.type,\n        simplified = [];\n\n    if (type === 'Point' || type === 'MultiPoint') {\n        for (var i = 0; i < geom.length; i += 3) {\n            simplified.push(geom[i]);\n            simplified.push(geom[i + 1]);\n            tile.numPoints++;\n            tile.numSimplified++;\n        }\n\n    } else if (type === 'LineString') {\n        addLine(simplified, geom, tile, tolerance, false, false);\n\n    } else if (type === 'MultiLineString' || type === 'Polygon') {\n        for (i = 0; i < geom.length; i++) {\n            addLine(simplified, geom[i], tile, tolerance, type === 'Polygon', i === 0);\n        }\n\n    } else if (type === 'MultiPolygon') {\n\n        for (var k = 0; k < geom.length; k++) {\n            var polygon = geom[k];\n            for (i = 0; i < polygon.length; i++) {\n                addLine(simplified, polygon[i], tile, tolerance, true, i === 0);\n            }\n        }\n    }\n\n    if (simplified.length) {\n        var tags = feature.tags || null;\n        if (type === 'LineString' && options.lineMetrics) {\n            tags = {};\n            for (var key in feature.tags) tags[key] = feature.tags[key];\n            tags['mapbox_clip_start'] = geom.start / geom.size;\n            tags['mapbox_clip_end'] = geom.end / geom.size;\n        }\n        var tileFeature = {\n            geometry: simplified,\n            type: type === 'Polygon' || type === 'MultiPolygon' ? 3 :\n                type === 'LineString' || type === 'MultiLineString' ? 2 : 1,\n            tags: tags\n        };\n        if (feature.id !== null) {\n            tileFeature.id = feature.id;\n        }\n        tile.features.push(tileFeature);\n    }\n}\n\nfunction addLine(result, geom, tile, tolerance, isPolygon, isOuter) {\n    var sqTolerance = tolerance * tolerance;\n\n    if (tolerance > 0 && (geom.size < (isPolygon ? sqTolerance : tolerance))) {\n        tile.numPoints += geom.length / 3;\n        return;\n    }\n\n    var ring = [];\n\n    for (var i = 0; i < geom.length; i += 3) {\n        if (tolerance === 0 || geom[i + 2] > sqTolerance) {\n            tile.numSimplified++;\n            ring.push(geom[i]);\n            ring.push(geom[i + 1]);\n        }\n        tile.numPoints++;\n    }\n\n    if (isPolygon) rewind(ring, isOuter);\n\n    result.push(ring);\n}\n\nfunction rewind(ring, clockwise) {\n    var area = 0;\n    for (var i = 0, len = ring.length, j = len - 2; i < len; j = i, i += 2) {\n        area += (ring[i] - ring[j]) * (ring[i + 1] + ring[j + 1]);\n    }\n    if (area > 0 === clockwise) {\n        for (i = 0, len = ring.length; i < len / 2; i += 2) {\n            var x = ring[i];\n            var y = ring[i + 1];\n            ring[i] = ring[len - 2 - i];\n            ring[i + 1] = ring[len - 1 - i];\n            ring[len - 2 - i] = x;\n            ring[len - 1 - i] = y;\n        }\n    }\n}\n", "\nimport convert from './convert';     // GeoJSON conversion and preprocessing\nimport clip from './clip';           // stripe clipping algorithm\nimport wrap from './wrap';           // date line processing\nimport transform from './transform'; // coordinate transformation\nimport createTile from './tile';     // final simplified tile generation\n\nexport default function geojsonvt(data, options) {\n    return new GeoJSONVT(data, options);\n}\n\nfunction GeoJSONVT(data, options) {\n    options = this.options = extend(Object.create(this.options), options);\n\n    var debug = options.debug;\n\n    if (debug) console.time('preprocess data');\n\n    if (options.maxZoom < 0 || options.maxZoom > 24) throw new Error('maxZoom should be in the 0-24 range');\n    if (options.promoteId && options.generateId) throw new Error('promoteId and generateId cannot be used together.');\n\n    var features = convert(data, options);\n\n    this.tiles = {};\n    this.tileCoords = [];\n\n    if (debug) {\n        console.timeEnd('preprocess data');\n        console.log('index: maxZoom: %d, maxPoints: %d', options.indexMaxZoom, options.indexMaxPoints);\n        console.time('generate tiles');\n        this.stats = {};\n        this.total = 0;\n    }\n\n    features = wrap(features, options);\n\n    // start slicing from the top tile down\n    if (features.length) this.splitTile(features, 0, 0, 0);\n\n    if (debug) {\n        if (features.length) console.log('features: %d, points: %d', this.tiles[0].numFeatures, this.tiles[0].numPoints);\n        console.timeEnd('generate tiles');\n        console.log('tiles generated:', this.total, JSON.stringify(this.stats));\n    }\n}\n\nGeoJSONVT.prototype.options = {\n    maxZoom: 14,            // max zoom to preserve detail on\n    indexMaxZoom: 5,        // max zoom in the tile index\n    indexMaxPoints: 100000, // max number of points per tile in the tile index\n    tolerance: 3,           // simplification tolerance (higher means simpler)\n    extent: 4096,           // tile extent\n    buffer: 64,             // tile buffer on each side\n    lineMetrics: false,     // whether to calculate line metrics\n    promoteId: null,        // name of a feature property to be promoted to feature.id\n    generateId: false,      // whether to generate feature ids. Cannot be used with promoteId\n    debug: 0                // logging level (0, 1 or 2)\n};\n\nGeoJSONVT.prototype.splitTile = function (features, z, x, y, cz, cx, cy) {\n\n    var stack = [features, z, x, y],\n        options = this.options,\n        debug = options.debug;\n\n    // avoid recursion by using a processing queue\n    while (stack.length) {\n        y = stack.pop();\n        x = stack.pop();\n        z = stack.pop();\n        features = stack.pop();\n\n        var z2 = 1 << z,\n            id = toID(z, x, y),\n            tile = this.tiles[id];\n\n        if (!tile) {\n            if (debug > 1) console.time('creation');\n\n            tile = this.tiles[id] = createTile(features, z, x, y, options);\n            this.tileCoords.push({z: z, x: x, y: y});\n\n            if (debug) {\n                if (debug > 1) {\n                    console.log('tile z%d-%d-%d (features: %d, points: %d, simplified: %d)',\n                        z, x, y, tile.numFeatures, tile.numPoints, tile.numSimplified);\n                    console.timeEnd('creation');\n                }\n                var key = 'z' + z;\n                this.stats[key] = (this.stats[key] || 0) + 1;\n                this.total++;\n            }\n        }\n\n        // save reference to original geometry in tile so that we can drill down later if we stop now\n        tile.source = features;\n\n        // if it's the first-pass tiling\n        if (!cz) {\n            // stop tiling if we reached max zoom, or if the tile is too simple\n            if (z === options.indexMaxZoom || tile.numPoints <= options.indexMaxPoints) continue;\n\n        // if a drilldown to a specific tile\n        } else {\n            // stop tiling if we reached base zoom or our target tile zoom\n            if (z === options.maxZoom || z === cz) continue;\n\n            // stop tiling if it's not an ancestor of the target tile\n            var m = 1 << (cz - z);\n            if (x !== Math.floor(cx / m) || y !== Math.floor(cy / m)) continue;\n        }\n\n        // if we slice further down, no need to keep source geometry\n        tile.source = null;\n\n        if (features.length === 0) continue;\n\n        if (debug > 1) console.time('clipping');\n\n        // values we'll use for clipping\n        var k1 = 0.5 * options.buffer / options.extent,\n            k2 = 0.5 - k1,\n            k3 = 0.5 + k1,\n            k4 = 1 + k1,\n            tl, bl, tr, br, left, right;\n\n        tl = bl = tr = br = null;\n\n        left  = clip(features, z2, x - k1, x + k3, 0, tile.minX, tile.maxX, options);\n        right = clip(features, z2, x + k2, x + k4, 0, tile.minX, tile.maxX, options);\n        features = null;\n\n        if (left) {\n            tl = clip(left, z2, y - k1, y + k3, 1, tile.minY, tile.maxY, options);\n            bl = clip(left, z2, y + k2, y + k4, 1, tile.minY, tile.maxY, options);\n            left = null;\n        }\n\n        if (right) {\n            tr = clip(right, z2, y - k1, y + k3, 1, tile.minY, tile.maxY, options);\n            br = clip(right, z2, y + k2, y + k4, 1, tile.minY, tile.maxY, options);\n            right = null;\n        }\n\n        if (debug > 1) console.timeEnd('clipping');\n\n        stack.push(tl || [], z + 1, x * 2,     y * 2);\n        stack.push(bl || [], z + 1, x * 2,     y * 2 + 1);\n        stack.push(tr || [], z + 1, x * 2 + 1, y * 2);\n        stack.push(br || [], z + 1, x * 2 + 1, y * 2 + 1);\n    }\n};\n\nGeoJSONVT.prototype.getTile = function (z, x, y) {\n    var options = this.options,\n        extent = options.extent,\n        debug = options.debug;\n\n    if (z < 0 || z > 24) return null;\n\n    var z2 = 1 << z;\n    x = ((x % z2) + z2) % z2; // wrap tile x coordinate\n\n    var id = toID(z, x, y);\n    if (this.tiles[id]) return transform(this.tiles[id], extent);\n\n    if (debug > 1) console.log('drilling down to z%d-%d-%d', z, x, y);\n\n    var z0 = z,\n        x0 = x,\n        y0 = y,\n        parent;\n\n    while (!parent && z0 > 0) {\n        z0--;\n        x0 = Math.floor(x0 / 2);\n        y0 = Math.floor(y0 / 2);\n        parent = this.tiles[toID(z0, x0, y0)];\n    }\n\n    if (!parent || !parent.source) return null;\n\n    // if we found a parent tile containing the original geometry, we can drill down from it\n    if (debug > 1) console.log('found parent tile z%d-%d-%d', z0, x0, y0);\n\n    if (debug > 1) console.time('drilling down');\n    this.splitTile(parent.source, z0, x0, y0, z, x, y);\n    if (debug > 1) console.timeEnd('drilling down');\n\n    return this.tiles[id] ? transform(this.tiles[id], extent) : null;\n};\n\nfunction toID(z, x, y) {\n    return (((1 << z) * y + x) * 32) + z;\n}\n\nfunction extend(dest, src) {\n    for (var i in src) dest[i] = src[i];\n    return dest;\n}\n", "// src/source/geojsonvt.ts\nvar VectorSource = class {\n  constructor(vector, x, y, z) {\n    this.vectorLayerCache = {};\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.vectorTile = vector;\n  }\n  getTileData(sourceLayer) {\n    if (!sourceLayer || !this.vectorTile.layers[sourceLayer]) {\n      return [];\n    }\n    if (this.vectorLayerCache[sourceLayer]) {\n      return this.vectorLayerCache[sourceLayer];\n    }\n    const vectorTile = this.vectorTile.layers[sourceLayer];\n    return vectorTile.features;\n  }\n  getFeatureById() {\n    throw new Error(\"Method not implemented.\");\n  }\n};\nexport {\n  VectorSource as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/parser/geojsonvt.ts\nimport geojsonvt from \"geojson-vt\";\nimport VtSource from \"../source/geojsonvt\";\nvar DEFAULT_CONFIG = {\n  tileSize: 256,\n  minZoom: 0,\n  maxZoom: Infinity,\n  zoomOffset: 0\n};\nfunction signedArea(ring) {\n  let sum = 0;\n  for (let i = 0, len = ring.length, j = len - 1, p1, p2; i < len; j = i++) {\n    p1 = ring[i];\n    p2 = ring[j];\n    sum += (p2.x - p1.x) * (p1.y + p2.y);\n  }\n  return sum;\n}\nfunction classifyRings(rings) {\n  const len = rings.length;\n  if (len <= 1) {\n    return [rings];\n  }\n  const polygons = [];\n  let polygon;\n  let ccw;\n  for (let i = 0; i < len; i++) {\n    const area = signedArea(rings[i]);\n    if (area === 0) {\n      continue;\n    }\n    if (ccw === void 0) {\n      ccw = area < 0;\n    }\n    if (ccw === area < 0) {\n      if (polygon) {\n        polygons.push(polygon);\n      }\n      polygon = [rings[i]];\n    } else {\n      polygon.push(rings[i]);\n    }\n  }\n  if (polygon) {\n    polygons.push(polygon);\n  }\n  return polygons;\n}\nvar VectorTileFeatureTypes = [\"Unknown\", \"Point\", \"LineString\", \"Polygon\"];\nfunction GetGeoJSON(extent, x, y, z, vectorTileFeature) {\n  let coords = vectorTileFeature.geometry;\n  const currenType = vectorTileFeature.type;\n  const currentProperties = vectorTileFeature.tags;\n  const currentId = vectorTileFeature.id;\n  const size = extent * Math.pow(2, z);\n  const x0 = extent * x;\n  const y0 = extent * y;\n  let type = VectorTileFeatureTypes[currenType];\n  let i;\n  let j;\n  function project(line) {\n    for (let index = 0; index < line.length; index++) {\n      const p = line[index];\n      if (p[3]) {\n        break;\n      }\n      const y2 = 180 - (p[1] + y0) * 360 / size;\n      const lng = (p[0] + x0) * 360 / size - 180;\n      const lat = 360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90;\n      line[index] = [lng, lat, 0, 1];\n    }\n  }\n  switch (currenType) {\n    case 1:\n      const points = [];\n      for (i = 0; i < coords.length; i++) {\n        points[i] = coords[i][0];\n      }\n      coords = points;\n      project(coords);\n      break;\n    case 2:\n      for (i = 0; i < coords.length; i++) {\n        project(coords[i]);\n      }\n      break;\n    case 3:\n      coords = classifyRings(coords);\n      for (i = 0; i < coords.length; i++) {\n        for (j = 0; j < coords[i].length; j++) {\n          project(coords[i][j]);\n        }\n      }\n      break;\n  }\n  if (coords.length === 1) {\n    coords = coords[0];\n  } else {\n    type = \"Multi\" + type;\n  }\n  const result = {\n    type: \"Feature\",\n    geometry: {\n      type,\n      coordinates: coords\n    },\n    properties: currentProperties,\n    id: currentId,\n    tileOrigin: [0, 0],\n    coord: \"\"\n  };\n  return result;\n}\nvar getVectorTile = (tile, tileIndex, tileParams, extent) => __async(void 0, null, function* () {\n  return new Promise((resolve) => {\n    const tileData = tileIndex.getTile(tile.z, tile.x, tile.y);\n    const features = tileData ? tileData.features.map((vectorTileFeature) => {\n      return GetGeoJSON(extent, tileParams.x, tileParams.y, tileParams.z, vectorTileFeature);\n    }) : [];\n    const vectorTile = {\n      layers: {\n        defaultLayer: {\n          // @ts-ignore\n          features\n        }\n      }\n    };\n    const vectorSource = new VtSource(vectorTile, tile.x, tile.y, tile.z);\n    resolve(vectorSource);\n  });\n});\nfunction getOption(cfg) {\n  const defaultOptions = {\n    // geojson-vt default options\n    maxZoom: 14,\n    // max zoom to preserve detail on\n    indexMaxZoom: 5,\n    // max zoom in the tile index\n    indexMaxPoints: 1e5,\n    // max number of points per tile in the tile index\n    tolerance: 3,\n    // simplification tolerance (higher means simpler)\n    extent: 4096,\n    // tile extent\n    buffer: 64,\n    // tile buffer on each side\n    lineMetrics: false,\n    // whether to calculate line metrics\n    promoteId: null,\n    // name of a feature property to be promoted to feature.id\n    generateId: true,\n    // whether to generate feature ids. Cannot be used with promoteId\n    debug: 0\n    // logging level (0, 1 or 2)\n  };\n  if (cfg === void 0 || typeof cfg.geojsonvtOptions === \"undefined\") {\n    return defaultOptions;\n  } else {\n    return __spreadValues(__spreadValues({}, defaultOptions), cfg.geojsonvtOptions);\n  }\n}\nfunction geojsonVTTile(data, cfg) {\n  const geojsonOptions = getOption(cfg);\n  const extent = geojsonOptions.extent || 4096;\n  const tileIndex = geojsonvt(data, geojsonOptions);\n  const getTileData = (tileParams, tile) => {\n    return getVectorTile(tile, tileIndex, tileParams, extent);\n  };\n  const tilesetOptions = __spreadProps(__spreadValues(__spreadValues({}, DEFAULT_CONFIG), cfg), {\n    getTileData\n  });\n  return {\n    data,\n    dataArray: [],\n    tilesetOptions,\n    isTile: true\n  };\n}\nexport {\n  geojsonVTTile as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/parser/image.ts\nimport { getImage, isImageBitmap } from \"@antv/l7-utils\";\nimport { extentToCoord } from \"../utils/util\";\nfunction image(data, cfg) {\n  const {\n    extent = [121.168, 30.2828, 121.384, 30.4219],\n    coordinates,\n    requestParameters = {}\n  } = cfg;\n  const images = new Promise((resolve) => {\n    if (data instanceof HTMLImageElement || isImageBitmap(data)) {\n      resolve([data]);\n    } else {\n      loadData(data, requestParameters, (res) => {\n        resolve(res);\n      });\n    }\n  });\n  const imageCoord = extentToCoord(coordinates, extent);\n  const resultData = {\n    originData: data,\n    images,\n    _id: 1,\n    dataArray: [\n      {\n        _id: 0,\n        coordinates: imageCoord\n      }\n    ]\n  };\n  return resultData;\n}\nfunction loadData(url, requestParameters, done) {\n  const imageDatas = [];\n  if (typeof url === \"string\") {\n    getImage(__spreadProps(__spreadValues({}, requestParameters), { url }), (err, img) => {\n      if (img) {\n        imageDatas.push(img);\n        done(imageDatas);\n      }\n    });\n  } else {\n    const imageCount = url.length;\n    let imageindex = 0;\n    url.forEach((item) => {\n      getImage(__spreadProps(__spreadValues({}, requestParameters), { url: item }), (err, img) => {\n        imageindex++;\n        if (img) {\n          imageDatas.push(img);\n        }\n        if (imageindex === imageCount) {\n          done(imageDatas);\n        }\n      });\n    });\n  }\n  return image;\n}\nexport {\n  image as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/parser/jsonTile.ts\nimport { getData, getURLFromTemplate } from \"@antv/l7-utils\";\nimport VtSource from \"../source/geojsonvt\";\nvar getVectorTile = (url, tile, requestParameters, getCustomData) => __async(void 0, null, function* () {\n  const params = { x: tile.x, y: tile.y, z: tile.z };\n  const tileUrl = getURLFromTemplate(url, params);\n  return new Promise((resolve) => {\n    if (getCustomData) {\n      getCustomData(params, (err, data) => {\n        if (err || !data) {\n          const vectorTile = {\n            layers: { defaultLayer: { features: [] } }\n          };\n          const vectorSource = new VtSource(vectorTile, tile.x, tile.y, tile.z);\n          resolve(vectorSource);\n        } else {\n          const vectorTile = {\n            layers: { defaultLayer: { features: data.features } }\n          };\n          const vectorSource = new VtSource(vectorTile, tile.x, tile.y, tile.z);\n          resolve(vectorSource);\n        }\n      });\n    } else {\n      getData(\n        __spreadProps(__spreadValues({}, requestParameters), {\n          url: tileUrl\n        }),\n        (err, data) => {\n          if (err || !data) {\n            const vectorTile = {\n              layers: {\n                defaultLayer: {\n                  features: []\n                }\n              }\n            };\n            const vectorSource = new VtSource(vectorTile, tile.x, tile.y, tile.z);\n            resolve(vectorSource);\n          } else {\n            const json = JSON.parse(data);\n            const vectorTile = {\n              layers: {\n                defaultLayer: {\n                  features: json\n                }\n              }\n            };\n            const vectorSource = new VtSource(vectorTile, tile.x, tile.y, tile.z);\n            resolve(vectorSource);\n          }\n        }\n      );\n    }\n  });\n});\nfunction jsonTile(url, cfg) {\n  const getTileData = (_, tile) => {\n    return getVectorTile(url, tile, cfg == null ? void 0 : cfg.requestParameters, cfg.getCustomData);\n  };\n  const tilesetOptions = __spreadProps(__spreadValues({}, cfg), {\n    getTileData\n  });\n  return {\n    dataArray: [],\n    tilesetOptions,\n    isTile: true\n  };\n}\nexport {\n  jsonTile as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/source/vector.ts\nimport { VectorTile } from \"@mapbox/vector-tile\";\nimport Protobuf from \"pbf\";\nvar VectorSource = class {\n  constructor(data, x, y, z) {\n    this.vectorLayerCache = {};\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.vectorTile = new VectorTile(new Protobuf(data));\n  }\n  getTileData(sourceLayer) {\n    if (!sourceLayer || !this.vectorTile.layers[sourceLayer]) {\n      return [];\n    }\n    if (this.vectorLayerCache[sourceLayer]) {\n      return this.vectorLayerCache[sourceLayer];\n    }\n    const vectorTile = this.vectorTile.layers[sourceLayer];\n    if (Array.isArray(vectorTile.features)) {\n      this.vectorLayerCache[sourceLayer] = vectorTile.features;\n      return vectorTile.features;\n    }\n    const features = [];\n    for (let i = 0; i < vectorTile.length; i++) {\n      const vectorTileFeature = vectorTile.feature(i);\n      const feature = vectorTileFeature.toGeoJSON(this.x, this.y, this.z);\n      features.push(__spreadProps(__spreadValues({}, feature), {\n        properties: __spreadValues({\n          id: feature.id\n        }, feature.properties)\n      }));\n    }\n    this.vectorLayerCache[sourceLayer] = features;\n    return features;\n  }\n  getFeatureById() {\n    throw new Error(\"Method not implemented.\");\n  }\n};\nexport {\n  VectorSource as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/parser/mvt.ts\nimport { getArrayBuffer, getURLFromTemplate } from \"@antv/l7-utils\";\nimport VectorSource from \"../source/vector\";\nvar DEFAULT_CONFIG = {\n  tileSize: 256,\n  minZoom: 0,\n  maxZoom: Infinity,\n  zoomOffset: 0,\n  warp: true\n};\nvar getVectorTile = (url, tileParams, tile, requestParameters, getCustomData) => __async(void 0, null, function* () {\n  const tileUrl = getURLFromTemplate(url, tileParams);\n  return new Promise((resolve) => {\n    if (getCustomData) {\n      getCustomData(\n        {\n          x: tile.x,\n          y: tile.y,\n          z: tile.z\n        },\n        (err, data) => {\n          if (err || !data) {\n            resolve(void 0);\n          } else {\n            const vectorSource = new VectorSource(data, tile.x, tile.y, tile.z);\n            resolve(vectorSource);\n          }\n        }\n      );\n    } else {\n      const xhr = getArrayBuffer(\n        __spreadProps(__spreadValues({}, requestParameters), {\n          url: tileUrl\n        }),\n        (err, data) => {\n          if (err || !data) {\n            resolve(void 0);\n          } else {\n            const vectorSource = new VectorSource(data, tile.x, tile.y, tile.z);\n            resolve(vectorSource);\n          }\n        }\n      );\n      tile.xhrCancel = () => xhr.cancel();\n    }\n  });\n});\nfunction mapboxVectorTile(data, cfg) {\n  const url = Array.isArray(data) ? data[0] : data;\n  const getTileData = (tileParams, tile) => getVectorTile(url, tileParams, tile, cfg == null ? void 0 : cfg.requestParameters, cfg == null ? void 0 : cfg.getCustomData);\n  const tilesetOptions = __spreadProps(__spreadValues(__spreadValues({}, DEFAULT_CONFIG), cfg), {\n    getTileData\n  });\n  return {\n    data: url,\n    dataArray: [],\n    tilesetOptions,\n    isTile: true\n  };\n}\nexport {\n  mapboxVectorTile as default\n};\n", "// src/utils/bandOperation/math.ts\nfunction mathematical(symbol, n1, n2) {\n  switch (symbol) {\n    case \"+\":\n      return n1 + n2;\n    case \"-\":\n      return n1 - n2;\n    case \"*\":\n      return n1 * n2;\n    case \"/\":\n      return n1 / n2;\n    case \"%\":\n      return n1 % n2;\n    case \"^\":\n      return Math.pow(n1, n2);\n    case \"abs\":\n      return Math.abs(n1);\n    case \"floor\":\n      return Math.floor(n1);\n    case \"round\":\n      return Math.round(n1);\n    case \"ceil\":\n      return Math.ceil(n1);\n    case \"sin\":\n      return Math.sin(n1);\n    case \"cos\":\n      return Math.cos(n1);\n    case \"atan\":\n      return n2 === -1 ? Math.atan(n1) : Math.atan2(n1, n2);\n    case \"min\":\n      return Math.min(n1, n2);\n    case \"max\":\n      return Math.max(n1, n2);\n    case \"log10\":\n      return Math.log(n1);\n    case \"log2\":\n      return Math.log2(n1);\n    default:\n      console.warn(\"Calculate symbol err! Return default 0\");\n      return 0;\n  }\n}\nfunction calculate(express, bandsData) {\n  const { width, height } = bandsData[0];\n  const dataArray = bandsData.map((band) => band.rasterData);\n  const length = width * height;\n  const rasterData = [];\n  const originExp = JSON.stringify(express);\n  for (let i = 0; i < length; i++) {\n    const exp = JSON.parse(originExp);\n    const expResult = spellExpress(exp, dataArray, i);\n    if (typeof expResult === \"number\") {\n      rasterData.push(expResult);\n    } else {\n      const result = calculateExpress(exp);\n      rasterData.push(result);\n    }\n  }\n  return rasterData;\n}\nfunction spellExpress(express, dataArray, index) {\n  if (express.length === 2 && express[0] === \"band\" && typeof express[1] === \"number\") {\n    try {\n      return dataArray[express[1]][index];\n    } catch (err) {\n      console.warn(\"Raster Data err!\");\n      return 0;\n    }\n  }\n  express.map((e, i) => {\n    if (Array.isArray(e) && e.length > 0) {\n      switch (e[0]) {\n        case \"band\":\n          try {\n            express[i] = dataArray[e[1]][index];\n          } catch (err) {\n            console.warn(\"Raster Data err!\");\n            express[i] = 0;\n          }\n          break;\n        default:\n          spellExpress(e, dataArray, index);\n      }\n    }\n  });\n}\nfunction formatExpress(express) {\n  const [symbol1, symbol2 = -1, symbol3 = -1] = express;\n  if (symbol1 === void 0) {\n    console.warn(\"Express err!\");\n    return [\"+\", 0, 0];\n  }\n  const symbol = symbol1.replace(/\\s+/g, \"\");\n  return [symbol, symbol2, symbol3];\n}\nfunction calculateExpress(express) {\n  const formatExp = formatExpress(express);\n  const str = formatExp[0];\n  let left = formatExp[1];\n  let right = formatExp[2];\n  if (Array.isArray(left)) {\n    left = calculateExpress(express[1]);\n  }\n  if (Array.isArray(right)) {\n    right = calculateExpress(express[2]);\n  }\n  return mathematical(str, left, right);\n}\nexport {\n  calculate,\n  calculateExpress,\n  formatExpress,\n  mathematical,\n  spellExpress\n};\n", "// src/utils/bandOperation/operationSchema.ts\nvar operationsSchema = {\n  nd: {\n    type: \"operation\",\n    expression: [\n      \"/\",\n      [\"-\", [\"band\", 1], [\"band\", 0]],\n      // R > NIR\n      [\"+\", [\"band\", 1], [\"band\", 0]]\n    ]\n  },\n  rgb: {\n    type: \"function\",\n    method: strethRgb2minMax\n  }\n};\nfunction strethRgb2minMax(bandsData, options) {\n  const channelR = bandsData[0].rasterData;\n  const channelG = bandsData[1].rasterData;\n  const channelB = bandsData[2].rasterData;\n  const data = [];\n  const [low, high] = (options == null ? void 0 : options.countCut) || [2, 98];\n  const minMaxR = (options == null ? void 0 : options.RMinMax) || percentile(channelR, low, high);\n  const minMaxG = (options == null ? void 0 : options.GMinMax) || percentile(channelG, low, high);\n  const minMaxB = (options == null ? void 0 : options.BMinMax) || percentile(channelB, low, high);\n  for (let i = 0; i < channelR.length; i++) {\n    data.push(Math.max(0, channelR[i] - minMaxR[0]));\n    data.push(Math.max(0, channelG[i] - minMaxG[0]));\n    data.push(Math.max(0, channelB[i] - minMaxB[0]));\n  }\n  return {\n    rasterData: data,\n    rMinMax: minMaxR,\n    gMinMax: minMaxG,\n    bMinMax: minMaxB\n  };\n}\nfunction percentile(data, minPercent, maxPercent) {\n  const sortData = data.slice().sort((a, b) => a - b);\n  const dataLength = sortData.length;\n  const min = sortData[Math.ceil(dataLength * minPercent / 100)];\n  const max = sortData[Math.ceil(dataLength * maxPercent / 100)];\n  return [min, max];\n}\nexport {\n  operationsSchema,\n  percentile\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/utils/bandOperation/bands.ts\nimport { calculate } from \"./math\";\nimport { operationsSchema } from \"./operationSchema\";\nfunction bandsOperation(imageDataList, rasterFormat, operation) {\n  return __async(this, null, function* () {\n    if (imageDataList.length === 0) {\n      return {\n        rasterData: [0],\n        width: 1,\n        heigh: 1\n      };\n    }\n    const formatData = yield Promise.all(\n      imageDataList.map(({ data, bands = [0] }) => rasterFormat(data, bands))\n    );\n    const bandsData = [];\n    formatData.forEach((d) => {\n      Array.isArray(d) ? bandsData.push(...d) : bandsData.push(d);\n    });\n    const { width, height } = bandsData[0];\n    let rasterData;\n    switch (typeof operation) {\n      case \"function\":\n        rasterData = operation(bandsData);\n        break;\n      case \"object\":\n        if (!Array.isArray(operation)) {\n          rasterData = processSchemaOperation(operation, bandsData);\n        } else {\n          rasterData = { rasterData: calculate(operation, bandsData) };\n        }\n        break;\n      default:\n        rasterData = { rasterData: bandsData[0].rasterData };\n    }\n    return __spreadProps(__spreadValues({}, rasterData), {\n      width,\n      height\n    });\n  });\n}\nfunction processSchemaOperation(operation, bandsData) {\n  const schema = operationsSchema[operation.type];\n  if (schema.type === \"function\") {\n    return schema.method(bandsData, operation == null ? void 0 : operation.options);\n  } else if (schema.type === \"operation\") {\n    if (operation.type === \"rgb\") {\n      return getRgbBands(schema.expression, bandsData);\n    } else {\n      return { rasterData: calculate(schema.expression, bandsData) };\n    }\n  }\n}\nfunction getRgbBands(operation, bandsData) {\n  if (operation.r === void 0) {\n    console.warn(\"Channel R lost in Operation! Use band[0] to fill!\");\n  }\n  if (operation.g === void 0) {\n    console.warn(\"Channel G lost in Operation! Use band[0] to fill!\");\n  }\n  if (operation.b === void 0) {\n    console.warn(\"Channel B lost in Operation! Use band[0] to fill!\");\n  }\n  const r = calculate(operation.r || [\"band\", 0], bandsData);\n  const g = calculate(operation.g || [\"band\", 0], bandsData);\n  const b = calculate(operation.b || [\"band\", 0], bandsData);\n  return [r, g, b];\n}\nfunction processRasterData(rasterFiles, rasterFormat, operation, callback) {\n  return __async(this, null, function* () {\n    const rasterData = yield bandsOperation(rasterFiles, rasterFormat, operation);\n    callback(null, { data: rasterData });\n  });\n}\nexport {\n  bandsOperation,\n  processRasterData\n};\n", "// src/parser/raster.ts\nimport { bandsOperation } from \"../utils/bandOperation/bands\";\nimport { extentToCoord, isNumberArray } from \"../utils/util\";\nfunction raster(data, cfg) {\n  const {\n    extent = [121.168, 30.2828, 121.384, 30.4219],\n    coordinates,\n    width,\n    height,\n    min,\n    max,\n    format,\n    operation\n  } = cfg;\n  let bandData;\n  let rasterWidth;\n  let rasterHeight;\n  if (format === void 0 || isNumberArray(data)) {\n    bandData = Array.from(data);\n    rasterWidth = width;\n    rasterHeight = height;\n  } else {\n    const imageDataList = Array.isArray(data) ? data : [data];\n    bandData = bandsOperation(imageDataList, format, operation);\n  }\n  const imageCoord = extentToCoord(coordinates, extent);\n  const resultData = {\n    _id: 1,\n    dataArray: [\n      {\n        _id: 1,\n        data: bandData,\n        width: rasterWidth,\n        height: rasterHeight,\n        min,\n        max,\n        coordinates: imageCoord\n      }\n    ]\n  };\n  return resultData;\n}\nexport {\n  raster as default\n};\n", "var __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/utils/tile/getCustomData.ts\nimport { formatImage } from \"@antv/l7-utils\";\nimport { processRasterData } from \"../bandOperation/bands\";\nvar getCustomData = (tile, getCustomDataFunc, rasterFormat, operation) => __async(void 0, null, function* () {\n  return new Promise((resolve, reject) => {\n    getCustomDataFunc(\n      {\n        x: tile.x,\n        y: tile.y,\n        z: tile.z\n      },\n      (err, data) => {\n        if (err || data.length === 0) {\n          reject(err);\n          return;\n        }\n        if (data) {\n          processRasterData(\n            [{ data, bands: [0] }],\n            rasterFormat,\n            operation,\n            (error, img) => {\n              if (error) {\n                reject(error);\n              } else if (img) {\n                resolve(img);\n              }\n            }\n          );\n        }\n      }\n    );\n  });\n});\nvar getCustomImageData = (tile, getCustomDataFunc) => __async(void 0, null, function* () {\n  return new Promise((resolve, reject) => {\n    getCustomDataFunc(\n      {\n        x: tile.x,\n        y: tile.y,\n        z: tile.z\n      },\n      (err, data) => {\n        if (err || !data) {\n          reject(err);\n          return;\n        }\n        if (data instanceof ArrayBuffer) {\n          formatImage(data, (error, image) => {\n            if (error) {\n              reject(error);\n            }\n            resolve(image);\n          });\n        } else if (data instanceof HTMLImageElement) {\n          resolve(data);\n        } else {\n          reject(err);\n        }\n      }\n    );\n  });\n});\nexport {\n  getCustomData,\n  getCustomImageData\n};\n", "// src/utils/tile/request.ts\nimport { getURLFromTemplate } from \"@antv/l7-utils\";\nfunction getTileUrl(url, tileParams) {\n  if (Array.isArray(url)) {\n    if (typeof url[0] === \"string\") {\n      return url.map((src) => getURLFromTemplate(src, tileParams));\n    } else {\n      return url.map((o) => {\n        return {\n          url: getURLFromTemplate(o.url, tileParams),\n          bands: o.bands || [0]\n        };\n      });\n    }\n  } else {\n    return getURLFromTemplate(url, tileParams);\n  }\n}\nfunction getTileBandParams(urlBandParam) {\n  if (typeof urlBandParam === \"string\") {\n    return [\n      {\n        url: urlBandParam,\n        bands: [0]\n      }\n    ];\n  } else if (typeof urlBandParam[0] === \"string\") {\n    return urlBandParam.map((param) => {\n      return {\n        url: param,\n        bands: [0]\n      };\n    });\n  } else {\n    return urlBandParam;\n  }\n}\nfunction bindCancel(tile, xhrList) {\n  tile.xhrCancel = () => {\n    xhrList.map((xhr) => {\n      xhr.abort();\n    });\n  };\n}\nexport {\n  bindCancel,\n  getTileBandParams,\n  getTileUrl\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/utils/tile/getRasterData.ts\nimport { getArrayBuffer, makeXMLHttpRequestPromise } from \"@antv/l7-utils\";\nimport { processRasterData } from \"../bandOperation/bands\";\nimport { bindCancel, getTileBandParams } from \"./request\";\nvar getRasterFile = (tile, requestParameters, callback, rasterFormat, operation) => __async(void 0, null, function* () {\n  const tileBandParams = getTileBandParams(requestParameters.url);\n  if (tileBandParams.length > 1) {\n    const { rasterFiles, xhrList, errList } = yield getMultiArrayBuffer(\n      tileBandParams,\n      requestParameters\n    );\n    bindCancel(tile, xhrList);\n    if (errList.length > 0) {\n      callback(errList, null);\n      return;\n    }\n    processRasterData(rasterFiles, rasterFormat, operation, callback);\n  } else {\n    const xhr = getArrayBuffer(requestParameters, (err, imgData) => {\n      if (err) {\n        callback(err);\n      } else if (imgData) {\n        const rasterFiles = [\n          {\n            data: imgData,\n            bands: tileBandParams[0].bands\n          }\n        ];\n        processRasterData(rasterFiles, rasterFormat, operation, callback);\n      }\n    });\n    bindCancel(tile, [xhr]);\n  }\n});\nfunction getMultiArrayBuffer(tileBandParams, requestParameters) {\n  return __async(this, null, function* () {\n    const rasterFiles = [];\n    const xhrList = [];\n    const errList = [];\n    for (let i = 0; i < tileBandParams.length; i++) {\n      const tileBandParam = tileBandParams[i];\n      const params = __spreadProps(__spreadValues({}, requestParameters), {\n        url: tileBandParam.url\n      });\n      const bands = tileBandParam.bands;\n      const { err, data, xhr } = yield makeXMLHttpRequestPromise(__spreadProps(__spreadValues({}, params), {\n        type: \"arrayBuffer\"\n      }));\n      if (err) {\n        errList.push(err);\n      }\n      xhrList.push(xhr);\n      rasterFiles.push({\n        data,\n        bands\n      });\n    }\n    return { rasterFiles, xhrList, errList };\n  });\n}\nexport {\n  getRasterFile\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/utils/tile/getRasterTile.ts\nimport { getImage, getURLFromTemplate, getWMTSURLFromTemplate } from \"@antv/l7-utils\";\nimport { getRasterFile } from \"./getRasterData\";\nimport { getTileUrl } from \"./request\";\nvar getTileBuffer = (url, tileParams, tile, cfg) => __async(void 0, null, function* () {\n  const { format = defaultFormat, operation, requestParameters = {} } = cfg;\n  const reqParams = __spreadProps(__spreadValues({}, requestParameters), {\n    url: getTileUrl(url, tileParams)\n    // getTileUrl 将原始的 url 路径进行转化（多服务器）\n  });\n  return new Promise((resolve, reject) => {\n    getRasterFile(\n      tile,\n      reqParams,\n      (err, img) => {\n        if (err) {\n          reject(err);\n        } else if (img) {\n          resolve(img);\n        }\n      },\n      format,\n      operation\n    );\n  });\n});\nvar getTileImage = (url, tileParams, tile, cfg) => __async(void 0, null, function* () {\n  let imageUrl;\n  const templateUrl = Array.isArray(url) ? url[0] : url;\n  if (cfg.wmtsOptions) {\n    const getWMTSURLFromTemplateNew = (cfg == null ? void 0 : cfg.getURLFromTemplate) || getWMTSURLFromTemplate;\n    imageUrl = getWMTSURLFromTemplateNew(templateUrl, __spreadValues(__spreadValues({}, tileParams), cfg.wmtsOptions));\n  } else {\n    const getURLFromTemplateNew = (cfg == null ? void 0 : cfg.getURLFromTemplate) || getURLFromTemplate;\n    imageUrl = getURLFromTemplateNew(templateUrl, tileParams);\n  }\n  return new Promise((resolve, reject) => {\n    var _a;\n    const xhr = getImage(\n      __spreadProps(__spreadValues({}, cfg == null ? void 0 : cfg.requestParameters), {\n        url: imageUrl,\n        type: ((_a = cfg == null ? void 0 : cfg.requestParameters) == null ? void 0 : _a.type) || \"arrayBuffer\"\n      }),\n      (err, img) => {\n        if (err) {\n          reject(err);\n        } else if (img) {\n          resolve(img);\n        }\n      },\n      cfg.transformResponse\n    );\n    tile.xhrCancel = () => xhr.cancel();\n  });\n});\nvar defaultFormat = () => {\n  return {\n    rasterData: new Uint8Array([0]),\n    width: 1,\n    height: 1\n  };\n};\nexport {\n  defaultFormat,\n  getTileBuffer,\n  getTileImage\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/parser/raster-tile.ts\nimport { RasterTileType } from \"@antv/l7-core\";\nimport { getCustomData, getCustomImageData } from \"../utils/tile/getCustomData\";\nimport { defaultFormat, getTileBuffer, getTileImage } from \"../utils/tile/getRasterTile\";\nimport { extentToCoord } from \"../utils/util\";\nvar DEFAULT_CONFIG = {\n  tileSize: 256,\n  minZoom: 0,\n  maxZoom: Infinity,\n  zoomOffset: 0,\n  warp: true\n};\nvar rasterDataTypes = [RasterTileType.ARRAYBUFFER, RasterTileType.RGB];\nfunction isUrlError(url) {\n  if (Array.isArray(url) && url.length === 0) {\n    return true;\n  }\n  if (!Array.isArray(url) && typeof url !== \"string\") {\n    return true;\n  }\n  return false;\n}\nfunction rasterTile(data, cfg = {}) {\n  if (isUrlError(data)) {\n    throw new Error(\"tile server url is error\");\n  }\n  const { extent = [Infinity, Infinity, -Infinity, -Infinity], coordinates } = cfg;\n  let tileDataType = (cfg == null ? void 0 : cfg.dataType) || RasterTileType.IMAGE;\n  if (tileDataType === RasterTileType.RGB) {\n    tileDataType = RasterTileType.ARRAYBUFFER;\n  }\n  const getTileData = (tileParams, tile) => {\n    switch (tileDataType) {\n      case RasterTileType.IMAGE:\n        return getTileImage(data, tileParams, tile, cfg);\n      case RasterTileType.CUSTOMIMAGE:\n      case RasterTileType.CUSTOMTERRAINRGB:\n        return getCustomImageData(\n          // 自定义地形请求方式数据\n          tile,\n          // @ts-ignore\n          cfg == null ? void 0 : cfg.getCustomData\n        );\n      case RasterTileType.ARRAYBUFFER:\n        return getTileBuffer(data, tileParams, tile, cfg);\n      case RasterTileType.CUSTOMARRAYBUFFER:\n      case RasterTileType.CUSTOMRGB:\n        return getCustomData(\n          tile,\n          // @ts-ignore\n          cfg == null ? void 0 : cfg.getCustomData,\n          (cfg == null ? void 0 : cfg.format) || defaultFormat,\n          cfg == null ? void 0 : cfg.operation\n        );\n      default:\n        return getTileImage(data, tileParams, tile, cfg);\n    }\n  };\n  const tilesetOptions = __spreadProps(__spreadValues(__spreadValues({}, DEFAULT_CONFIG), cfg), { getTileData });\n  const rasterTileCoord = extentToCoord(coordinates, extent);\n  return {\n    data,\n    dataArray: [\n      {\n        _id: 1,\n        coordinates: rasterTileCoord\n      }\n    ],\n    tilesetOptions,\n    isTile: true\n  };\n}\nexport {\n  rasterTile as default,\n  rasterDataTypes\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/parser/raster/ndi.ts\nimport { extentToCoord } from \"../../utils/util\";\nfunction rasterRgb(data, cfg) {\n  const _a = cfg, {\n    extent = [121.168, 30.2828, 121.384, 30.4219],\n    coordinates,\n    width,\n    height\n  } = _a, options = __objRest(_a, [\n    \"extent\",\n    \"coordinates\",\n    \"width\",\n    \"height\"\n  ]);\n  if (data.length < 2) {\n    console.warn(\"RGB解析需要2个波段的数据\");\n  }\n  const [n, d] = options.bands || [0, 1];\n  const bandsData = [data[n], data[d]];\n  const ndidata = [];\n  for (let i = 0; i < bandsData[0].length; i++) {\n    ndidata.push((bandsData[1][i] - bandsData[0][i]) / (bandsData[1][i] + bandsData[0][i]));\n  }\n  const imageCoord = extentToCoord(coordinates, extent);\n  const resultData = {\n    _id: 1,\n    dataArray: [\n      __spreadProps(__spreadValues({\n        _id: 1,\n        data: ndidata,\n        width,\n        height\n      }, options), {\n        coordinates: imageCoord\n      })\n    ]\n  };\n  return resultData;\n}\nexport {\n  rasterRgb as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/parser/raster/rgb.ts\nimport { percentile } from \"../../utils/bandOperation/operationSchema\";\nimport { extentToCoord } from \"../../utils/util\";\nfunction rasterRgb(data, cfg) {\n  const _a = cfg, { extent, coordinates, width, height } = _a, options = __objRest(_a, [\"extent\", \"coordinates\", \"width\", \"height\"]);\n  if (data.length < 3) {\n    console.warn(\"RGB解析需要三个波段的数据\");\n  }\n  const [r, g, b] = options.bands || [0, 1, 2];\n  const bandsData = [data[r], data[g], data[b]];\n  const rgbdata = [];\n  const [low, high] = (options == null ? void 0 : options.countCut) || [2, 98];\n  const minMaxR = (options == null ? void 0 : options.RMinMax) || percentile(bandsData[0], low, high);\n  const minMaxG = (options == null ? void 0 : options.GMinMax) || percentile(bandsData[1], low, high);\n  const minMaxB = (options == null ? void 0 : options.BMinMax) || percentile(bandsData[2], low, high);\n  for (let i = 0; i < bandsData[0].length; i++) {\n    rgbdata.push(Math.max(0, bandsData[0][i] - minMaxR[0]));\n    rgbdata.push(Math.max(0, bandsData[1][i] - minMaxG[0]));\n    rgbdata.push(Math.max(0, bandsData[2][i] - minMaxB[0]));\n  }\n  const imageCoord = extentToCoord(coordinates, extent);\n  const resultData = {\n    _id: 1,\n    dataArray: [\n      __spreadProps(__spreadValues({\n        _id: 1,\n        data: rgbdata,\n        width,\n        height,\n        rMinMax: minMaxR,\n        gMinMax: minMaxG,\n        bMinMax: minMaxB\n      }, options), {\n        coordinates: imageCoord\n      })\n    ]\n  };\n  return resultData;\n}\nexport {\n  rasterRgb as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/parser/rasterRgb.ts\nimport { bandsOperation } from \"../utils/bandOperation/bands\";\nimport { extentToCoord, isNumberArray } from \"../utils/util\";\nfunction rasterRgb(data, cfg) {\n  const _a = cfg, { extent, coordinates, min, max, width, height, format, operation } = _a, rest = __objRest(_a, [\"extent\", \"coordinates\", \"min\", \"max\", \"width\", \"height\", \"format\", \"operation\"]);\n  let bandData;\n  if (format === void 0 || isNumberArray(data)) {\n    bandData = Array.from(data);\n  } else {\n    const imageDataList = Array.isArray(data) ? data : [data];\n    bandData = bandsOperation(imageDataList, format, operation);\n  }\n  const imageCoord = extentToCoord(coordinates, extent);\n  const resultData = {\n    _id: 1,\n    dataArray: [\n      __spreadProps(__spreadValues({\n        _id: 1,\n        data: bandData,\n        width,\n        height\n      }, rest), {\n        min,\n        max,\n        coordinates: imageCoord\n      })\n    ]\n  };\n  return resultData;\n}\nexport {\n  rasterRgb as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/parser/testTile.ts\nvar DEFAULT_CONFIG = {\n  tileSize: 256,\n  minZoom: 0,\n  maxZoom: Infinity,\n  zoomOffset: 0\n};\nvar getVectorTile = (tile) => __async(void 0, null, function* () {\n  return new Promise((resolve) => {\n    const [minLng, minLat, maxLng, maxLat] = tile.bounds;\n    const vectorTile = {\n      layers: {\n        // Tip: fixed SourceLayer Name\n        testTile: {\n          features: [\n            {\n              type: \"Feature\",\n              properties: {\n                key: tile.x + \"/\" + tile.y + \"/\" + tile.z,\n                x: (minLng + maxLng) / 2,\n                y: (minLat + maxLat) / 2\n              },\n              geometry: {\n                type: \"LineString\",\n                coordinates: [\n                  [maxLng, maxLat],\n                  [maxLng, minLat],\n                  [minLng, minLat],\n                  [minLng, minLat]\n                ]\n              }\n            }\n          ]\n        }\n      }\n    };\n    resolve(vectorTile);\n  });\n});\nfunction mapboxVectorTile(data, cfg) {\n  const getTileData = (tile) => getVectorTile(tile);\n  const tilesetOptions = __spreadProps(__spreadValues(__spreadValues({}, DEFAULT_CONFIG), cfg), {\n    getTileData\n  });\n  return {\n    data,\n    dataArray: [],\n    tilesetOptions,\n    isTile: true\n  };\n}\nexport {\n  mapboxVectorTile as default\n};\n", "var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/source.ts\nimport { SyncHook } from \"@antv/async-hook\";\nimport { TilesetManager, bBoxToBounds, extent, lodashUtil, padBounds } from \"@antv/l7-utils\";\nimport { EventEmitter } from \"eventemitter3\";\nimport { getParser, getTransform } from \"./factory\";\nimport { cluster } from \"./transform/cluster\";\nimport { statMap } from \"./utils/statistics\";\nimport { getColumn } from \"./utils/util\";\nvar { cloneDeep, isFunction, isString, mergeWith } = lodashUtil;\nfunction mergeCustomizer(objValue, srcValue) {\n  if (Array.isArray(srcValue)) {\n    return srcValue;\n  }\n}\nvar Source = class extends EventEmitter {\n  constructor(data, cfg) {\n    super();\n    this.type = \"source\";\n    this.isTile = false;\n    this.inited = false;\n    // 生命周期钩子\n    this.hooks = {\n      init: new SyncHook()\n    };\n    this.parser = { type: \"geojson\" };\n    this.transforms = [];\n    this.cluster = false;\n    this.clusterOptions = {\n      enable: false,\n      radius: 40,\n      maxZoom: 20,\n      zoom: -99,\n      method: \"count\"\n    };\n    // 是否有效范围\n    this.invalidExtent = false;\n    this.dataArrayChanged = false;\n    this.cfg = {\n      autoRender: true\n    };\n    this.originData = data;\n    this.initCfg(cfg);\n    this.init().then(() => {\n      this.inited = true;\n      this.emit(\"update\", {\n        type: \"inited\"\n      });\n    });\n  }\n  getSourceCfg() {\n    return this.cfg;\n  }\n  getClusters(zoom) {\n    return this.clusterIndex.getClusters(this.caculClusterExtent(2), zoom);\n  }\n  getClustersLeaves(id) {\n    return this.clusterIndex.getLeaves(id, Infinity);\n  }\n  getParserType() {\n    return this.parser.type;\n  }\n  updateClusterData(zoom) {\n    const { method = \"sum\", field } = this.clusterOptions;\n    let data = this.clusterIndex.getClusters(this.caculClusterExtent(2), Math.floor(zoom));\n    this.clusterOptions.zoom = zoom;\n    data.forEach((p) => {\n      if (!p.id) {\n        p.properties.point_count = 1;\n      }\n    });\n    if (field || isFunction(method)) {\n      data = data.map((item) => {\n        const id = item.id;\n        if (id) {\n          const points = this.clusterIndex.getLeaves(id, Infinity);\n          const properties = points.map((d) => d.properties);\n          let statNum;\n          if (isString(method) && field) {\n            const column = getColumn(properties, field);\n            statNum = statMap[method](column);\n          }\n          if (isFunction(method)) {\n            statNum = method(properties);\n          }\n          item.properties.stat = statNum;\n        } else {\n          item.properties.point_count = 1;\n        }\n        return item;\n      });\n    }\n    this.data = getParser(\"geojson\")({\n      type: \"FeatureCollection\",\n      features: data\n    });\n    this.executeTrans();\n  }\n  getFeatureById(id) {\n    const { type = \"geojson\", geometry } = this.parser;\n    if (type === \"geojson\" && !this.cluster) {\n      const feature = id < this.originData.features.length ? this.originData.features[id] : \"null\";\n      const newFeature = cloneDeep(feature);\n      if ((newFeature == null ? void 0 : newFeature.properties) && (this.transforms.length !== 0 || this.dataArrayChanged)) {\n        const item = this.data.dataArray.find((dataItem) => {\n          return dataItem._id === id;\n        });\n        newFeature.properties = item;\n      }\n      return newFeature;\n    } else if (type === \"json\" && geometry) {\n      return this.data.dataArray.find((dataItem) => dataItem._id === id);\n    } else {\n      return id < this.data.dataArray.length ? this.data.dataArray[id] : \"null\";\n    }\n  }\n  updateFeaturePropertiesById(id, properties) {\n    this.data.dataArray = this.data.dataArray.map((dataItem) => {\n      if (dataItem._id === id) {\n        return __spreadValues(__spreadValues({}, dataItem), properties);\n      }\n      return dataItem;\n    });\n    this.dataArrayChanged = true;\n    this.emit(\"update\", {\n      type: \"update\"\n    });\n  }\n  getFeatureId(field, value) {\n    const feature = this.data.dataArray.find((dataItem) => {\n      return dataItem[field] === value;\n    });\n    return feature == null ? void 0 : feature._id;\n  }\n  setData(data, options) {\n    this.originData = data;\n    this.dataArrayChanged = false;\n    this.initCfg(options);\n    this.init().then(() => {\n      this.emit(\"update\", {\n        type: \"update\"\n      });\n    });\n  }\n  reloadAllTile() {\n    var _a;\n    (_a = this.tileset) == null ? void 0 : _a.reloadAll();\n  }\n  reloadTilebyId(z, x, y) {\n    var _a;\n    (_a = this.tileset) == null ? void 0 : _a.reloadTileById(z, x, y);\n  }\n  reloadTileByLnglat(lng, lat, z) {\n    var _a;\n    (_a = this.tileset) == null ? void 0 : _a.reloadTileByLnglat(lng, lat, z);\n  }\n  getTileExtent(e, zoom) {\n    var _a;\n    return (_a = this.tileset) == null ? void 0 : _a.getTileExtent(e, zoom);\n  }\n  getTileByZXY(z, x, y) {\n    var _a;\n    return (_a = this.tileset) == null ? void 0 : _a.getTileByZXY(z, x, y);\n  }\n  reloadTileByExtent(bounds, z) {\n    var _a;\n    (_a = this.tileset) == null ? void 0 : _a.reloadTileByExtent(bounds, z);\n  }\n  destroy() {\n    var _a;\n    this.removeAllListeners();\n    this.originData = null;\n    this.clusterIndex = null;\n    this.data = null;\n    (_a = this.tileset) == null ? void 0 : _a.destroy();\n  }\n  processData() {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        try {\n          this.excuteParser();\n          this.initCluster();\n          this.executeTrans();\n          resolve({});\n        } catch (err) {\n          reject(err);\n        }\n      });\n    });\n  }\n  initCfg(option) {\n    this.cfg = mergeWith(this.cfg, option, mergeCustomizer);\n    const cfg = this.cfg;\n    if (cfg) {\n      if (cfg.parser) {\n        this.parser = cfg.parser;\n      }\n      if (cfg.transforms) {\n        this.transforms = cfg.transforms;\n      }\n      this.cluster = cfg.cluster || false;\n      if (cfg.clusterOptions) {\n        this.cluster = true;\n        this.clusterOptions = __spreadValues(__spreadValues({}, this.clusterOptions), cfg.clusterOptions);\n      }\n    }\n  }\n  init() {\n    return __async(this, null, function* () {\n      this.inited = false;\n      yield this.processData();\n      this.inited = true;\n    });\n  }\n  /**\n   * 数据解析\n   */\n  excuteParser() {\n    const parser = this.parser;\n    const type = parser.type || \"geojson\";\n    const sourceParser = getParser(type);\n    this.data = sourceParser(this.originData, parser);\n    this.tileset = this.initTileset();\n    if (parser.cancelExtent) {\n      return;\n    }\n    this.extent = extent(this.data.dataArray);\n    this.setCenter(this.extent);\n    this.invalidExtent = this.extent[0] === this.extent[2] || this.extent[1] === this.extent[3];\n  }\n  setCenter(bbox) {\n    this.center = [(bbox[0] + bbox[2]) / 2, (bbox[1] + bbox[3]) / 2];\n    if (isNaN(this.center[0]) || isNaN(this.center[1])) {\n      this.center = [108.92361111111111, 34.54083333333333];\n    }\n  }\n  /**\n   * 瓦片数据管理器\n   */\n  initTileset() {\n    const { tilesetOptions } = this.data;\n    if (!tilesetOptions) {\n      return;\n    }\n    this.isTile = true;\n    if (this.tileset) {\n      this.tileset.updateOptions(tilesetOptions);\n      return this.tileset;\n    }\n    const tileset = new TilesetManager(__spreadValues({}, tilesetOptions));\n    return tileset;\n  }\n  /**\n   * 数据统计\n   */\n  executeTrans() {\n    const trans = this.transforms;\n    trans.forEach((tran) => {\n      const { type } = tran;\n      const data = getTransform(type)(this.data, tran);\n      Object.assign(this.data, data);\n    });\n  }\n  /**\n   * 数据聚合\n   */\n  initCluster() {\n    if (!this.cluster) {\n      return;\n    }\n    const clusterOptions = this.clusterOptions || {};\n    this.clusterIndex = cluster(this.data, clusterOptions);\n  }\n  caculClusterExtent(bufferRatio) {\n    let newBounds = [\n      [-Infinity, -Infinity],\n      [Infinity, Infinity]\n    ];\n    if (!this.invalidExtent) {\n      newBounds = padBounds(bBoxToBounds(this.extent), bufferRatio);\n    }\n    return newBounds[0].concat(newBounds[1]);\n  }\n};\nexport {\n  Source as default\n};\n", "var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\n\n// src/transform/cluster.ts\nimport Supercluster from \"supercluster/dist/supercluster\";\nfunction cluster(data, option) {\n  const { radius = 40, maxZoom = 18, minZoom = 0, zoom = 2 } = option;\n  if (data.pointIndex) {\n    const clusterData = data.pointIndex.getClusters(data.extent, Math.floor(zoom));\n    data.dataArray = formatData(clusterData);\n    return data;\n  }\n  const pointIndex = new Supercluster({\n    radius,\n    minZoom,\n    maxZoom\n  });\n  const geojson = {\n    type: \"FeatureCollection\",\n    features: []\n  };\n  geojson.features = data.dataArray.map((item) => {\n    return {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: item.coordinates\n      },\n      properties: __spreadValues({}, item)\n    };\n  });\n  pointIndex.load(geojson.features);\n  return pointIndex;\n}\nfunction formatData(clusterPoint) {\n  return clusterPoint.map((point, index) => {\n    return __spreadValues({\n      coordinates: point.geometry.coordinates,\n      _id: index + 1\n    }, point.properties);\n  });\n}\nexport {\n  cluster,\n  formatData\n};\n", "// src/utils/statistics.ts\nfunction max(x) {\n  if (x.length === 0) {\n    throw new Error(\"max requires at least one data point\");\n  }\n  let value = x[0];\n  for (let i = 1; i < x.length; i++) {\n    if (x[i] > value) {\n      value = x[i];\n    }\n  }\n  return value;\n}\nfunction min(x) {\n  if (x.length === 0) {\n    throw new Error(\"min requires at least one data point\");\n  }\n  let value = x[0];\n  for (let i = 1; i < x.length; i++) {\n    if (x[i] < value) {\n      value = x[i];\n    }\n  }\n  return value;\n}\nfunction sum(x) {\n  if (x.length === 0) {\n    return 0;\n  }\n  let sumNum = x[0];\n  let correction = 0;\n  let transition;\n  for (let i = 1; i < x.length; i++) {\n    transition = sumNum + x[i] * 1;\n    if (Math.abs(sumNum) >= Math.abs(x[i])) {\n      correction += sumNum - transition + x[i];\n    } else {\n      correction += x[i] - transition + sumNum;\n    }\n    sumNum = transition;\n  }\n  return sumNum + correction * 1;\n}\nfunction mean(x) {\n  if (x.length === 0) {\n    throw new Error(\"mean requires at least one data point\");\n  }\n  return sum(x) / x.length;\n}\nvar statMap = {\n  min,\n  max,\n  mean,\n  sum\n};\nexport {\n  max,\n  mean,\n  min,\n  statMap,\n  sum\n};\n", "// src/transform/filter.ts\nfunction filter(data, options) {\n  const { callback } = options;\n  if (callback) {\n    data.dataArray = data.dataArray.filter(callback);\n  }\n  return data;\n}\nexport {\n  filter\n};\n", "// src/transform/grid.ts\nimport { Satistics, aProjectFlat } from \"@antv/l7-utils\";\nvar R_EARTH = 6378e3;\nfunction aggregatorToGrid(data, option) {\n  const dataArray = data.dataArray;\n  const { size = 10 } = option;\n  const pixlSize = size / (2 * Math.PI * R_EARTH) * (256 << 20) / 2;\n  const { gridHash, gridOffset } = _pointsGridHash(dataArray, size);\n  const layerData = _getGridLayerDataFromGridHash(gridHash, gridOffset, option);\n  return {\n    yOffset: pixlSize,\n    xOffset: pixlSize,\n    radius: pixlSize,\n    type: \"grid\",\n    dataArray: layerData\n  };\n}\nfunction _pointsGridHash(dataArray, size) {\n  let latMin = Infinity;\n  let latMax = -Infinity;\n  let pLat;\n  for (const point of dataArray) {\n    pLat = point.coordinates[1];\n    if (Number.isFinite(pLat)) {\n      latMin = pLat < latMin ? pLat : latMin;\n      latMax = pLat > latMax ? pLat : latMax;\n    }\n  }\n  const centerLat = (latMin + latMax) / 2;\n  const gridOffset = _calculateGridLatLonOffset(size, centerLat);\n  if (gridOffset.xOffset <= 0 || gridOffset.yOffset <= 0) {\n    return { gridHash: {}, gridOffset };\n  }\n  const gridHash = {};\n  for (const point of dataArray) {\n    const lat = point.coordinates[1];\n    const lng = point.coordinates[0];\n    if (Number.isFinite(lat) && Number.isFinite(lng)) {\n      const latIdx = Math.floor((lat + 90) / gridOffset.yOffset);\n      const lonIdx = Math.floor((lng + 180) / gridOffset.xOffset);\n      const key = `${latIdx}-${lonIdx}`;\n      gridHash[key] = gridHash[key] || { count: 0, points: [] };\n      gridHash[key].count += 1;\n      gridHash[key].points.push(point);\n    }\n  }\n  return { gridHash, gridOffset };\n}\nfunction _calculateGridLatLonOffset(cellSize, latitude) {\n  const yOffset = _calculateLatOffset(cellSize);\n  const xOffset = _calculateLonOffset(latitude, cellSize);\n  return { yOffset, xOffset };\n}\nfunction _calculateLatOffset(dy) {\n  return dy / R_EARTH * (180 / Math.PI);\n}\nfunction _calculateLonOffset(lat, dx) {\n  return dx / R_EARTH * (180 / Math.PI) / Math.cos(lat * Math.PI / 180);\n}\nfunction _getGridLayerDataFromGridHash(gridHash, gridOffset, option) {\n  return Object.keys(gridHash).reduce((accu, key, i) => {\n    const idxs = key.split(\"-\");\n    const latIdx = parseInt(idxs[0], 10);\n    const lonIdx = parseInt(idxs[1], 10);\n    const item = {};\n    if (option.field && option.method) {\n      const columns = Satistics.getColumn(gridHash[key].points, option.field);\n      item[option.method] = Satistics.statMap[option.method](columns);\n    }\n    Object.assign(item, {\n      _id: i,\n      coordinates: aProjectFlat([\n        -180 + gridOffset.xOffset * (lonIdx + 0.5),\n        -90 + gridOffset.yOffset * (latIdx + 0.5)\n      ]),\n      rawData: gridHash[key].points,\n      count: gridHash[key].count\n    });\n    accu.push(item);\n    return accu;\n  }, []);\n}\nexport {\n  aggregatorToGrid\n};\n", "var thirdPi = Math.PI / 3,\n    angles = [0, thirdPi, 2 * thirdPi, 3 * thirdPi, 4 * thirdPi, 5 * thirdPi];\n\nfunction pointX(d) {\n  return d[0];\n}\n\nfunction pointY(d) {\n  return d[1];\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1,\n      x = pointX,\n      y = pointY,\n      r,\n      dx,\n      dy;\n\n  function hexbin(points) {\n    var binsById = {}, bins = [], i, n = points.length;\n\n    for (i = 0; i < n; ++i) {\n      if (isNaN(px = +x.call(null, point = points[i], i, points))\n          || isNaN(py = +y.call(null, point, i, points))) continue;\n\n      var point,\n          px,\n          py,\n          pj = Math.round(py = py / dy),\n          pi = Math.round(px = px / dx - (pj & 1) / 2),\n          py1 = py - pj;\n\n      if (Math.abs(py1) * 3 > 1) {\n        var px1 = px - pi,\n            pi2 = pi + (px < pi ? -1 : 1) / 2,\n            pj2 = pj + (py < pj ? -1 : 1),\n            px2 = px - pi2,\n            py2 = py - pj2;\n        if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2;\n      }\n\n      var id = pi + \"-\" + pj, bin = binsById[id];\n      if (bin) bin.push(point);\n      else {\n        bins.push(bin = binsById[id] = [point]);\n        bin.x = (pi + (pj & 1) / 2) * dx;\n        bin.y = pj * dy;\n      }\n    }\n\n    return bins;\n  }\n\n  function hexagon(radius) {\n    var x0 = 0, y0 = 0;\n    return angles.map(function(angle) {\n      var x1 = Math.sin(angle) * radius,\n          y1 = -Math.cos(angle) * radius,\n          dx = x1 - x0,\n          dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  hexbin.hexagon = function(radius) {\n    return \"m\" + hexagon(radius == null ? r : +radius).join(\"l\") + \"z\";\n  };\n\n  hexbin.centers = function() {\n    var centers = [],\n        j = Math.round(y0 / dy),\n        i = Math.round(x0 / dx);\n    for (var y = j * dy; y < y1 + r; y += dy, ++j) {\n      for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {\n        centers.push([x, y]);\n      }\n    }\n    return centers;\n  };\n\n  hexbin.mesh = function() {\n    var fragment = hexagon(r).slice(0, 4).join(\"l\");\n    return hexbin.centers().map(function(p) { return \"M\" + p + \"m\" + fragment; }).join(\"\");\n  };\n\n  hexbin.x = function(_) {\n    return arguments.length ? (x = _, hexbin) : x;\n  };\n\n  hexbin.y = function(_) {\n    return arguments.length ? (y = _, hexbin) : y;\n  };\n\n  hexbin.radius = function(_) {\n    return arguments.length ? (r = +_, dx = r * 2 * Math.sin(thirdPi), dy = r * 1.5, hexbin) : r;\n  };\n\n  hexbin.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], hexbin) : [x1 - x0, y1 - y0];\n  };\n\n  hexbin.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], hexbin) : [[x0, y0], [x1, y1]];\n  };\n\n  return hexbin.radius(1);\n}\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/transform/hexagon.ts\nimport { Satistics, aProjectFlat } from \"@antv/l7-utils\";\nimport { hexbin } from \"d3-hexbin\";\nvar R_EARTH = 6378e3;\nfunction pointToHexbin(data, option) {\n  const dataArray = data.dataArray;\n  const { size = 10, method = \"sum\" } = option;\n  const pixlSize = size / (2 * Math.PI * R_EARTH) * (256 << 20) / 2;\n  const screenPoints = dataArray.map((point) => {\n    const [x, y] = aProjectFlat(point.coordinates);\n    return __spreadProps(__spreadValues({}, point), {\n      coordinates: [x, y]\n    });\n  });\n  const newHexbin = hexbin().radius(pixlSize).x((d) => d.coordinates[0]).y((d) => d.coordinates[1]);\n  const hexbinBins = newHexbin(screenPoints);\n  const result = {\n    dataArray: hexbinBins.map((hex, index) => {\n      if (option.field && method) {\n        const columns = Satistics.getColumn(hex, option.field);\n        hex[method] = Satistics.statMap[method](columns);\n      }\n      return {\n        [option.method]: hex[method],\n        count: hex.length,\n        rawData: hex,\n        coordinates: [hex.x, hex.y],\n        _id: index\n      };\n    }),\n    radius: pixlSize,\n    xOffset: pixlSize,\n    yOffset: pixlSize,\n    type: \"hexagon\"\n  };\n  return result;\n}\nexport {\n  pointToHexbin\n};\n", "var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\n\n// src/transform/join.ts\nfunction join(geoData, options) {\n  const { sourceField, targetField, data } = options;\n  const dataObj = {};\n  data.forEach((element) => {\n    dataObj[element[sourceField]] = element;\n  });\n  geoData.dataArray = geoData.dataArray.map((item) => {\n    const joinName = item[targetField];\n    return __spreadValues(__spreadValues({}, item), dataObj[joinName]);\n  });\n  return geoData;\n}\nexport {\n  join\n};\n", "// src/transform/map.ts\nfunction map(data, options) {\n  const { callback } = options;\n  if (callback) {\n    data.dataArray = data.dataArray.map(callback);\n  }\n  return data;\n}\nexport {\n  map\n};\n", "// src/index.ts\nimport { registerParser, registerTransform } from \"./factory\";\nimport csv from \"./parser/csv\";\nimport geojson from \"./parser/geojson\";\nimport geojsonVTTile from \"./parser/geojsonvt\";\nimport image from \"./parser/image\";\nimport json from \"./parser/json\";\nimport jsonTile from \"./parser/jsonTile\";\nimport mapboxVectorTile from \"./parser/mvt\";\nimport raster from \"./parser/raster\";\nimport rasterTile, { rasterDataTypes } from \"./parser/raster-tile\";\nimport ndi from \"./parser/raster/ndi\";\nimport rgb from \"./parser/raster/rgb\";\nimport rasterRgb from \"./parser/rasterRgb\";\nimport testTile from \"./parser/testTile\";\nimport Source from \"./source\";\nimport { cluster } from \"./transform/cluster\";\nimport { filter } from \"./transform/filter\";\nimport { aggregatorToGrid } from \"./transform/grid\";\nimport { pointToHexbin } from \"./transform/hexagon\";\nimport { join } from \"./transform/join\";\nimport { map } from \"./transform/map\";\nimport { getParser, getTransform, registerParser as registerParser2, registerTransform as registerTransform2 } from \"./factory\";\nexport * from \"./interface\";\nexport * from \"./source/index\";\nregisterParser(\"rasterTile\", rasterTile);\nregisterParser(\"mvt\", mapboxVectorTile);\nregisterParser(\"geojsonvt\", geojsonVTTile);\nregisterParser(\"testTile\", testTile);\nregisterParser(\"geojson\", geojson);\nregisterParser(\"jsonTile\", jsonTile);\nregisterParser(\"image\", image);\nregisterParser(\"csv\", csv);\nregisterParser(\"json\", json);\nregisterParser(\"raster\", raster);\nregisterParser(\"rasterRgb\", rasterRgb);\nregisterParser(\"rgb\", rgb);\nregisterParser(\"ndi\", ndi);\nregisterTransform(\"cluster\", cluster);\nregisterTransform(\"filter\", filter);\nregisterTransform(\"join\", join);\nregisterTransform(\"map\", map);\nregisterTransform(\"grid\", aggregatorToGrid);\nregisterTransform(\"hexagon\", pointToHexbin);\nvar src_default = Source;\nexport {\n  src_default as default,\n  getParser,\n  getTransform,\n  rasterDataTypes,\n  registerParser2 as registerParser,\n  registerTransform2 as registerTransform\n};\n", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM, anchorTranslate, anchorType, applyAnchorClass, bindAll, isPC } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\n\n//  marker 支持 dragger 未完成\nexport default class Marker extends EventEmitter {\n  // tslint:disable-next-line: no-empty\n  getMarkerLayerContainerSize() {}\n  constructor(option) {\n    super();\n    _defineProperty(this, \"markerOption\", void 0);\n    _defineProperty(this, \"popup\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"lngLat\", void 0);\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"added\", false);\n    _defineProperty(this, \"preLngLat\", {\n      lng: 0,\n      lat: 0\n    });\n    _defineProperty(this, \"onMarkerDragStart\", e => {\n      const mapContainer = this.mapsService.getContainer();\n      if (!mapContainer) {\n        return;\n      }\n      this.mapsService.setMapStatus({\n        dragEnable: false,\n        zoomEnable: false\n      });\n      const {\n        left: containerX,\n        top: containerY\n      } = mapContainer.getClientRects()[0];\n      const {\n        x: clickX,\n        y: clickY\n      } = e;\n      this.preLngLat = this.mapsService.containerToLngLat([clickX - containerX, clickY - containerY]);\n      this.mapsService.on('mousemove', this.onMarkerDragMove);\n      document.addEventListener('mouseup', this.onMarkerDragEnd);\n      this.emit('dragstart', this.lngLat);\n    });\n    _defineProperty(this, \"onMarkerDragMove\", e => {\n      // 适配不同底图，事件返回的数据名称不一致\n      const lngLat = e.lngLat || e.lnglat;\n      const {\n        lng: preLng,\n        lat: preLat\n      } = this.preLngLat;\n      const {\n        lng: curLng,\n        lat: curLat\n      } = lngLat;\n      const newLngLat = {\n        lng: this.lngLat.lng + curLng - preLng,\n        lat: this.lngLat.lat + curLat - preLat\n      };\n      this.setLnglat(newLngLat);\n      this.preLngLat = lngLat;\n      this.emit('dragging', newLngLat);\n    });\n    _defineProperty(this, \"onMarkerDragEnd\", () => {\n      this.mapsService.setMapStatus({\n        dragEnable: true,\n        zoomEnable: true\n      });\n      this.mapsService.off('mousemove', this.onMarkerDragMove);\n      document.removeEventListener('mouseup', this.onMarkerDragEnd);\n      this.emit('dragend', this.lngLat);\n    });\n    _defineProperty(this, \"eventHandle\", e => {\n      this.polyfillEvent(e);\n      this.emit(e.type, {\n        target: e,\n        data: this.markerOption.extData,\n        lngLat: this.lngLat\n      });\n    });\n    /**\n     * 高德 2.x 使用了 fastClick.js 避免延迟，导致 IOS 移动端的 click 事件不会正常触发，需要手动触发\n     * @param e\n     */\n    _defineProperty(this, \"touchStartTime\", void 0);\n    this.markerOption = _objectSpread(_objectSpread({}, this.getDefault()), option);\n    bindAll(['update', 'onMove', 'onMapClick', 'updatePositionWhenZoom'], this);\n    this.init();\n  }\n  getDefault() {\n    return {\n      element: undefined,\n      // DOM element\n      anchor: anchorType.BOTTOM,\n      offsets: [0, 0],\n      color: '#5B8FF9',\n      draggable: false,\n      overflowHide: true\n    };\n  }\n  addTo(scene) {\n    this.scene = scene;\n    this.mapsService = scene.mapService;\n    const {\n      element\n    } = this.markerOption;\n    this.mapsService.getMarkerContainer().appendChild(element);\n    this.registerMarkerEvent(element);\n    this.mapsService.on('camerachange', this.update); // 注册高德1.x 的地图事件监听\n    this.update();\n    this.updateDraggable();\n    this.added = true;\n    this.emit('added');\n    return this;\n  }\n  remove() {\n    if (this.mapsService) {\n      this.mapsService.off('click', this.onMapClick);\n      this.mapsService.off('move', this.update);\n      this.mapsService.off('moveend', this.update);\n      this.mapsService.off('camerachange', this.update);\n    }\n    this.unRegisterMarkerEvent();\n    this.removeAllListeners();\n    const {\n      element\n    } = this.markerOption;\n    if (element) {\n      DOM.remove(element);\n    }\n    if (this.popup) {\n      this.popup.remove();\n    }\n    return this;\n  }\n  setLnglat(lngLat) {\n    this.lngLat = lngLat;\n    if (Array.isArray(lngLat)) {\n      this.lngLat = {\n        lng: lngLat[0],\n        lat: lngLat[1]\n      };\n    }\n    if (this.popup) {\n      this.popup.setLnglat(this.lngLat);\n    }\n    this.update();\n    return this;\n  }\n  getLnglat() {\n    return this.lngLat;\n  }\n  getElement() {\n    return this.markerOption.element;\n  }\n  setElement(el) {\n    if (!this.added) {\n      this.once('added', () => {\n        this.setElement(el);\n      });\n      return this;\n    }\n    const {\n      element\n    } = this.markerOption;\n    if (element) {\n      DOM.remove(element);\n    }\n    this.markerOption.element = el;\n    this.init();\n    this.mapsService.getMarkerContainer().appendChild(el);\n    this.registerMarkerEvent(el);\n    this.updateDraggable();\n    this.update();\n    return this;\n  }\n  openPopup() {\n    if (!this.added) {\n      this.once('added', () => {\n        this.openPopup();\n      });\n      return this;\n    }\n    const popup = this.popup;\n    if (!popup) {\n      return this;\n    }\n    if (!popup.isOpen()) {\n      popup.addTo(this.scene);\n    }\n    return this;\n  }\n  closePopup() {\n    if (!this.added) {\n      this.once('added', () => {\n        this.closePopup();\n      });\n    }\n    const popup = this.popup;\n    if (popup) {\n      popup.remove();\n    }\n    return this;\n  }\n  setPopup(popup) {\n    this.popup = popup;\n    if (this.lngLat) {\n      this.popup.setLnglat(this.lngLat);\n    }\n    return this;\n  }\n  togglePopup() {\n    const popup = this.popup;\n    if (!popup) {\n      return this;\n    } else if (popup.isOpen()) {\n      popup.remove();\n    } else {\n      popup.addTo(this.scene);\n    }\n    return this;\n  }\n  getPopup() {\n    return this.popup;\n  }\n  getOffset() {\n    return this.markerOption.offsets;\n  }\n  setDraggable(draggable) {\n    this.markerOption.draggable = draggable;\n    this.updateDraggable();\n  }\n  getDraggable() {\n    return this.markerOption.draggable;\n  }\n  getExtData() {\n    return this.markerOption.extData;\n  }\n  setExtData(data) {\n    this.markerOption.extData = data;\n  }\n  update() {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      anchor\n    } = this.markerOption;\n    this.updatePosition();\n    DOM.setTransform(element, `${anchorTranslate[anchor]}`);\n  }\n  //天地图在开始缩放时触发 更新目标位置时添加过渡效果\n  updatePositionWhenZoom(ev) {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      offsets\n    } = this.markerOption;\n    const {\n      lng,\n      lat\n    } = this.lngLat;\n    if (element) {\n      element.style.display = 'block';\n      element.style.whiteSpace = 'nowrap';\n      const {\n        containerHeight,\n        containerWidth,\n        bounds\n      } = this.getMarkerLayerContainerSize() || this.getCurrentContainerSize();\n      if (!bounds) {\n        return;\n      }\n      const map = ev.map;\n      const center = ev.center;\n      const zoom = ev.zoom;\n      const projectedCenter = map.DE(this.lngLat, zoom, center);\n      projectedCenter.x = Math.round(projectedCenter.x + offsets[0]);\n      projectedCenter.y = Math.round(projectedCenter.y - offsets[1]);\n      // 当前可视区域包含跨日界线\n      if (Math.abs(bounds[0][0]) > 180 || Math.abs(bounds[1][0]) > 180) {\n        if (projectedCenter.x > containerWidth) {\n          // 日界线右侧点左移\n          const newPos = this.mapsService.lngLatToContainer([lng - 360, lat]);\n          projectedCenter.x = newPos.x;\n        }\n        if (projectedCenter.x < 0) {\n          // 日界线左侧点右移\n          const newPos = this.mapsService.lngLatToContainer([lng + 360, lat]);\n          projectedCenter.x = newPos.x;\n        }\n      }\n      if (projectedCenter.x > containerWidth || projectedCenter.x < 0 || projectedCenter.y > containerHeight || projectedCenter.y < 0) {\n        element.style.display = 'none';\n      }\n      element.style.left = projectedCenter.x + 'px';\n      element.style.top = projectedCenter.y + 'px';\n      element.style.transition = 'left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)';\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onMapClick(e) {\n    const {\n      element\n    } = this.markerOption;\n    if (this.popup && element) {\n      this.togglePopup();\n    }\n  }\n  getCurrentContainerSize() {\n    const container = this.mapsService.getContainer();\n    return {\n      containerHeight: (container === null || container === void 0 ? void 0 : container.scrollHeight) || 0,\n      containerWidth: (container === null || container === void 0 ? void 0 : container.scrollWidth) || 0,\n      bounds: this.mapsService.getBounds()\n    };\n  }\n  updateDraggable() {\n    const {\n      element\n    } = this.markerOption;\n    element === null || element === void 0 || element.removeEventListener('mousedown', this.onMarkerDragStart);\n    this.mapsService.off('mousemove', this.onMarkerDragMove);\n    document.removeEventListener('mouseup', this.onMarkerDragEnd);\n    if (this.markerOption.draggable) {\n      element === null || element === void 0 || element.addEventListener('mousedown', this.onMarkerDragStart);\n    }\n  }\n  updatePosition() {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      offsets\n    } = this.markerOption;\n    const {\n      lng,\n      lat\n    } = this.lngLat;\n    const pos = this.mapsService.lngLatToContainer([lng, lat]);\n    if (element) {\n      element.style.display = 'block';\n      element.style.whiteSpace = 'nowrap';\n      const {\n        containerHeight,\n        containerWidth,\n        bounds\n      } = this.getMarkerLayerContainerSize() || this.getCurrentContainerSize();\n      if (!bounds) {\n        return;\n      }\n      // 当前可视区域包含跨日界线\n      if (Math.abs(bounds[0][0]) > 180 || Math.abs(bounds[1][0]) > 180) {\n        if (pos.x > containerWidth) {\n          // 日界线右侧点左移\n          const newPos = this.mapsService.lngLatToContainer([lng - 360, lat]);\n          pos.x = newPos.x;\n        }\n        if (pos.x < 0) {\n          // 日界线左侧点右移\n          const newPos = this.mapsService.lngLatToContainer([lng + 360, lat]);\n          pos.x = newPos.x;\n        }\n      }\n      if (this.markerOption.overflowHide) {\n        // 不在当前可视区域内隐藏点\n        if (pos.x > containerWidth || pos.x < 0 || pos.y > containerHeight || pos.y < 0) {\n          element.style.display = 'none';\n        }\n      }\n      element.style.left = pos.x + offsets[0] + 'px';\n      element.style.top = pos.y - offsets[1] + 'px';\n    }\n  }\n  init() {\n    let {\n      element\n    } = this.markerOption;\n    const {\n      color,\n      anchor\n    } = this.markerOption;\n    if (!element) {\n      element = DOM.create('div');\n      this.markerOption.element = element;\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttributeNS(null, 'display', 'block');\n      svg.setAttributeNS(null, 'height', '48px');\n      svg.setAttributeNS(null, 'width', '48px');\n      svg.setAttributeNS(null, 'viewBox', '0 0 1024 1024');\n      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n      path.setAttributeNS(null, 'd', 'M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z');\n      path.setAttributeNS(null, 'fill', color);\n      svg.appendChild(path);\n      element.appendChild(svg);\n    }\n    DOM.addClass(element, 'l7-marker');\n    Object.keys(this.markerOption.style || {}).forEach(\n    // @ts-ignore\n    key => {\n      var _this$markerOption, _this$markerOption2;\n      const value = ((_this$markerOption = this.markerOption) === null || _this$markerOption === void 0 ? void 0 : _this$markerOption.style) && ((_this$markerOption2 = this.markerOption) === null || _this$markerOption2 === void 0 ? void 0 : _this$markerOption2.style[key]);\n      if (element) {\n        // @ts-ignore\n        element.style[key] = value;\n      }\n    });\n    applyAnchorClass(element, anchor, 'marker');\n  }\n  registerMarkerEvent(element) {\n    element.addEventListener('click', this.onMapClick);\n    element.addEventListener('mousemove', this.eventHandle);\n    element.addEventListener('click', this.eventHandle);\n    element.addEventListener('mousedown', this.eventHandle);\n    element.addEventListener('mouseup', this.eventHandle);\n    element.addEventListener('dblclick', this.eventHandle);\n    element.addEventListener('contextmenu', this.eventHandle);\n    element.addEventListener('mouseover', this.eventHandle);\n    element.addEventListener('mouseout', this.eventHandle);\n    element.addEventListener('touchstart', this.eventHandle);\n    element.addEventListener('touchend', this.eventHandle);\n  }\n  unRegisterMarkerEvent() {\n    const element = this.getElement();\n    element.removeEventListener('click', this.onMapClick);\n    element.removeEventListener('mousemove', this.eventHandle);\n    element.removeEventListener('click', this.eventHandle);\n    element.removeEventListener('mousedown', this.eventHandle);\n    element.removeEventListener('mouseup', this.eventHandle);\n    element.removeEventListener('dblclick', this.eventHandle);\n    element.removeEventListener('contextmenu', this.eventHandle);\n    element.removeEventListener('mouseover', this.eventHandle);\n    element.removeEventListener('mouseout', this.eventHandle);\n    element.removeEventListener('touchstart', this.eventHandle);\n    element.removeEventListener('touchend', this.eventHandle);\n  }\n  polyfillEvent(e) {\n    if (!this.mapsService || this.mapsService.getType() !== 'amap') {\n      return;\n    }\n    if (!isPC()) {\n      if (e.type === 'touchstart') {\n        this.touchStartTime = Date.now();\n      }\n      if (e.type === 'touchend' && Date.now() - this.touchStartTime < 300) {\n        this.emit('click', {\n          target: e,\n          data: this.markerOption.extData,\n          lngLat: this.lngLat\n        });\n      }\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  addDragHandler(e) {\n    return null;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onUp(e) {\n    throw new Error('Method not implemented.');\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM, Satistics, bindAll, boundsContains, lodashUtil, padBounds } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\n// @ts-ignore\n// tslint:disable-next-line:no-submodule-imports\nimport Supercluster from 'supercluster/dist/supercluster';\nimport Marker from \"./marker\";\nconst {\n  merge\n} = lodashUtil;\nexport default class MarkerLayer extends EventEmitter {\n  constructor(option) {\n    var _this$markerLayerOpti;\n    super();\n    _defineProperty(this, \"markers\", []);\n    // 原始的marker列表\n    _defineProperty(this, \"markerLayerOption\", void 0);\n    _defineProperty(this, \"clusterIndex\", void 0);\n    _defineProperty(this, \"points\", []);\n    _defineProperty(this, \"clusterMarkers\", []);\n    // 聚合后的marker列表\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"zoom\", void 0);\n    _defineProperty(this, \"bbox\", void 0);\n    _defineProperty(this, \"inited\", void 0);\n    _defineProperty(this, \"containerSize\", void 0);\n    this.markerLayerOption = merge(this.getDefault(), option);\n    bindAll(['update'], this);\n    this.zoom = ((_this$markerLayerOpti = this.markerLayerOption.clusterOption) === null || _this$markerLayerOpti === void 0 ? void 0 : _this$markerLayerOpti.zoom) || -99;\n  }\n  getDefault() {\n    return {\n      cluster: false,\n      clusterOption: {\n        radius: 80,\n        maxZoom: 20,\n        minZoom: 0,\n        zoom: -99,\n        style: {},\n        className: ''\n      }\n    };\n  }\n\n  // 执行scene.addMarkerLayer时调用\n  addTo(scene) {\n    // this.remove();\n    this.scene = scene;\n    this.mapsService = scene.mapService;\n    if (this.markerLayerOption.cluster) {\n      this.initCluster();\n      this.update();\n      // 地图视野变化时，重新计算视野内的聚合点。\n      this.mapsService.on('camerachange', this.update); // amap1.x 更新事件\n      this.mapsService.on('viewchange', this.update); // amap2.0 更新事件\n    }\n    this.mapsService.on('camerachange', this.setContainerSize.bind(this)); // amap1.x 更新事件\n    this.mapsService.on('viewchange', this.setContainerSize.bind(this)); // amap2.0 更新事件\n    this.addMarkers();\n    this.inited = true;\n    return this;\n  }\n\n  // 设置容器大小\n  setContainerSize() {\n    if (!this.mapsService) {\n      return;\n    }\n    const container = this.mapsService.getContainer();\n    this.containerSize = {\n      containerWidth: (container === null || container === void 0 ? void 0 : container.scrollWidth) || 0,\n      containerHeight: (container === null || container === void 0 ? void 0 : container.scrollHeight) || 0,\n      bounds: this.mapsService.getBounds()\n    };\n  }\n\n  // 获取容器尺寸\n  getContainerSize() {\n    return this.containerSize;\n  }\n\n  // 在图层添加单个marker\n  addMarker(marker) {\n    const cluster = this.markerLayerOption.cluster;\n    marker.getMarkerLayerContainerSize = this.getContainerSize.bind(this);\n    if (cluster) {\n      this.addPoint(marker, this.markers.length);\n      if (this.mapsService) {\n        // 在新增 marker 的时候需要更新聚合信息（哪怕此时的 zoom 没有发生变化）\n        const zoom = this.mapsService.getZoom();\n        const bbox = this.mapsService.getBounds();\n        this.bbox = padBounds(bbox, 0.5);\n        this.zoom = Math.floor(zoom);\n        this.getClusterMarker(this.bbox, this.zoom);\n      }\n    }\n    this.markers.push(marker);\n  }\n  removeMarker(marker) {\n    this.markers.indexOf(marker);\n    const markerIndex = this.markers.indexOf(marker);\n    if (markerIndex > -1) {\n      this.markers.splice(markerIndex, 1);\n      if (this.markerLayerOption.cluster) {\n        this.removePoint(markerIndex);\n        if (this.mapsService) {\n          this.getClusterMarker(this.bbox, this.zoom);\n        }\n      }\n    }\n  }\n\n  /**\n   * 隐藏 marker 在每个 marker 上单独修改属性而不是在 markerContainer 上修改（在 markerContainer 修改会有用户在场景加载完之前调用失败的问题）\n   */\n  hide() {\n    this.markers.map(m => {\n      m.getElement().style.opacity = '0';\n    });\n    this.clusterMarkers.map(m => {\n      m.getElement().style.opacity = '0';\n    });\n  }\n\n  /**\n   * 显示 marker\n   */\n  show() {\n    this.markers.map(m => {\n      m.getElement().style.opacity = '1';\n    });\n    this.clusterMarkers.map(m => {\n      m.getElement().style.opacity = '1';\n    });\n  }\n\n  // 返回当下的markers数据，有聚合图时返回聚合的marker列表，否则返回原始maerker列表\n  getMarkers() {\n    const cluster = this.markerLayerOption.cluster;\n    return cluster ? this.clusterMarkers : this.markers;\n  }\n  getOriginMarkers() {\n    return this.markers;\n  }\n\n  // 批量添加marker到scene\n  addMarkers() {\n    this.getMarkers().forEach(marker => {\n      marker.addTo(this.scene);\n    });\n  }\n\n  // 清除图层里的marker\n  clear() {\n    this.markers.forEach(marker => {\n      marker.remove();\n    });\n    this.clusterMarkers.forEach(clusterMarker => {\n      clusterMarker.remove();\n    });\n    this.markers = [];\n    this.points = [];\n    this.clusterMarkers = [];\n  }\n  destroy() {\n    this.clear();\n    this.removeAllListeners();\n    this.mapsService.off('camerachange', this.update);\n    this.mapsService.off('viewchange', this.update);\n    this.mapsService.off('camerachange', this.setContainerSize.bind(this));\n    this.mapsService.off('viewchange', this.setContainerSize.bind(this));\n  }\n\n  // 将marker数据保存在point中\n  addPoint(marker, id) {\n    const {\n      lng,\n      lat\n    } = marker.getLnglat();\n    const feature = {\n      geometry: {\n        type: 'Point',\n        coordinates: [lng, lat]\n      },\n      properties: _objectSpread(_objectSpread({}, marker.getExtData()), {}, {\n        marker_id: id\n      })\n    };\n    this.points.push(feature);\n    if (this.clusterIndex) {\n      // 在新增点的时候需要更新 cluster 的数据\n      this.clusterIndex.load(this.points);\n    }\n  }\n  removePoint(id) {\n    const targetIndex = this.points.findIndex(point => point.properties.marker_id === id);\n    if (targetIndex > -1) {\n      this.points.splice(targetIndex, 1);\n    }\n    if (this.clusterIndex) {\n      // 在删除点的时候需要更新 cluster 的数据\n      this.clusterIndex.load(this.points);\n    }\n  }\n  initCluster() {\n    if (!this.markerLayerOption.cluster) {\n      return;\n    }\n    const {\n      radius,\n      minZoom = 0,\n      maxZoom\n    } = this.markerLayerOption.clusterOption;\n    this.clusterIndex = new Supercluster({\n      radius,\n      minZoom,\n      maxZoom\n    });\n    // @ts-ignore\n    this.clusterIndex.load(this.points);\n  }\n  getClusterMarker(viewBounds, zoom) {\n    const viewBBox = viewBounds[0].concat(viewBounds[1]);\n    const clusterPoint = this.clusterIndex.getClusters(viewBBox, zoom);\n    this.clusterMarkers.forEach(marker => {\n      marker.remove();\n    });\n    this.clusterMarkers = [];\n    clusterPoint.forEach(feature => {\n      var _feature$properties;\n      const {\n        field,\n        method\n      } = this.markerLayerOption.clusterOption;\n      // 处理聚合数据\n      if ((_feature$properties = feature.properties) !== null && _feature$properties !== void 0 && _feature$properties.cluster_id) {\n        var _feature$properties2;\n        const clusterData = this.getLeaves((_feature$properties2 = feature.properties) === null || _feature$properties2 === void 0 ? void 0 : _feature$properties2.cluster_id);\n        feature.properties.clusterData = clusterData;\n        if (field && method) {\n          const columnData = clusterData === null || clusterData === void 0 ? void 0 : clusterData.map(item => {\n            const data = {\n              [field]: item.properties[field]\n            };\n            return data;\n          });\n          const column = Satistics.getColumn(columnData, field);\n          const stat = Satistics.getSatByColumn(method, column);\n          const fieldName = 'point_' + method;\n          feature.properties[fieldName] = stat.toFixed(2);\n        }\n      }\n      const marker = this.clusterMarker(feature);\n      this.clusterMarkers.push(marker);\n      marker.addTo(this.scene);\n    });\n  }\n  getLeaves(clusterId, limit = Infinity, offset = 0) {\n    if (!clusterId) {\n      return null;\n    }\n    return this.clusterIndex.getLeaves(clusterId, limit, offset);\n  }\n  clusterMarker(feature) {\n    const clusterOption = this.markerLayerOption.clusterOption;\n    const {\n      element = this.generateElement.bind(this)\n    } = clusterOption;\n    const marker = new Marker({\n      element: element(feature)\n    }).setLnglat({\n      lng: feature.geometry.coordinates[0],\n      lat: feature.geometry.coordinates[1]\n    });\n    return marker;\n  }\n  normalMarker(feature) {\n    const marker_id = feature.properties.marker_id;\n    return this.markers[marker_id];\n  }\n  update() {\n    if (!this.mapsService) {\n      return;\n    }\n    // 当图层中无marker时，无需更新\n    if (this.markers.length === 0) {\n      return;\n    }\n    const zoom = this.mapsService.getZoom();\n    const bbox = this.mapsService.getBounds();\n    if (!this.bbox || Math.abs(zoom - this.zoom) >= 1 || !boundsContains(this.bbox, bbox)) {\n      this.bbox = padBounds(bbox, 0.5);\n      this.zoom = Math.floor(zoom);\n      this.getClusterMarker(this.bbox, this.zoom);\n    }\n  }\n  generateElement(feature) {\n    const el = DOM.create('div', 'l7-marker-cluster');\n    const label = DOM.create('div', '', el);\n    const span = DOM.create('span', '', label);\n    const {\n      field,\n      method\n    } = this.markerLayerOption.clusterOption;\n    feature.properties.point_count = feature.properties.point_count || 1;\n    const text = field && method ? feature.properties['point_' + method] || feature.properties[field] : feature.properties.point_count;\n    span.textContent = text;\n    return el;\n  }\n}", "/* eslint-disable */\nwindow._iconfont_svg_string_3580659 = '<svg><symbol id=\"l7-icon-area1\" viewBox=\"0 0 1024 1024\"><path d=\"M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z\"  ></path></symbol><symbol id=\"l7-icon-area\" viewBox=\"0 0 1024 1024\"><path d=\"M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z\"  ></path></symbol><symbol id=\"l7-icon-delete\" viewBox=\"0 0 1024 1024\"><path d=\"M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z\"  ></path></symbol><symbol id=\"l7-icon-color\" viewBox=\"0 0 1024 1024\"><path d=\"M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z\"  ></path></symbol><symbol id=\"l7-icon-base-map\" viewBox=\"0 0 1024 1024\"><path d=\"M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z\"  ></path></symbol><symbol id=\"l7-icon-dot\" viewBox=\"0 0 1024 1024\"><path d=\"M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z\"  ></path></symbol><symbol id=\"l7-icon-display\" viewBox=\"0 0 1024 1024\"><path d=\"M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z\"  ></path></symbol><symbol id=\"l7-icon-enlarge\" viewBox=\"0 0 1024 1024\"><path d=\"M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z\"  ></path></symbol><symbol id=\"l7-icon-export-picture\" viewBox=\"0 0 1024 1024\"><path d=\"M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z\"  ></path></symbol><symbol id=\"l7-icon-exit-fullscreen\" viewBox=\"0 0 1024 1024\"><path d=\"M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z\"  ></path></symbol><symbol id=\"l7-icon-line\" viewBox=\"0 0 1024 1024\"><path d=\"M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z\"  ></path></symbol><symbol id=\"l7-icon-layer\" viewBox=\"0 0 1024 1024\"><path d=\"M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z\"  ></path></symbol><symbol id=\"l7-icon-narrow\" viewBox=\"0 0 1024 1024\"><path d=\"M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z\"  ></path></symbol><symbol id=\"l7-icon-fullscreen\" viewBox=\"0 0 1024 1024\"><path d=\"M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z\"  ></path></symbol><symbol id=\"l7-icon-hide\" viewBox=\"0 0 1024 1024\"><path d=\"M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z\"  ></path></symbol><symbol id=\"l7-icon-rectangle\" viewBox=\"0 0 1024 1024\"><path d=\"M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z\"  ></path></symbol><symbol id=\"l7-icon-ranging\" viewBox=\"0 0 1024 1024\"><path d=\"M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z\"  ></path></symbol><symbol id=\"l7-icon-reposition\" viewBox=\"0 0 1024 1024\"><path d=\"M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z\"  ></path></symbol><symbol id=\"l7-icon-round\" viewBox=\"0 0 1024 1024\"><path d=\"M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z\"  ></path></symbol><symbol id=\"l7-icon-guanbi\" viewBox=\"0 0 1024 1024\"><path d=\"M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z\"  ></path></symbol></svg>', function (t) {\n  try {\n    var a = (a = document.getElementsByTagName('script'))[a.length - 1],\n      l = a.getAttribute('data-injectcss'),\n      a = a.getAttribute('data-disable-injectsvg');\n    if (!a) {\n      var o,\n        e,\n        i,\n        n,\n        m,\n        c = function (a, l) {\n          l.parentNode.insertBefore(a, l);\n        };\n      if (l && !t.__iconfont__svg__cssinject__) {\n        t.__iconfont__svg__cssinject__ = !0;\n        try {\n          document.write('<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>');\n        } catch (a) {\n          console && console.log(a);\n        }\n      }\n      o = function () {\n        var a,\n          l = document.createElement('div');\n        l.innerHTML = t._iconfont_svg_string_3580659, (l = l.getElementsByTagName('svg')[0]) && (l.setAttribute('aria-hidden', 'true'), l.style.position = 'absolute', l.style.width = 0, l.style.height = 0, l.style.overflow = 'hidden', l = l, (a = document.body).firstChild ? c(l, a.firstChild) : a.appendChild(l));\n      }, document.addEventListener ? ~['complete', 'loaded', 'interactive'].indexOf(document.readyState) ? setTimeout(o, 0) : (e = function () {\n        document.removeEventListener('DOMContentLoaded', e, !1), o();\n      }, document.addEventListener('DOMContentLoaded', e, !1)) : document.attachEvent && (i = o, n = t.document, m = !1, L(), n.onreadystatechange = function () {\n        'complete' == n.readyState && (n.onreadystatechange = null, d());\n      });\n    }\n    function d() {\n      m || (m = !0, i());\n    }\n    function L() {\n      try {\n        n.documentElement.doScroll('left');\n      } catch (a) {\n        return void setTimeout(L, 50);\n      }\n      d();\n    }\n  } catch (e) {}\n}(window);", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { PositionType } from '@antv/l7-core';\nimport { DOM } from '@antv/l7-utils';\nimport EventEmitter from 'eventemitter3';\nexport { PositionType } from '@antv/l7-core';\nexport { Control };\nexport default class Control extends EventEmitter {\n  constructor(option) {\n    super();\n    /**\n     * 当前控件实例配置\n     */\n    _defineProperty(this, \"controlOption\", void 0);\n    /**\n     * 控件的 DOM 容器\n     * @protected\n     */\n    _defineProperty(this, \"container\", void 0);\n    /**\n     * 当前控件是否显示\n     * @protected\n     */\n    _defineProperty(this, \"isShow\", void 0);\n    _defineProperty(this, \"sceneContainer\", void 0);\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"renderService\", void 0);\n    _defineProperty(this, \"layerService\", void 0);\n    _defineProperty(this, \"controlService\", void 0);\n    _defineProperty(this, \"configService\", void 0);\n    Control.controlCount++;\n    this.controlOption = _objectSpread(_objectSpread({}, this.getDefault(option)), option || {});\n  }\n  getOptions() {\n    return this.controlOption;\n  }\n\n  /**\n   * 更新配置的方法，子类如果有自己的配置，也需要重写该方法\n   * @param newOptions\n   */\n  setOptions(newOptions) {\n    const defaultOptions = this.getDefault(newOptions);\n    Object.entries(newOptions).forEach(([key, value]) => {\n      if (value === undefined) {\n        newOptions[key] = defaultOptions[key];\n      }\n    });\n    if ('position' in newOptions) {\n      this.setPosition(newOptions.position);\n    }\n    if ('className' in newOptions) {\n      this.setClassName(newOptions.className);\n    }\n    if ('style' in newOptions) {\n      this.setStyle(newOptions.style);\n    }\n    this.controlOption = _objectSpread(_objectSpread({}, this.controlOption), newOptions);\n  }\n\n  /**\n   * 当 Control 被添加至 Scene 中，被 controlService 调用的方法\n   * @param sceneContainer\n   */\n  addTo(sceneContainer) {\n    // 初始化各个 Service 实例\n    this.mapsService = sceneContainer.mapService;\n    this.renderService = sceneContainer.rendererService;\n    this.layerService = sceneContainer.layerService;\n    this.controlService = sceneContainer.controlService;\n    this.configService = sceneContainer.globalConfigService;\n    this.scene = sceneContainer.sceneService;\n    this.sceneContainer = sceneContainer;\n    this.isShow = true;\n\n    // 初始化 container\n    this.container = this.onAdd();\n    DOM.addClass(this.container, 'l7-control');\n    const {\n      className,\n      style\n    } = this.controlOption;\n    if (className) {\n      this.setClassName(className);\n    }\n    if (style) {\n      this.setStyle(style);\n    }\n    // 将 container 插入容器中\n    this.insertContainer();\n    this.emit('add', this);\n    return this;\n  }\n\n  /**\n   * 将控件移除时触发\n   */\n  remove() {\n    if (!this.mapsService) {\n      return this;\n    }\n    DOM.remove(this.container);\n    this.onRemove();\n    this.emit('remove', this);\n  }\n\n  /**\n   * Control 被添加的时候被调用，返回 Control 对应的 DOM 容器\n   */\n  onAdd() {\n    return DOM.create('div');\n  }\n\n  /**\n   * Control 被移除时调用\n   */\n  // tslint:disable-next-line:no-empty\n  onRemove() {}\n\n  /**\n   * 显示控件时触发\n   */\n  show() {\n    const container = this.container;\n    DOM.removeClass(container, 'l7-control--hide');\n    this.isShow = true;\n    this.emit('show', this);\n  }\n\n  /**\n   * 隐藏控件时触发\n   */\n  hide() {\n    const container = this.container;\n    DOM.addClass(container, 'l7-control--hide');\n    this.isShow = false;\n    this.emit('hide', this);\n  }\n\n  /**\n   * 获取默认构造器参数\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getDefault(option) {\n    // tslint:disable-next-line:no-object-literal-type-assertion\n    return {\n      position: PositionType.TOPRIGHT,\n      name: `${Control.controlCount}`\n    };\n  }\n\n  /**\n   * 获取当前控件对应的 DOM 容器\n   */\n  getContainer() {\n    return this.container;\n  }\n\n  /**\n   * 获取当前 Control 是否展示\n   */\n  getIsShow() {\n    return this.isShow;\n  }\n  _refocusOnMap(e) {\n    // if map exists and event is not a keyboard event\n    if (this.mapsService && e && e.screenX > 0 && e.screenY > 0) {\n      const container = this.mapsService.getContainer();\n      if (container !== null) {\n        container.focus();\n      }\n    }\n  }\n\n  /**\n   * 设置当前控件位置\n   * @param position\n   */\n  setPosition(position = PositionType.TOPLEFT) {\n    // 考虑组件的自动布局，需要销毁重建\n    const controlService = this.controlService;\n    if (controlService) {\n      controlService.removeControl(this);\n    }\n    this.controlOption.position = position;\n    if (controlService) {\n      controlService.addControl(this, this.sceneContainer);\n    }\n    return this;\n  }\n\n  /**\n   * 设置容器 container 的样式相关位置，包含 className\n   * @param className\n   */\n  setClassName(className) {\n    const container = this.container;\n    const {\n      className: oldClassName\n    } = this.controlOption;\n    if (oldClassName) {\n      DOM.removeClass(container, oldClassName);\n    }\n    if (className) {\n      DOM.addClass(container, className);\n    }\n  }\n\n  /**\n   * 设置容器 container 的样式相关位置，包含 style\n   * @param style\n   */\n  setStyle(style) {\n    const container = this.container;\n    if (style) {\n      container.setAttribute('style', style);\n    } else {\n      container.removeAttribute('style');\n    }\n  }\n\n  /**\n   * 将控件 DOM 插入到对应 position 的容器中\n   * @protected\n   */\n  insertContainer() {\n    const position = this.controlOption.position;\n    const container = this.container;\n    if (position instanceof Element) {\n      position.appendChild(container);\n    } else {\n      const corner = this.controlService.controlCorners[position];\n      if (['bottomleft', 'bottomright', 'righttop', 'rightbottom'].includes(position)) {\n        corner.insertBefore(container, corner.firstChild);\n      } else {\n        corner.appendChild(container);\n      }\n    }\n  }\n\n  /**\n   * 检查当前传入 option 是否包含 keys 字段\n   * @param option\n   * @param keys\n   * @protected\n   */\n  checkUpdateOption(option, keys) {\n    return keys.some(key => key in option);\n  }\n}\n/**\n * 当前类型控件实例个数\n * @protected\n */\n_defineProperty(Control, \"controlCount\", 0);", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM } from '@antv/l7-utils';\nimport Control from \"./control\";\nexport { ButtonControl };\nexport default class ButtonControl extends Control {\n  constructor(...args) {\n    super(...args);\n    /**\n     * 当前按钮是否禁用\n     * @protected\n     */\n    _defineProperty(this, \"isDisable\", false);\n    /**\n     * 按钮的 DOM\n     * @protected\n     */\n    _defineProperty(this, \"button\", void 0);\n    /**\n     * 按钮中文本对应的 DOM\n     * @protected\n     */\n    _defineProperty(this, \"buttonText\", void 0);\n    /**\n     * 按钮中图标对应的 DOM\n     * @protected\n     */\n    _defineProperty(this, \"buttonIcon\", void 0);\n  }\n  /**\n   * 设置当前按钮\n   * @param newIsDisable\n   */\n  setIsDisable(newIsDisable) {\n    this.isDisable = newIsDisable;\n    if (newIsDisable) {\n      var _this$button;\n      (_this$button = this.button) === null || _this$button === void 0 || _this$button.setAttribute('disabled', 'true');\n    } else {\n      var _this$button2;\n      (_this$button2 = this.button) === null || _this$button2 === void 0 || _this$button2.removeAttribute('disabled');\n    }\n  }\n  createButton(className = '') {\n    return DOM.create('button', `l7-button-control ${className}`);\n  }\n  onAdd() {\n    this.button = this.createButton();\n    this.isDisable = false;\n    const {\n      title,\n      btnText,\n      btnIcon\n    } = this.controlOption;\n    this.setBtnTitle(title);\n    this.setBtnText(btnText);\n    this.setBtnIcon(btnIcon);\n    return this.button;\n  }\n  onRemove() {\n    this.button = this.buttonIcon = this.buttonText = undefined;\n    this.isDisable = false;\n  }\n\n  /**\n   * 更新配置方法\n   * @param newOptions\n   */\n  setOptions(newOptions) {\n    const {\n      title,\n      btnText,\n      btnIcon\n    } = newOptions;\n    if (this.checkUpdateOption(newOptions, ['title'])) {\n      this.setBtnTitle(title);\n    }\n    if (this.checkUpdateOption(newOptions, ['btnIcon'])) {\n      this.setBtnIcon(btnIcon);\n    }\n    if (this.checkUpdateOption(newOptions, ['btnText'])) {\n      this.setBtnText(btnText);\n    }\n    super.setOptions(newOptions);\n  }\n\n  /**\n   * 设置按钮 title\n   * @param title\n   */\n  setBtnTitle(title) {\n    var _this$button3;\n    (_this$button3 = this.button) === null || _this$button3 === void 0 || _this$button3.setAttribute('title', title !== null && title !== void 0 ? title : '');\n  }\n\n  /**\n   * 设置按钮 Icon\n   * @param newIcon\n   */\n  setBtnIcon(newIcon) {\n    if (this.buttonIcon) {\n      DOM.remove(this.buttonIcon);\n    }\n    if (newIcon) {\n      var _this$button4;\n      const firstChild = (_this$button4 = this.button) === null || _this$button4 === void 0 ? void 0 : _this$button4.firstChild;\n      if (firstChild) {\n        var _this$button5;\n        (_this$button5 = this.button) === null || _this$button5 === void 0 || _this$button5.insertBefore(newIcon, firstChild);\n      } else {\n        var _this$button6;\n        (_this$button6 = this.button) === null || _this$button6 === void 0 || _this$button6.appendChild(newIcon);\n      }\n      this.buttonIcon = newIcon;\n    }\n  }\n\n  /**\n   * 设置按钮文本\n   * @param newText\n   */\n  setBtnText(newText) {\n    if (!this.button) {\n      return;\n    }\n    DOM.removeClass(this.button, 'l7-button-control--row');\n    DOM.removeClass(this.button, 'l7-button-control--column');\n    if (newText) {\n      let btnText = this.buttonText;\n      if (!btnText) {\n        var _this$button7;\n        btnText = DOM.create('div', 'l7-button-control__text');\n        (_this$button7 = this.button) === null || _this$button7 === void 0 || _this$button7.appendChild(btnText);\n        this.buttonText = btnText;\n      }\n      btnText.innerText = newText;\n      DOM.addClass(this.button, this.controlOption.vertical ? 'l7-button-control--column' : 'l7-button-control--row');\n    } else if (!newText && this.buttonText) {\n      DOM.remove(this.buttonText);\n      this.buttonText = undefined;\n    }\n  }\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\n\n/**\n * 气泡位置枚举\n */\n\n/**\n * 气泡触发类型，当前支持 click 和 hover 两种类型\n */\n\n/**\n * 气泡内容类型\n */\n\nexport class Popper extends EventEmitter {\n  get buttonRect() {\n    return this.button.getBoundingClientRect();\n  }\n  constructor(button, option) {\n    super();\n    // 气泡容器 DOM\n    _defineProperty(this, \"popperDOM\", void 0);\n    // 气泡中展示的内容容器 DOM\n    _defineProperty(this, \"contentDOM\", void 0);\n    /**\n     * 按钮实体\n     * @protected\n     */\n    _defineProperty(this, \"button\", void 0);\n    /**\n     * Popper 配置\n     * @protected\n     */\n    _defineProperty(this, \"option\", void 0);\n    /**\n     * 当前是否展示\n     * @protected\n     */\n    _defineProperty(this, \"isShow\", false);\n    /**\n     * 当前气泡展示的内容\n     * @protected\n     */\n    _defineProperty(this, \"content\", void 0);\n    /**\n     * 关闭气泡的定时器\n     * @protected\n     */\n    _defineProperty(this, \"timeout\", null);\n    _defineProperty(this, \"show\", () => {\n      if (this.isShow || !this.contentDOM.innerHTML) {\n        return this;\n      }\n      this.resetPopperPosition();\n      DOM.removeClass(this.popperDOM, 'l7-popper-hide');\n      this.isShow = true;\n      if (this.option.unique) {\n        Popper.conflictPopperList.forEach(popper => {\n          if (popper !== this && popper.isShow) {\n            popper.hide();\n          }\n        });\n      }\n      this.emit('show');\n      window.addEventListener('pointerdown', this.onPopperUnClick);\n      return this;\n    });\n    _defineProperty(this, \"hide\", () => {\n      if (!this.isShow) {\n        return this;\n      }\n      DOM.addClass(this.popperDOM, 'l7-popper-hide');\n      this.isShow = false;\n      this.emit('hide');\n      window.removeEventListener('pointerdown', this.onPopperUnClick);\n      return this;\n    });\n    /**\n     * 设置隐藏气泡的定时器\n     */\n    _defineProperty(this, \"setHideTimeout\", () => {\n      if (this.timeout) {\n        return;\n      }\n      this.timeout = window.setTimeout(() => {\n        if (!this.isShow) {\n          return;\n        }\n        this.hide();\n        this.timeout = null;\n      }, 300);\n    });\n    /**\n     * 销毁隐藏气泡的定时器\n     */\n    _defineProperty(this, \"clearHideTimeout\", () => {\n      if (this.timeout) {\n        window.clearTimeout(this.timeout);\n        this.timeout = null;\n      }\n    });\n    _defineProperty(this, \"onBtnClick\", () => {\n      if (this.isShow) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    });\n    _defineProperty(this, \"onPopperUnClick\", e => {\n      if (!DOM.findParentElement(e.target, ['.l7-button-control', '.l7-popper-content'])) {\n        this.hide();\n      }\n    });\n    _defineProperty(this, \"onBtnMouseLeave\", () => {\n      this.setHideTimeout();\n    });\n    _defineProperty(this, \"onBtnMouseMove\", () => {\n      this.clearHideTimeout();\n      if (this.isShow) {\n        return;\n      }\n      this.show();\n    });\n    this.button = button;\n    this.option = option;\n    this.init();\n    if (option.unique) {\n      Popper.conflictPopperList.push(this);\n    }\n  }\n  getPopperDOM() {\n    return this.popperDOM;\n  }\n  getIsShow() {\n    return this.isShow;\n  }\n  getContent() {\n    return this.content;\n  }\n  setContent(content) {\n    if (typeof content === 'string') {\n      this.contentDOM.innerHTML = content;\n    } else if (content instanceof HTMLElement) {\n      DOM.clearChildren(this.contentDOM);\n      this.contentDOM.appendChild(content);\n    }\n    this.content = content;\n  }\n  init() {\n    const {\n      trigger\n    } = this.option;\n    this.popperDOM = this.createPopper();\n    if (trigger === 'click') {\n      this.button.addEventListener('click', this.onBtnClick);\n    } else {\n      this.button.addEventListener('mousemove', this.onBtnMouseMove);\n      this.button.addEventListener('mouseleave', this.onBtnMouseLeave);\n      this.popperDOM.addEventListener('mousemove', this.onBtnMouseMove);\n      this.popperDOM.addEventListener('mouseleave', this.onBtnMouseLeave);\n    }\n  }\n  destroy() {\n    this.button.removeEventListener('click', this.onBtnClick);\n    this.button.removeEventListener('mousemove', this.onBtnMouseMove);\n    this.button.removeEventListener('mousemove', this.onBtnMouseLeave);\n    this.popperDOM.removeEventListener('mousemove', this.onBtnMouseMove);\n    this.popperDOM.removeEventListener('mouseleave', this.onBtnMouseLeave);\n    DOM.remove(this.popperDOM);\n  }\n  resetPopperPosition() {\n    const popperStyleObj = {};\n    const {\n      container,\n      offset = [0, 0],\n      placement\n    } = this.option;\n    const [offsetX, offsetY] = offset;\n    const buttonRect = this.button.getBoundingClientRect();\n    const containerRect = container.getBoundingClientRect();\n    const {\n      left,\n      right,\n      top,\n      bottom\n    } = DOM.getDiffRect(buttonRect, containerRect);\n    let isTransformX = false;\n    let isTransformY = false;\n    if (/^(left|right)/.test(placement)) {\n      if (placement.includes('left')) {\n        popperStyleObj.right = `${buttonRect.width + right}px`;\n      } else if (placement.includes('right')) {\n        popperStyleObj.left = `${buttonRect.width + left}px`;\n      }\n      if (placement.includes('start')) {\n        popperStyleObj.top = `${top}px`;\n      } else if (placement.includes('end')) {\n        popperStyleObj.bottom = `${bottom}px`;\n      } else {\n        popperStyleObj.top = `${top + buttonRect.height / 2}px`;\n        isTransformY = true;\n        popperStyleObj.transform = `translate(${offsetX}px, calc(${offsetY}px - 50%))`;\n      }\n    } else if (/^(top|bottom)/.test(placement)) {\n      if (placement.includes('top')) {\n        popperStyleObj.bottom = `${buttonRect.height + bottom}px`;\n      } else if (placement.includes('bottom')) {\n        popperStyleObj.top = `${buttonRect.height + top}px`;\n      }\n      if (placement.includes('start')) {\n        popperStyleObj.left = `${left}px`;\n      } else if (placement.includes('end')) {\n        popperStyleObj.right = `${right}px`;\n      } else {\n        popperStyleObj.left = `${left + buttonRect.width / 2}px`;\n        isTransformX = true;\n        popperStyleObj.transform = `translate(calc(${offsetX}px - 50%), ${offsetY}px)`;\n      }\n    }\n    popperStyleObj.transform = `translate(calc(${offsetX}px - ${isTransformX ? '50%' : '0%'}), calc(${offsetY}px - ${isTransformY ? '50%' : '0%'})`;\n    const posList = placement.split('-');\n    if (posList.length) {\n      DOM.addClass(this.popperDOM, posList.map(pos => `l7-popper-${pos}`).join(' '));\n    }\n    DOM.addStyle(this.popperDOM, DOM.css2Style(popperStyleObj));\n  }\n  createPopper() {\n    const {\n      container,\n      className = '',\n      content\n    } = this.option;\n    const popper = DOM.create('div', `l7-popper l7-popper-hide ${className}`);\n    const popperContent = DOM.create('div', 'l7-popper-content');\n    const popperArrow = DOM.create('div', 'l7-popper-arrow');\n    popper.appendChild(popperContent);\n    popper.appendChild(popperArrow);\n    container.appendChild(popper);\n    this.popperDOM = popper;\n    this.contentDOM = popperContent;\n    if (content) {\n      this.setContent(content);\n    }\n    return popper;\n  }\n}\n_defineProperty(Popper, \"conflictPopperList\", []);", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Popper } from \"../../utils/popper\";\nimport ButtonControl from \"./buttonControl\";\nexport { PopperControl };\nconst PopperPlacementMap = {\n  topleft: 'right-start',\n  topcenter: 'bottom',\n  topright: 'left-start',\n  bottomleft: 'right-end',\n  bottomcenter: 'top',\n  bottomright: 'left-end',\n  lefttop: 'bottom-start',\n  leftcenter: 'right',\n  leftbottom: 'top-start',\n  righttop: 'bottom-end',\n  rightcenter: 'left',\n  rightbottom: 'top-end'\n};\nexport default class PopperControl extends ButtonControl {\n  constructor(...args) {\n    super(...args);\n    /**\n     * 气泡实例\n     * @protected\n     */\n    _defineProperty(this, \"popper\", void 0);\n  }\n  getPopper() {\n    return this.popper;\n  }\n  hide() {\n    this.popper.hide();\n    super.hide();\n  }\n\n  /**\n   * 获取默认配置\n   * @param option\n   */\n  getDefault(option) {\n    var _option$position;\n    const defaultOption = super.getDefault(option);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const position = (_option$position = option === null || option === void 0 ? void 0 : option.position) !== null && _option$position !== void 0 ? _option$position : defaultOption.position;\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      popperPlacement: position instanceof Element ? 'bottom' : PopperPlacementMap[position],\n      popperTrigger: 'click'\n    });\n  }\n  onAdd() {\n    const button = super.onAdd();\n    this.initPopper();\n    return button;\n  }\n  onRemove() {\n    this.popper.destroy();\n  }\n  initPopper() {\n    const {\n      popperClassName,\n      popperPlacement,\n      popperTrigger\n    } = this.controlOption;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const popperContainer = this.mapsService.getMapContainer();\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.popper = new Popper(this.button, {\n      className: popperClassName,\n      placement: popperPlacement,\n      trigger: popperTrigger,\n      container: popperContainer,\n      unique: true\n    });\n    this.popper.on('show', () => {\n      this.emit('popperShow', this);\n    }).on('hide', () => {\n      this.emit('popperHide', this);\n    });\n    return this.popper;\n  }\n  setOptions(option) {\n    super.setOptions(option);\n    if (this.checkUpdateOption(option, ['popperPlacement', 'popperTrigger', 'popperClassName'])) {\n      const content = this.popper.getContent();\n      this.popper.destroy();\n      this.initPopper();\n      this.popper.setContent(content);\n    }\n  }\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM } from '@antv/l7-utils';\nimport { PopperControl } from \"./popperControl\";\nexport { SelectControl };\nvar SelectControlConstant = /*#__PURE__*/function (SelectControlConstant) {\n  SelectControlConstant[\"ActiveOptionClassName\"] = \"l7-select-control-item-active\";\n  SelectControlConstant[\"OptionValueAttrKey\"] = \"data-option-value\";\n  SelectControlConstant[\"OptionIndexAttrKey\"] = \"data-option-index\";\n  return SelectControlConstant;\n}(SelectControlConstant || {});\nexport default class SelectControl extends PopperControl {\n  constructor(...args) {\n    super(...args);\n    /**\n     * 当前选中的值\n     * @protected\n     */\n    _defineProperty(this, \"selectValue\", []);\n    /**\n     * 选项对应的 DOM 列表\n     * @protected\n     */\n    _defineProperty(this, \"optionDOMList\", void 0);\n    _defineProperty(this, \"createNormalOption\", option => {\n      const isSelect = this.selectValue.includes(option.value);\n      const optionDOM = DOM.create('div', `l7-select-control-item ${isSelect ? SelectControlConstant.ActiveOptionClassName : ''}`);\n      if (this.getIsMultiple()) {\n        optionDOM.appendChild(this.createCheckbox(isSelect));\n      } else {\n        optionDOM.appendChild(this.createRadio(isSelect));\n      }\n      if (option.icon) {\n        optionDOM.appendChild(option.icon);\n      }\n      const textDOM = DOM.create('span');\n      textDOM.innerText = option.text;\n      optionDOM.appendChild(textDOM);\n      return optionDOM;\n    });\n    _defineProperty(this, \"onItemClick\", item => {\n      if (this.getIsMultiple()) {\n        const targetIndex = this.selectValue.findIndex(value => value === item.value);\n        if (targetIndex > -1) {\n          this.selectValue.splice(targetIndex, 1);\n        } else {\n          this.selectValue = [...this.selectValue, item.value];\n        }\n      } else {\n        this.selectValue = [item.value];\n      }\n      this.setSelectValue(this.selectValue);\n    });\n  }\n  setOptions(option) {\n    super.setOptions(option);\n    const {\n      options\n    } = option;\n    if (options) {\n      this.popper.setContent(this.getPopperContent(options));\n    }\n  }\n  onAdd() {\n    const button = super.onAdd();\n    const {\n      defaultValue\n    } = this.controlOption;\n    if (defaultValue) {\n      this.selectValue = this.transSelectValue(defaultValue);\n    }\n    this.popper.setContent(this.getPopperContent(this.controlOption.options));\n    return button;\n  }\n  getSelectValue() {\n    return this.getIsMultiple() ? this.selectValue : this.selectValue[0];\n  }\n  setSelectValue(value, emitEvent = true) {\n    const finalValue = this.transSelectValue(value);\n    this.optionDOMList.forEach(optionDOM => {\n      const optionValue = optionDOM.getAttribute(SelectControlConstant.OptionValueAttrKey);\n      const checkboxDOM = optionDOM.querySelector('input[type=checkbox]');\n      const radioDOM = optionDOM.querySelector('input[type=radio]');\n      const isActive = finalValue.includes(optionValue);\n\n      // 设置类名和选中状态的函数\n      const setDOMState = (dom, active) => {\n        DOM.toggleClass(optionDOM, SelectControlConstant.ActiveOptionClassName, active);\n        if (dom) {\n          DOM.setChecked(dom, active);\n        }\n      };\n      setDOMState(checkboxDOM, isActive);\n      setDOMState(radioDOM, isActive);\n    });\n    this.selectValue = finalValue;\n    if (emitEvent) {\n      this.emit('selectChange', this.getIsMultiple() ? finalValue : finalValue[0]);\n    }\n  }\n\n  /**\n   * 是否为多选\n   * @protected\n   */\n  getIsMultiple() {\n    return false;\n  }\n\n  /**\n   * 渲染弹窗内容\n   * @param options\n   * @returns\n   */\n  getPopperContent(options) {\n    const isImageOptions = this.isImageOptions();\n    const content = DOM.create('div', isImageOptions ? 'l7-select-control--image' : 'l7-select-control--normal');\n    if (this.getIsMultiple()) {\n      DOM.addClass(content, 'l7-select-control--multiple');\n    }\n    const optionsDOMList = options.map((option, optionIndex) => {\n      const optionDOM = isImageOptions ?\n      // @ts-ignore\n      this.createImageOption(option) : this.createNormalOption(option);\n      optionDOM.setAttribute(SelectControlConstant.OptionValueAttrKey, option.value);\n      optionDOM.setAttribute(SelectControlConstant.OptionIndexAttrKey, window.String(optionIndex));\n      optionDOM.addEventListener('click', this.onItemClick.bind(this, option));\n      return optionDOM;\n    });\n    content.append(...optionsDOMList);\n    this.optionDOMList = optionsDOMList;\n    return content;\n  }\n  createImageOption(option) {\n    const isSelect = this.selectValue.includes(option.value);\n    const optionDOM = DOM.create('div', `l7-select-control-item ${isSelect ? SelectControlConstant.ActiveOptionClassName : ''}`);\n    const imgDOM = DOM.create('img');\n    imgDOM.setAttribute('src', option.img);\n    DOM.setUnDraggable(imgDOM);\n    optionDOM.appendChild(imgDOM);\n    const rowDOM = DOM.create('div', 'l7-select-control-item-row');\n    if (this.getIsMultiple()) {\n      optionDOM.appendChild(this.createCheckbox(isSelect));\n    }\n    const textDOM = DOM.create('span');\n    textDOM.innerText = option.text;\n    rowDOM.appendChild(textDOM);\n    optionDOM.appendChild(rowDOM);\n    return optionDOM;\n  }\n  createCheckbox(isSelect) {\n    const checkboxDOM = DOM.create('input');\n    checkboxDOM.setAttribute('type', 'checkbox');\n    if (isSelect) {\n      DOM.setChecked(checkboxDOM, true);\n    }\n    return checkboxDOM;\n  }\n  createRadio(isSelect) {\n    const radioDOM = DOM.create('input');\n    radioDOM.setAttribute('type', 'radio');\n    if (isSelect) {\n      DOM.setChecked(radioDOM, true);\n    }\n    return radioDOM;\n  }\n  isImageOptions() {\n    // @ts-ignore\n    return !!this.controlOption.options.find(item => item.img);\n  }\n  transSelectValue(value) {\n    return Array.isArray(value) ? value : [value];\n  }\n}", "export const createL7Icon = className => {\n  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svg.classList.add('l7-iconfont');\n  svg.setAttribute('aria-hidden', 'true');\n  const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n  use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', `#${className}`);\n  svg.appendChild(use);\n  return svg;\n};", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createL7Icon } from \"../utils/icon\";\nimport ButtonControl from \"./baseControl/buttonControl\";\nexport { ExportImage };\nexport default class ExportImage extends ButtonControl {\n  constructor(...args) {\n    var _this;\n    super(...args);\n    _this = this;\n    _defineProperty(this, \"onClick\", /*#__PURE__*/_asyncToGenerator(function* () {\n      const {\n        onExport\n      } = _this.controlOption;\n      onExport === null || onExport === void 0 || onExport(yield _this.getImage());\n    }));\n    /**\n     * 将多张图片合并为一张图片\n     * @protected\n     * @param base64List\n     */\n    _defineProperty(this, \"mergeImage\", /*#__PURE__*/_asyncToGenerator(function* (...base64List) {\n      var _this$mapsService$get, _this$mapsService$get2;\n      const {\n        imageType\n      } = _this.controlOption;\n      const {\n        width = 0,\n        height = 0\n      } = (_this$mapsService$get = (_this$mapsService$get2 = _this.mapsService.getContainer()) === null || _this$mapsService$get2 === void 0 ? void 0 : _this$mapsService$get2.getBoundingClientRect()) !== null && _this$mapsService$get !== void 0 ? _this$mapsService$get : {};\n      const canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n      const context = canvas.getContext('2d');\n      const imgList = yield Promise.all(base64List.map(base64 => {\n        return new Promise(resolve => {\n          const img = new Image();\n          img.onload = () => {\n            resolve(img);\n          };\n          img.src = base64;\n        });\n      }));\n      imgList.forEach(img => {\n        context === null || context === void 0 || context.drawImage(img, 0, 0, width, height);\n      });\n      return canvas.toDataURL(`image/${imageType}`);\n    }));\n  }\n  onAdd() {\n    const button = super.onAdd();\n    button.addEventListener('click', this.onClick);\n    return button;\n  }\n  getDefault(option) {\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      title: '导出图片',\n      btnIcon: createL7Icon('l7-icon-export-picture'),\n      imageType: 'png'\n    });\n  }\n  getImage() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const mapImage = yield _this2.mapsService.exportMap('png');\n      const layerImage = yield _this2.scene.exportPng('png');\n      return _this2.mergeImage(\n      // 在 Map 底图模式下 mapImage 为 undefined\n      ...[mapImage, layerImage].filter(base64 => base64));\n    })();\n  }\n}", "// @ts-nocheck\n\nconst methodMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror'],\n// New WebKit\n['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror'],\n// Old WebKit\n['webkitRequestFullScreen', 'webkitCancelFullScreen', 'webkitCurrentFullScreenElement', 'webkitCancelFullScreen', 'webkitfullscreenchange', 'webkitfullscreenerror'], ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror'], ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError']];\nconst nativeAPI = (() => {\n  if (typeof document === 'undefined') {\n    return false;\n  }\n  const unprefixedMethods = methodMap[0];\n  const returnValue = {};\n  for (const methodList of methodMap) {\n    const exitFullscreenMethod = methodList === null || methodList === void 0 ? void 0 : methodList[1];\n    if (exitFullscreenMethod in document) {\n      for (const [index, method] of methodList.entries()) {\n        returnValue[unprefixedMethods[index]] = method;\n      }\n      return returnValue;\n    }\n  }\n  return false;\n})();\nconst eventNameMap = {\n  change: nativeAPI.fullscreenchange,\n  error: nativeAPI.fullscreenerror\n};\nlet screenfull = {\n  // eslint-disable-next-line default-param-last\n  request(element = document.documentElement, options) {\n    return new Promise((resolve, reject) => {\n      const onFullScreenEntered = () => {\n        screenfull.off('change', onFullScreenEntered);\n        resolve();\n      };\n      screenfull.on('change', onFullScreenEntered);\n      const returnPromise = element[nativeAPI.requestFullscreen](options);\n      if (returnPromise instanceof Promise) {\n        returnPromise.then(onFullScreenEntered).catch(reject);\n      }\n    });\n  },\n  exit() {\n    return new Promise((resolve, reject) => {\n      if (!screenfull.isFullscreen) {\n        resolve();\n        return;\n      }\n      const onFullScreenExit = () => {\n        screenfull.off('change', onFullScreenExit);\n        resolve();\n      };\n      screenfull.on('change', onFullScreenExit);\n      const returnPromise = document[nativeAPI.exitFullscreen]();\n      if (returnPromise instanceof Promise) {\n        returnPromise.then(onFullScreenExit).catch(reject);\n      }\n    });\n  },\n  toggle(element, options) {\n    return screenfull.isFullscreen ? screenfull.exit() : screenfull.request(element, options);\n  },\n  onchange(callback) {\n    screenfull.on('change', callback);\n  },\n  onerror(callback) {\n    screenfull.on('error', callback);\n  },\n  on(event, callback) {\n    const eventName = eventNameMap[event];\n    if (eventName) {\n      document.addEventListener(eventName, callback, false);\n    }\n  },\n  off(event, callback) {\n    const eventName = eventNameMap[event];\n    if (eventName) {\n      document.removeEventListener(eventName, callback, false);\n    }\n  },\n  raw: nativeAPI\n};\nObject.defineProperties(screenfull, {\n  isFullscreen: {\n    get: () => Boolean(document[nativeAPI.fullscreenElement])\n  },\n  element: {\n    enumerable: true,\n    get: () => {\n      var _document$nativeAPI$f;\n      return (_document$nativeAPI$f = document[nativeAPI.fullscreenElement]) !== null && _document$nativeAPI$f !== void 0 ? _document$nativeAPI$f : undefined;\n    }\n  },\n  isEnabled: {\n    enumerable: true,\n    // Coerce to boolean in case of old WebKit.\n    get: () => Boolean(document[nativeAPI.fullscreenEnabled])\n  }\n});\nif (!nativeAPI) {\n  screenfull = {\n    isEnabled: false\n  };\n}\nexport default screenfull;", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM } from '@antv/l7-utils';\nimport { createL7Icon } from \"../utils/icon\";\nimport ScreenFull from \"../utils/screenfull\";\nimport ButtonControl from \"./baseControl/buttonControl\";\nexport { Fullscreen };\nexport default class Fullscreen extends ButtonControl {\n  constructor(option) {\n    var _this;\n    super(option);\n    _this = this;\n    _defineProperty(this, \"isFullscreen\", false);\n    _defineProperty(this, \"mapContainer\", void 0);\n    _defineProperty(this, \"toggleFullscreen\", /*#__PURE__*/_asyncToGenerator(function* () {\n      if (ScreenFull.isEnabled) {\n        yield ScreenFull.toggle(_this.mapContainer);\n      }\n    }));\n    _defineProperty(this, \"onClick\", () => {\n      this.toggleFullscreen();\n    });\n    _defineProperty(this, \"onFullscreenChange\", () => {\n      this.isFullscreen = !!document.fullscreenElement;\n      const {\n        btnText,\n        btnIcon,\n        title,\n        exitBtnText,\n        exitBtnIcon,\n        exitTitle\n      } = this.controlOption;\n      if (this.isFullscreen) {\n        this.setBtnTitle(exitTitle);\n        this.setBtnText(exitBtnText);\n        this.setBtnIcon(exitBtnIcon);\n      } else {\n        this.setBtnTitle(title);\n        this.setBtnText(btnText);\n        this.setBtnIcon(btnIcon);\n      }\n      this.emit('fullscreenChange', this.isFullscreen);\n    });\n    if (!ScreenFull.isEnabled) {\n      console.warn('当前浏览器环境不支持对地图全屏化');\n    }\n  }\n  setOptions(newOptions) {\n    const {\n      exitBtnText,\n      exitBtnIcon,\n      exitTitle\n    } = newOptions;\n    if (this.isFullscreen) {\n      if (this.checkUpdateOption(newOptions, ['exitBtnIcon'])) {\n        this.setBtnIcon(exitBtnIcon);\n      }\n      if (this.checkUpdateOption(newOptions, ['exitBtnText'])) {\n        this.setBtnText(exitBtnText);\n      }\n      if (this.checkUpdateOption(newOptions, ['exitTitle'])) {\n        this.setBtnTitle(exitTitle);\n      }\n    }\n    super.setOptions(newOptions);\n  }\n  onAdd() {\n    const button = super.onAdd();\n    button.addEventListener('click', this.onClick);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.mapContainer = DOM.getContainer(this.scene.getSceneConfig().id);\n    this.mapContainer.addEventListener('fullscreenchange', this.onFullscreenChange);\n    return button;\n  }\n  onRemove() {\n    super.onRemove();\n    this.mapContainer.removeEventListener('fullscreenchange', this.onFullscreenChange);\n  }\n  getDefault(option) {\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      title: '全屏',\n      btnIcon: createL7Icon('l7-icon-fullscreen'),\n      exitTitle: '退出全屏',\n      exitBtnIcon: createL7Icon('l7-icon-exit-fullscreen')\n    });\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createL7Icon } from \"../utils/icon\";\nimport ButtonControl from \"./baseControl/buttonControl\";\nexport { GeoLocate };\nexport default class GeoLocate extends ButtonControl {\n  constructor(option) {\n    var _this;\n    super(option);\n    _this = this;\n    /**\n     * 通过浏览器 API 获取当前所在经纬度\n     */\n    _defineProperty(this, \"getGeoLocation\", () => {\n      return new Promise((resolve, reject) => {\n        window.navigator.geolocation.getCurrentPosition(({\n          coords\n        }) => {\n          const {\n            longitude,\n            latitude\n          } = coords !== null && coords !== void 0 ? coords : {};\n          if (!isNaN(longitude) && !isNaN(latitude)) {\n            resolve([longitude, latitude]);\n          } else {\n            reject();\n          }\n        }, e => {\n          reject(e);\n        });\n      });\n    });\n    _defineProperty(this, \"onClick\", /*#__PURE__*/_asyncToGenerator(function* () {\n      if (!window.navigator.geolocation) {\n        return;\n      }\n      const {\n        transform\n      } = _this.controlOption;\n      const position = yield _this.getGeoLocation();\n      const currentZoom = _this.mapsService.getZoom();\n      _this.mapsService.setZoomAndCenter(currentZoom > 15 ? currentZoom : 15, transform ? yield transform(position) : position);\n    }));\n    if (!window.navigator.geolocation) {\n      console.warn('当前浏览器环境不支持获取地理定位');\n    }\n  }\n  getDefault(option) {\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      title: '定位',\n      btnIcon: createL7Icon('l7-icon-reposition')\n    });\n  }\n  onAdd() {\n    const button = super.onAdd();\n    button.addEventListener('click', this.onClick);\n    return button;\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createL7Icon } from \"../utils/icon\";\nimport SelectControl from \"./baseControl/selectControl\";\nexport { LayerSwitch };\nfunction isLayerSwitchItem(obj) {\n  return Object.keys(obj !== null && obj !== void 0 ? obj : {}).every(key => ['layer', 'name', 'img'].includes(key));\n}\nexport default class LayerSwitch extends SelectControl {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"onLayerChange\", () => {\n      var _this$controlOption$l;\n      if ((_this$controlOption$l = this.controlOption.layers) !== null && _this$controlOption$l !== void 0 && _this$controlOption$l.length) {\n        return;\n      }\n      this.selectValue = this.getLayerVisible();\n      this.setOptions({\n        options: this.getLayerOptions()\n      });\n    });\n    _defineProperty(this, \"onLayerVisibleChane\", () => {\n      this.setSelectValue(this.getLayerVisible());\n    });\n    _defineProperty(this, \"onSelectChange\", () => {\n      this.layers.forEach(layer => {\n        const needShow = this.selectValue.includes(layer.name);\n        const isShow = layer.isVisible();\n        if (needShow && !isShow) {\n          layer.show();\n        }\n        if (!needShow && isShow) {\n          layer.hide();\n        }\n      });\n    });\n  }\n  get layers() {\n    const layerService = this.layerService;\n    const {\n      layers\n    } = this.controlOption;\n    if (Array.isArray(layers) && layers.length) {\n      const layerInstances = [];\n      layers.forEach(layer => {\n        if (layer instanceof Object) {\n          if (isLayerSwitchItem(layer)) {\n            layerInstances.push(layer.layer);\n          } else {\n            layerInstances.push(layer);\n          }\n        }\n        if (typeof layer === 'string') {\n          const targetLayer = layerService.getLayer(layer) || layerService.getLayerByName(layer);\n          if (targetLayer) {\n            layerInstances.push(targetLayer);\n          }\n        }\n      });\n      return layerInstances;\n    }\n    return layerService.getLayers() || [];\n  }\n  getDefault(option) {\n    var _option$multiple;\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      title: '图层控制',\n      btnIcon: createL7Icon('l7-icon-layer'),\n      options: [],\n      multiple: (_option$multiple = option === null || option === void 0 ? void 0 : option.multiple) !== null && _option$multiple !== void 0 ? _option$multiple : true\n    });\n  }\n  getLayerVisible() {\n    return this.layers.filter(layer => layer.isVisible()).map(layer => layer.name);\n  }\n  getLayerOptions() {\n    const {\n      layers\n    } = this.controlOption;\n    const isAllImg = layers === null || layers === void 0 ? void 0 : layers.every(item => item.img);\n    if (layers) {\n      return layers === null || layers === void 0 ? void 0 : layers.map(layer => {\n        if (isLayerSwitchItem(layer)) {\n          return {\n            text: layer.name || layer.layer.name,\n            value: layer.layer.name,\n            img: isAllImg ? layer.img : undefined\n          };\n        } else if (typeof layer === 'string') {\n          const targetLayer = this.layerService.getLayer(layer) || this.layerService.getLayerByName(layer);\n          return {\n            text: targetLayer === null || targetLayer === void 0 ? void 0 : targetLayer.name,\n            value: targetLayer === null || targetLayer === void 0 ? void 0 : targetLayer.name\n          };\n        }\n        return {\n          text: layer.name,\n          value: layer.name\n        };\n      });\n    }\n    return this.layers.map(layer => {\n      return {\n        text: layer.name,\n        value: layer.name\n      };\n    });\n  }\n  setOptions(option) {\n    const isLayerChange = this.checkUpdateOption(option, ['layers', 'multiple']);\n    super.setOptions(option);\n    if (isLayerChange) {\n      if (this.controlOption.multiple === false) {\n        this.handleSingleSelection();\n      }\n      this.selectValue = this.getLayerVisible();\n      this.controlOption.options = this.getLayerOptions();\n      this.popper.setContent(this.getPopperContent(this.controlOption.options));\n    }\n  }\n\n  // TODO: 单选模式下，目前默认展示第一项，通过用户提供defaultValue展示默认选项的属性待开发\n  // 如果是单选模式，则只显示第一个图层\n  handleSingleSelection() {\n    this.layers.forEach((layer, index) => {\n      index === 0 ? layer.show() : layer.hide();\n    });\n  }\n  onAdd() {\n    var _this$controlOption$o;\n    if (this.controlOption.multiple === false) {\n      this.handleSingleSelection();\n    }\n    if (!((_this$controlOption$o = this.controlOption.options) !== null && _this$controlOption$o !== void 0 && _this$controlOption$o.length)) {\n      this.controlOption.options = this.getLayerOptions();\n    }\n    if (!this.controlOption.defaultValue) {\n      this.controlOption.defaultValue = this.getLayerVisible();\n    }\n    this.on('selectChange', this.onSelectChange);\n    this.layerService.on('layerChange', this.onLayerChange);\n    return super.onAdd();\n  }\n  onRemove() {\n    this.off('selectChange', this.onSelectChange);\n    this.layerService.off('layerChange', this.onLayerChange);\n  }\n  getIsMultiple() {\n    return this.controlOption.multiple;\n  }\n}", "import { DOM } from '@antv/l7-utils';\nimport { Control, PositionType } from \"./baseControl\";\nexport { Logo };\nexport default class Logo extends Control {\n  getDefault() {\n    return {\n      position: PositionType.BOTTOMLEFT,\n      name: 'logo',\n      href: 'https://l7.antv.antgroup.com/',\n      img: 'https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ'\n    };\n  }\n  onAdd() {\n    const container = DOM.create('div', 'l7-control-logo');\n    this.setLogoContent(container);\n    return container;\n  }\n  onRemove() {\n    return null;\n  }\n  setOptions(option) {\n    super.setOptions(option);\n    if (this.checkUpdateOption(option, ['img', 'href'])) {\n      DOM.clearChildren(this.container);\n      this.setLogoContent(this.container);\n    }\n  }\n  setLogoContent(container) {\n    const {\n      href,\n      img\n    } = this.controlOption;\n    const imgDOM = DOM.create('img');\n    imgDOM.setAttribute('src', img);\n    imgDOM.setAttribute('aria-label', 'AntV logo');\n    DOM.setUnDraggable(imgDOM);\n    if (href) {\n      const anchorDOM = DOM.create('a', 'l7-control-logo-link');\n      anchorDOM.target = '_blank';\n      anchorDOM.href = href;\n      anchorDOM.rel = 'noopener nofollow';\n      anchorDOM.setAttribute('rel', 'noopener nofollow');\n      anchorDOM.appendChild(imgDOM);\n      container.appendChild(anchorDOM);\n    } else {\n      container.appendChild(imgDOM);\n    }\n  }\n}", "export const GaodeMapStyleConfig = {\n  normal: {\n    text: '标准',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*qdFDSbvIalgAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  light: {\n    text: '月光银',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d-vcRLzu8WIAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  dark: {\n    text: '幻影黑',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HMbRTI3XnpIAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  fresh: {\n    text: '草色青',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kqaGQ5kjSiAAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  grey: {\n    text: '雅士灰',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*XegrTpZIbqAAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  graffiti: {\n    text: '涂鸦',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*G5g9SZ_Jg4cAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  macaron: {\n    text: '马卡龙',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*irVvQbDpQMwAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  darkblue: {\n    text: '极夜蓝',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lKRzQYB4iR0AAAAAAAAAAAAADmJ7AQ/original'\n  },\n  wine: {\n    text: '酱籽',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*orY0T7QL-lwAAAAAAAAAAAAADmJ7AQ/original'\n  }\n};\nexport const MapboxMapStyleConfig = {\n  normal: {\n    text: '标准',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kIyZTok4Uk0AAAAAAAAAAAAADmJ7AQ/original'\n  },\n  light: {\n    text: '亮',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Z3JRQKDI-cIAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  dark: {\n    text: '暗',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d7HCQbfmyaoAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  satellite: {\n    text: '卫星',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TytUT6pS9okAAAAAAAAAAAAADmJ7AQ/original'\n  },\n  outdoors: {\n    text: '户外',\n    img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hWwFSYJEFWsAAAAAAAAAAAAADmJ7AQ/original'\n  }\n};", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { GaodeMapStyleConfig, MapboxMapStyleConfig } from \"../constants\";\nimport { createL7Icon } from \"../utils/icon\";\nimport SelectControl from \"./baseControl/selectControl\";\nexport { MapTheme };\nexport default class MapTheme extends SelectControl {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"onMapThemeChange\", () => {\n      this.mapsService.setMapStyle(this.selectValue[0]);\n    });\n  }\n  getDefault(option) {\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      title: '地图样式',\n      btnIcon: createL7Icon('l7-icon-color'),\n      options: []\n    });\n  }\n  getStyleOptions() {\n    const mapStyleConfig = this.mapsService.getType() === 'mapbox' ? MapboxMapStyleConfig : GaodeMapStyleConfig;\n    return Object.entries(this.mapsService.getMapStyleConfig()).filter(([key, value]) => typeof value === 'string' && key !== 'blank').map(([key, value]) => {\n      var _mapStyleConfig$key;\n      // @ts-ignore\n      const {\n        text,\n        img\n      } = (_mapStyleConfig$key = mapStyleConfig[key]) !== null && _mapStyleConfig$key !== void 0 ? _mapStyleConfig$key : {};\n      return {\n        text: text !== null && text !== void 0 ? text : key,\n        value,\n        img,\n        key\n      };\n    });\n  }\n  getMapStyle() {\n    return this.mapsService.getMapStyle();\n  }\n  onAdd() {\n    var _this$controlOption$o;\n    if (!((_this$controlOption$o = this.controlOption.options) !== null && _this$controlOption$o !== void 0 && _this$controlOption$o.length)) {\n      this.controlOption.options = this.getStyleOptions();\n    }\n    if (this.controlOption.defaultValue) {\n      var _this$controlOption$o2, _this$controlOption$o3;\n      const defaultValue = this.controlOption.defaultValue;\n      this.controlOption.defaultValue = (_this$controlOption$o2 = (_this$controlOption$o3 = this.controlOption.options.find(item => item.key === defaultValue)) === null || _this$controlOption$o3 === void 0 ? void 0 : _this$controlOption$o3.value) !== null && _this$controlOption$o2 !== void 0 ? _this$controlOption$o2 : defaultValue;\n    } else {\n      const defaultStyle = this.getMapStyle();\n      if (defaultStyle) {\n        this.controlOption.defaultValue = defaultStyle;\n      } else {\n        // @ts-ignore\n        this.mapsService.map.once('styledata', () => {\n          const mapboxStyle = this.mapsService.getMapStyle();\n          this.controlOption.defaultValue = mapboxStyle;\n          this.setSelectValue(mapboxStyle, false);\n        });\n      }\n    }\n    this.on('selectChange', this.onMapThemeChange);\n    return super.onAdd();\n  }\n  getIsMultiple() {\n    return false;\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { PositionType } from '@antv/l7-core';\nimport { DOM } from '@antv/l7-utils';\nimport Control from \"./baseControl/control\";\nexport { MouseLocation };\nexport default class MouseLocation extends Control {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"location\", [0, 0]);\n    _defineProperty(this, \"onMouseMove\", e => {\n      let position = this.location;\n      // 适配不同底图，事件返回的数据名称不一致\n      const lngLat = e.lngLat || e.lnglat;\n      const {\n        transform\n      } = this.controlOption;\n      if (lngLat) {\n        position = [lngLat.lng, lngLat.lat];\n      }\n      this.location = position;\n      if (transform) {\n        position = transform(position);\n      }\n      this.insertLocation2HTML(position);\n      this.emit('locationChange', position);\n    });\n  }\n  getLocation() {\n    return this.location;\n  }\n  getDefault(option) {\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      position: PositionType.BOTTOMLEFT,\n      transform: ([lng, lat]) => {\n        return [+(+lng).toFixed(6), +(+lat).toFixed(6)];\n      }\n    });\n  }\n  onAdd() {\n    const container = DOM.create('div', 'l7-control-mouse-location');\n    container.innerHTML = '&nbsp;';\n    this.mapsService.on('mousemove', this.onMouseMove);\n    return container;\n  }\n  onRemove() {\n    this.mapsService.off('mousemove', this.onMouseMove);\n  }\n  insertLocation2HTML(position) {\n    this.container.innerText = position.join(', ');\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM, lnglatDistance } from '@antv/l7-utils';\nimport { Control, PositionType } from \"./baseControl\";\nexport { Scale };\nexport default class Scale extends Control {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"mScale\", void 0);\n    _defineProperty(this, \"iScale\", void 0);\n    _defineProperty(this, \"update\", () => {\n      const mapsService = this.mapsService;\n      const {\n        maxWidth\n      } = this.controlOption;\n      const y = mapsService.getSize()[1] / 2;\n      const p1 = mapsService.containerToLngLat([0, y]);\n      const p2 = mapsService.containerToLngLat([maxWidth, y]);\n      const maxMeters = lnglatDistance([p1.lng, p1.lat], [p2.lng, p2.lat]);\n      this.updateScales(maxMeters);\n    });\n  }\n  getDefault(option) {\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      name: 'scale',\n      position: PositionType.BOTTOMLEFT,\n      maxWidth: 100,\n      metric: true,\n      updateWhenIdle: false,\n      imperial: false,\n      lockWidth: true\n    });\n  }\n  onAdd() {\n    const className = 'l7-control-scale';\n    const container = DOM.create('div', className);\n    this.resetScaleLines(container);\n    const {\n      updateWhenIdle\n    } = this.controlOption;\n    this.mapsService.on(updateWhenIdle ? 'moveend' : 'mapmove', this.update);\n    this.mapsService.on(updateWhenIdle ? 'zoomend' : 'zoomchange', this.update);\n    return container;\n  }\n  onRemove() {\n    const {\n      updateWhenIdle\n    } = this.controlOption;\n    this.mapsService.off(updateWhenIdle ? 'zoomend' : 'zoomchange', this.update);\n    this.mapsService.off(updateWhenIdle ? 'moveend' : 'mapmove', this.update);\n  }\n  setOptions(newOption) {\n    super.setOptions(newOption);\n    if (this.checkUpdateOption(newOption, ['lockWidth', 'maxWidth', 'metric', 'updateWhenIdle', 'imperial'])) {\n      this.resetScaleLines(this.container);\n    }\n  }\n  updateScales(maxMeters) {\n    const {\n      metric,\n      imperial\n    } = this.controlOption;\n    if (metric && maxMeters) {\n      this.updateMetric(maxMeters);\n    }\n    if (imperial && maxMeters) {\n      this.updateImperial(maxMeters);\n    }\n  }\n  resetScaleLines(container) {\n    DOM.clearChildren(container);\n    const {\n      metric,\n      imperial,\n      maxWidth,\n      lockWidth\n    } = this.controlOption;\n    if (lockWidth) {\n      DOM.addStyle(container, `width: ${maxWidth}px`);\n    }\n    if (metric) {\n      this.mScale = DOM.create('div', 'l7-control-scale-line', container);\n    }\n    if (imperial) {\n      this.iScale = DOM.create('div', 'l7-control-scale-line', container);\n    }\n    this.update();\n  }\n  updateScale(scale, text, ratio) {\n    const {\n      maxWidth\n    } = this.controlOption;\n    scale.style.width = Math.round(maxWidth * ratio) + 'px';\n    scale.innerHTML = text;\n  }\n  getRoundNum(num) {\n    const pow10 = Math.pow(10, (Math.floor(num) + '').length - 1);\n    let d = num / pow10;\n    d = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;\n    return pow10 * d;\n  }\n  updateMetric(maxMeters) {\n    const meters = this.getRoundNum(maxMeters);\n    const label = meters < 1000 ? meters + ' m' : meters / 1000 + ' km';\n    this.updateScale(this.mScale, label, meters / maxMeters);\n  }\n  updateImperial(maxMeters) {\n    const maxFeet = maxMeters * 3.2808399;\n    let maxMiles;\n    let miles;\n    let feet;\n    if (maxFeet > 5280) {\n      maxMiles = maxFeet / 5280;\n      miles = this.getRoundNum(maxMiles);\n      this.updateScale(this.iScale, miles + ' mi', miles / maxMiles);\n    } else {\n      feet = this.getRoundNum(maxFeet);\n      this.updateScale(this.iScale, feet + ' ft', feet / maxFeet);\n    }\n  }\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nconst _excluded = [\"passes\"],\n  _excluded2 = [\"moduleName\", \"vertexShader\", \"fragmentShader\", \"defines\", \"inject\", \"triangulation\", \"styleOption\", \"pickingEnabled\"];\n// @ts-ignore\nimport { AsyncSeriesBailHook, AsyncWaterfallHook, SyncBailHook, SyncHook } from '@antv/async-hook';\nimport { BlendType, IDebugLog, ILayerStage, globalConfigService } from '@antv/l7-core';\nimport { encodePickingColor, lodashUtil } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\nimport { createPlugins } from \"../plugins\";\nimport { BlendTypes } from \"../utils/blend\";\nimport { createMultiPassRenderer, normalizePasses } from \"../utils/multiPassRender\";\nimport LayerPickService from \"./LayerPickService\";\nimport TextureService from \"./TextureService\";\nconst {\n  isEqual,\n  isFunction,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isUndefined\n} = lodashUtil;\n/**\n * 分配 layer id\n */\nlet layerIdCounter = 0;\nexport default class BaseLayer extends EventEmitter {\n  get shaderModuleService() {\n    return this.container.shaderModuleService;\n  }\n  get cameraService() {\n    return this.container.cameraService;\n  }\n  get coordinateService() {\n    return this.container.coordinateSystemService;\n  }\n  get iconService() {\n    return this.container.iconService;\n  }\n  get fontService() {\n    return this.container.fontService;\n  }\n  get pickingService() {\n    return this.container.pickingService;\n  }\n  get rendererService() {\n    return this.container.rendererService;\n  }\n  get layerService() {\n    return this.container.layerService;\n  }\n  get debugService() {\n    return this.container.debugService;\n  }\n  get interactionService() {\n    return this.container.interactionService;\n  }\n  get mapService() {\n    var _this$container;\n    return (_this$container = this.container) === null || _this$container === void 0 ? void 0 : _this$container.mapService;\n  }\n  get normalPassFactory() {\n    return this.container.normalPassFactory;\n  }\n  constructor(config = {}) {\n    super();\n    _defineProperty(this, \"id\", `${layerIdCounter++}`);\n    _defineProperty(this, \"name\", `${layerIdCounter}`);\n    _defineProperty(this, \"parent\", void 0);\n    _defineProperty(this, \"coordCenter\", void 0);\n    _defineProperty(this, \"type\", void 0);\n    _defineProperty(this, \"visible\", true);\n    _defineProperty(this, \"zIndex\", 0);\n    _defineProperty(this, \"minZoom\", void 0);\n    _defineProperty(this, \"maxZoom\", void 0);\n    _defineProperty(this, \"inited\", false);\n    _defineProperty(this, \"layerModelNeedUpdate\", false);\n    _defineProperty(this, \"pickedFeatureID\", null);\n    _defineProperty(this, \"selectedFeatureID\", null);\n    _defineProperty(this, \"styleNeedUpdate\", false);\n    _defineProperty(this, \"rendering\", void 0);\n    _defineProperty(this, \"forceRender\", false);\n    _defineProperty(this, \"clusterZoom\", 0);\n    // 聚合等级标记\n    _defineProperty(this, \"layerType\", void 0);\n    _defineProperty(this, \"triangulation\", void 0);\n    _defineProperty(this, \"layerPickService\", void 0);\n    _defineProperty(this, \"textureService\", void 0);\n    _defineProperty(this, \"defaultSourceConfig\", {\n      data: [],\n      options: {\n        parser: {\n          type: 'json'\n        }\n      }\n    });\n    _defineProperty(this, \"dataState\", {\n      dataSourceNeedUpdate: false,\n      dataMappingNeedUpdate: false,\n      filterNeedUpdate: false,\n      featureScaleNeedUpdate: false,\n      StyleAttrNeedUpdate: false\n    });\n    // 生命周期钩子\n    _defineProperty(this, \"hooks\", {\n      init: new AsyncSeriesBailHook(),\n      afterInit: new SyncBailHook(),\n      beforeRender: new SyncBailHook(),\n      beforeRenderData: new AsyncWaterfallHook(),\n      afterRender: new SyncHook(),\n      beforePickingEncode: new SyncHook(),\n      afterPickingEncode: new SyncHook(),\n      beforeHighlight: new SyncHook(['pickedColor']),\n      afterHighlight: new SyncHook(),\n      beforeSelect: new SyncHook(['pickedColor']),\n      afterSelect: new SyncHook(),\n      beforeDestroy: new SyncHook(),\n      afterDestroy: new SyncHook()\n    });\n    // 待渲染 model 列表\n    _defineProperty(this, \"models\", []);\n    // 每个 Layer 都有一个\n    _defineProperty(this, \"multiPassRenderer\", void 0);\n    // 注入插件\n    _defineProperty(this, \"plugins\", void 0);\n    _defineProperty(this, \"startInit\", false);\n    _defineProperty(this, \"sourceOption\", void 0);\n    _defineProperty(this, \"layerModel\", void 0);\n    _defineProperty(this, \"shapeOption\", void 0);\n    _defineProperty(this, \"tileLayer\", void 0);\n    // 用于保存子图层对象\n    _defineProperty(this, \"layerChildren\", []);\n    _defineProperty(this, \"masks\", []);\n    _defineProperty(this, \"configService\", globalConfigService);\n    _defineProperty(this, \"styleAttributeService\", void 0);\n    _defineProperty(this, \"layerSource\", void 0);\n    _defineProperty(this, \"postProcessingPassFactory\", void 0);\n    _defineProperty(this, \"animateOptions\", {\n      enable: false\n    });\n    /**\n     * 图层容器\n     */\n    _defineProperty(this, \"container\", void 0);\n    _defineProperty(this, \"encodedData\", void 0);\n    _defineProperty(this, \"currentPickId\", null);\n    _defineProperty(this, \"rawConfig\", void 0);\n    _defineProperty(this, \"needUpdateConfig\", void 0);\n    _defineProperty(this, \"encodeStyleAttribute\", {});\n    // Shader 的数据映射\n    _defineProperty(this, \"enableShaderEncodeStyles\", []);\n    // 数据层数据映射\n    _defineProperty(this, \"enableDataEncodeStyles\", []);\n    /**\n     * 待更新样式属性，在初始化阶段完成注册\n     */\n    _defineProperty(this, \"pendingStyleAttributes\", []);\n    _defineProperty(this, \"scaleOptions\", {});\n    _defineProperty(this, \"animateStartTime\", void 0);\n    _defineProperty(this, \"animateStatus\", false);\n    _defineProperty(this, \"isDestroyed\", false);\n    // private pickingPassRender: IPass<'pixelPicking'>;\n    _defineProperty(this, \"uniformBuffers\", []);\n    _defineProperty(this, \"encodeDataLength\", 0);\n    _defineProperty(this, \"sourceEvent\", () => {\n      this.dataState.dataSourceNeedUpdate = true;\n      const layerConfig = this.getLayerConfig();\n      if (layerConfig && layerConfig.autoFit) {\n        this.fitBounds(layerConfig.fitBoundsOptions);\n      }\n      const autoRender = this.layerSource.getSourceCfg().autoRender;\n      if (autoRender) {\n        setTimeout(() => {\n          this.reRender();\n        }, 10);\n      }\n    });\n    this.name = config.name || this.id;\n    this.zIndex = config.zIndex || 0;\n    this.rawConfig = config;\n    this.masks = config.maskLayers || [];\n  }\n  addMask(layer) {\n    this.masks.push(layer);\n    this.updateLayerConfig({\n      maskLayers: this.masks\n    });\n    this.enableMask();\n  }\n  removeMask(layer) {\n    const layerIndex = this.masks.indexOf(layer);\n    if (layerIndex > -1) {\n      this.masks.splice(layerIndex, 1);\n    }\n    this.updateLayerConfig({\n      maskLayers: this.masks\n    });\n  }\n  disableMask() {\n    this.updateLayerConfig({\n      enableMask: false\n    });\n  }\n  enableMask() {\n    this.updateLayerConfig({\n      enableMask: true\n    });\n  }\n\n  /**\n   * 将废弃\n   * @deprecated\n   */\n  addMaskLayer(maskLayer) {\n    this.masks.push(maskLayer);\n  }\n\n  /**\n   * 将废弃\n   * @deprecated\n   */\n  removeMaskLayer(maskLayer) {\n    const layerIndex = this.masks.indexOf(maskLayer);\n    if (layerIndex > -1) {\n      this.masks.splice(layerIndex, 1);\n    }\n    maskLayer.destroy();\n  }\n  getAttribute(name) {\n    return this.styleAttributeService.getLayerStyleAttribute(name);\n  }\n  getLayerConfig() {\n    return this.configService.getLayerConfig(this.id);\n  }\n  updateLayerConfig(configToUpdate) {\n    // 同步 rawConfig\n    Object.keys(configToUpdate).map(key => {\n      if (key in this.rawConfig) {\n        // @ts-ignore\n        this.rawConfig[key] = configToUpdate[key];\n      }\n    });\n    if (!this.startInit) {\n      this.needUpdateConfig = _objectSpread(_objectSpread({}, this.needUpdateConfig), configToUpdate);\n    } else {\n      const sceneId = this.container.id;\n      // @ts-ignore\n      // styleDataMapping(configToUpdate, this); // 处理 style 中进行数据映射的属性字段\n      this.configService.setLayerConfig(sceneId, this.id, _objectSpread(_objectSpread(_objectSpread({}, this.configService.getLayerConfig(this.id)), this.needUpdateConfig), configToUpdate));\n      this.needUpdateConfig = {};\n    }\n  }\n\n  /**\n   * 注入图层容器，父容器为场景容器\n   * RootContainer 1\n   *  -> SceneContainer 1.*\n   *   -> LayerContainer 1.*\n   */\n  setContainer(container) {\n    this.container = container;\n  }\n  getContainer() {\n    return this.container;\n  }\n  addPlugin(plugin) {\n    this.plugins.push(plugin);\n    return this;\n  }\n  init() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // 设置配置项\n      const sceneId = _this.container.id;\n      _this.startInit = true;\n      // 初始化图层配置项\n      // const { enableMultiPassRenderer = false } = this.rawConfig;\n      // this.configService.setLayerConfig(sceneId, this.id, {\n      //   enableMultiPassRenderer,\n      // });\n      _this.configService.setLayerConfig(sceneId, _this.id, _this.rawConfig);\n      _this.layerType = _this.rawConfig.layerType;\n\n      // 全局容器服务\n\n      // 场景容器服务\n      const {\n        enableMultiPassRenderer,\n        passes\n      } = _this.getLayerConfig();\n      if (enableMultiPassRenderer && passes !== null && passes !== void 0 && passes.length && passes.length > 0) {\n        // Tip: 兼容 multiPassRender 在 amap1 时存在的图层不同步问题 zoom\n        _this.mapService.on('mapAfterFrameChange', () => {\n          _this.renderLayers();\n        });\n      }\n      _this.postProcessingPassFactory = _this.container.postProcessingPassFactory;\n\n      // 图层容器服务\n      _this.styleAttributeService = _this.container.styleAttributeService;\n      if (enableMultiPassRenderer) {\n        // 按需初始化 瓦片频繁报错\n        _this.multiPassRenderer = _this.container.multiPassRenderer;\n        _this.multiPassRenderer.setLayer(_this);\n      }\n      // 完成样式服务注册完成前添加的属性\n      _this.pendingStyleAttributes.forEach(({\n        attributeName,\n        attributeField,\n        attributeValues,\n        updateOptions\n      }) => {\n        _this.styleAttributeService.updateStyleAttribute(attributeName, {\n          // @ts-ignore\n          scale: _objectSpread({\n            field: attributeField\n          }, _this.splitValuesAndCallbackInAttribute(\n          // @ts-ignore\n          attributeValues,\n          // @ts-ignore\n          attributeField ? undefined : _this.getLayerConfig()[attributeName] // 设置了字段不需要设置默认值\n          ))\n        },\n        // @ts-ignore\n        updateOptions);\n      });\n      _this.pendingStyleAttributes = [];\n\n      // 获取插件集\n      _this.plugins = createPlugins();\n      // 完成插件注册，传入场景和图层容器内的服务\n      for (const plugin of _this.plugins) {\n        plugin.apply(_this, _this.container);\n      }\n      // if (this.getSource().isTile) {\n      //   this.tileLayer = new TileLayer(this);\n      // }\n\n      // 初始化其他服务\n      _this.layerPickService = new LayerPickService(_this);\n\n      // 颜色纹理服务\n      _this.textureService = new TextureService(_this);\n      _this.log(IDebugLog.LayerInitStart);\n      // 触发 init 生命周期插件\n      yield _this.hooks.init.promise();\n      _this.log(IDebugLog.LayerInitEnd);\n      _this.inited = true;\n      // add mask layer\n      // 触发初始化完成事件;\n      _this.emit('inited', {\n        target: _this,\n        type: 'inited'\n      });\n      _this.emit('add', {\n        target: _this,\n        type: 'add'\n      });\n      _this.hooks.afterInit.call();\n    })();\n  }\n  log(logType, step = 'init') {\n    var _this$debugService;\n    // @ts-ignore 瓦片、瓦片图层目前不参与日志\n    if (this.tileLayer || this.isTileLayer) {\n      return;\n    }\n    const key = `${this.id}.${step}.${logType}`;\n    const values = {\n      id: this.id,\n      type: this.type\n    };\n    (_this$debugService = this.debugService) === null || _this$debugService === void 0 || _this$debugService.log(key, values);\n  }\n  updateModelData(data) {\n    if (data.attributes && data.elements) {\n      this.models.map(m => {\n        m.updateAttributesAndElements(data.attributes, data.elements);\n      });\n    } else {\n      console.warn('data error');\n    }\n  }\n  setLayerPickService(layerPickService) {\n    this.layerPickService = layerPickService;\n  }\n  /**\n   * Model初始化前需要更新Model样式\n   */\n  prepareBuildModel() {\n    if (Object.keys(this.needUpdateConfig || {}).length !== 0) {\n      this.updateLayerConfig({});\n    }\n\n    // 启动动画\n    const {\n      animateOption\n    } = this.getLayerConfig();\n    if (animateOption !== null && animateOption !== void 0 && animateOption.enable) {\n      this.layerService.startAnimate();\n      this.animateStatus = true;\n    }\n  }\n  color(field, values, updateOptions) {\n    this.updateStyleAttribute('color', field, values, updateOptions);\n    return this;\n  }\n\n  // 为对应的图层传入纹理的编号名称（point/image 在 shape 方法中传入纹理名称的方法并不通用）\n  texture(field, values, updateOptions) {\n    this.updateStyleAttribute('texture', field, values, updateOptions);\n    return this;\n  }\n  rotate(field, values, updateOptions) {\n    this.updateStyleAttribute('rotate', field, values, updateOptions);\n    return this;\n  }\n  size(field, values, updateOptions) {\n    this.updateStyleAttribute('size', field, values, updateOptions);\n    return this;\n  }\n  // 对mapping后的数据过滤，scale保持不变\n  filter(field, values, updateOptions) {\n    const flag = this.updateStyleAttribute('filter', field, values, updateOptions);\n    this.dataState.dataSourceNeedUpdate = flag && this.inited;\n    return this;\n  }\n  shape(field, values, updateOptions) {\n    this.shapeOption = {\n      field,\n      values\n    };\n    const flag = this.updateStyleAttribute('shape', field, values, updateOptions);\n    this.dataState.dataSourceNeedUpdate = flag && this.inited;\n    return this;\n  }\n  label(field, values, updateOptions) {\n    this.pendingStyleAttributes.push({\n      attributeName: 'label',\n      attributeField: field,\n      attributeValues: values,\n      updateOptions\n    });\n    return this;\n  }\n  animate(options) {\n    let rawAnimate = {};\n    if (isObject(options)) {\n      rawAnimate.enable = true;\n      rawAnimate = _objectSpread(_objectSpread({}, rawAnimate), options);\n    } else {\n      rawAnimate.enable = options;\n    }\n    this.updateLayerConfig({\n      animateOption: rawAnimate\n    });\n    return this;\n  }\n  source(data, options) {\n    if ((data === null || data === void 0 ? void 0 : data.type) === 'source') {\n      // 判断是否为source\n      this.setSource(data);\n      return this;\n    }\n    // 设置source 配置\n    this.sourceOption = {\n      data,\n      options\n    };\n    this.clusterZoom = 0;\n    return this;\n  }\n  setData(data, options) {\n    if (this.inited) {\n      this.dataUpdatelog();\n      this.layerSource.setData(data, options);\n    } else {\n      this.on('inited', () => {\n        this.dataUpdatelog();\n        this.layerSource.setData(data, options);\n      });\n    }\n    return this;\n  }\n  dataUpdatelog() {\n    this.log(IDebugLog.SourceInitStart, ILayerStage.UPDATE);\n    this.layerSource.once('update', () => {\n      this.log(IDebugLog.SourceInitEnd, ILayerStage.UPDATE);\n    });\n  }\n  style(options) {\n    const {\n        passes\n      } = options,\n      rest = _objectWithoutProperties(options, _excluded);\n    // passes 特殊处理\n    if (passes) {\n      normalizePasses(passes).forEach(pass => {\n        const postProcessingPass = this.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(pass[0]);\n        if (postProcessingPass) {\n          postProcessingPass.updateOptions(pass[1]);\n        }\n      });\n    }\n    // 兼容 borderColor borderWidth\n    // @ts-ignore\n    if (rest.borderColor) {\n      // @ts-ignore\n      rest.stroke = rest.borderColor;\n    }\n    // @ts-ignore\n    if (rest.borderWidth) {\n      // @ts-ignore\n      rest.strokeWidth = rest.borderWidth;\n    }\n\n    // 兼容老版本的写法 ['field, 'value']\n    const newOption = rest;\n    Object.keys(rest).forEach(key => {\n      // @ts-ignore\n      const values = rest[key];\n      if (Array.isArray(values) && values.length === 2 && !isNumber(values[0]) && !isNumber(values[1])) {\n        newOption[key] = {\n          field: values[0],\n          value: values[1]\n        };\n      }\n    });\n    this.encodeStyle(newOption);\n    this.updateLayerConfig(newOption);\n    return this;\n  }\n\n  // 参与数据映射的字段 encodeing\n  encodeStyle(options) {\n    Object.keys(options).forEach(key => {\n      if (\n      // 需要数据映射\n      [...this.enableShaderEncodeStyles, ...this.enableDataEncodeStyles].includes(key) && isPlainObject(options[key]) && (options[key].field || options[key].value) && !isEqual(this.encodeStyleAttribute[key], options[key]) // 防止计算属性重复计算\n      ) {\n        this.encodeStyleAttribute[key] = options[key];\n        this.updateStyleAttribute(key, options[key].field, options[key].value);\n        if (this.inited) {\n          this.dataState.dataMappingNeedUpdate = true;\n        }\n      } else {\n        // 不需要数据映射\n        if (this.encodeStyleAttribute[key]) {\n          delete this.encodeStyleAttribute[key]; // 删除已经存在的属性\n          this.dataState.dataSourceNeedUpdate = true;\n        }\n      }\n    });\n  }\n  scale(field, cfg) {\n    const preOption = _objectSpread({}, this.scaleOptions);\n    if (isObject(field)) {\n      this.scaleOptions = _objectSpread(_objectSpread({}, this.scaleOptions), field);\n    } else {\n      this.scaleOptions[field] = cfg;\n    }\n    if (this.styleAttributeService && !isEqual(preOption, this.scaleOptions)) {\n      const scaleOptions = isObject(field) ? field : {\n        [field]: cfg\n      };\n      this.styleAttributeService.updateScaleAttribute(scaleOptions);\n    }\n    return this;\n  }\n\n  /**\n   * 渲染所有的图层\n   */\n  renderLayers() {\n    this.rendering = true;\n    this.layerService.reRender();\n    this.rendering = false;\n  }\n  prerender() {}\n  render(options = {}) {\n    if (this.tileLayer) {\n      // 瓦片图层执行单独的 render 渲染队列\n      this.tileLayer.render();\n      return this;\n    }\n    this.layerService.beforeRenderData(this);\n    if (this.encodeDataLength <= 0 && !this.forceRender) {\n      return this;\n    }\n    // Tip: this.getEncodedData().length !== 0 这个判断是为了解决在 2.5.x 引入数据纹理后产生的 空数据渲染导致 texture 超出上限问题\n    this.renderModels(options);\n    return this;\n  }\n\n  /**\n   * renderMultiPass 专门用于渲染支持 multipass 的 layer\n   */\n  renderMultiPass() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (_this2.encodeDataLength <= 0 && !_this2.forceRender) {\n        return;\n      }\n      if (_this2.multiPassRenderer && _this2.multiPassRenderer.getRenderFlag()) {\n        // multi render 开始执行 multiPassRender 的渲染流程\n        yield _this2.multiPassRenderer.render();\n      } else {\n        _this2.renderModels();\n      }\n    })();\n  }\n  active(options) {\n    const activeOption = {};\n    activeOption.enableHighlight = isObject(options) ? true : options;\n    if (isObject(options)) {\n      activeOption.enableHighlight = true;\n      if (options.color) {\n        activeOption.highlightColor = options.color;\n      }\n      if (options.mix) {\n        activeOption.activeMix = options.mix;\n      }\n    } else {\n      activeOption.enableHighlight = !!options;\n    }\n    this.updateLayerConfig(activeOption);\n    return this;\n  }\n  setActive(id, options) {\n    if (isObject(id)) {\n      const {\n        x = 0,\n        y = 0\n      } = id;\n      this.updateLayerConfig({\n        highlightColor: isObject(options) ? options.color : this.getLayerConfig().highlightColor,\n        activeMix: isObject(options) ? options.mix : this.getLayerConfig().activeMix\n      });\n      this.pick({\n        x,\n        y\n      });\n    } else {\n      this.updateLayerConfig({\n        pickedFeatureID: id,\n        highlightColor: isObject(options) ? options.color : this.getLayerConfig().highlightColor,\n        activeMix: isObject(options) ? options.mix : this.getLayerConfig().activeMix\n      });\n      this.hooks.beforeHighlight.call(encodePickingColor(id))\n      // @ts-ignore\n      .then(() => {\n        setTimeout(() => {\n          this.reRender();\n        }, 1);\n      });\n    }\n  }\n  select(option) {\n    const activeOption = {};\n    activeOption.enableSelect = isObject(option) ? true : option;\n    if (isObject(option)) {\n      activeOption.enableSelect = true;\n      if (option.color) {\n        activeOption.selectColor = option.color;\n      }\n      if (option.mix) {\n        activeOption.selectMix = option.mix;\n      }\n    } else {\n      activeOption.enableSelect = !!option;\n    }\n    this.updateLayerConfig(activeOption);\n    return this;\n  }\n  setSelect(id, options) {\n    if (isObject(id)) {\n      const {\n        x = 0,\n        y = 0\n      } = id;\n      this.updateLayerConfig({\n        selectColor: isObject(options) ? options.color : this.getLayerConfig().selectColor,\n        selectMix: isObject(options) ? options.mix : this.getLayerConfig().selectMix\n      });\n      this.pick({\n        x,\n        y\n      });\n    } else {\n      this.updateLayerConfig({\n        pickedFeatureID: id,\n        selectColor: isObject(options) ? options.color : this.getLayerConfig().selectColor,\n        selectMix: isObject(options) ? options.mix : this.getLayerConfig().selectMix\n      });\n      this.hooks.beforeSelect.call(encodePickingColor(id))\n      // @ts-ignore\n      .then(() => {\n        setTimeout(() => {\n          this.reRender();\n        }, 1);\n      });\n    }\n  }\n  setBlend(type) {\n    this.updateLayerConfig({\n      blend: type\n    });\n    // this.layerModelNeedUpdate = true;\n    this.reRender();\n    return this;\n  }\n  show() {\n    this.updateLayerConfig({\n      visible: true\n    });\n    this.reRender();\n    this.emit('show');\n    return this;\n  }\n  hide() {\n    this.updateLayerConfig({\n      visible: false\n    });\n    this.reRender();\n    this.emit('hide');\n    return this;\n  }\n  setIndex(index) {\n    this.zIndex = index;\n    this.layerService.updateLayerRenderList();\n    this.layerService.renderLayers();\n    return this;\n  }\n  setCurrentPickId(id) {\n    this.currentPickId = id;\n  }\n  getCurrentPickId() {\n    return this.currentPickId;\n  }\n  setCurrentSelectedId(id) {\n    this.selectedFeatureID = id;\n  }\n  getCurrentSelectedId() {\n    return this.selectedFeatureID;\n  }\n  isVisible() {\n    const zoom = this.mapService.getZoom();\n    const {\n      visible,\n      minZoom = -Infinity,\n      maxZoom = Infinity\n    } = this.getLayerConfig();\n    return !!visible && zoom >= minZoom && zoom < maxZoom;\n  }\n  setMultiPass(enableMultiPass, currentPasses) {\n    this.updateLayerConfig({\n      enableMultiPassRenderer: enableMultiPass\n    });\n    if (currentPasses) {\n      this.updateLayerConfig({\n        passes: currentPasses\n      });\n    }\n    if (enableMultiPass) {\n      const {\n        passes = []\n      } = this.getLayerConfig();\n      this.multiPassRenderer = createMultiPassRenderer(this, passes, this.postProcessingPassFactory, this.normalPassFactory);\n      this.multiPassRenderer.setRenderFlag(true);\n      const {\n        width,\n        height\n      } = this.rendererService.getViewportSize();\n      this.multiPassRenderer.resize(width, height);\n    }\n    return this;\n  }\n  setMinZoom(minZoom) {\n    this.updateLayerConfig({\n      minZoom\n    });\n    return this;\n  }\n  getMinZoom() {\n    const {\n      minZoom\n    } = this.getLayerConfig();\n    return minZoom;\n  }\n  getMaxZoom() {\n    const {\n      maxZoom\n    } = this.getLayerConfig();\n    return maxZoom;\n  }\n  get(name) {\n    const cfg = this.getLayerConfig();\n    // @ts-ignore\n    return cfg[name];\n  }\n  setMaxZoom(maxZoom) {\n    this.updateLayerConfig({\n      maxZoom\n    });\n    return this;\n  }\n  setAutoFit(autoFit) {\n    this.updateLayerConfig({\n      autoFit\n    });\n    return this;\n  }\n\n  /**\n   * zoom to layer Bounds\n   */\n  fitBounds(fitBoundsOptions) {\n    if (!this.inited) {\n      this.updateLayerConfig({\n        autoFit: true\n      });\n      return this;\n    }\n    const source = this.getSource();\n    const extent = source.extent;\n    const isValid = extent.some(v => Math.abs(v) === Infinity);\n    if (isValid) {\n      return this;\n    }\n    this.mapService.fitBounds([[extent[0], extent[1]], [extent[2], extent[3]]], fitBoundsOptions);\n    return this;\n  }\n  destroy(refresh = true) {\n    var _this$layerModel, _this$multiPassRender, _this$layerModel2, _this$tileLayer, _this$debugService2;\n    if (this.isDestroyed) {\n      return;\n    }\n\n    // destroy all UBOs\n    (_this$layerModel = this.layerModel) === null || _this$layerModel === void 0 || _this$layerModel.uniformBuffers.forEach(buffer => {\n      buffer.destroy();\n    });\n\n    // remove child layer\n    this.layerChildren.map(child => child.destroy(false));\n    this.layerChildren = [];\n\n    // remove mask list maskfence 掩模需要销毁\n    const {\n      maskfence\n    } = this.getLayerConfig();\n    if (maskfence) {\n      this.masks.map(mask => mask.destroy(false));\n      this.masks = [];\n    }\n    this.hooks.beforeDestroy.call();\n    // 清除sources事件\n    this.layerSource.off('update', this.sourceEvent);\n    (_this$multiPassRender = this.multiPassRenderer) === null || _this$multiPassRender === void 0 || _this$multiPassRender.destroy();\n    this.textureService.destroy();\n\n    // 清除所有属性以及关联的 vao == 销毁所有 => model this.models.forEach((model) => model.destroy());\n    this.styleAttributeService.clearAllAttributes();\n\n    // 执行每个图层单独的 clearModels 方法 （清除一些额外的 texture、program、buffer 等）\n\n    this.hooks.afterDestroy.call();\n    // Tip: 清除各个图层自定义的 models 资源\n    (_this$layerModel2 = this.layerModel) === null || _this$layerModel2 === void 0 || _this$layerModel2.clearModels(refresh);\n    (_this$tileLayer = this.tileLayer) === null || _this$tileLayer === void 0 || _this$tileLayer.destroy();\n    this.models = [];\n    // 清除图层日志（如果有的话：非瓦片相关）\n    (_this$debugService2 = this.debugService) === null || _this$debugService2 === void 0 || _this$debugService2.removeLog(this.id);\n    this.emit('remove', {\n      target: this,\n      type: 'remove'\n    });\n    this.emit('destroy', {\n      target: this,\n      type: 'destroy'\n    });\n    this.removeAllListeners();\n    this.isDestroyed = true;\n  }\n  clear() {\n    this.styleAttributeService.clearAllAttributes();\n    // 销毁所有 model\n  }\n  clearModels() {\n    var _this$layerModel3;\n    this.models.forEach(model => model.destroy());\n    (_this$layerModel3 = this.layerModel) === null || _this$layerModel3 === void 0 || _this$layerModel3.clearModels();\n    this.models = [];\n  }\n  isDirty() {\n    return !!(this.styleAttributeService.getLayerStyleAttributes() || []).filter(attribute => attribute.needRescale || attribute.needRemapping || attribute.needRegenerateVertices).length;\n  }\n  // 外部初始化Source\n  setSource(source) {\n    // 解除原 sources 事件\n    if (this.layerSource) {\n      this.layerSource.off('update', this.sourceEvent);\n    }\n    this.layerSource = source;\n    this.clusterZoom = 0;\n\n    // 已 inited 且启用聚合进行更新聚合数据\n    if (this.inited && this.layerSource.cluster) {\n      const zoom = this.mapService.getZoom();\n      this.layerSource.updateClusterData(zoom);\n    }\n    if (this.layerSource.inited) {\n      this.sourceEvent();\n    }\n    // this.layerSource.inited 为 true update 事件不会再触发\n    this.layerSource.on('update', ({\n      type\n    }) => {\n      if (this.coordCenter === undefined) {\n        const layerCenter = this.layerSource.center;\n        this.coordCenter = layerCenter;\n      }\n      if (type === 'update') {\n        if (this.tileLayer) {\n          // 瓦片图层独立更新\n          this.tileLayer.reload();\n          return;\n        }\n        // source 初始化不需要处理\n        this.sourceEvent();\n      }\n    });\n  }\n  getSource() {\n    return this.layerSource;\n  }\n  getScaleOptions() {\n    return this.scaleOptions;\n  }\n  setEncodedData(encodedData) {\n    this.encodedData = encodedData;\n    this.encodeDataLength = encodedData.length;\n  }\n  getEncodedData() {\n    return this.encodedData;\n  }\n  getScale(name) {\n    return this.styleAttributeService.getLayerAttributeScale(name);\n  }\n  getLegend(name) {\n    var _attribute$scale, _scales$, _attribute$scale2;\n    const attribute = this.styleAttributeService.getLayerStyleAttribute(name);\n    const scales = (attribute === null || attribute === void 0 || (_attribute$scale = attribute.scale) === null || _attribute$scale === void 0 ? void 0 : _attribute$scale.scalers) || [];\n    return {\n      type: (_scales$ = scales[0]) === null || _scales$ === void 0 || (_scales$ = _scales$.option) === null || _scales$ === void 0 ? void 0 : _scales$.type,\n      field: attribute === null || attribute === void 0 || (_attribute$scale2 = attribute.scale) === null || _attribute$scale2 === void 0 ? void 0 : _attribute$scale2.field,\n      items: this.getLegendItems(name)\n    };\n  }\n  getLegendItems(name) {\n    const scale = this.styleAttributeService.getLayerAttributeScale(name);\n    // 函数自定义映射，没有 scale 返回为空数组\n    if (!scale) {\n      return [];\n    }\n    if (scale.invertExtent) {\n      // 分段类型  Quantize、Quantile、Threshold\n      const items = scale.range().map(item => {\n        return {\n          value: scale.invertExtent(item),\n          [name]: item\n        };\n      });\n      return items;\n    } else if (scale.ticks) {\n      // 连续类型 Continuous (Linear, Power, Log, Identity, Time)\n      const items = scale.ticks().map(item => {\n        return {\n          value: item,\n          [name]: scale(item)\n        };\n      });\n      return items;\n    } else if (scale !== null && scale !== void 0 && scale.domain) {\n      // 枚举类型 Cat\n      const items = scale.domain().filter(item => !isUndefined(item)).map(item => {\n        return {\n          value: item,\n          [name]: scale(item)\n        };\n      });\n      return items;\n    }\n    return [];\n  }\n  pick({\n    x,\n    y\n  }) {\n    this.interactionService.triggerHover({\n      x,\n      y\n    });\n  }\n  boxSelect(box, cb) {\n    this.pickingService.boxPickLayer(this, box, cb);\n  }\n  buildLayerModel(options) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const {\n          moduleName,\n          vertexShader,\n          fragmentShader,\n          defines,\n          inject,\n          triangulation,\n          styleOption,\n          pickingEnabled = true\n        } = options,\n        rest = _objectWithoutProperties(options, _excluded2);\n      _this3.shaderModuleService.registerModule(moduleName, {\n        vs: vertexShader,\n        fs: fragmentShader,\n        defines,\n        inject\n      });\n      const {\n        vs,\n        fs,\n        uniforms\n      } = _this3.shaderModuleService.getModule(moduleName);\n      const {\n        createModel\n      } = _this3.rendererService;\n      return new Promise(resolve => {\n        const {\n          attributes,\n          elements,\n          count\n        } = _this3.styleAttributeService.createAttributesAndIndices(_this3.encodedData, triangulation, styleOption, _this3);\n        const uniformBuffers = [..._this3.layerModel.uniformBuffers, ..._this3.rendererService.uniformBuffers];\n        if (pickingEnabled) {\n          uniformBuffers.push(_this3.getPickingUniformBuffer());\n        }\n        const modelOptions = _objectSpread({\n          attributes,\n          uniforms,\n          fs,\n          vs,\n          elements,\n          blend: BlendTypes[BlendType.normal],\n          uniformBuffers,\n          textures: _this3.layerModel.textures\n        }, rest);\n        if (count) {\n          modelOptions.count = count;\n        }\n        const m = createModel(modelOptions);\n        resolve(m);\n      });\n    })();\n  }\n  createAttributes(options) {\n    const {\n      triangulation\n    } = options;\n    // @ts-ignore\n    const {\n      attributes\n    } = this.styleAttributeService.createAttributes(this.encodedData, triangulation);\n    return attributes;\n  }\n  getTime() {\n    return this.layerService.clock.getDelta();\n  }\n  setAnimateStartTime() {\n    this.animateStartTime = this.layerService.clock.getElapsedTime();\n  }\n  stopAnimate() {\n    if (this.animateStatus) {\n      this.layerService.stopAnimate();\n      this.animateStatus = false;\n      this.updateLayerConfig({\n        animateOption: {\n          enable: false\n        }\n      });\n    }\n  }\n  getLayerAnimateTime() {\n    return this.layerService.clock.getElapsedTime() - this.animateStartTime;\n  }\n  needPick(type) {\n    const {\n      enableHighlight = true,\n      enableSelect = true\n    } = this.getLayerConfig();\n    // 判断layer是否监听事件;\n    let isPick = this.eventNames().indexOf(type) !== -1 || this.eventNames().indexOf('un' + type) !== -1;\n    if ((type === 'click' || type === 'dblclick') && enableSelect) {\n      isPick = true;\n    }\n    if (type === 'mousemove' && (enableHighlight || this.eventNames().indexOf('mouseenter') !== -1 || this.eventNames().indexOf('unmousemove') !== -1 || this.eventNames().indexOf('mouseout') !== -1)) {\n      isPick = true;\n    }\n    return this.isVisible() && isPick;\n  }\n  buildModels() {\n    return _asyncToGenerator(function* () {\n      throw new Error('Method not implemented.');\n    })();\n  }\n  rebuildModels() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      yield _this4.buildModels();\n    })();\n  }\n  renderMulPass(multiPassRenderer) {\n    return _asyncToGenerator(function* () {\n      yield multiPassRenderer.render();\n    })();\n  }\n  renderModels(options = {}) {\n    // TODO: this.getEncodedData().length > 0 这个判断是为了解决在 2.5.x 引入数据纹理后产生的 空数据渲染导致 texture 超出上限问题\n    if (this.encodeDataLength <= 0 && !this.forceRender) {\n      // 数据为空销毁model\n      this.clearModels();\n      return this;\n    }\n    this.hooks.beforeRender.call();\n    this.models.forEach(model => {\n      model.draw({\n        uniforms: this.layerModel.getUninforms(),\n        blend: this.layerModel.getBlend(),\n        stencil: this.layerModel.getStencil(options),\n        textures: this.layerModel.textures\n      }, (options === null || options === void 0 ? void 0 : options.ispick) || false);\n    });\n    this.hooks.afterRender.call();\n    return this;\n  }\n  updateStyleAttribute(type, field, values, updateOptions) {\n    // encode diff\n    const preAttribute = this.configService.getAttributeConfig(this.id) || {};\n    // @ts-ignore\n    if (isEqual(preAttribute[type], {\n      field,\n      values\n    })) {\n      // 检测是否发生更新\n      return false;\n    }\n\n    // 存储 Attribute 瓦片图层使用\n    if (['color', 'size', 'texture', 'rotate', 'filter', 'label', 'shape'].indexOf(type) !== -1) {\n      this.configService.setAttributeConfig(this.id, {\n        [type]: {\n          field,\n          values\n        }\n      });\n    }\n    if (!this.startInit) {\n      // 开始初始化执行\n      this.pendingStyleAttributes.push({\n        attributeName: type,\n        attributeField: field,\n        attributeValues: values,\n        updateOptions\n      });\n    } else {\n      this.styleAttributeService.updateStyleAttribute(type, {\n        // @ts-ignore\n        scale: _objectSpread({\n          field\n        }, this.splitValuesAndCallbackInAttribute(\n        // @ts-ignore\n        values,\n        // @ts-ignore\n        this.getLayerConfig()[field]))\n      },\n      // @ts-ignore\n      updateOptions);\n    }\n    return true;\n  }\n  getLayerAttributeConfig() {\n    return this.configService.getAttributeConfig(this.id);\n  }\n  getShaderPickStat() {\n    return this.layerService.getShaderPickStat();\n  }\n\n  /**\n   * 继承空方法\n   * @param time\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setEarthTime(time) {\n    console.warn('empty fn');\n  }\n\n  // 数据处理 在数据进行 mapping 生成 encodeData 之前对数据进行处理\n  // 在各个 layer 中继承\n  processData(filterData) {\n    return filterData;\n  }\n  getModelType() {\n    throw new Error('Method not implemented.');\n  }\n  getDefaultConfig() {\n    return {};\n  }\n  initLayerModels() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      _this5.models.forEach(model => model.destroy());\n      _this5.models = [];\n      _this5.uniformBuffers.forEach(buffer => {\n        buffer.destroy();\n      });\n      _this5.uniformBuffers = [];\n\n      // Picking Uniform\n      const pickingUniforms = _this5.rendererService.createBuffer({\n        data: new Float32Array(20).fill(0),\n        isUBO: true,\n        label: 'pickingUniforms'\n      });\n      _this5.uniformBuffers.push(pickingUniforms);\n      _this5.models = yield _this5.layerModel.initModels();\n    })();\n  }\n  getPickingUniformBuffer() {\n    return this.uniformBuffers[0];\n  }\n  reRender() {\n    if (this.inited) {\n      this.layerService.reRender();\n    }\n  }\n  splitValuesAndCallbackInAttribute(valuesOrCallback\n  // defaultValues?: unknown[],\n  ) {\n    return {\n      values: isFunction(valuesOrCallback) ? undefined : valuesOrCallback,\n      callback: isFunction(valuesOrCallback) ? valuesOrCallback : undefined\n    };\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { IDebugLog, ILayerStage } from '@antv/l7-core';\nimport { normalize, rgb2arr } from '@antv/l7-utils';\nexport default class DataMappingPlugin {\n  constructor() {\n    _defineProperty(this, \"mapService\", void 0);\n    _defineProperty(this, \"fontService\", void 0);\n  }\n  apply(layer, {\n    styleAttributeService,\n    mapService,\n    fontService\n  }) {\n    var _this = this;\n    this.mapService = mapService;\n    this.fontService = fontService;\n    layer.hooks.init.tapPromise('DataMappingPlugin', /*#__PURE__*/_asyncToGenerator(function* () {\n      layer.log(IDebugLog.MappingStart, ILayerStage.INIT);\n      // 初始化重新生成 map\n      _this.generateMaping(layer, {\n        styleAttributeService\n      });\n      layer.log(IDebugLog.MappingEnd, ILayerStage.INIT);\n    }));\n    layer.hooks.beforeRenderData.tapPromise('DataMappingPlugin', /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (flag) {\n        if (!flag) {\n          return flag;\n        }\n        layer.dataState.dataMappingNeedUpdate = false;\n        layer.log(IDebugLog.MappingStart, ILayerStage.UPDATE);\n        const mappingResult = _this.generateMaping(layer, {\n          styleAttributeService\n        });\n        layer.log(IDebugLog.MappingEnd, ILayerStage.UPDATE);\n        return mappingResult;\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    // remapping before render\n    layer.hooks.beforeRender.tap('DataMappingPlugin', () => {\n      const source = layer.getSource();\n      if (layer.layerModelNeedUpdate || !source || !source.inited) {\n        return;\n      }\n      const attributes = styleAttributeService.getLayerStyleAttributes() || [];\n      const filter = styleAttributeService.getLayerStyleAttribute('filter');\n      const {\n        dataArray\n      } = source.data;\n      // TODO 数据为空的情况\n      if (Array.isArray(dataArray) && dataArray.length === 0) {\n        return;\n      }\n      const attributesToRemapping = attributes.filter(attribute => attribute.needRemapping // 如果filter变化\n      );\n      let filterData = dataArray;\n      // 数据过滤完 再执行数据映射\n      if (filter !== null && filter !== void 0 && filter.needRemapping && filter !== null && filter !== void 0 && filter.scale) {\n        filterData = dataArray.filter(record => {\n          return this.applyAttributeMapping(filter, record)[0];\n        });\n      }\n      if (attributesToRemapping.length) {\n        // 过滤数据\n        const encodeData = this.mapping(layer, attributesToRemapping, filterData, layer.getEncodedData() // TODO 优化\n        );\n        layer.setEncodedData(encodeData);\n      }\n\n      // 处理文本更新，更新文字形状\n      // layer.emit('remapping', null);\n    });\n  }\n  generateMaping(layer, {\n    styleAttributeService\n  }) {\n    const attributes = styleAttributeService.getLayerStyleAttributes() || [];\n    const filter = styleAttributeService.getLayerStyleAttribute('filter');\n    const {\n      dataArray\n    } = layer.getSource().data;\n    let filterData = dataArray;\n    // 数据过滤完 再执行数据映射\n    if (filter !== null && filter !== void 0 && filter.scale) {\n      filterData = dataArray.filter(record => {\n        return this.applyAttributeMapping(filter, record)[0];\n      });\n    }\n    // Tip: layer 对数据做处理\n    // 数据处理 在数据进行 mapping 生成 encodeData 之前对数据进行处理\n    // 在各个 layer 中继承\n\n    filterData = layer.processData(filterData); // 目前只有简单线需要处理\n    const encodeData = this.mapping(layer, attributes, filterData, undefined);\n    layer.setEncodedData(encodeData);\n\n    // 对外暴露事件\n    layer.emit('dataUpdate', null);\n    return true;\n  }\n  mapping(layer, attributes, data, predata) {\n    const usedAttributes = attributes.filter(attribute => attribute.scale !== undefined).filter(attribute => attribute.name !== 'filter');\n    const mappedData = data.map((record, i) => {\n      const preRecord = predata ? predata[i] : {};\n      const encodeRecord = _objectSpread({\n        id: record._id,\n        coordinates: record.coordinates\n      }, preRecord);\n      usedAttributes.forEach(attribute => {\n        let values = this.applyAttributeMapping(attribute, record);\n        // TODO: 支持每个属性配置 postprocess}\n        if (attribute.name === 'color' || attribute.name === 'stroke') {\n          values = values.map(c => {\n            return rgb2arr(c);\n          });\n        }\n        // @ts-ignore\n        encodeRecord[attribute.name] = Array.isArray(values) && values.length === 1 ? values[0] : values;\n\n        // 增加对 layer/text/iconfont unicode 映射的解析\n        if (attribute.name === 'shape') {\n          encodeRecord.shape = this.fontService.getIconFontKey(encodeRecord[attribute.name]);\n        }\n      });\n      return encodeRecord;\n    });\n    attributes.forEach(attribute => {\n      attribute.needRemapping = false;\n    });\n\n    // 调整数据兼容 SimpleCoordinates\n    this.adjustData2SimpleCoordinates(mappedData);\n    return mappedData;\n  }\n  adjustData2SimpleCoordinates(mappedData) {\n    if (mappedData.length > 0 && this.mapService.version === 'SIMPLE') {\n      mappedData.map(d => {\n        if (!d.simpleCoordinate) {\n          d.coordinates = this.unProjectCoordinates(d.coordinates);\n          d.simpleCoordinate = true;\n        }\n      });\n    }\n  }\n  unProjectCoordinates(coordinates) {\n    if (typeof coordinates[0] === 'number') {\n      return this.mapService.simpleMapCoord.unproject(coordinates);\n    }\n    if (coordinates[0] && coordinates[0][0] instanceof Array) {\n      // @ts-ignore\n      const coords = [];\n      coordinates.map(coord => {\n        // @ts-ignore\n        const c1 = [];\n        coord.map(co => {\n          c1.push(this.mapService.simpleMapCoord.unproject(co));\n        });\n        // @ts-ignore\n        coords.push(c1);\n      });\n      // @ts-ignore\n      return coords;\n    } else {\n      // @ts-ignore\n      const coords = [];\n      // @ts-ignore\n      coordinates.map(coord => {\n        coords.push(this.mapService.simpleMapCoord.unproject(coord));\n      });\n      // @ts-ignore\n      return coords;\n    }\n  }\n  applyAttributeMapping(attribute, record) {\n    var _attribute$scale;\n    if (!attribute.scale) {\n      return [];\n    }\n    const scalers = (attribute === null || attribute === void 0 || (_attribute$scale = attribute.scale) === null || _attribute$scale === void 0 ? void 0 : _attribute$scale.scalers) || [];\n    const params = [];\n    scalers.forEach(({\n      field\n    }) => {\n      var _attribute$scale2;\n      if (record.hasOwnProperty(field) || ((_attribute$scale2 = attribute.scale) === null || _attribute$scale2 === void 0 ? void 0 : _attribute$scale2.type) === 'variable') {\n        // TODO:多字段，常量\n        params.push(record[field]);\n      }\n    });\n    const mappingResult = attribute.mapping ? attribute.mapping(params) : [];\n    return mappingResult;\n    // return attribute.mapping ? attribute.mapping(params) : [];\n  }\n  getArrowPoints(p1, p2) {\n    const dir = [p2[0] - p1[0], p2[1] - p1[1]];\n    const normalizeDir = normalize(dir);\n    const arrowPoint = [p1[0] + normalizeDir[0] * 0.0001, p1[1] + normalizeDir[1] * 0.0001];\n    return arrowPoint;\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { IDebugLog, ILayerStage } from '@antv/l7-core';\nimport Source from '@antv/l7-source';\nexport default class DataSourcePlugin {\n  constructor() {\n    _defineProperty(this, \"mapService\", void 0);\n  }\n  apply(layer) {\n    var _this = this;\n    this.mapService = layer.getContainer().mapService;\n    layer.hooks.init.tapPromise('DataSourcePlugin', /*#__PURE__*/_asyncToGenerator(function* () {\n      layer.log(IDebugLog.SourceInitStart, ILayerStage.INIT);\n      let source = layer.getSource();\n      if (!source) {\n        // Tip: 用户没有传入 source 的时候使用图层的默认数据\n        const {\n          data,\n          options\n        } = layer.sourceOption || layer.defaultSourceConfig;\n        source = new Source(data, options);\n        layer.setSource(source);\n      }\n      if (source.inited) {\n        _this.updateClusterData(layer);\n        layer.log(IDebugLog.SourceInitEnd, ILayerStage.INIT);\n      } else {\n        yield new Promise(resolve => {\n          source.on('update', e => {\n            if (e.type === 'inited') {\n              _this.updateClusterData(layer);\n              layer.log(IDebugLog.SourceInitEnd, ILayerStage.INIT);\n            }\n            resolve(null);\n          });\n        });\n      }\n    }));\n\n    // 检测数据是否需要更新\n    layer.hooks.beforeRenderData.tapPromise('DataSourcePlugin', /*#__PURE__*/_asyncToGenerator(function* () {\n      const neeUpdateCluster = _this.updateClusterData(layer);\n      const dataSourceNeedUpdate = layer.dataState.dataSourceNeedUpdate;\n      layer.dataState.dataSourceNeedUpdate = false;\n      const needScale = neeUpdateCluster || dataSourceNeedUpdate;\n      return needScale;\n    }));\n  }\n  updateClusterData(layer) {\n    // Tip: 矢量瓦片不需要进行聚合操作\n    if (layer.isTileLayer || layer.tileLayer || !layer.getSource()) {\n      return false;\n    }\n    const source = layer.getSource();\n    const cluster = source.cluster;\n    const {\n      zoom = 0\n    } = source.clusterOptions;\n    const newZoom = this.mapService.getZoom() - 1;\n    const dataSourceNeedUpdate = layer.dataState.dataSourceNeedUpdate;\n    if (cluster && dataSourceNeedUpdate) {\n      // 数据发生更新\n      source.updateClusterData(Math.floor(newZoom));\n    }\n    // 如果 dataSource 有更新，跳过 zoom 的判断，直接更新一次\n    if (cluster && Math.abs(layer.clusterZoom - newZoom) >= 1) {\n      if (zoom !== Math.floor(newZoom)) {\n        source.updateClusterData(Math.floor(newZoom));\n      }\n      layer.clusterZoom = newZoom;\n      return true;\n    }\n    return false;\n  }\n}", "export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n", "export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n", "import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n", "export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n", "export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n", "import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n", "export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n", "import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n", "import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n", "export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n", "import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n", "export default function(x) {\n  return x === null ? NaN : +x;\n}\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n", "import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n", "export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n", "export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n", "import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n", "var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n", "import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function(x) {\n  return +x;\n}\n", "import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n", "export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n", "export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n", "export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n", "// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n", "// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n", "import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": formatDecimal,\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n", "export default function(x) {\n  return x;\n}\n", "import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n", "import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n", "import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n", "export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n", "import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice\";\nimport {copy, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n", "import {linearish} from \"./linear\";\nimport {copy, identity, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n", "import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\nimport {initRange} from \"./init\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n", "import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n", "import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n", "export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n", "import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n", "import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n", "import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n", "import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n", "import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n", "import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n", "import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n", "import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n", "import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n", "import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n", "import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n", "import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n", "import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n", "import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n", "import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n", "import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n", "import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity, identity),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n", "import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n", "import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {copy} from \"./sequential\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (x < t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), t2 = transform(x2 = +_[2]), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1);\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n", "export default function identity(d) {\n  let unknown;\n  let domain = [];\n  function scale(x) {\n    return x == null ? unknown : x;\n  }\n  scale.invert = scale;\n  scale.domain = scale.range = v => {\n    if (v) {\n      domain = v;\n      return v;\n    }\n    return domain;\n  };\n  scale.unknown = v => {\n    if (v) {\n      unknown = v;\n      return v;\n    }\n    return unknown;\n  };\n  scale.copy = () => {\n    return identity(d).unknown(unknown);\n  };\n  return scale;\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { IDebugLog, ILayerStage, ScaleTypes, StyleScaleType } from '@antv/l7-core';\nimport { lodashUtil } from '@antv/l7-utils';\nimport { extent } from 'd3-array';\nimport * as d3interpolate from 'd3-interpolate';\nimport * as d3 from 'd3-scale';\nimport identity from \"../utils/identityScale\";\nconst {\n  isNil,\n  isString,\n  uniq\n} = lodashUtil;\nconst dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\nconst scaleMap = {\n  [ScaleTypes.LINEAR]: d3.scaleLinear,\n  [ScaleTypes.POWER]: d3.scalePow,\n  [ScaleTypes.LOG]: d3.scaleLog,\n  [ScaleTypes.IDENTITY]: identity,\n  [ScaleTypes.SEQUENTIAL]: d3.scaleSequential,\n  [ScaleTypes.TIME]: d3.scaleTime,\n  [ScaleTypes.QUANTILE]: d3.scaleQuantile,\n  [ScaleTypes.QUANTIZE]: d3.scaleQuantize,\n  [ScaleTypes.THRESHOLD]: d3.scaleThreshold,\n  [ScaleTypes.CAT]: d3.scaleOrdinal,\n  [ScaleTypes.DIVERGING]: d3.scaleDiverging\n};\n/**\n * 根据 Source 原始数据为指定字段创建 Scale，保存在 StyleAttribute 上，供下游插件使用\n */\nexport default class FeatureScalePlugin {\n  constructor() {\n    _defineProperty(this, \"scaleOptions\", {});\n  }\n  apply(layer, {\n    styleAttributeService\n  }) {\n    var _this = this;\n    layer.hooks.init.tapPromise('FeatureScalePlugin', /*#__PURE__*/_asyncToGenerator(function* () {\n      var _layer$getSource;\n      layer.log(IDebugLog.ScaleInitStart, ILayerStage.INIT);\n      _this.scaleOptions = layer.getScaleOptions();\n      const attributes = styleAttributeService.getLayerStyleAttributes();\n      const dataArray = (_layer$getSource = layer.getSource()) === null || _layer$getSource === void 0 ? void 0 : _layer$getSource.data.dataArray;\n      if (Array.isArray(dataArray) && dataArray.length === 0) {\n        return;\n      } else {\n        _this.caculateScalesForAttributes(attributes || [], dataArray);\n      }\n      layer.log(IDebugLog.ScaleInitEnd, ILayerStage.INIT);\n    }));\n\n    // 检测数据是否需要更新\n    layer.hooks.beforeRenderData.tapPromise('FeatureScalePlugin', /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (flag) {\n        if (!flag) {\n          return flag;\n        }\n        layer.log(IDebugLog.ScaleInitStart, ILayerStage.UPDATE);\n        _this.scaleOptions = layer.getScaleOptions();\n        const attributes = styleAttributeService.getLayerStyleAttributes();\n        const dataArray = layer.getSource().data.dataArray;\n        if (Array.isArray(dataArray) && dataArray.length === 0) {\n          return true;\n        }\n        _this.caculateScalesForAttributes(attributes || [], dataArray);\n        layer.log(IDebugLog.ScaleInitEnd, ILayerStage.UPDATE);\n        layer.layerModelNeedUpdate = true;\n        return true;\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    layer.hooks.beforeRender.tap('FeatureScalePlugin', () => {\n      if (layer.layerModelNeedUpdate) {\n        return;\n      }\n      this.scaleOptions = layer.getScaleOptions();\n      const attributes = styleAttributeService.getLayerStyleAttributes();\n      const dataArray = layer.getSource().data.dataArray;\n      if (Array.isArray(dataArray) && dataArray.length === 0) {\n        return;\n      }\n      if (attributes) {\n        const attributesToRescale = attributes.filter(attribute => attribute.needRescale);\n        if (attributesToRescale.length) {\n          this.caculateScalesForAttributes(attributesToRescale, dataArray);\n        }\n      }\n    });\n  }\n  isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n  caculateScalesForAttributes(attributes, dataArray) {\n    attributes.forEach(attribute => {\n      if (attribute.scale) {\n        // 创建Scale\n        const attributeScale = attribute.scale;\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const fieldValue = attribute.scale.field;\n        attributeScale.names = this.parseFields(isNil(fieldValue) ? [] : fieldValue);\n        const scales = [];\n        // 为每个字段创建 Scale\n        attributeScale.names.forEach(field => {\n          var _attribute$scale;\n          scales.push(this.createScale(field, attribute.name, (_attribute$scale = attribute.scale) === null || _attribute$scale === void 0 ? void 0 : _attribute$scale.values, dataArray));\n        });\n\n        // 为scales 设置值区间 Range\n        if (scales.some(scale => scale.type === StyleScaleType.VARIABLE)) {\n          attributeScale.type = StyleScaleType.VARIABLE;\n          scales.forEach(scale => {\n            // 如果设置了回调, 这不需要设置range\n            if (!attributeScale.callback && attributeScale.values !== 'text') {\n              var _scale$option;\n              switch ((_scale$option = scale.option) === null || _scale$option === void 0 ? void 0 : _scale$option.type) {\n                case ScaleTypes.LOG:\n                case ScaleTypes.LINEAR:\n                case ScaleTypes.POWER:\n                  if (attributeScale.values && attributeScale.values.length > 2) {\n                    const tick = scale.scale.ticks(attributeScale.values.length);\n                    scale.scale.domain(tick);\n                  }\n                  attributeScale.values ? scale.scale.range(attributeScale.values) : scale.scale.range(scale.option.domain);\n                  break;\n                case ScaleTypes.QUANTILE:\n                case ScaleTypes.QUANTIZE:\n                case ScaleTypes.THRESHOLD:\n                  scale.scale.range(attributeScale.values); //\n                  break;\n                case ScaleTypes.IDENTITY:\n                  // 不做处理xe\n                  break;\n                case ScaleTypes.CAT:\n                  attributeScale.values ? scale.scale.range(attributeScale.values) : scale.scale.range(scale.option.domain);\n                  break;\n                case ScaleTypes.DIVERGING:\n                case ScaleTypes.SEQUENTIAL:\n                  scale.scale.interpolator(\n                  // @ts-ignore\n                  d3interpolate.interpolateRgbBasis(attributeScale.values));\n                  break;\n              }\n            }\n            if (attributeScale.values === 'text') {\n              var _scale$option2;\n              scale.scale.range((_scale$option2 = scale.option) === null || _scale$option2 === void 0 ? void 0 : _scale$option2.domain);\n            }\n          });\n        } else {\n          // 设置attribute 常量值 常量直接在value取值\n          attributeScale.type = StyleScaleType.CONSTANT;\n          attributeScale.defaultValues = scales.map((scale, index) => {\n            return scale.scale(attributeScale.names[index]);\n          });\n        }\n        attributeScale.scalers = scales.map(scale => {\n          return {\n            field: scale.field,\n            func: scale.scale,\n            option: scale.option\n          };\n        });\n        attribute.needRescale = false;\n      }\n    });\n  }\n\n  /**\n   * @example\n   * 'w*h' => ['w', 'h']\n   * 'w' => ['w']\n   */\n  parseFields(field) {\n    if (Array.isArray(field)) {\n      return field;\n    }\n    if (isString(field)) {\n      return field.split('*');\n    }\n    return [field];\n  }\n  createScale(field, name, values, data) {\n    var _this$scaleOptions$na, _find;\n    // scale 支持根据视觉通道和字段\n    const scaleOption = this.scaleOptions[name] && ((_this$scaleOptions$na = this.scaleOptions[name]) === null || _this$scaleOptions$na === void 0 ? void 0 : _this$scaleOptions$na.field) === field ? this.scaleOptions[name] // TODO  zi\n    : this.scaleOptions[field];\n    const styleScale = {\n      field,\n      scale: undefined,\n      type: StyleScaleType.VARIABLE,\n      option: scaleOption\n    };\n    if (!data || !data.length) {\n      if (scaleOption && scaleOption.type) {\n        styleScale.scale = this.createDefaultScale(scaleOption);\n      } else {\n        styleScale.scale = d3.scaleOrdinal([field]);\n        styleScale.type = StyleScaleType.CONSTANT;\n      }\n      return styleScale;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const firstValue = (_find = data.find(d => !isNil(d[field]))) === null || _find === void 0 ? void 0 : _find[field];\n    // 常量 Scale\n    if (this.isNumber(field) || isNil(firstValue) && !scaleOption) {\n      styleScale.scale = d3.scaleOrdinal([field]);\n      styleScale.type = StyleScaleType.CONSTANT;\n    } else {\n      // 根据数据类型判断 默认等分位，时间，和枚举类型\n      let type = scaleOption && scaleOption.type || this.getDefaultType(firstValue);\n      if (values === 'text') {\n        // text 为内置变 如果是文本则为cat\n        type = ScaleTypes.CAT;\n      }\n      if (values === undefined) {\n        type = ScaleTypes.IDENTITY;\n      }\n      const cfg = this.createScaleConfig(type, field, scaleOption, data);\n      styleScale.scale = this.createDefaultScale(cfg);\n      styleScale.option = cfg;\n    }\n    return styleScale;\n  }\n  getDefaultType(firstValue) {\n    let type = ScaleTypes.LINEAR;\n    if (typeof firstValue === 'string') {\n      type = dateRegex.test(firstValue) ? ScaleTypes.TIME : ScaleTypes.CAT;\n    }\n    return type;\n  }\n  // 生成Scale 默认配置\n  createScaleConfig(type, field, scaleOption, data) {\n    const cfg = _objectSpread(_objectSpread({}, scaleOption), {}, {\n      type\n    });\n    if (cfg !== null && cfg !== void 0 && cfg.domain) return cfg;\n\n    // quantile domain 需要根据ID 进行去重\n    let values = [];\n    if (type === ScaleTypes.QUANTILE) {\n      // 根据 obejct 属性 _id 进行去重\n      const idMap = new Map();\n      data === null || data === void 0 || data.forEach(obj => {\n        idMap.set(obj._id, obj[field]);\n      });\n      values = Array.from(idMap.values());\n    } else {\n      values = (data === null || data === void 0 ? void 0 : data.map(item => item[field])) || [];\n    }\n    if (type === ScaleTypes.CAT || type === ScaleTypes.IDENTITY) {\n      cfg.domain = uniq(values);\n    } else if (type === ScaleTypes.QUANTILE) {\n      cfg.domain = values;\n    } else if (type === ScaleTypes.DIVERGING) {\n      const minMax = extent(values);\n      const neutral = (scaleOption === null || scaleOption === void 0 ? void 0 : scaleOption.neutral) !== undefined ? scaleOption === null || scaleOption === void 0 ? void 0 : scaleOption.neutral : (minMax[0] + minMax[1]) / 2;\n      cfg.domain = [minMax[0], neutral, minMax[1]];\n    } else {\n      // linear/Power/log\n      cfg.domain = extent(values);\n    }\n    return cfg;\n  }\n\n  // 创建Scale 实例\n  createDefaultScale({\n    type,\n    domain,\n    unknown,\n    clamp,\n    nice\n  }) {\n    // @ts-ignore\n    const scale = scaleMap[type]();\n    if (domain && scale.domain) {\n      scale.domain(domain);\n    }\n    if (unknown) {\n      scale.unknown(unknown);\n    }\n    if (clamp !== undefined && scale.clamp) {\n      scale.clamp(clamp);\n    }\n    if (nice !== undefined && scale.nice) {\n      scale.nice(nice);\n    }\n    // TODO 其他属性支持\n    return scale;\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nexport default class LayerAnimateStylePlugin {\n  apply(layer) {\n    layer.hooks.beforeRender.tap('LayerAnimateStylePlugin', () => {\n      // @ts-ignore\n      const animateStatus = layer.animateStatus;\n      if (animateStatus) {\n        layer.models.forEach(model => {\n          model.addUniforms(_objectSpread({}, layer.layerModel.getAnimateUniforms()));\n        });\n      }\n    });\n  }\n}", "/**\n * 更新图层样式，初始图层相关配置\n */\nexport default class LayerStylePlugin {\n  apply(layer) {\n    layer.hooks.afterInit.tap('LayerMaskPlugin', () => {\n      const {\n        maskLayers,\n        enableMask\n      } = layer.getLayerConfig();\n      // mask 初始化\n      if (!layer.tileLayer && maskLayers && maskLayers.length > 0) {\n        layer.updateLayerConfig({\n          mask: true && enableMask\n        });\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { IDebugLog, ILayerStage } from '@antv/l7-core';\n// import TileLayer from '../tile/core/BaseLayer';\n/**\n * Layer Model 初始化，更新，销毁\n */\nexport default class LayerModelPlugin {\n  build(layer) {\n    return _asyncToGenerator(function* () {\n      // 更新Model 配置项 style options\n      layer.prepareBuildModel();\n      // 初始化 Model\n      yield layer.buildModels();\n    })();\n  }\n  initLayerModel(layer) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.build(layer);\n      layer.styleNeedUpdate = false;\n    })();\n  }\n  prepareLayerModel(layer) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield _this2.build(layer);\n      layer.styleNeedUpdate = false;\n    })();\n  }\n  apply(layer) {\n    var _this3 = this;\n    layer.hooks.init.tapPromise('LayerModelPlugin', /*#__PURE__*/_asyncToGenerator(function* () {\n      if (layer.getSource().isTile) {\n        layer.prepareBuildModel();\n        return;\n      }\n      layer.log(IDebugLog.BuildModelStart, ILayerStage.INIT);\n      yield _this3.initLayerModel(layer);\n      layer.log(IDebugLog.BuildModelEnd, ILayerStage.INIT);\n    }));\n    layer.hooks.beforeRenderData.tapPromise('LayerModelPlugin', /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (flag) {\n        if (!flag) {\n          // TileLayer  不需要rebuilder\n          return false;\n        }\n        if (layer.getSource().isTile) {\n          return false;\n        }\n        layer.log(IDebugLog.BuildModelStart, ILayerStage.UPDATE);\n        yield _this3.prepareLayerModel(layer);\n        layer.log(IDebugLog.BuildModelEnd, ILayerStage.UPDATE);\n        return true;\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n}", "/**\n * 更新图层样式，初始图层相关配置\n */\nexport default class LayerStylePlugin {\n  apply(layer) {\n    layer.hooks.afterInit.tap('LayerStylePlugin', () => {\n      const {\n        autoFit,\n        fitBoundsOptions\n      } = layer.getLayerConfig();\n      // mask 初始化\n      if (autoFit) {\n        layer.fitBounds(fitBoundsOptions);\n      }\n      layer.styleNeedUpdate = false;\n    });\n  }\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nconst _excluded = [\"type\"];\nconst lightTypeUniformMap = {\n  directional: {\n    lights: 'u_DirectionalLights',\n    num: 'u_NumOfDirectionalLights'\n  },\n  spot: {\n    lights: 'u_SpotLights',\n    num: 'u_NumOfSpotLights'\n  }\n};\nconst DEFAULT_LIGHT = {\n  type: 'directional',\n  direction: [1, 10.5, 12],\n  ambient: [0.2, 0.2, 0.2],\n  diffuse: [0.6, 0.6, 0.6],\n  specular: [0.1, 0.1, 0.1]\n};\nconst DEFAULT_DIRECTIONAL_LIGHT = {\n  direction: [0, 0, 0],\n  ambient: [0, 0, 0],\n  diffuse: [0, 0, 0],\n  specular: [0, 0, 0]\n};\nconst DEFAULT_SPOT_LIGHT = {\n  position: [0, 0, 0],\n  direction: [0, 0, 0],\n  ambient: [0, 0, 0],\n  diffuse: [0, 0, 0],\n  specular: [0, 0, 0],\n  constant: 1,\n  linear: 0,\n  quadratic: 0,\n  angle: 14,\n  exponent: 40,\n  blur: 5\n};\nexport function generateLightingUniforms(lights) {\n  const lightsMap = {\n    u_DirectionalLights: new Array(3).fill(_objectSpread({}, DEFAULT_DIRECTIONAL_LIGHT)),\n    u_NumOfDirectionalLights: 0,\n    u_SpotLights: new Array(3).fill(_objectSpread({}, DEFAULT_SPOT_LIGHT)),\n    u_NumOfSpotLights: 0\n  };\n  if (!lights || !lights.length) {\n    lights = [DEFAULT_LIGHT];\n  }\n  lights.forEach(_ref => {\n    let {\n        type = 'directional'\n      } = _ref,\n      rest = _objectWithoutProperties(_ref, _excluded);\n    const lightsUniformName = lightTypeUniformMap[type].lights;\n    const lightsNumUniformName = lightTypeUniformMap[type].num;\n\n    // @ts-ignore\n    const num = lightsMap[lightsNumUniformName];\n    // @ts-ignore\n    lightsMap[lightsUniformName][num] = _objectSpread(_objectSpread({}, lightsMap[lightsUniformName][num]), rest);\n    // @ts-ignore\n    lightsMap[lightsNumUniformName]++;\n  });\n  return lightsMap;\n}\n\n/**\n * 光照 & Shadow\n */\nexport default class LightingPlugin {\n  apply(layer) {\n    layer.hooks.beforeRender.tap('LightingPlugin', () => {\n      const {\n        enableLighting\n      } = layer.getLayerConfig();\n      if (enableLighting) {\n        layer.models.forEach(model =>\n        // @ts-ignore\n        model.addUniforms(_objectSpread({}, generateLightingUniforms())));\n      }\n    });\n  }\n}", "/**\n * 'blurH' -> ['blurH', {}]\n */\nexport function normalizePasses(passes) {\n  return passes.map(pass => {\n    if (typeof pass === 'string') {\n      pass = [pass, {}];\n    }\n    return pass;\n  });\n}\n\n/**\n * 默认添加 ClearPass、RenderPass\n * 以及 PostProcessing 中的最后一个 CopyPass\n */\nexport function createMultiPassRenderer(layer, passes, postProcessingPassFactory, normalPassFactory) {\n  const multiPassRenderer = layer.multiPassRenderer;\n\n  // picking pass if enabled\n  // if (enablePicking) {\n  //   multiPassRenderer.add(normalPassFactory('pixelPicking'));\n  // }\n\n  // render all layers in this pass\n  multiPassRenderer.add(normalPassFactory('render'));\n\n  // post processing\n  normalizePasses(passes).forEach(pass => {\n    const [passName, initializationOptions] = pass;\n    multiPassRenderer.add(postProcessingPassFactory(passName), initializationOptions);\n  });\n\n  // 末尾为固定的 CopyPass\n  multiPassRenderer.add(postProcessingPassFactory('copy'));\n  return multiPassRenderer;\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createMultiPassRenderer } from \"../utils/multiPassRender\";\n\n/**\n * 自定义渲染管线：\n * ClearPass -> PixelPickingPass(可选) -> RenderPass/TAAPass -> PostProcessing -> CopyPass\n * 根据 Layer 配置的 passes 创建 PostProcessing\n * @example\n * new PolygonLayer({\n *   enableMultiPassRenderer: true,\n *   passes: [\n *     'blurH',\n *     ['blurV', { radius: 10 }],\n *   ],\n * })\n */\nexport default class MultiPassRendererPlugin {\n  constructor() {\n    _defineProperty(this, \"enabled\", void 0);\n  }\n  apply(layer, {\n    rendererService,\n    postProcessingPassFactory,\n    normalPassFactory\n  }) {\n    layer.hooks.init.tapPromise('MultiPassRendererPlugin', () => {\n      const {\n        enableMultiPassRenderer,\n        passes = []\n      } = layer.getLayerConfig();\n\n      // SceneConfig 的 enableMultiPassRenderer 配置项可以统一关闭\n      this.enabled = !!enableMultiPassRenderer && layer.getLayerConfig().enableMultiPassRenderer !== false;\n\n      // 根据 LayerConfig passes 配置项初始化\n      if (this.enabled) {\n        layer.multiPassRenderer = createMultiPassRenderer(layer, passes, postProcessingPassFactory, normalPassFactory);\n        layer.multiPassRenderer.setRenderFlag(true);\n      }\n    });\n    layer.hooks.beforeRender.tap('MultiPassRendererPlugin', () => {\n      if (this.enabled) {\n        // 渲染前根据 viewport 调整 FBO size\n        const {\n          width,\n          height\n        } = rendererService.getViewportSize();\n        layer.multiPassRenderer.resize(width, height);\n      }\n    });\n  }\n}", "import { AttributeType, gl } from '@antv/l7-core';\n\n/**\n * Attribute Layout Location in Shader\n */\nexport const COMMON_ATTRIBUTE_LOCATION = {\n  // common attribute in RegisterStyleAttributePlugin\n  POSITION: 0,\n  // low part for double precision POSITION attribute\n  POSITION_64LOW: 1,\n  COLOR: 2,\n  PICKING_COLOR: 3,\n  // common style attribute\n  STROKE: 4,\n  OPACITY: 5,\n  OFFSETS: 6,\n  ROTATION: 7,\n  // last index\n  MAX: 8\n};\nexport function getCommonStyleAttributeOptions(name) {\n  switch (name) {\n    // // roate\n    case 'rotation':\n      return {\n        name: 'Rotation',\n        type: AttributeType.Attribute,\n        descriptor: {\n          name: 'a_Rotation',\n          shaderLocation: COMMON_ATTRIBUTE_LOCATION.ROTATION,\n          buffer: {\n            usage: gl.DYNAMIC_DRAW,\n            data: [],\n            type: gl.FLOAT\n          },\n          size: 1,\n          update: feature => {\n            const {\n              rotation = 0\n            } = feature;\n            return Array.isArray(rotation) ? [rotation[0]] : [rotation];\n          }\n        }\n      };\n    case 'stroke':\n      return {\n        name: 'stroke',\n        type: AttributeType.Attribute,\n        descriptor: {\n          name: 'a_Stroke',\n          shaderLocation: COMMON_ATTRIBUTE_LOCATION.STROKE,\n          buffer: {\n            // give the WebGL driver a hint that this buffer may change\n            usage: gl.DYNAMIC_DRAW,\n            data: [],\n            type: gl.FLOAT\n          },\n          size: 4,\n          update: feature => {\n            const {\n              stroke = [1, 1, 1, 1]\n            } = feature;\n            return stroke;\n          }\n        }\n      };\n    case 'opacity':\n      return {\n        name: 'opacity',\n        type: AttributeType.Attribute,\n        descriptor: {\n          name: 'a_Opacity',\n          shaderLocation: COMMON_ATTRIBUTE_LOCATION.OPACITY,\n          buffer: {\n            // give the WebGL driver a hint that this buffer may change\n            usage: gl.STATIC_DRAW,\n            data: [],\n            type: gl.FLOAT\n          },\n          size: 1,\n          update: feature => {\n            const {\n              opacity: op = 1\n            } = feature;\n            return [op];\n          }\n        }\n      };\n    case 'offsets':\n      return {\n        name: 'offsets',\n        type: AttributeType.Attribute,\n        descriptor: {\n          name: 'a_Offsets',\n          shaderLocation: COMMON_ATTRIBUTE_LOCATION.OFFSETS,\n          buffer: {\n            // give the WebGL driver a hint that this buffer may change\n            usage: gl.STATIC_DRAW,\n            data: [],\n            type: gl.FLOAT\n          },\n          size: 2,\n          update: feature => {\n            const {\n              offsets: epo\n            } = feature;\n            return epo;\n          }\n        }\n      };\n    default:\n      return undefined;\n  }\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { decodePickingColor, encodePickingColor, lodashUtil, rgb2arr } from '@antv/l7-utils';\nimport { COMMON_ATTRIBUTE_LOCATION } from \"../core/CommonStyleAttribute\";\nconst {\n  isNumber\n} = lodashUtil;\nconst PickingStage = {\n  NONE: 0.0,\n  ENCODE: 1.0,\n  HIGHLIGHT: 2.0\n};\nexport default class PixelPickingPlugin {\n  constructor() {\n    /**\n     * Use map to keep order of insertion.\n     * @see https://stackoverflow.com/questions/5525795/does-javascript-guarantee-object-property-order\n     */\n    _defineProperty(this, \"pickingUniformMap\", void 0);\n  }\n  pickOption2Array() {\n    const array = [];\n    this.pickingUniformMap.forEach(value => {\n      if (isNumber(value)) {\n        array.push(value);\n      } else {\n        array.push(...value);\n      }\n    });\n    return array;\n  }\n  updatePickOption(options, layer) {\n    Object.keys(options).forEach(key => {\n      this.pickingUniformMap.set(key, options[key]);\n    });\n    const u_PickingBuffer = layer.getLayerConfig().pickingBuffer || 0;\n    // Tip: 当前地图是否在拖动\n    const u_shaderPick = Number(layer.getShaderPickStat());\n    this.pickingUniformMap.set('u_PickingBuffer', u_PickingBuffer);\n    this.pickingUniformMap.set('u_shaderPick', u_shaderPick);\n    const uniformBuffer = layer.getPickingUniformBuffer();\n    uniformBuffer.subData({\n      offset: 0,\n      data: this.pickOption2Array()\n    });\n  }\n  apply(layer, {\n    styleAttributeService\n  }) {\n    this.pickingUniformMap = new Map([['u_HighlightColor', [1, 0, 0, 1]], ['u_SelectColor', [1, 0, 0, 1]], ['u_PickingColor', [0, 0, 0]], ['u_PickingStage', 0], ['u_CurrentSelectedId', [0, 0, 0]], ['u_PickingThreshold', 10], ['u_PickingBuffer', 0], ['u_shaderPick', 0], ['u_activeMix', 0]]);\n\n    // TODO: 由于 Shader 目前无法根据是否开启拾取进行内容修改，因此即使不开启也需要生成 a_PickingColor\n    layer.hooks.init.tapPromise('PixelPickingPlugin', () => {\n      const {\n        enablePicking\n      } = layer.getLayerConfig();\n      styleAttributeService.registerStyleAttribute({\n        name: 'pickingColor',\n        type: AttributeType.Attribute,\n        descriptor: {\n          name: 'a_PickingColor',\n          shaderLocation: COMMON_ATTRIBUTE_LOCATION.PICKING_COLOR,\n          buffer: {\n            data: [],\n            type: gl.FLOAT\n          },\n          size: 3,\n          // TODO: 固定 feature range 范围内的 pickingColor 都是固定的，可以生成 cache\n          update: feature => {\n            // 只有开启拾取才需要 encode\n            const {\n              id\n            } = feature;\n            return enablePicking ? encodePickingColor(id) : [0, 0, 0];\n          }\n        }\n      });\n    });\n    // 必须要与 PixelPickingPass 结合使用，因此必须开启 multiPassRenderer\n    layer.hooks.beforePickingEncode.tap('PixelPickingPlugin', () => {\n      const {\n        enablePicking\n      } = layer.getLayerConfig();\n      if (enablePicking && layer.isVisible()) {\n        this.updatePickOption({\n          u_PickingStage: PickingStage.ENCODE\n        }, layer);\n        layer.models.forEach(model => model.addUniforms({\n          u_PickingStage: PickingStage.ENCODE\n        }));\n      }\n    });\n    layer.hooks.afterPickingEncode.tap('PixelPickingPlugin', () => {\n      const {\n        enablePicking\n      } = layer.getLayerConfig();\n      // 区分选中高亮 和滑过高亮\n      if (enablePicking && layer.isVisible()) {\n        this.updatePickOption({\n          u_PickingStage: PickingStage.HIGHLIGHT\n        }, layer);\n        layer.models.forEach(model => model.addUniforms({\n          u_PickingStage: PickingStage.HIGHLIGHT\n        }));\n      }\n    });\n    layer.hooks.beforeHighlight.tap('PixelPickingPlugin', pickedColor => {\n      const {\n        highlightColor,\n        activeMix = 0\n      } = layer.getLayerConfig();\n      const highlightColorInArray = typeof highlightColor === 'string' ? rgb2arr(highlightColor) : highlightColor || [1, 0, 0, 1];\n      layer.updateLayerConfig({\n        pickedFeatureID: decodePickingColor(new Uint8Array(pickedColor))\n      });\n      const option = {\n        u_PickingStage: PickingStage.HIGHLIGHT,\n        u_PickingColor: pickedColor,\n        u_HighlightColor: highlightColorInArray.map(c => c * 255),\n        u_activeMix: activeMix\n      };\n      this.updatePickOption(option, layer);\n      layer.models.forEach(model => model.addUniforms(option));\n    });\n    layer.hooks.beforeSelect.tap('PixelPickingPlugin', pickedColor => {\n      const {\n        selectColor,\n        selectMix = 0\n      } = layer.getLayerConfig();\n      const highlightColorInArray = typeof selectColor === 'string' ? rgb2arr(selectColor) : selectColor || [1, 0, 0, 1];\n      layer.updateLayerConfig({\n        pickedFeatureID: decodePickingColor(new Uint8Array(pickedColor))\n      });\n      const option = {\n        u_PickingStage: PickingStage.HIGHLIGHT,\n        u_PickingColor: pickedColor,\n        u_HighlightColor: highlightColorInArray.map(c => c * 255),\n        u_activeMix: selectMix,\n        u_CurrentSelectedId: pickedColor,\n        u_SelectColor: highlightColorInArray.map(c => c * 255)\n      };\n      this.updatePickOption(option, layer);\n      layer.models.forEach(model => model.addUniforms(option));\n    });\n  }\n}", "export const tileVectorParser = ['mvt', 'geojsonvt', 'testTile'];\n\n/**\n * 判断当前图层是否是瓦片图层\n * @param layer\n * @returns\n */\nexport function isTileGroup(layer) {\n  const source = layer.getSource();\n  return tileVectorParser.includes(source.parser.type);\n}", "import { AttributeType, gl } from '@antv/l7-core';\nimport { COMMON_ATTRIBUTE_LOCATION } from \"../core/CommonStyleAttribute\";\nimport { isTileGroup } from \"../tile/utils/utils\";\n\n/**\n * 在初始化阶段完成属性的注册，以及首次根据 Layer 指定的三角化方法完成 indices 和 attribute 的创建\n */\nexport default class RegisterStyleAttributePlugin {\n  apply(layer, {\n    styleAttributeService\n  }) {\n    layer.hooks.init.tapPromise('RegisterStyleAttributePlugin', () => {\n      // 过滤 tileGroup layer （瓦片图层不需要注册）\n      if (isTileGroup(layer)) {\n        return;\n      }\n      this.registerBuiltinAttributes(styleAttributeService, layer);\n    });\n  }\n  registerBuiltinAttributes(styleAttributeService, layer) {\n    // MaskLayer 只需要注册 a_Position\n    if (layer.type === 'MaskLayer') {\n      this.registerPositionAttribute(styleAttributeService);\n      return;\n    }\n    // Tip: normal render layer\n    this.registerPositionAttribute(styleAttributeService);\n    // this.registerFilterAttribute(styleAttributeService);//数据层数据过滤\n    this.registerColorAttribute(styleAttributeService);\n  }\n  registerPositionAttribute(styleAttributeService) {\n    styleAttributeService.registerStyleAttribute({\n      name: 'position',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Position',\n        shaderLocation: COMMON_ATTRIBUTE_LOCATION.POSITION,\n        buffer: {\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex) => {\n          return vertex.length === 2 ? [vertex[0], vertex[1], 0] : [vertex[0], vertex[1], vertex[2]];\n        }\n      }\n    });\n  }\n  registerColorAttribute(styleAttributeService) {\n    styleAttributeService.registerStyleAttribute({\n      name: 'color',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Color',\n        shaderLocation: COMMON_ATTRIBUTE_LOCATION.COLOR,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: feature => {\n          const {\n            color\n          } = feature;\n          return !color || !color.length ? [1, 1, 1, 1] : color;\n        }\n      }\n    });\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { CameraUniform, CoordinateUniform } from '@antv/l7-core';\n\n/**\n * 在渲染之前需要获取当前 Shader 所需 Uniform，例如：\n * 1. 从相机服务中获取 View & ProjectionMatrix，当前缩放等级等等\n * 2. 从坐标系服务中获取当前坐标系，例如是否是偏移坐标系\n *    @see https://yuque.antfin-inc.com/yuqi.pyq/fgetpa/doml91\n * 3. 当前 Layer 本身的样式属性\n */\nexport default class ShaderUniformPlugin {\n  constructor() {\n    _defineProperty(this, \"cameraService\", void 0);\n    _defineProperty(this, \"coordinateSystemService\", void 0);\n    _defineProperty(this, \"rendererService\", void 0);\n    _defineProperty(this, \"mapService\", void 0);\n    _defineProperty(this, \"layerService\", void 0);\n  }\n  apply(layer, {\n    rendererService,\n    mapService,\n    layerService,\n    coordinateSystemService,\n    cameraService\n  }) {\n    this.rendererService = rendererService;\n    this.mapService = mapService;\n    this.layerService = layerService;\n    this.coordinateSystemService = coordinateSystemService;\n    this.cameraService = cameraService;\n    let uniformBuffer;\n    if (!this.rendererService.uniformBuffers[0]) {\n      // Create a Uniform Buffer Object(UBO).\n      uniformBuffer = this.rendererService.createBuffer({\n        data: new Float32Array(16 * 4 + 4 * 7),\n        isUBO: true,\n        label: 'renderUniformBuffer'\n      });\n      this.rendererService.uniformBuffers[0] = uniformBuffer;\n    }\n    layer.hooks.beforeRender.tap('ShaderUniformPlugin', () => {\n      // @ts-ignore\n      const offset = layer.getLayerConfig().tileOrigin;\n      // 重新计算坐标系参数\n      this.coordinateSystemService.refresh(offset);\n      const {\n        width,\n        height\n      } = this.rendererService.getViewportSize();\n      const {\n        data,\n        uniforms\n      } = this.generateUBO(width, height);\n      if (this.layerService.alreadyInRendering && this.rendererService.uniformBuffers[0]) {\n        const renderUniformBuffer = this.rendererService.uniformBuffers[0];\n        // Update only once since all models can share one UBO.\n        renderUniformBuffer.subData({\n          offset: 0,\n          data\n        });\n      }\n\n      // For WebGL1. regl\n      const platformString = this.rendererService.queryVerdorInfo();\n      if (platformString === 'WebGL1') {\n        layer.models.forEach(model => {\n          model.addUniforms(_objectSpread(_objectSpread({}, uniforms), {}, {\n            // TODO: move these 2 uniforms to PixelPickingPlugin\n            u_PickingBuffer: layer.getLayerConfig().pickingBuffer || 0,\n            // Tip: 当前地图是否在拖动\n            u_shaderPick: Number(layer.getShaderPickStat())\n          }));\n        });\n      }\n    });\n  }\n  generateUBO(width, height) {\n    const u_ProjectionMatrix = this.cameraService.getProjectionMatrix();\n    const u_ViewMatrix = this.cameraService.getViewMatrix();\n    const u_ViewProjectionMatrix = this.cameraService.getViewProjectionMatrix();\n    const u_ModelMatrix = this.cameraService.getModelMatrix();\n    const u_ViewportCenterProjection = this.coordinateSystemService.getViewportCenterProjection();\n    const u_PixelsPerDegree = this.coordinateSystemService.getPixelsPerDegree();\n    const u_Zoom = this.cameraService.getZoom();\n    const u_PixelsPerDegree2 = this.coordinateSystemService.getPixelsPerDegree2();\n    const u_ZoomScale = this.cameraService.getZoomScale();\n    const u_PixelsPerMeter = this.coordinateSystemService.getPixelsPerMeter();\n    const u_CoordinateSystem = this.coordinateSystemService.getCoordinateSystem();\n    const u_CameraPosition = this.cameraService.getCameraPosition();\n    const u_DevicePixelRatio = window.devicePixelRatio;\n    const u_ViewportCenter = this.coordinateSystemService.getViewportCenter();\n    const u_ViewportSize = [width, height];\n    const u_FocalDistance = this.cameraService.getFocalDistance();\n    const data = [...u_ViewMatrix,\n    // 16\n    ...u_ProjectionMatrix,\n    // 16\n    ...u_ViewProjectionMatrix,\n    // 16\n    ...u_ModelMatrix,\n    // 16\n    ...u_ViewportCenterProjection,\n    // 4\n    ...u_PixelsPerDegree,\n    // 4\n    u_Zoom, ...u_PixelsPerDegree2,\n    // 4\n    u_ZoomScale, ...u_PixelsPerMeter,\n    // 4\n    u_CoordinateSystem, ...u_CameraPosition,\n    // 4\n    u_DevicePixelRatio,\n    // 4\n    ...u_ViewportCenter, ...u_ViewportSize,\n    // 4\n    u_FocalDistance,\n    // 1\n    0, 0, 0];\n    return {\n      data,\n      uniforms: {\n        // 相机参数，包含 VP 矩阵、缩放等级\n        [CameraUniform.ProjectionMatrix]: u_ProjectionMatrix,\n        [CameraUniform.ViewMatrix]: u_ViewMatrix,\n        [CameraUniform.ViewProjectionMatrix]: u_ViewProjectionMatrix,\n        [CameraUniform.Zoom]: u_Zoom,\n        [CameraUniform.ZoomScale]: u_ZoomScale,\n        [CameraUniform.FocalDistance]: u_FocalDistance,\n        [CameraUniform.CameraPosition]: u_CameraPosition,\n        // 坐标系参数\n        [CoordinateUniform.CoordinateSystem]: u_CoordinateSystem,\n        [CoordinateUniform.ViewportCenter]: u_ViewportCenter,\n        [CoordinateUniform.ViewportCenterProjection]: u_ViewportCenterProjection,\n        [CoordinateUniform.PixelsPerDegree]: u_PixelsPerDegree,\n        [CoordinateUniform.PixelsPerDegree2]: u_PixelsPerDegree2,\n        [CoordinateUniform.PixelsPerMeter]: u_PixelsPerMeter,\n        // 其他参数，例如视口大小、DPR 等\n        u_ViewportSize: u_ViewportSize,\n        u_ModelMatrix,\n        u_DevicePixelRatio: u_DevicePixelRatio\n      }\n    };\n  }\n}", "/**\n * Model 更新\n */\nexport default class UpdateModelPlugin {\n  apply(layer) {\n    layer.hooks.beforeRender.tap('UpdateModelPlugin', () => {\n      // 处理文本更新\n      if (layer.layerModel) {\n        layer.layerModel.needUpdate().then(flag => {\n          if (flag) {\n            layer.renderLayers();\n          }\n        });\n      }\n    });\n    layer.hooks.afterRender.tap('UpdateModelPlugin', () => {\n      layer.layerModelNeedUpdate = false;\n    });\n  }\n}", "/**\n * 在初始化阶段完成属性的注册，以及首次根据 Layer 指定的三角化方法完成 indices 和 attribute 的创建\n */\nexport default class UpdateStyleAttributePlugin {\n  apply(layer, {\n    styleAttributeService\n  }) {\n    layer.hooks.init.tapPromise('UpdateStyleAttributePlugin', () => {\n      this.initStyleAttribute(layer, {\n        styleAttributeService\n      });\n    });\n    layer.hooks.beforeRender.tap('UpdateStyleAttributePlugin', () => {\n      if (layer.layerModelNeedUpdate) {\n        return;\n      }\n      if (layer.inited) {\n        this.updateStyleAttribute(layer, {\n          styleAttributeService\n        });\n      }\n    });\n  }\n  updateStyleAttribute(layer, {\n    styleAttributeService\n  }) {\n    const attributes = styleAttributeService.getLayerStyleAttributes() || [];\n    const filter = styleAttributeService.getLayerStyleAttribute('filter');\n    if (filter && filter.needRegenerateVertices) {\n      layer.layerModelNeedUpdate = true;\n      attributes.forEach(attr => attr.needRegenerateVertices = false);\n      return;\n    }\n    attributes.filter(attribute => attribute.needRegenerateVertices).forEach(attribute => {\n      // 精确更新某个/某些 feature(s)，需要传入 featureIdx d\n      styleAttributeService.updateAttributeByFeatureRange(attribute.name, layer.getEncodedData(),\n      // 获取经过 mapping 最新的数据\n      attribute.featureRange.startIndex, attribute.featureRange.endIndex, layer);\n      attribute.needRegenerateVertices = false;\n    });\n  }\n  initStyleAttribute(layer, {\n    styleAttributeService\n  }) {\n    const attributes = styleAttributeService.getLayerStyleAttributes() || [];\n    attributes.filter(attribute => attribute.needRegenerateVertices).forEach(attribute => {\n      // 精确更新某个/某些 feature(s)，需要传入 featureIdx d\n      styleAttributeService.updateAttributeByFeatureRange(attribute.name, layer.getEncodedData(),\n      // 获取经过 mapping 最新的数据\n      attribute.featureRange.startIndex, attribute.featureRange.endIndex);\n      attribute.needRegenerateVertices = false;\n    });\n  }\n}", "// import ConfigSchemaValidationPlugin from './ConfigSchemaValidationPlugin';\nimport DataMappingPlugin from \"./DataMappingPlugin\";\nimport DataSourcePlugin from \"./DataSourcePlugin\";\nimport FeatureScalePlugin from \"./FeatureScalePlugin\";\nimport LayerAnimateStylePlugin from \"./LayerAnimateStylePlugin\";\nimport LayerMaskPlugin from \"./LayerMaskPlugin\";\nimport LayerModelPlugin from \"./LayerModelPlugin\";\nimport LayerStylePlugin from \"./LayerStylePlugin\";\nimport LightingPlugin from \"./LightingPlugin\";\nimport MultiPassRendererPlugin from \"./MultiPassRendererPlugin\";\nimport PixelPickingPlugin from \"./PixelPickingPlugin\";\nimport RegisterStyleAttributePlugin from \"./RegisterStyleAttributePlugin\";\nimport ShaderUniformPlugin from \"./ShaderUniformPlugin\";\nimport UpdateModelPlugin from \"./UpdateModelPlugin\";\nimport UpdateStyleAttributePlugin from \"./UpdateStyleAttributePlugin\";\nexport function createPlugins() {\n  return [new DataSourcePlugin(), new RegisterStyleAttributePlugin(), new FeatureScalePlugin(), new DataMappingPlugin(), new LayerStylePlugin(), new LayerMaskPlugin(), new UpdateStyleAttributePlugin(), new UpdateModelPlugin(), new MultiPassRendererPlugin(), new ShaderUniformPlugin(), new LayerAnimateStylePlugin(), new LightingPlugin(), new PixelPickingPlugin(), new LayerModelPlugin()];\n}", "import { BlendType, gl } from '@antv/l7-core';\nexport const BlendTypes = {\n  [BlendType.additive]: {\n    enable: true,\n    func: {\n      srcRGB: gl.ONE,\n      dstRGB: gl.ONE,\n      srcAlpha: 1,\n      dstAlpha: 1\n    }\n  },\n  [BlendType.none]: {\n    enable: false\n  },\n  [BlendType.normal]: {\n    enable: true,\n    func: {\n      srcRGB: gl.SRC_ALPHA,\n      dstRGB: gl.ONE_MINUS_SRC_ALPHA,\n      srcAlpha: 1,\n      dstAlpha: 1\n    }\n  },\n  [BlendType.subtractive]: {\n    enable: true,\n    func: {\n      srcRGB: gl.ONE,\n      dstRGB: gl.ONE,\n      srcAlpha: gl.ZERO,\n      dstAlpha: gl.ONE_MINUS_SRC_COLOR\n    },\n    equation: {\n      rgb: gl.FUNC_SUBTRACT,\n      alpha: gl.FUNC_SUBTRACT\n    }\n  },\n  [BlendType.max]: {\n    enable: true,\n    func: {\n      srcRGB: gl.ONE,\n      dstRGB: gl.ONE\n    },\n    equation: {\n      rgb: gl.MAX_EXT\n    }\n  },\n  [BlendType.min]: {\n    enable: true,\n    func: {\n      srcRGB: gl.ONE,\n      dstRGB: gl.ONE\n    },\n    equation: {\n      rgb: gl.MIN_EXT\n    }\n  }\n};", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { lngLatInExtent } from '@antv/l7-utils';\nexport default class BaseLayerPickService {\n  constructor(layer) {\n    _defineProperty(this, \"layer\", void 0);\n    this.layer = layer;\n  }\n  pickRender(target) {\n    const container = this.layer.getContainer();\n    const layerService = container.layerService;\n    const layer = this.layer;\n    // 瓦片图层的拾取绘制\n    if (layer.tileLayer) {\n      return layer.tileLayer.pickRender(target);\n    }\n    // 渲染瓦片图层的拾取\n    layer.hooks.beforePickingEncode.call();\n    layerService.renderTileLayerMask(layer);\n    layer.renderModels({\n      ispick: true\n    });\n    layer.hooks.afterPickingEncode.call();\n  }\n  pick(layer, target) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const container = _this.layer.getContainer();\n      const pickingService = container.pickingService;\n      if (layer.type === 'RasterLayer') {\n        return _this.pickRasterLayer(layer, target);\n      }\n      _this.pickRender(target);\n      return pickingService.pickFromPickingFBO(layer, target);\n    })();\n  }\n  pickRasterLayer(layer, target, parent) {\n    const container = this.layer.getContainer();\n    const pickingService = container.pickingService;\n    const mapService = container.mapService;\n    const extent = this.layer.getSource().extent;\n    const isPick = lngLatInExtent(target.lngLat, extent);\n    const layerTarget = {\n      x: target.x,\n      y: target.y,\n      type: target.type,\n      lngLat: target.lngLat,\n      target,\n      rasterValue: null\n    };\n    const adviceTarget = parent ? parent : layer;\n    if (isPick) {\n      const rasterValue = this.readRasterValue(layer, extent, mapService, target.x, target.y);\n      layerTarget.rasterValue = rasterValue;\n      pickingService.triggerHoverOnLayer(adviceTarget, layerTarget);\n      return true;\n    } else {\n      layerTarget.type = target.type === 'mousemove' ? 'mouseout' : 'un' + target.type;\n      pickingService.triggerHoverOnLayer(adviceTarget, _objectSpread(_objectSpread({}, layerTarget), {}, {\n        type: 'unpick'\n      }));\n      pickingService.triggerHoverOnLayer(adviceTarget, layerTarget);\n      return false;\n    }\n  }\n  readRasterValue(layer, bbox, mapService, x, y) {\n    const rasterData = layer.getSource().data.dataArray[0];\n    const [minLng = 0, minLat = 0, maxLng = 10, maxLat = -10] = bbox;\n    const tileXY = mapService.lngLatToContainer([minLng, minLat]);\n    const tileMaxXY = mapService.lngLatToContainer([maxLng, maxLat]);\n    const tilePixelWidth = tileMaxXY.x - tileXY.x;\n    const tilePixelHeight = tileXY.y - tileMaxXY.y;\n    const pos = [(x - tileXY.x) / tilePixelWidth,\n    // x\n    (y - tileMaxXY.y) / tilePixelHeight // y\n    ];\n    const tileWidth = rasterData.width || 1;\n    const tileHeight = rasterData.height || 1;\n    const indexX = Math.floor(pos[0] * tileWidth);\n    const indexY = Math.floor(pos[1] * tileHeight);\n    const index = Math.max(0, indexY - 1) * tileWidth + indexX;\n    const data = rasterData.data[index];\n    return data;\n  }\n  selectFeature(pickedColors) {\n    const layer = this.layer;\n    // @ts-ignore\n    const [r, g, b] = pickedColors;\n    layer.hooks.beforeSelect.call([r, g, b]);\n  }\n  highlightPickedFeature(pickedColors) {\n    // @ts-ignore\n    const [r, g, b] = pickedColors;\n    this.layer.hooks.beforeHighlight.call([r, g, b]);\n  }\n  getFeatureById(pickedFeatureIdx) {\n    return this.layer.getSource().getFeatureById(pickedFeatureIdx);\n  }\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { generateCatRamp, generateColorRamp, generateCustomRamp, generateLinearRamp, generateQuantizeRamp } from '@antv/l7-utils';\nexport default class TextureService {\n  constructor(layer) {\n    _defineProperty(this, \"layer\", void 0);\n    _defineProperty(this, \"rendererService\", void 0);\n    _defineProperty(this, \"colorTexture\", void 0);\n    _defineProperty(this, \"key\", void 0);\n    this.layer = layer;\n    const container = this.layer.getContainer();\n    this.rendererService = container.rendererService;\n  }\n  getColorTexture(colorRamp, domain) {\n    // TODO 支持传入图片\n    const currentkey = this.getTextureKey(colorRamp, domain);\n    if (this.key === currentkey) {\n      return this.colorTexture;\n    } else {\n      this.createColorTexture(colorRamp, domain);\n    }\n    this.key = currentkey;\n    return this.colorTexture;\n  }\n  createColorTexture(colorRamp, domain) {\n    const {\n      createTexture2D\n    } = this.rendererService;\n    const imageData = this.getColorRampBar(colorRamp, domain);\n    const texture = createTexture2D({\n      data: new Uint8Array(imageData.data),\n      width: imageData.width,\n      height: imageData.height,\n      flipY: false,\n      unorm: true\n    });\n    this.colorTexture = texture;\n    return texture;\n  }\n  setColorTexture(texture, colorRamp, domain) {\n    this.key = this.getTextureKey(colorRamp, domain);\n    this.colorTexture = texture;\n  }\n  destroy() {\n    var _this$colorTexture;\n    (_this$colorTexture = this.colorTexture) === null || _this$colorTexture === void 0 || _this$colorTexture.destroy();\n  }\n  getColorRampBar(colorRamp, domain) {\n    switch (colorRamp.type) {\n      case 'cat':\n        return generateCatRamp(colorRamp);\n      case 'quantize':\n        return generateQuantizeRamp(colorRamp);\n      case 'custom':\n        return generateCustomRamp(colorRamp, domain);\n      case 'linear':\n        return generateLinearRamp(colorRamp, domain);\n      default:\n        return generateColorRamp(colorRamp);\n    }\n  }\n  getTextureKey(colorRamp, domain) {\n    var _colorRamp$positions;\n    return `${colorRamp.colors.join('_')}_${colorRamp === null || colorRamp === void 0 || (_colorRamp$positions = colorRamp.positions) === null || _colorRamp$positions === void 0 ? void 0 : _colorRamp$positions.join('_')}_${colorRamp.type}_${domain === null || domain === void 0 ? void 0 : domain.join('_')}`;\n  }\n}", "import { MaskOperation, StencilType, gl } from '@antv/l7-core';\n// 掩模配置\nexport function getStencil(mask, maskInside) {\n  return {\n    enable: mask,\n    mask: 0xff,\n    func: {\n      cmp: gl.EQUAL,\n      // gl.EQUAL,\n      ref: maskInside ? 1 : 0,\n      mask: 1\n    }\n  };\n}\n// 模版配置\nexport function getStencilMask(option) {\n  if (option.maskOperation === MaskOperation.OR) {\n    return {\n      enable: true,\n      mask: 0xff,\n      func: {\n        cmp: gl.ALWAYS,\n        ref: 1,\n        mask: 0xff\n      },\n      opFront: {\n        fail: gl.KEEP,\n        zfail: gl.REPLACE,\n        zpass: gl.REPLACE\n      }\n    };\n  }\n  return {\n    enable: true,\n    mask: 0xff,\n    func: {\n      cmp: option.stencilType === StencilType.SINGLE // 单层\n      ? gl.ALWAYS : option.stencilIndex === 0 // 多层\n      ? gl.ALWAYS : gl.LESS,\n      ref: option.stencilType === StencilType.SINGLE ? 1 : option.stencilIndex === 0 ? 2 : 1,\n      mask: 0xff\n    },\n    opFront: {\n      fail: gl.KEEP,\n      zfail: gl.REPLACE,\n      zpass: gl.REPLACE\n    }\n  };\n}", "export const DefaultUniformStyleValue = {\n  opacity: 1,\n  stroke: [1, 0, 0, 1],\n  offsets: [0, 0],\n  rotation: 0,\n  extrusionBase: 0,\n  strokeOpacity: 1,\n  thetaOffset: 0.314\n};\nexport const DefaultUniformStyleType = {\n  opacity: 'float',\n  stroke: 'vec4',\n  offsets: 'vec2',\n  textOffset: 'vec2',\n  rotation: 'float',\n  extrusionBase: 'float',\n  strokeOpacity: 'float',\n  thetaOffset: 'float'\n};", "import { lngLatToMeters } from '@antv/l7-utils';\nimport earcut from 'earcut';\nexport function MultipleOfFourNumber(num) {\n  return Math.max(Math.ceil(num / 4) * 4, 4);\n}\n\n/**\n * Get vertex indices for drawing polygon mesh (triangulation)\n */\nexport function getPolygonSurfaceIndices(positions, holeIndices, positionSize, preproject = true) {\n  const is3d = positionSize === 3;\n  if (preproject) {\n    positions = positions.slice();\n    const p = [];\n    for (let i = 0; i < positions.length; i += positionSize) {\n      p[0] = positions[i];\n      p[1] = positions[i + 1];\n      if (is3d) {\n        p[2] = positions[i + 2];\n      }\n\n      // earcut is a 2D triangulation algorithm, and handles 3D data as if it was projected onto the XY plane\n      const xy = lngLatToMeters(p, true, {\n        enable: false,\n        decimal: 1\n      });\n      positions[i] = xy[0];\n      positions[i + 1] = xy[1];\n      if (is3d) {\n        positions[i + 2] = xy[2];\n      }\n    }\n  }\n  const indices = earcut(positions, holeIndices, positionSize);\n  return indices;\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, BlendType, MaskOperation, StencilType, gl } from '@antv/l7-core';\nimport { fp64LowPart, rgb2arr } from '@antv/l7-utils';\nimport { BlendTypes } from \"../utils/blend\";\nimport { getStencil, getStencilMask } from \"../utils/stencil\";\nimport { COMMON_ATTRIBUTE_LOCATION, getCommonStyleAttributeOptions } from \"./CommonStyleAttribute\";\nimport { DefaultUniformStyleType, DefaultUniformStyleValue } from \"./constant\";\nimport { MultipleOfFourNumber } from \"./utils\";\n// 属性索引宏定义前缀，使用命名空间避免 define 名称重复情况\nconst DEFINE_ATTRIBUTE_LOCATION_PREFIX = 'ATTRIBUTE_LOCATION_';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport default class BaseModel {\n  /**\n   * Attribute Layout Location in Shader\n   */\n  get attributeLocation() {\n    return _objectSpread({}, COMMON_ATTRIBUTE_LOCATION);\n  }\n\n  // style texture data mapping\n\n  // 不支持数据映射的buffer\n\n  // style texture data mapping\n\n  constructor(layer) {\n    _defineProperty(this, \"triangulation\", void 0);\n    _defineProperty(this, \"uniformBuffers\", []);\n    _defineProperty(this, \"textures\", []);\n    _defineProperty(this, \"createTexture2D\", void 0);\n    _defineProperty(this, \"preStyleAttribute\", {});\n    _defineProperty(this, \"encodeStyleAttribute\", {});\n    _defineProperty(this, \"layer\", void 0);\n    _defineProperty(this, \"dataTexture\", void 0);\n    // 用于数据传递的数据纹理\n    _defineProperty(this, \"DATA_TEXTURE_WIDTH\", void 0);\n    // 默认有多少列（宽度）\n    _defineProperty(this, \"dataTextureTest\", void 0);\n    _defineProperty(this, \"configService\", void 0);\n    _defineProperty(this, \"shaderModuleService\", void 0);\n    _defineProperty(this, \"rendererService\", void 0);\n    _defineProperty(this, \"iconService\", void 0);\n    _defineProperty(this, \"fontService\", void 0);\n    _defineProperty(this, \"styleAttributeService\", void 0);\n    _defineProperty(this, \"mapService\", void 0);\n    _defineProperty(this, \"cameraService\", void 0);\n    _defineProperty(this, \"layerService\", void 0);\n    _defineProperty(this, \"pickingService\", void 0);\n    _defineProperty(this, \"attributeUnifoms\", void 0);\n    // 支持数据映射的buffer\n    _defineProperty(this, \"commonUnifoms\", void 0);\n    this.layer = layer;\n    this.configService = layer.getContainer().globalConfigService;\n    this.rendererService = layer.getContainer().rendererService;\n    this.pickingService = layer.getContainer().pickingService;\n    this.shaderModuleService = layer.getContainer().shaderModuleService;\n    this.styleAttributeService = layer.getContainer().styleAttributeService;\n    this.mapService = layer.getContainer().mapService;\n    this.iconService = layer.getContainer().iconService;\n    this.fontService = layer.getContainer().fontService;\n    this.cameraService = layer.getContainer().cameraService;\n    this.layerService = layer.getContainer().layerService;\n    // 初始化支持数据映射的 Style 属性\n\n    this.registerStyleAttribute();\n    // 注册 Attribute\n    this.registerBuiltinAttributes();\n    // 开启动画\n    this.startModelAnimate();\n    const {\n      createTexture2D\n    } = this.rendererService;\n    this.createTexture2D = createTexture2D;\n  }\n\n  // style datatexture mapping\n\n  getBlend() {\n    const {\n      blend = 'normal'\n    } = this.layer.getLayerConfig();\n    return BlendTypes[BlendType[blend]];\n  }\n  getStencil(option) {\n    const {\n      mask = false,\n      maskInside = true,\n      enableMask,\n      maskOperation = MaskOperation.AND\n    } = this.layer.getLayerConfig();\n    // TODO 临时处理，后期移除MaskLayer\n    if (this.layer.type === 'MaskLayer') {\n      return getStencilMask({\n        isStencil: true,\n        stencilType: StencilType.SINGLE\n      }); // 用于遮罩的stencil 参数\n    }\n    if (option.isStencil) {\n      return getStencilMask(_objectSpread(_objectSpread({}, option), {}, {\n        maskOperation\n      })); // 用于遮罩的stencil 参数\n    }\n    const maskflag = mask ||\n    //  mask 兼容历史写法\n    enableMask && this.layer.masks.length !== 0 ||\n    // 外部图层的mask\n    this.layer.tileMask !== undefined; // 瓦片图层\n    // !!(mask || enableMask || this.layer.tileMask);\n    return getStencil(maskflag, maskInside);\n  }\n  getDefaultStyle() {\n    return {};\n  }\n  // public getUninforms(): IModelUniform {\n  //   throw new Error('Method not implemented.');\n  // }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    const result = _objectSpread(_objectSpread({}, attributeInfo.uniformsOption), commoninfo.uniformsOption);\n    // 兼容 Regl Boolean 类型\n    Object.keys(result).forEach(key => {\n      if (typeof result[key] === 'boolean') {\n        result[key] = result[key] ? 1 : 0;\n      }\n    });\n    //如果是regl渲染 需要在uniform中带上u_texture 暂时用this.rendererService.device判断\n    if (!this.rendererService.hasOwnProperty('device') && this.textures && this.textures.length === 1) {\n      result['u_texture'] = this.textures[0];\n    }\n    return result;\n  }\n  getAnimateUniforms() {\n    return {};\n  }\n  needUpdate() {\n    return _asyncToGenerator(function* () {\n      return false;\n    })();\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  buildModels() {\n    return _asyncToGenerator(function* () {\n      throw new Error('Method not implemented.');\n    })();\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  initModels() {\n    return _asyncToGenerator(function* () {\n      throw new Error('Method not implemented.');\n    })();\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  clearModels(refresh = true) {\n    return;\n  }\n  getAttribute() {\n    throw new Error('Method not implemented.');\n  }\n  prerender() {}\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  render(renderOptions) {\n    throw new Error('Method not implemented.');\n  }\n  registerBuiltinAttributes() {\n    throw new Error('Method not implemented.');\n  }\n  animateOption2Array(option) {\n    return [option.enable ? 0 : 1.0, option.duration || 4.0, option.interval || 0.2, option.trailLength || 0.1];\n  }\n  startModelAnimate() {\n    const {\n      animateOption\n    } = this.layer.getLayerConfig();\n    if (animateOption.enable) {\n      this.layer.setAnimateStartTime();\n    }\n  }\n  getInject() {\n    const shaderInject = getDynamicStyleInject(this.layer.enableShaderEncodeStyles, this.layer.encodeStyleAttribute);\n    return shaderInject;\n  }\n  getDefines() {\n    // define atribute Layout Location\n    const atributeLocationDefines = Object.keys(this.attributeLocation).reduce((result, key) => {\n      const normalizedKey = DEFINE_ATTRIBUTE_LOCATION_PREFIX + key;\n      result[normalizedKey] = this.attributeLocation[key];\n      return result;\n    }, {});\n    return _objectSpread({}, atributeLocationDefines);\n  }\n\n  // 获取数据映射样式\n  getStyleAttribute() {\n    const options = {};\n    // TODO: 优化\n    this.layer.enableShaderEncodeStyles.forEach(key => {\n      if (!this.layer.encodeStyleAttribute[key]) {\n        // 没有设置样式映射\n        // @ts-ignore\n        const keyValue = this.layer.getLayerConfig()[key];\n        let value = typeof keyValue === 'undefined' ? DefaultUniformStyleValue[key] : keyValue;\n        if (key === 'stroke') {\n          value = rgb2arr(value);\n        }\n        options['u_' + key] = value;\n      }\n    });\n    return options;\n  }\n\n  // 注册数据映射样式\n  registerStyleAttribute() {\n    Object.keys(this.layer.encodeStyleAttribute).forEach(key => {\n      const options = getCommonStyleAttributeOptions(key);\n      if (options) {\n        this.styleAttributeService.registerStyleAttribute(options);\n      }\n    });\n  }\n\n  /**\n   * 注册 Position 属性 64 位地位部分，当经纬度数据开启双精度浮点数使用，\n   * 避免大于 20层级以上出现数据偏移\n   */\n  registerPosition64LowAttribute(enable64bitPosition = true) {\n    // save low part for enabled double precision POSITION attribute\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'position64Low',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Position64Low',\n        shaderLocation: this.attributeLocation.POSITION_64LOW,\n        buffer: {\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return enable64bitPosition ? [fp64LowPart(vertex[0]), fp64LowPart(vertex[1])] : [0, 0];\n        }\n      }\n    });\n  }\n  updateEncodeAttribute(type, flag) {\n    this.encodeStyleAttribute[type] = flag;\n  }\n  initUniformsBuffer() {\n    const attrUniforms = this.getUniformsBufferInfo(this.getStyleAttribute());\n    const commonUniforms = this.getCommonUniformsInfo();\n    if (attrUniforms.uniformsLength !== 0) {\n      this.attributeUnifoms = this.rendererService.createBuffer({\n        data: new Float32Array(MultipleOfFourNumber(attrUniforms.uniformsLength)).fill(0),\n        // 长度需要大于等于 4\n        isUBO: true,\n        label: 'layerModelAttributeUnifoms'\n      });\n      this.uniformBuffers.push(this.attributeUnifoms);\n    }\n    if (commonUniforms.uniformsLength !== 0) {\n      this.commonUnifoms = this.rendererService.createBuffer({\n        data: new Float32Array(MultipleOfFourNumber(commonUniforms.uniformsLength)).fill(0),\n        isUBO: true,\n        label: 'layerModelCommonUnifoms'\n      });\n      this.uniformBuffers.push(this.commonUnifoms);\n    }\n  }\n  // 获取数据映射 uniform 信息\n  getUniformsBufferInfo(uniformsOption) {\n    let uniformsLength = 0;\n    const uniformsArray = [];\n    Object.values(uniformsOption).forEach(value => {\n      if (Array.isArray(value)) {\n        uniformsArray.push(...value);\n        uniformsLength += value.length;\n      } else if (typeof value === 'number') {\n        // 排除纹理\n        uniformsArray.push(value);\n        uniformsLength += 1;\n      } else if (typeof value === 'boolean') {\n        uniformsArray.push(Number(value));\n        uniformsLength += 1;\n      }\n    });\n    return {\n      uniformsOption,\n      uniformsLength,\n      uniformsArray\n    };\n  }\n  getCommonUniformsInfo() {\n    return {\n      uniformsLength: 0,\n      uniformsArray: [],\n      uniformsOption: {}\n    };\n  }\n\n  // 更新支持数据映射的uniform\n  updateStyleUnifoms() {\n    var _this$attributeUnifom, _this$commonUnifoms;\n    const {\n      uniformsArray\n    } = this.getUniformsBufferInfo(this.getStyleAttribute());\n    const {\n      uniformsArray: commonUniformsArray\n    } = this.getCommonUniformsInfo();\n    (_this$attributeUnifom = this.attributeUnifoms) === null || _this$attributeUnifom === void 0 || _this$attributeUnifom.subData({\n      offset: 0,\n      data: new Uint8Array(new Float32Array(uniformsArray).buffer)\n    });\n    (_this$commonUnifoms = this.commonUnifoms) === null || _this$commonUnifoms === void 0 || _this$commonUnifoms.subData({\n      offset: 0,\n      data: new Uint8Array(new Float32Array(commonUniformsArray).buffer)\n    });\n  }\n}\n\n/**\n * 获取动态注入参与数据映射 uniform/attribute\n */\nfunction getDynamicStyleInject(shaderEncodeStyles, styleAttribute) {\n  const uniforms = [];\n  let vsDeclInjection = '';\n\n  // 支持数据映射的类型\n  shaderEncodeStyles.forEach(key => {\n    const upperCaseKey = key.replace(/([a-z])([A-Z])/g, '$1_$2').toUpperCase();\n    const shaderDefineName = DEFINE_ATTRIBUTE_LOCATION_PREFIX + upperCaseKey;\n    if (styleAttribute[key]) {\n      // 配置了数据映射的类型\n      vsDeclInjection += `#define USE_ATTRIBUTE_${upperCaseKey} 0.0 \\n`;\n    } else {\n      uniforms.push(`  ${DefaultUniformStyleType[key]} u_${key};`);\n    }\n    vsDeclInjection += `\n#ifdef USE_ATTRIBUTE_${upperCaseKey}\nlayout(location = ${shaderDefineName}) in ${DefaultUniformStyleType[key]} a_${key.charAt(0).toUpperCase() + key.slice(1)};\n#endif \\n`;\n  });\n  const fsDeclInjection = uniforms.length ? `\nlayout(std140) uniform AttributeUniforms {\n  ${uniforms.join('\\n')}\n};\\n` : '';\n  vsDeclInjection += fsDeclInjection;\n  let vsMainInjection = '';\n  shaderEncodeStyles.forEach(key => {\n    const upperCaseKey = key.replace(/([a-z])([A-Z])/g, '$1_$2').toUpperCase();\n    vsMainInjection += `\n  #ifdef USE_ATTRIBUTE_${upperCaseKey}\n    ${DefaultUniformStyleType[key]} ${key} = a_${key.charAt(0).toUpperCase() + key.slice(1)};\n  #else\n    ${DefaultUniformStyleType[key]} ${key} = u_${key};\n  #endif\n  `;\n  });\n  return {\n    'vs:#decl': vsDeclInjection,\n    'fs:#decl': fsDeclInjection,\n    'vs:#main-start': vsMainInjection\n  };\n}", "export let lineStyleType = /*#__PURE__*/function (lineStyleType) {\n  lineStyleType[lineStyleType[\"solid\"] = 0] = \"solid\";\n  lineStyleType[lineStyleType[\"dash\"] = 1] = \"dash\";\n  return lineStyleType;\n}({});\nexport let LinearDir = /*#__PURE__*/function (LinearDir) {\n  LinearDir[\"VERTICAL\"] = \"vertical\";\n  LinearDir[\"HORIZONTAL\"] = \"horizontal\";\n  return LinearDir;\n}({});\nexport let TextureBlend = /*#__PURE__*/function (TextureBlend) {\n  TextureBlend[\"NORMAL\"] = \"normal\";\n  TextureBlend[\"REPLACE\"] = \"replace\";\n  return TextureBlend;\n}({});\n/**\n * 基础图层类型定义\n */\n\nexport let SizeUnitType = /*#__PURE__*/function (SizeUnitType) {\n  SizeUnitType[SizeUnitType[\"pixel\"] = 0] = \"pixel\";\n  SizeUnitType[SizeUnitType[\"meter\"] = 1] = \"meter\";\n  return SizeUnitType;\n}({});\n\n// 栅格瓦片图层\n\nexport let CanvasUpdateType = /*#__PURE__*/function (CanvasUpdateType) {\n  CanvasUpdateType[\"ALWAYS\"] = \"always\";\n  CanvasUpdateType[\"DRAGEND\"] = \"dragend\";\n  return CanvasUpdateType;\n}({});", "export const CanvasContextTypeMap = {\n  canvas2d: '2d',\n  webgl: 'webgl',\n  webgl2: 'webgl2',\n  webgpu: 'webgpu'\n};", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseModel from \"../../core/BaseModel\";\nimport { CanvasUpdateType } from \"../../core/interface\";\nimport { CanvasContextTypeMap } from \"./constants\";\nexport class CanvasModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"canvas\", null);\n    _defineProperty(this, \"ctx\", void 0);\n    _defineProperty(this, \"ctxType\", void 0);\n    _defineProperty(this, \"viewportSize\", void 0);\n    _defineProperty(this, \"initCanvas\", () => {\n      var _this$mapService$getC, _this$mapService$getC2, _this$mapService, _this$mapService$getM, _this$mapService2;\n      const {\n        zIndex,\n        getContext\n      } = this.layerConfig;\n      const canvas = document.createElement('canvas');\n      const modelType = this.layer.getModelType();\n      this.canvas = canvas;\n      canvas.classList.add('l7-canvas-layer');\n      canvas.style.position = 'absolute';\n      canvas.style.top = '0';\n      canvas.style.left = '0';\n      canvas.style.zIndex = String(zIndex);\n      this.resetCanvasSize();\n      const container = (_this$mapService$getC = (_this$mapService$getC2 = (_this$mapService = this.mapService).getCanvasOverlays) === null || _this$mapService$getC2 === void 0 ? void 0 : _this$mapService$getC2.call(_this$mapService)) !== null && _this$mapService$getC !== void 0 ? _this$mapService$getC : (_this$mapService$getM = (_this$mapService2 = this.mapService).getMapCanvasContainer) === null || _this$mapService$getM === void 0 ? void 0 : _this$mapService$getM.call(_this$mapService2);\n      container === null || container === void 0 || container.appendChild(canvas);\n      this.ctx = getContext ? getContext(canvas) : canvas.getContext(CanvasContextTypeMap[modelType]);\n      if (!this.ctx) {\n        console.error('Failed to get rendering context for canvas');\n      }\n      this.bindListeners();\n    });\n    _defineProperty(this, \"resetViewportSize\", () => {\n      const {\n        width: viewWidth,\n        height: viewHeight\n      } = this.rendererService.getViewportSize();\n      this.viewportSize = [viewWidth, viewHeight];\n    });\n    _defineProperty(this, \"resetCanvasSize\", () => {\n      const canvas = this.canvas;\n      if (!canvas) {\n        return;\n      }\n      this.resetViewportSize();\n      const [width, height] = this.mapService.getSize();\n      const [viewWidth, viewHeight] = this.viewportSize;\n      canvas.width = viewWidth;\n      canvas.height = viewHeight;\n      canvas.style.width = width + 'px';\n      canvas.style.height = height + 'px';\n    });\n    _defineProperty(this, \"renderCanvas\", () => {\n      var _ref;\n      if (!this.canvas) {\n        this.initCanvas();\n      }\n      const {\n        draw,\n        drawingOnCanvas\n      } = this.layerConfig;\n      const [width, height] = this.viewportSize;\n      const bounds = this.mapService.getBounds();\n      (_ref = draw !== null && draw !== void 0 ? draw : drawingOnCanvas) === null || _ref === void 0 || _ref({\n        canvas: this.canvas,\n        ctx: this.ctx,\n        container: {\n          width,\n          height,\n          bounds\n        },\n        size: [width, height],\n        utils: {\n          lngLatToContainer: this.lngLatToContainer\n        },\n        mapService: this.mapService\n      });\n    });\n    _defineProperty(this, \"removeCanvas\", () => {\n      if (this.canvas) {\n        var _this$canvas$parentEl;\n        (_this$canvas$parentEl = this.canvas.parentElement) === null || _this$canvas$parentEl === void 0 || _this$canvas$parentEl.removeChild(this.canvas);\n        this.canvas = null;\n      }\n      this.unbindListeners();\n    });\n    _defineProperty(this, \"onMapResize\", () => {\n      requestAnimationFrame(() => {\n        this.resetCanvasSize();\n        this.renderCanvas();\n      });\n    });\n    _defineProperty(this, \"lngLatToContainer\", lngLat => {\n      const {\n        x,\n        y\n      } = this.mapService.lngLatToContainer(lngLat);\n      return {\n        x: x * window.devicePixelRatio,\n        y: y * window.devicePixelRatio\n      };\n    });\n  }\n  get layerConfig() {\n    return this.layer.getLayerConfig();\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.renderCanvas();\n      return [];\n    })();\n  }\n  bindListeners() {\n    this.mapService.on('resize', this.onMapResize);\n    const {\n      trigger,\n      update\n    } = this.layerConfig;\n    if (update === CanvasUpdateType.ALWAYS || trigger === 'change') {\n      this.mapService.on('mapchange', this.renderCanvas);\n    } else {\n      this.mapService.on('zoomstart', this.removeCanvas);\n      this.mapService.on('zoomend', this.renderCanvas);\n      this.mapService.on('movestart', this.removeCanvas);\n      this.mapService.on('moveend', this.renderCanvas);\n    }\n  }\n  unbindListeners() {\n    this.mapService.off('resize', this.onMapResize);\n    this.mapService.off('mapchange', this.renderCanvas);\n    this.mapService.off('zoomstart', this.removeCanvas);\n    this.mapService.off('zoomend', this.renderCanvas);\n    this.mapService.off('movestart', this.removeCanvas);\n    this.mapService.off('moveend', this.renderCanvas);\n  }\n  registerBuiltinAttributes() {}\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n// import type { ILayerConfig } from '@antv/l7-core';\nimport BaseLayer from \"../core/BaseLayer\";\nimport { CanvasModel } from \"./models\";\nexport default class CanvasLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'CanvasLayer');\n  }\n  getDefaultConfig() {\n    return {\n      zIndex: 3,\n      contextType: 'canvas2d',\n      trigger: 'change'\n    };\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.layerModel = new CanvasModel(_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  getModelType() {\n    return this.getLayerConfig().contextType || 'canvas2d';\n  }\n  draw(draw) {\n    this.updateLayerConfig({\n      draw\n    });\n    this.render();\n    return this;\n  }\n  getLayerConfig() {\n    const config = _objectSpread(_objectSpread({}, this.getDefaultConfig()), super.getLayerConfig());\n    if (config.zIndex < 3) {\n      config.zIndex = 3;\n    }\n    return config;\n  }\n  render() {\n    var _this$layerModel;\n    (_this$layerModel = this.layerModel) === null || _this$layerModel === void 0 || _this$layerModel.renderCanvas();\n    return this;\n  }\n  getCanvas() {\n    var _this$layerModel2;\n    return (_this$layerModel2 = this.layerModel) === null || _this$layerModel2 === void 0 ? void 0 : _this$layerModel2.canvas;\n  }\n  show() {\n    const canvas = this.getCanvas();\n    if (canvas) {\n      canvas.style.display = 'unset';\n    }\n    return this;\n  }\n  hide() {\n    const canvas = this.getCanvas();\n    if (canvas) {\n      canvas.style.display = 'none';\n    }\n    return this;\n  }\n  destroy() {\n    this.layerModel.removeCanvas();\n    super.destroy();\n  }\n}", "import { aProjectFlat, calculateCentroid, calculatePointsCenterAndRadius, lngLatToMeters } from '@antv/l7-utils';\nimport earcut from 'earcut';\n// @ts-ignore\nimport { vec3 } from 'gl-matrix';\nimport { EARTH_RADIUS, EARTH_RADIUS_OUTER, EARTH_SEGMENTS, lglt2xyz, primitiveSphere } from \"../earth/utils\";\nimport ExtrudePolyline from \"../utils/extrude_polyline\";\nimport { geometryShape } from \"./shape/Path\";\nimport extrudePolygon, { extrude_PolygonNormal, fillPolygon } from \"./shape/extrude\";\nimport { getPolygonSurfaceIndices } from \"./utils\";\nconst GeometryCache = {};\n\n/**\n * 计算2D 填充点图顶点\n * @param feature 映射feature\n */\n\nexport function PointFillTriangulation(feature) {\n  const coordinates = calculateCentroid(feature.coordinates);\n  return {\n    vertices: [...coordinates, ...coordinates, ...coordinates, ...coordinates],\n    indices: [0, 1, 2, 2, 3, 0],\n    size: coordinates.length\n  };\n}\n/**\n * 计算2D 填充点图顶点 (地球模式)\n * @param feature 映射feature\n */\nexport function GlobelPointFillTriangulation(feature) {\n  const coordinates = calculateCentroid(feature.coordinates);\n  const xyz = lglt2xyz(coordinates);\n  return {\n    vertices: [...xyz, ...xyz, ...xyz, ...xyz],\n    indices: [0, 1, 2, 2, 3, 0],\n    size: xyz.length\n  };\n}\n\n/**\n * 计算3D 拉伸点图\n * @param feature 映射feature\n */\nexport function PointExtrudeTriangulation(feature) {\n  const {\n    shape\n  } = feature;\n  const {\n    positions,\n    index,\n    normals\n  } = getGeometry(shape, false);\n  return {\n    vertices: positions,\n    indices: index,\n    normals,\n    size: 5\n  };\n}\n\n/**\n * 计算图片标注\n * @param feature 映射feature\n */\nexport function PointImageTriangulation(feature) {\n  const coordinates = calculateCentroid(feature.coordinates);\n  return {\n    vertices: [...coordinates],\n    indices: [0],\n    size: coordinates.length\n  };\n}\n\n/**\n * 线三角化\n * @param feature 映射feature\n */\nexport function LineTriangulation(feature) {\n  const {\n    coordinates\n  } = feature;\n  // let path = coordinates as number[][][] | number[][];\n  // if (!Array.isArray(path[0][0])) {\n  //   path = [coordinates] as number[][][];\n  // }\n\n  const line = new ExtrudePolyline({\n    dash: true,\n    join: 'bevel'\n  });\n  let path = coordinates;\n  if (path[0] && !Array.isArray(path[0][0])) {\n    path = [coordinates];\n  }\n  path.forEach(item => {\n    line.extrude(item);\n  });\n  const linebuffer = line.complex;\n  return {\n    vertices: linebuffer.positions,\n    // [ x,y,z, distance, miter,total ]\n    indices: linebuffer.indices,\n    normals: linebuffer.normals,\n    indexes: linebuffer.indexes,\n    size: 6\n  };\n}\nexport function FlowLineFillTriangulation(feature) {\n  // @ts-ignore\n  const coord = feature.coordinates.flat();\n  const tin = 1;\n  const tout = 1.0;\n  return {\n    vertices: [1, 0, 0, ...coord,\n    // 0\n    1, 2, -3,\n    // mapbox 为正\n    ...coord,\n    // 1\n    1, 1, -3,\n    // mapbox 为正\n    ...coord,\n    // 2\n    0, 1, 0, ...coord,\n    // 3\n    0, 0, 0, ...coord,\n    // 4\n    1, 0, 0, ...coord,\n    // 0\n    1, 2, -3,\n    // mapbox 为正\n    ...coord,\n    // 1\n    1, 1, -3,\n    // // mapbox 为正\n    ...coord,\n    // 2\n    0, 1, 0, ...coord,\n    // 3\n    0, 0, 0, ...coord // 4\n    ],\n    normals: [-tin, 2 * tout, 1,\n    // 0\n    2 * tout, -tout, 1,\n    // 1\n    tout, -tout, 1,\n    // 2\n    tout, -tout, 1,\n    // 3\n    -tin, -tout, 1,\n    // 4\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    indices: [0, 1, 2, 0, 2, 3, 0, 3, 4, 5, 6, 7, 5, 7, 8, 5, 8, 9],\n    size: 7\n  };\n}\nexport function SimpleLineTriangulation(feature) {\n  const {\n    coordinates\n  } = feature;\n  const pos = [];\n  if (!Array.isArray(coordinates[0])) {\n    return {\n      vertices: [],\n      indices: [],\n      normals: [],\n      size: 6,\n      count: 0\n    };\n  }\n  const {\n    results,\n    totalDistance\n  } = getSimpleLineVertices(coordinates);\n  results.map(point => {\n    pos.push(point[0], point[1], point[2], point[3], 0, totalDistance);\n  });\n  return {\n    vertices: pos,\n    indices: [],\n    normals: [],\n    size: 6,\n    count: results.length\n  };\n}\nexport function TileSimpleLineTriangulation(feature) {\n  const {\n    coordinates\n  } = feature;\n  const pos = [];\n  if (!Array.isArray(coordinates[0])) {\n    return {\n      vertices: [],\n      indices: [],\n      size: 4,\n      count: 0\n    };\n  }\n  const {\n    results\n  } = getTileSimpleLineVertices(coordinates);\n  results.map(point => {\n    pos.push(point[0], point[1], point[2], point[3]);\n  });\n  return {\n    vertices: pos,\n    indices: [],\n    size: 4,\n    count: results.length\n  };\n}\nfunction lineSegmentDistance(b1, a1) {\n  const dx = a1[0] - b1[0];\n  const dy = a1[1] - b1[1];\n  return Math.sqrt(dx * dx + dy * dy);\n}\nfunction pushDis(point, n) {\n  if (point.length < 3) {\n    point.push(0);\n  }\n  if (n !== undefined) {\n    point.push(n);\n  }\n  return point;\n}\nfunction getSimpleLineVertices(coordinates) {\n  let points = coordinates;\n  if (Array.isArray(points) && Array.isArray(points[0]) && Array.isArray(points[0][0])) {\n    // @ts-ignore\n    points = coordinates.flat();\n  }\n  //修改计算距离的方式,与普通线的计算方式保持一致 edit by huyang 20231214\n  let distance = 0;\n  if (points.length < 2) {\n    return {\n      results: points,\n      totalDistance: 0\n    };\n  } else {\n    const results = [];\n    const point = pushDis(points[0], distance);\n    results.push(point);\n    for (let i = 1; i < points.length - 1; i++) {\n      const subDistance = lineSegmentDistance(aProjectFlat(points[i - 1]), aProjectFlat(points[i]));\n      distance += subDistance;\n      const mulPoint = pushDis(points[i], distance);\n      results.push(mulPoint);\n      results.push(mulPoint);\n    }\n    const pointDistance = lineSegmentDistance(aProjectFlat(points[points.length - 2]), aProjectFlat(points[points.length - 1]));\n    distance += pointDistance;\n    results.push(pushDis(points[points.length - 1], distance));\n    return {\n      results,\n      totalDistance: distance\n    };\n  }\n}\nfunction getTileSimpleLineVertices(points) {\n  if (points.length < 2) {\n    return {\n      results: points\n    };\n  } else {\n    const results = [];\n    const point = pushDis(points[0]);\n    results.push(point);\n    for (let i = 1; i < points.length - 1; i++) {\n      const mulPoint = pushDis(points[i]);\n      results.push(mulPoint);\n      results.push(mulPoint);\n    }\n    results.push(pushDis(points[points.length - 1]));\n    return {\n      results\n    };\n  }\n}\nexport function polygonTriangulation(feature) {\n  const {\n    coordinates\n  } = feature;\n  const flattengeo = earcut.flatten(coordinates);\n  const {\n    vertices,\n    dimensions,\n    holes\n  } = flattengeo;\n  const indices = getPolygonSurfaceIndices(vertices, holes, dimensions);\n  return {\n    indices,\n    vertices,\n    size: dimensions\n  };\n}\n\n// 构建几何图形（带有中心点和大小）\nexport function polygonTriangulationWithCenter(feature) {\n  const {\n    indices,\n    vertices,\n    size\n  } = polygonTriangulation(feature);\n  return {\n    indices: indices,\n    vertices: getVerticesWithCenter(vertices),\n    size: size + 4\n  };\n}\nfunction getVerticesWithCenter(vertices) {\n  const verticesWithCenter = [];\n  const {\n    center,\n    radius\n  } = calculatePointsCenterAndRadius(vertices);\n  for (let i = 0; i < vertices.length; i += 2) {\n    const lng = vertices[i];\n    const lat = vertices[i + 1];\n    verticesWithCenter.push(lng, lat, 0, ...center, radius);\n  }\n  return verticesWithCenter;\n}\nexport function PolygonExtrudeTriangulation(feature) {\n  const coordinates = feature.coordinates;\n  const {\n    positions,\n    index,\n    normals\n  } = extrude_PolygonNormal(coordinates, true);\n  return {\n    vertices: positions,\n    // [ x, y, z, uv.x,uv.y ]\n    indices: index,\n    normals,\n    size: 5\n  };\n}\nexport function HeatmapGridTriangulation(feature) {\n  const {\n    shape\n  } = feature;\n  const {\n    positions,\n    index\n  } = getHeatmapGeometry(shape);\n  return {\n    vertices: positions,\n    // [ x, y, z ] 多边形顶点\n    indices: index,\n    size: 3\n  };\n}\n\n/**\n * 图片图层顶点构造\n * @param feature 数据\n */\nexport function RasterImageTriangulation(feature) {\n  const coordinates = feature.coordinates;\n  // [ x, y, z. uv.x, uv.y]\n  const positions = [...coordinates[0], 0, 0, 0, ...coordinates[1], 0, 1, 0, ...coordinates[2], 0, 1, 1, ...coordinates[3], 0, 0, 1];\n  const indexs = [0, 1, 2, 0, 2, 3];\n  return {\n    vertices: positions,\n    indices: indexs,\n    size: 5\n  };\n}\n\n/**\n *  计算3D弧线顶点\n * @param feature 映射数据\n * @param segNum 弧线线段数\n */\nexport function LineArcTriangulation(feature, styleOption) {\n  // @ts-ignore\n  const {\n    segmentNumber = 30\n  } = styleOption;\n  const coordinates = feature.coordinates;\n  const positions = [];\n  const indexArray = [];\n  for (let i = 0; i < segmentNumber; i++) {\n    // 上线两个顶点\n    // [ x, y, z, sx,sy, tx,ty]\n    positions.push(i, 1, i, coordinates[0][0], coordinates[0][1], coordinates[1][0], coordinates[1][1], i, -1, i, coordinates[0][0], coordinates[0][1], coordinates[1][0], coordinates[1][1]);\n    if (i !== segmentNumber - 1) {\n      indexArray.push(...[0, 1, 2, 1, 3, 2].map(v => {\n        return i * 2 + v;\n      }));\n    }\n  }\n  return {\n    vertices: positions,\n    indices: indexArray,\n    size: 7\n  };\n}\n\n/**\n * 构建热力图密度图的顶点\n * @param feature\n * @returns\n */\nexport function HeatmapTriangulation(feature) {\n  const coordinates = feature.coordinates;\n  if (coordinates.length === 2) {\n    coordinates.push(0);\n  }\n  const dir = addDir(-1, 1);\n  const dir1 = addDir(1, 1);\n  const dir2 = addDir(-1, -1);\n  const dir3 = addDir(1, -1);\n  // [x,y,z, dirx ,diry, weight]\n  const positions = [...coordinates, ...dir, ...coordinates, ...dir2, ...coordinates, ...dir3, ...coordinates, ...dir1];\n  const indexArray = [0, 1, 2, 3, 0, 2];\n  return {\n    vertices: positions,\n    indices: indexArray,\n    size: 5\n  };\n}\n\n/**\n * 点图层3d geomerty\n * @param shape 3D形状\n */\nfunction getGeometry(shape, needFlat = false) {\n  if (GeometryCache && GeometryCache[shape]) {\n    return GeometryCache[shape];\n  }\n  const path = geometryShape[shape] ? geometryShape[shape]() : geometryShape.cylinder();\n  const geometry = extrude_PolygonNormal([path], needFlat);\n  GeometryCache[shape] = geometry;\n  return geometry;\n}\nexport function computeVertexNormals(positions, indexArray, dim = 3, needFlat = false) {\n  const normals = new Float32Array(positions.length / dim * 3);\n  let vA;\n  let vB;\n  let vC;\n  const cb = vec3.create();\n  const ab = vec3.create();\n  const normal = vec3.create();\n  for (let i = 0, li = indexArray.length; i < li; i += 3) {\n    vA = indexArray[i + 0] * 3;\n    vB = indexArray[i + 1] * 3;\n    vC = indexArray[i + 2] * 3;\n    let p1 = [positions[vA], positions[vA + 1]];\n    let p2 = [positions[vB], positions[vB + 1]];\n    let p3 = [positions[vC], positions[vC + 1]];\n    if (needFlat) {\n      p1 = lngLatToMeters(p1);\n      p2 = lngLatToMeters(p2);\n      p3 = lngLatToMeters(p3);\n    }\n    const [ax, ay] = p1;\n    const pA = vec3.fromValues(ax, ay, positions[vA + 2]);\n    const [bx, by] = p2;\n    const pB = vec3.fromValues(bx, by, positions[vB + 2]);\n    const [cx, cy] = p3;\n    const pC = vec3.fromValues(cx, cy, positions[vC + 2]);\n    vec3.sub(cb, pC, pB);\n    vec3.sub(ab, pA, pB);\n    vec3.cross(normal, cb, ab);\n    normals[vA] += cb[0];\n    normals[vA + 1] += cb[1];\n    normals[vA + 2] += cb[2];\n    normals[vB] += cb[0];\n    normals[vB + 1] += cb[1];\n    normals[vB + 2] += cb[2];\n    normals[vC] += cb[0];\n    normals[vC + 1] += cb[1];\n    normals[vC + 2] += cb[2];\n  }\n  normalizeNormals(normals);\n  return normals;\n}\nfunction normalizeNormals(normals) {\n  for (let i = 0, li = normals.length; i < li; i += 3) {\n    const normal = vec3.fromValues(normals[i], normals[i + 1], normals[i + 2]);\n    const newNormal = vec3.create();\n    vec3.normalize(newNormal, normal);\n    normals.set(newNormal, i);\n  }\n}\nexport function checkIsClosed(points) {\n  const p1 = points[0][0];\n  const p2 = points[0][points[0].length - 1];\n  return p1[0] === p2[0] && p1[1] === p2[1];\n}\nfunction getHeatmapGeometry(shape) {\n  const shape3d = ['cylinder', 'triangleColumn', 'hexagonColumn', 'squareColumn'];\n  const path = geometryShape[shape] ? geometryShape[shape]() : geometryShape.circle();\n  const geometry = shape3d.indexOf(shape) === -1 ? fillPolygon([path]) : extrudePolygon([path]);\n  // const geometry = fillPolygon([path]);\n  return geometry;\n}\n// 热力图计算范围\nfunction addDir(dirX, dirY) {\n  const x = (dirX + 1) / 2;\n  const y = (dirY + 1) / 2;\n  return [x, y];\n}\n\n/**\n * 构建地球三角网格\n * @returns\n */\nexport function earthTriangulation() {\n  const earthmesh = primitiveSphere(EARTH_RADIUS, {\n    segments: EARTH_SEGMENTS\n  });\n  const {\n    positionsArr,\n    indicesArr,\n    normalArr\n  } = earthmesh;\n  return {\n    vertices: positionsArr,\n    indices: indicesArr,\n    size: 5,\n    normals: normalArr\n  };\n}\nexport function earthOuterTriangulation() {\n  const earthmesh = primitiveSphere(EARTH_RADIUS + EARTH_RADIUS_OUTER, {\n    segments: EARTH_SEGMENTS\n  });\n  const {\n    positionsArr,\n    indicesArr,\n    normalArr\n  } = earthmesh;\n  return {\n    vertices: positionsArr,\n    indices: indicesArr,\n    size: 5,\n    normals: normalArr\n  };\n}", "import { mat4, vec3 } from 'gl-matrix';\n// 该文件专门记录地球模式的数值\n\n// 地球网格半径\nexport const EARTH_RADIUS = 100;\nexport const EARTH_SEGMENTS = 36;\nexport const EARTH_RADIUS_OUTER = 40;\n\n/**\n * 角度转弧度\n * @param deg\n * @returns\n */\nfunction torad(deg) {\n  return deg / 180 * Math.acos(-1);\n}\n/**\n * 经纬度转xyz\n * @param longitude 经度\n * @param latitude 纬度\n * @param radius 半径\n */\nexport function lglt2xyz(lnglat) {\n  // TODO: + Math.PI/2 是为了对齐坐标\n  const lng = torad(lnglat[0]) + Math.PI / 2;\n  const lat = torad(lnglat[1]);\n\n  // TODO: 手动增加一些偏移，减轻面的冲突\n  const radius = EARTH_RADIUS + Math.random() * 0.4;\n  const z = radius * Math.cos(lat) * Math.cos(lng);\n  const x = radius * Math.cos(lat) * Math.sin(lng);\n  const y = radius * Math.sin(lat);\n  return [x, y, z];\n}\n\n/**\n * 构建地球球体网格\n * @param radius\n * @param opt\n * @returns\n */\nexport function primitiveSphere(radius, opt) {\n  const matRotY = mat4.create();\n  const matRotZ = mat4.create();\n  const up = vec3.fromValues(0, 1, 0);\n  const tmpVec3 = vec3.fromValues(0, 0, 0);\n  opt = opt || {};\n  radius = typeof radius !== 'undefined' ? radius : 1;\n  const segments = typeof opt.segments !== 'undefined' ? opt.segments : 32;\n  const totalZRotationSteps = 2 + segments;\n  const totalYRotationSteps = 2 * totalZRotationSteps;\n  const indices = [];\n  const indicesArr = [];\n  const positions = [];\n  const positionsArr = [];\n  const normalArr = [];\n  const uvs = [];\n  for (let zRotationStep = 0; zRotationStep <= totalZRotationSteps; zRotationStep++) {\n    const normalizedZ = zRotationStep / totalZRotationSteps;\n    const angleZ = normalizedZ * Math.PI;\n    for (let yRotationStep = 0; yRotationStep <= totalYRotationSteps; yRotationStep++) {\n      const normalizedY = yRotationStep / totalYRotationSteps;\n      const angleY = normalizedY * Math.PI * 2;\n      mat4.identity(matRotZ);\n      mat4.rotateZ(matRotZ, matRotZ, -angleZ);\n      mat4.identity(matRotY);\n      mat4.rotateY(matRotY, matRotY, angleY);\n      vec3.transformMat4(tmpVec3, up, matRotZ);\n      vec3.transformMat4(tmpVec3, tmpVec3, matRotY);\n      vec3.scale(tmpVec3, tmpVec3, -radius);\n      positions.push(tmpVec3.slice());\n      positionsArr.push(...tmpVec3.slice());\n      vec3.normalize(tmpVec3, tmpVec3);\n      normalArr.push(...tmpVec3.slice());\n      uvs.push([normalizedY, 1 - normalizedZ]);\n\n      // position 和 uv 一起存储\n      positionsArr.push(normalizedY, 1 - normalizedZ);\n    }\n    if (zRotationStep > 0) {\n      const verticesCount = positions.length;\n      let firstIndex = verticesCount - 2 * (totalYRotationSteps + 1);\n      for (; firstIndex + totalYRotationSteps + 2 < verticesCount; firstIndex++) {\n        indices.push([firstIndex, firstIndex + 1, firstIndex + totalYRotationSteps + 1]);\n        indicesArr.push(firstIndex, firstIndex + 1, firstIndex + totalYRotationSteps + 1);\n        indices.push([firstIndex + totalYRotationSteps + 1, firstIndex + 1, firstIndex + totalYRotationSteps + 2]);\n        indicesArr.push(firstIndex + totalYRotationSteps + 1, firstIndex + 1, firstIndex + totalYRotationSteps + 2);\n      }\n    }\n  }\n  return {\n    cells: indices,\n    positions,\n    uvs,\n    positionsArr,\n    indicesArr,\n    normalArr\n  };\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { aProjectFlat } from '@antv/l7-utils';\nimport { vec2 } from 'gl-matrix';\nconst tmp = vec2.create();\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst capEnd = vec2.create();\nconst lineA = vec2.create();\nconst lineB = vec2.create();\nconst tangent = vec2.create();\nexport function computeMiter(lineTangent, miter, start, end, halfThick) {\n  vec2.add(lineTangent, start, end);\n  vec2.normalize(lineTangent, lineTangent);\n  miter = vec2.fromValues(-lineTangent[1], lineTangent[0]);\n  const tmpvec = vec2.fromValues(-start[1], start[0]);\n  return [halfThick / vec2.dot(miter, tmpvec), miter];\n}\nexport function computeNormal(out, dir) {\n  return vec2.set(out, -dir[1], dir[0]);\n}\nexport function direction(out, a, b) {\n  vec2.sub(out, a, b);\n  vec2.normalize(out, out);\n  return out;\n}\nfunction isPointEqual(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\nexport function getArrayUnique(matrix) {\n  const map = new Map();\n  for (let i = 0; i < matrix.length; i++) {\n    const key = matrix[0].toString() + '-' + matrix[1].toString();\n    if (map.get(key)) {\n      matrix.splice(i, 1);\n      i++;\n    } else {\n      map.set(key, key);\n    }\n  }\n  return matrix;\n}\nexport default class ExtrudePolyline {\n  constructor(opts = {}) {\n    _defineProperty(this, \"complex\", void 0);\n    _defineProperty(this, \"join\", void 0);\n    _defineProperty(this, \"cap\", void 0);\n    _defineProperty(this, \"miterLimit\", void 0);\n    _defineProperty(this, \"thickness\", void 0);\n    _defineProperty(this, \"normal\", void 0);\n    _defineProperty(this, \"lastFlip\", -1);\n    _defineProperty(this, \"miter\", vec2.fromValues(0, 0));\n    _defineProperty(this, \"started\", false);\n    _defineProperty(this, \"dash\", false);\n    _defineProperty(this, \"totalDistance\", 0);\n    _defineProperty(this, \"currentIndex\", 0);\n    this.join = opts.join || 'miter';\n    this.cap = opts.cap || 'butt';\n    this.miterLimit = opts.miterLimit || 10;\n    this.thickness = opts.thickness || 1;\n    this.dash = opts.dash || false;\n    this.complex = {\n      positions: [],\n      indices: [],\n      normals: [],\n      startIndex: 0,\n      indexes: []\n    };\n  }\n  simpleExtrude(points) {\n    const complex = this.complex;\n    if (points.length <= 1) {\n      return complex;\n    }\n    this.lastFlip = -1;\n    this.started = false;\n    this.normal = null;\n    this.totalDistance = 0;\n    const total = points.length;\n    let count = complex.startIndex;\n    for (let i = 1; i < total; i++) {\n      const last = points[i - 1];\n      const cur = points[i];\n      const next = i < points.length - 1 ? points[i + 1] : null;\n      const amt = this.simpleSegment(complex, count, last, cur, next);\n      count += amt;\n    }\n    if (this.dash) {\n      for (let i = 0; i < complex.positions.length / 6; i++) {\n        complex.positions[i * 6 + 5] = this.totalDistance;\n      }\n    }\n    complex.startIndex = complex.positions.length / 6;\n    return complex;\n  }\n  extrude(points) {\n    const complex = this.complex;\n    if (points.length <= 1) {\n      return complex;\n    }\n    this.lastFlip = -1;\n    this.started = false;\n    this.normal = null;\n    this.totalDistance = 0;\n    // 去除数组里重复的点\n    // points = getArrayUnique(points);\n    const total = points.length;\n    let count = complex.startIndex;\n    for (let i = 1; i < total; i++) {\n      const last = points[i - 1];\n      const cur = points[i];\n      const next = i < points.length - 1 ? points[i + 1] : null;\n      const amt = this.segment(complex, count, last, cur, next);\n      count += amt;\n    }\n    if (this.dash) {\n      for (let i = 0; i < complex.positions.length / 6; i++) {\n        complex.positions[i * 6 + 5] = this.totalDistance;\n      }\n    }\n    complex.startIndex = complex.positions.length / 6;\n    return complex;\n  }\n  simpleSegment(complex, index, last, cur, next) {\n    let count = 0;\n    const indices = complex.indices;\n    const positions = complex.positions;\n    const normals = complex.normals;\n    const flatCur = aProjectFlat([cur[0], cur[1]]);\n    const flatLast = aProjectFlat([last[0], last[1]]);\n    // @ts-ignore\n    direction(lineA, flatCur, flatLast);\n    let segmentDistance = 0;\n    if (this.dash) {\n      // @ts-ignore\n      segmentDistance = this.lineSegmentDistance(flatCur, flatLast);\n      this.totalDistance += segmentDistance;\n    }\n    if (!this.normal) {\n      this.normal = vec2.create();\n      computeNormal(this.normal, lineA);\n    }\n    if (!this.started) {\n      this.started = true;\n      this.extrusions(positions, normals, last, this.normal, this.thickness, this.totalDistance - segmentDistance);\n    }\n    indices.push(index + 0, index + 1, index + 2);\n    if (!next) {\n      computeNormal(this.normal, lineA);\n      this.extrusions(positions, normals, cur, this.normal, this.thickness, this.totalDistance);\n      indices.push(...(this.lastFlip === 1 ? [index, index + 2, index + 3] : [index + 2, index + 1, index + 3]));\n      count += 2;\n    } else {\n      const flatNext = aProjectFlat([next[0], next[1]]);\n      if (isPointEqual(flatCur, flatNext)) {\n        vec2.add(flatNext, flatCur, vec2.normalize(flatNext, vec2.subtract(flatNext, flatCur, flatLast)));\n      }\n      direction(lineB, flatNext, flatCur);\n\n      // stores tangent & miter\n\n      const [miterLen, miter] = computeMiter(tangent, vec2.create(), lineA, lineB, this.thickness);\n      // normal(tmp, lineA)\n\n      // get orientation\n      let flip = vec2.dot(tangent, this.normal) < 0 ? -1 : 1;\n      this.extrusions(positions, normals, cur, miter, miterLen, this.totalDistance);\n      indices.push(...(this.lastFlip === 1 ? [index, index + 2, index + 3] : [index + 2, index + 1, index + 3]));\n      flip = -1;\n\n      // the miter is now the normal for our next join\n      vec2.copy(this.normal, miter);\n      count += 2;\n      this.lastFlip = flip;\n    }\n    return count;\n  }\n  segment(complex, index, last, cur, next) {\n    let count = 0;\n    const indices = complex.indices;\n    const positions = complex.positions;\n    const normals = complex.normals;\n    const capSquare = this.cap === 'square';\n    const joinBevel = this.join === 'bevel';\n    const flatCur = aProjectFlat([cur[0], cur[1]]);\n    const flatLast = aProjectFlat([last[0], last[1]]);\n    // @ts-ignore\n    direction(lineA, flatCur, flatLast);\n    let segmentDistance = 0;\n    if (this.dash) {\n      // @ts-ignore\n      segmentDistance = this.lineSegmentDistance(flatCur, flatLast);\n      this.totalDistance += segmentDistance;\n    }\n    if (!this.normal) {\n      this.normal = vec2.create();\n      computeNormal(this.normal, lineA);\n    }\n    if (!this.started) {\n      this.started = true;\n\n      // if the end cap is type square, we can just push the verts out a bit\n      if (capSquare) {\n        // vec2.scaleAndAdd(capEnd, last, lineA, -this.thickness);\n        const out1 = vec2.create();\n        const out2 = vec2.create();\n        vec2.add(out1, this.normal, lineA);\n        vec2.add(out2, this.normal, lineA);\n        normals.push(out2[0], out2[1], 0);\n        normals.push(out1[0], out1[1], 0);\n        positions.push(last[0], last[1], last[2] | 0, this.totalDistance - segmentDistance, -this.thickness, last[2] | 0);\n        this.complex.indexes.push(this.currentIndex);\n        positions.push(last[0], last[1], last[2] | 0, this.totalDistance - segmentDistance, this.thickness, last[2] | 0);\n        this.complex.indexes.push(this.currentIndex);\n        this.currentIndex++;\n        // this.extrusions(positions, normals, last, out, this.thickness);\n        // last = capEnd;\n      } else {\n        this.extrusions(positions, normals, last, this.normal, this.thickness, this.totalDistance - segmentDistance);\n      }\n    }\n    indices.push(index + 0, index + 1, index + 2);\n    if (!next) {\n      computeNormal(this.normal, lineA);\n      if (capSquare) {\n        // vec2.scaleAndAdd(capEnd, cur, lineA, this.thickness);\n        // cur = capEnd;\n        const out1 = vec2.create();\n        const out2 = vec2.create();\n        vec2.sub(out2, lineA, this.normal);\n        vec2.add(out1, lineA, this.normal);\n        // this.extrusions(positions, normals, cur, out, this.thickness);\n        normals.push(out2[0], out2[1], 0);\n        normals.push(out1[0], out1[1], 0);\n        positions.push(cur[0], cur[1], cur[2] | 0, this.totalDistance, this.thickness, cur[2] | 0);\n        this.complex.indexes.push(this.currentIndex);\n        positions.push(cur[0], cur[1], cur[2] | 0, this.totalDistance, this.thickness, cur[2] | 0);\n        this.complex.indexes.push(this.currentIndex);\n        this.currentIndex++;\n      } else {\n        this.extrusions(positions, normals, cur, this.normal, this.thickness, this.totalDistance);\n      }\n\n      // this.extrusions(positions, normals, cur, this.normal, this.thickness);\n      indices.push(...(this.lastFlip === 1 ? [index, index + 2, index + 3] : [index + 2, index + 1, index + 3]));\n      count += 2;\n    } else {\n      const flatNext = aProjectFlat([next[0], next[1]]);\n      if (isPointEqual(flatCur, flatNext)) {\n        vec2.add(flatNext, flatCur, vec2.normalize(flatNext, vec2.subtract(flatNext, flatCur, flatLast)));\n      }\n      direction(lineB, flatNext, flatCur);\n\n      // stores tangent & miter\n\n      const [miterLen, miter] = computeMiter(tangent, vec2.create(), lineA, lineB, this.thickness);\n      // normal(tmp, lineA)\n\n      // get orientation\n      let flip = vec2.dot(tangent, this.normal) < 0 ? -1 : 1;\n      let bevel = joinBevel;\n      if (!bevel && this.join === 'miter') {\n        const limit = miterLen;\n        if (limit > this.miterLimit) {\n          bevel = true;\n        }\n      }\n      if (bevel) {\n        normals.push(this.normal[0], this.normal[1], 0);\n        normals.push(miter[0], miter[1], 0);\n        positions.push(cur[0], cur[1], cur[2] | 0, this.totalDistance, -this.thickness * flip, cur[2] | 0);\n        this.complex.indexes.push(this.currentIndex);\n        positions.push(cur[0], cur[1], cur[2] | 0, this.totalDistance, this.thickness * flip, cur[2] | 0);\n        this.complex.indexes.push(this.currentIndex);\n        this.currentIndex++;\n        indices.push(...(this.lastFlip !== -flip ? [index, index + 2, index + 3] : [index + 2, index + 1, index + 3]));\n\n        // now add the bevel triangle\n        indices.push(index + 2, index + 3, index + 4);\n        computeNormal(tmp, lineB);\n        vec2.copy(this.normal, tmp); // store normal for next round\n        normals.push(this.normal[0], this.normal[1], 0);\n        positions.push(cur[0], cur[1], cur[2] | 0, this.totalDistance, -this.thickness * flip, cur[2] | 0);\n        this.complex.indexes.push(this.currentIndex);\n        this.currentIndex++;\n        count += 3;\n      } else {\n        this.extrusions(positions, normals, cur, miter, miterLen, this.totalDistance);\n        indices.push(...(this.lastFlip === 1 ? [index, index + 2, index + 3] : [index + 2, index + 1, index + 3]));\n        flip = -1;\n\n        // the miter is now the normal for our next join\n        vec2.copy(this.normal, miter);\n        count += 2;\n      }\n      this.lastFlip = flip;\n    }\n    return count;\n  }\n  extrusions(positions, normals, point,\n  // 顶点\n  normal,\n  // 法向量\n  thickness,\n  // 高度\n  distanceRadio) {\n    normals.push(normal[0], normal[1], 0);\n    normals.push(normal[0], normal[1], 0);\n    positions.push(point[0], point[1], point[2] | 0, distanceRadio, -thickness, point[2] | 0);\n    this.complex.indexes.push(this.currentIndex);\n    positions.push(point[0], point[1], point[2] | 0, distanceRadio, thickness, point[2] | 0);\n    this.complex.indexes.push(this.currentIndex);\n    this.currentIndex++;\n  }\n  lineSegmentDistance(b1, a1) {\n    const dx = a1[0] - b1[0];\n    const dy = a1[1] - b1[1];\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n}", "export let ShapeType3D = /*#__PURE__*/function (ShapeType3D) {\n  ShapeType3D[\"CYLINDER\"] = \"cylinder\";\n  ShapeType3D[\"SQUARECOLUMN\"] = \"squareColumn\";\n  ShapeType3D[\"TRIANGLECOLUMN\"] = \"triangleColumn\";\n  ShapeType3D[\"HEXAGONCOLUMN\"] = \"hexagonColumn\";\n  ShapeType3D[\"PENTAGONCOLUMN\"] = \"pentagonColumn\";\n  return ShapeType3D;\n}({});\nexport let ShapeType2D = /*#__PURE__*/function (ShapeType2D) {\n  ShapeType2D[\"CIRCLE\"] = \"circle\";\n  ShapeType2D[\"SQUARE\"] = \"square\";\n  ShapeType2D[\"TRIANGLE\"] = \"triangle\";\n  ShapeType2D[\"HEXAGON\"] = \"hexagon\";\n  ShapeType2D[\"PENTAGON\"] = \"pentagon\";\n  return ShapeType2D;\n}({});\n\n/**\n * 生成规则多边形顶点个数\n * @param pointCount  顶点个数 3 => 三角形\n * @param start 顶点起始角度 调整图形的方向\n */\nexport function polygonPath(pointCount, start = 0) {\n  const step = Math.PI * 2 / pointCount;\n  const line = [];\n  for (let i = 0; i < pointCount; i++) {\n    line.push(step * i + start * Math.PI / 12);\n  }\n  const path = line.map(t => {\n    const x = Math.sin(t + Math.PI / 4);\n    const y = Math.cos(t + Math.PI / 4);\n    return [x, y, 0];\n  });\n  // path.push(path[0]);\n  return path;\n}\nexport function circle() {\n  return polygonPath(30);\n}\nexport function square() {\n  return polygonPath(4);\n}\nexport function triangle() {\n  return polygonPath(3);\n}\nexport function hexagon() {\n  return polygonPath(6, 1);\n}\nexport function pentagon() {\n  return polygonPath(5);\n}\nexport const geometryShape = {\n  [ShapeType2D.CIRCLE]: circle,\n  [ShapeType2D.HEXAGON]: hexagon,\n  [ShapeType2D.TRIANGLE]: triangle,\n  [ShapeType2D.SQUARE]: square,\n  [ShapeType2D.PENTAGON]: pentagon,\n  [ShapeType3D.CYLINDER]: circle,\n  [ShapeType3D.HEXAGONCOLUMN]: hexagon,\n  [ShapeType3D.TRIANGLECOLUMN]: triangle,\n  [ShapeType3D.SQUARECOLUMN]: square,\n  [ShapeType3D.PENTAGONCOLUMN]: pentagon\n};", "import { lngLatToMeters } from '@antv/l7-utils';\nimport earcut from 'earcut';\nimport { vec3 } from 'gl-matrix';\nimport { getPolygonSurfaceIndices } from \"../utils\";\n/**\n * 拉伸多边形顶点，返回拉伸后的顶点信息\n * @param paths 路径数据组\n * @param extrude 是否拉伸\n */\nexport default function extrudePolygon(path) {\n  const p1 = path[0][0];\n  const p2 = path[0][path[0].length - 1];\n  if (p1[0] === p2[0] && p1[1] === p2[1]) {\n    path[0] = path[0].slice(0, path[0].length - 1);\n  }\n  const n = path[0].length;\n  const flattengeo = earcut.flatten(path);\n  const {\n    vertices,\n    dimensions\n  } = flattengeo;\n  const positions = [];\n  const indexArray = [];\n  // 设置顶部z值\n  for (let j = 0; j < vertices.length / dimensions; j++) {\n    if (dimensions === 2) {\n      positions.push(vertices[j * 2], vertices[j * 2 + 1], 1);\n    } else {\n      positions.push(vertices[j * 3], vertices[j * 3 + 1], 1);\n    }\n  }\n  const triangles = earcut(flattengeo.vertices, flattengeo.holes, flattengeo.dimensions);\n  indexArray.push(...triangles);\n  for (let i = 0; i < n; i++) {\n    const prePoint = flattengeo.vertices.slice(i * dimensions, (i + 1) * dimensions);\n    let nextPoint = flattengeo.vertices.slice((i + 1) * dimensions, (i + 2) * dimensions);\n    if (nextPoint.length === 0) {\n      nextPoint = flattengeo.vertices.slice(0, dimensions);\n    }\n    const indexOffset = positions.length / 3;\n    positions.push(prePoint[0], prePoint[1], 1, nextPoint[0], nextPoint[1], 1, prePoint[0], prePoint[1], 0, nextPoint[0], nextPoint[1], 0);\n    indexArray.push(...[0, 2, 1, 2, 3, 1].map(v => v + indexOffset));\n  }\n  return {\n    positions,\n    index: indexArray\n  };\n}\nexport function fillPolygon(points) {\n  const flattengeo = earcut.flatten(points);\n  const triangles = earcut(flattengeo.vertices, flattengeo.holes, flattengeo.dimensions);\n  return {\n    positions: flattengeo.vertices,\n    index: triangles\n  };\n}\nexport function extrude_PolygonNormal(path, needFlat = false // 是否需要转成平面坐标\n) {\n  const p1 = path[0][0];\n  const p2 = path[0][path[0].length - 1];\n  if (p1[0] === p2[0] && p1[1] === p2[1]) {\n    path[0] = path[0].slice(0, path[0].length - 1);\n  }\n  const n = path[0].length;\n  const flattengeo = earcut.flatten(path);\n  const {\n    vertices,\n    dimensions,\n    holes\n  } = flattengeo;\n  const positions = [];\n  const indexArray = [];\n  const normals = [];\n  // 设置顶部z值 position uv\n  for (let j = 0; j < vertices.length / dimensions; j++) {\n    positions.push(vertices[j * dimensions],\n    // x\n    vertices[j * dimensions + 1],\n    // y\n    1,\n    // z\n    -1,\n    // 顶部uv\n    -1 // 顶部uv\n    );\n    normals.push(0, 0, 1);\n  }\n  const indices = getPolygonSurfaceIndices(vertices, holes, dimensions, needFlat);\n  indexArray.push(...indices);\n\n  // 设置侧面\n  for (let i = 0; i < n; i++) {\n    const prePoint = flattengeo.vertices.slice(i * dimensions, (i + 1) * dimensions);\n    let nextPoint = flattengeo.vertices.slice((i + 1) * dimensions, (i + 2) * dimensions);\n    if (nextPoint.length === 0) {\n      nextPoint = flattengeo.vertices.slice(0, dimensions);\n    }\n    const indexOffset = positions.length / 5;\n    // 侧面四顶点\n    positions.push(prePoint[0], prePoint[1], 1, 0, 0, nextPoint[0], nextPoint[1], 1, 0.1,\n    // 侧面 低uv\n    0,\n    // 侧面低 uv\n    prePoint[0], prePoint[1], 0, 0, 0.8, nextPoint[0], nextPoint[1], 0, 0.1, 0.8);\n    const normal = computeVertexNormals([nextPoint[0], nextPoint[1], 1], [prePoint[0], prePoint[1], 0], [prePoint[0], prePoint[1], 1], needFlat);\n    normals.push(...normal, ...normal, ...normal, ...normal);\n    indexArray.push(...[1, 2, 0, 3, 2, 1].map(v => v + indexOffset));\n  }\n  return {\n    positions,\n    index: indexArray,\n    normals\n  };\n}\nfunction computeVertexNormals(p1, p2, p3, needFlat = false) {\n  const cb = vec3.create();\n  const ab = vec3.create();\n  const normal = vec3.create();\n  if (needFlat) {\n    p1 = lngLatToMeters(p1);\n    p2 = lngLatToMeters(p2);\n    p3 = lngLatToMeters(p3);\n  }\n  const pA = vec3.fromValues(...p1);\n  const pB = vec3.fromValues(...p2);\n  const pC = vec3.fromValues(...p3);\n  vec3.sub(cb, pC, pB);\n  vec3.sub(ab, pA, pB);\n  vec3.cross(normal, cb, ab);\n  const newNormal = vec3.create();\n  vec3.normalize(newNormal, normal);\n  return newNormal;\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { PolygonExtrudeTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/build_frag.glsl' */\nconst buildFrag = \"precision highp float;\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_baseColor: [ 1.0, 0, 0, 1.0 ];\\n  vec4 u_brightColor: [ 1.0, 0, 0, 1.0 ];\\n  vec4 u_windowColor: [ 1.0, 0, 0, 1.0 ];\\n  vec4 u_circleSweepColor;\\n  vec2 u_cityCenter;\\n  float u_circleSweep;\\n  float u_cityMinSize;\\n  float u_circleSweepSpeed;\\n  float u_opacity: 1.0;\\n  float u_near: 0;\\n  float u_far: 1;\\n  float u_time;\\n};\\nin vec4 v_Color;\\nin vec2 v_texCoord;\\nin float v_worldDis;\\nout vec4 outputColor;\\n\\n#pragma include \\\"picking\\\"\\n#pragma include \\\"scene_uniforms\\\"\\n\\nvec3 getWindowColor(float n, float hot, vec3 brightColor, vec3 darkColor) {\\n    float s = step(hot, n);\\n    vec3 color = mix(brightColor,vec3(0.9,0.9,1.0),n);\\n\\n    return mix(darkColor, color, s);\\n}\\nfloat random (vec2 st) {\\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\\n}\\n\\nfloat LinearizeDepth()\\n{\\n    float z = gl_FragCoord.z * 2.0 - 1.0;\\n    return (2.0 * u_near * u_far) / (u_far + u_near - z * (u_far - u_near));\\n}\\n\\nvec3 fog(vec3 color, vec3 fogColor, float depth){\\n    float fogFactor=clamp(depth,0.0,1.0);\\n    vec3 output_color=mix(fogColor,color,fogFactor);\\n    return output_color;\\n}\\n\\nfloat sdRect(vec2 p, vec2 sz) {\\n  vec2 d = abs(p) - sz;\\n  float outside = length(max(d, 0.));\\n  float inside = min(max(d.x, d.y), 0.);\\n  return outside + inside;\\n}\\n\\nvoid main() {\\n  outputColor = v_Color;\\n  vec3 baseColor = u_baseColor.xyz;\\n  vec3 brightColor = u_brightColor.xyz;\\n  vec3 windowColor = u_windowColor.xyz;\\n  float targetColId = 5.;\\n  float depth = 1.0 - LinearizeDepth() / u_far * u_Zoom;\\n  vec3 fogColor = vec3(23.0/255.0,31.0/255.0,51.0/255.0);\\n  if(v_texCoord.x < 0.) { //\\u9876\\u90E8\\u989C\\u8272\\n       vec3 foggedColor = fog(baseColor.xyz + vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);\\n       outputColor = vec4( foggedColor, v_Color.w);\\n  }else { // \\u4FA7\\u9762\\u989C\\u8272\\n        vec2 st = v_texCoord;\\n        vec2  UvScale = v_texCoord;\\n        float tStep = min(0.08,max(0.05* (18.0-u_Zoom),0.02));\\n        float tStart = 0.25 * tStep;\\n        float tEnd = 0.75 * tStep;\\n        float u = mod(UvScale.x, tStep);\\n        float v = mod(UvScale.y, tStep);\\n        float ux = floor(UvScale.x/tStep);\\n        float uy = floor(UvScale.y/tStep);\\n        float n = random(vec2(ux,uy));\\n        float lightP = u_time;\\n        float head = 1.0- step(0.005,st.y);\\n        /*step3*/\\n        // \\u5C06\\u7A97\\u6237\\u989C\\u8272\\u548C\\u5899\\u9762\\u989C\\u8272\\u533A\\u522B\\u5F00\\u6765\\n        float sU = step(tStart, u) - step(tEnd, u);\\n        float sV = step(tStart, v) - step(tEnd, v);\\n        vec2 windowSize = vec2(abs(tEnd-tStart),abs(tEnd-tStart));\\n        float dist = sdRect(vec2(u,v), windowSize);\\n        float s = sU * sV;\\n\\n        float curColId = floor(UvScale.x / tStep);\\n        float sCol = step(targetColId - 0.2, curColId) - step(targetColId + 0.2, curColId);\\n\\n        float mLightP = mod(lightP, 2.);\\n        float sRow = step(mLightP - 0.2, st.y) - step(mLightP, st.y);\\n        if(ux == targetColId){\\n            n =0.;\\n        }\\n        float timeP = min(0.75, abs ( sin(u_time/3.0) ) );\\n        float hot = smoothstep(1.0,0.0,timeP);\\n        vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), s);\\n        //vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), 1.0);\\n        float sFinal = s * sCol * sRow;\\n        color += mix(baseColor, brightColor, sFinal*n);\\n        if (st.y<0.01){\\n        color = baseColor;\\n         }\\n        if(head ==1.0) { // \\u9876\\u90E8\\u4EAE\\u7EBF\\n            color = brightColor;\\n        }\\n        color = color * v_Color.rgb;\\n\\n        vec3 foggedColor = fog(color,fogColor,depth);\\n\\n        outputColor = vec4(foggedColor,1.0);\\n  }\\n\\n\\n  if(u_circleSweep > 0.0 && v_worldDis < u_cityMinSize) {\\n    float r = fract(((v_worldDis/u_cityMinSize) - u_time * u_circleSweepSpeed) * 2.0);\\n    outputColor.rgb += r * r * u_circleSweepColor.rgb;\\n  }\\n\\n  outputColor.a *= u_opacity;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/build_vert.glsl' */\nconst buildVert = \"precision highp float;\\n\\n#define ambientRatio 0.5\\n#define diffuseRatio 0.3\\n#define specularRatio 0.2\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nout vec2 v_texCoord;\\nout vec4 v_Color;\\nout float v_worldDis;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_baseColor : [ 1.0, 0, 0, 1.0 ];\\n  vec4 u_brightColor : [ 1.0, 0, 0, 1.0 ];\\n  vec4 u_windowColor : [ 1.0, 0, 0, 1.0 ];\\n  vec4 u_circleSweepColor;\\n  vec2 u_cityCenter;\\n  float u_circleSweep;\\n  float u_cityMinSize;\\n  float u_circleSweepSpeed;\\n  float u_opacity: 1.0;\\n  float u_near : 0;\\n  float u_far : 1;\\n  float u_time;\\n};\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\n\\nvoid main() {\\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\\n  vec4 project_pos = project_position(pos);\\n\\n   v_texCoord = a_Uv;\\n\\n  if(u_circleSweep > 0.0) {\\n     vec2 lnglatscale = vec2(0.0);\\n    lnglatscale = (a_Position.xy - u_cityCenter) * vec2(0.0, 0.135);\\n    v_worldDis = length(a_Position.xy + lnglatscale - u_cityCenter);\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n\\n  float lightWeight = calc_lighting(pos);\\n  // v_Color = a_Color;\\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class CityBuildModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"cityCenter\", void 0);\n    _defineProperty(this, \"cityMinSize\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      NORMAL: 10,\n      UV: 11\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity = 1,\n      baseColor = 'rgb(16,16,16)',\n      brightColor = 'rgb(255,176,38)',\n      windowColor = 'rgb(30,60,89)',\n      time = 0,\n      sweep = {\n        enable: false,\n        sweepRadius: 1,\n        sweepColor: 'rgb(255, 255, 255)',\n        sweepSpeed: 0.4,\n        sweepCenter: this.cityCenter\n      }\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_baseColor: rgb2arr(baseColor),\n      u_brightColor: rgb2arr(brightColor),\n      u_windowColor: rgb2arr(windowColor),\n      u_circleSweepColor: [...rgb2arr(sweep.sweepColor).slice(0, 3), 1.0],\n      u_cityCenter: sweep.sweepCenter || this.cityCenter,\n      u_circleSweep: sweep.enable ? 1.0 : 0.0,\n      u_cityMinSize: this.cityMinSize * sweep.sweepRadius,\n      u_circleSweepSpeed: sweep.sweepSpeed,\n      u_opacity: opacity,\n      u_near: 0,\n      u_far: 1,\n      u_time: this.layer.getLayerAnimateTime() || time\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  calCityGeo() {\n    // @ts-ignore\n    const [minLng, minLat, maxLng, maxLat] = this.layer.getSource().extent;\n    const w = maxLng - minLng;\n    const h = maxLat - minLat;\n    this.cityCenter = [(maxLng + minLng) / 2, (maxLat + minLat) / 2];\n    this.cityMinSize = Math.sqrt(Math.pow(w, 2) + Math.pow(h, 2)) / 4;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.calCityGeo();\n      _this.initUniformsBuffer();\n      _this.startModelAnimate();\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'cityBuilding',\n        vertexShader: buildVert,\n        fragmentShader: buildFrag,\n        triangulation: PolygonExtrudeTriangulation,\n        depth: {\n          enable: true\n        },\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        cull: {\n          enable: true,\n          face: gl.BACK\n        }\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 10\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport CityBuildModel from \"./models/build\";\nexport default class CityBuildingLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'CityBuildingLayer');\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.layerModel = new CityBuildModel(_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  setLight(t) {\n    this.updateLayerConfig({\n      time: t\n    });\n  }\n  getModelType() {\n    return 'citybuilding';\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\n/* babel-plugin-inline-import '../shaders/billboard_frag.glsl' */\nconst planeFrag = \"layout(std140) uniform commonUniforms {\\n vec2 u_size;\\n float u_raisingHeight;\\n float u_rotation;\\n float u_opacity;\\n};\\n\\nuniform sampler2D u_texture;\\n\\nin vec2 v_uv;\\nout vec4 outputColor;\\n\\n#pragma include \\\"picking\\\"\\nvoid main() {\\n  outputColor = texture(SAMPLER_2D(u_texture), vec2(v_uv.x, 1.0 - v_uv.y));\\n  outputColor.a *= u_opacity;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/billboard_vert.glsl' */\nconst planeVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec2 u_size;\\n  float u_raisingHeight;\\n  float u_rotation;\\n  float u_opacity;\\n};\\n\\nout vec2 v_uv;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n#pragma include \\\"rotation_2d\\\"\\nvoid main() {\\n  vec3 extrude = a_Extrude;\\n  v_uv = a_Uv;\\n  float raiseHeight = u_raisingHeight;\\n  if (\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n  ) {\\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\\n  }\\n\\n  // \\u8BA1\\u7B97\\u7ECF\\u7EAC\\u5EA6\\u70B9\\u4F4D\\u5750\\u6807\\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\\n\\n  // \\u8BA1\\u7B97\\u7ED5 z \\u8F74\\u65CB\\u8F6C\\u540E\\u7684\\u504F\\u79FB\\n  vec2 offsetXY = project_pixel(rotate_matrix(vec2(extrude.x * u_size.x, 0.0), u_rotation));\\n  // \\u7ED5 z \\u8F74\\u65CB\\u8F6C\\n  float x = project_pos.x + offsetXY.x;\\n  float y = project_pos.y + offsetXY.y;\\n  // z \\u8F74\\u4E0D\\u53C2\\u4E0E\\u65CB\\u8F6C\\n  float z = project_pixel(extrude.y * u_size.y + raiseHeight);\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(x, y, z, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class BillBoardModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"radian\", 0);\n    // 旋转的弧度\n    _defineProperty(this, \"planeGeometryTriangulation\", () => {\n      const {\n        center = [120, 30]\n      } = this.layer.getLayerConfig();\n      return {\n        size: 4,\n        indices: [0, 1, 2, 2, 3, 0],\n        vertices: [...center, ...[1, 1], ...center, ...[0, 1], ...center, ...[0, 0], ...center, ...[1, 0]]\n      };\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      EXTRUDE: 9,\n      UV: 10\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity,\n      width = 1,\n      height = 1,\n      raisingHeight = 0\n    } = this.layer.getLayerConfig();\n\n    /**\n     *               rotateFlag\n     * DEFAULT            1\n     * MAPBOX             1\n     * AMAP              -1\n     */\n    let rotateFlag = 1;\n    if (this.mapService.getType() === 'amap') {\n      rotateFlag = -1;\n    }\n    // 控制图标的旋转角度（绕 Z 轴旋转）\n    this.radian = rotateFlag * Math.PI * (this.mapService.getRotation() % 360) / 180;\n    const commonOptions = {\n      u_size: [width, height],\n      u_raisingHeight: Number(raisingHeight),\n      u_rotation: this.radian,\n      u_opacity: opacity || 1,\n      u_texture: this.texture\n    };\n    this.textures = [this.texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  clearModels() {\n    var _this$texture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        drawCanvas\n      } = _this.layer.getLayerConfig();\n      const {\n        createTexture2D\n      } = _this.rendererService;\n      _this.texture = createTexture2D({\n        height: 0,\n        width: 0\n      });\n      if (drawCanvas) {\n        _this.updateTexture(drawCanvas);\n      }\n      _this.initUniformsBuffer();\n      const model = yield _this.layer.buildLayerModel({\n        moduleName: 'geometryBillboard',\n        vertexShader: planeVert,\n        fragmentShader: planeFrag,\n        triangulation: _this.planeGeometryTriangulation,\n        defines: _this.getDefines(),\n        inject: _this.getInject(),\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: true\n        }\n      });\n      return [model];\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.initModels();\n    })();\n  }\n  updateTexture(drawCanvas) {\n    const {\n      createTexture2D\n    } = this.rendererService;\n    const {\n      canvasWidth = 1,\n      canvasHeight = 1\n    } = this.layer.getLayerConfig();\n    const canvas = document.createElement('canvas');\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n      drawCanvas(canvas);\n      this.texture = createTexture2D({\n        data: canvas,\n        width: canvas.width,\n        height: canvas.height,\n        wrapS: gl.CLAMP_TO_EDGE,\n        wrapT: gl.CLAMP_TO_EDGE\n      });\n      this.layerService.reRender();\n    }\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'extrude',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Extrude',\n        shaderLocation: this.attributeLocation.EXTRUDE,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx) => {\n          const extrude = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0];\n          const extrudeIndex = attributeIdx % 4 * 3;\n          return [extrude[extrudeIndex], extrude[extrudeIndex + 1], extrude[extrudeIndex + 2]];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[2], vertex[3]];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\n/* babel-plugin-inline-import '../shaders/plane_frag.glsl' */\nconst planeFrag = \"uniform sampler2D u_texture;\\nlayout(std140) uniform commonUniforms {\\n  float u_opacity;\\n  float u_mapFlag;\\n  float u_terrainClipHeight;\\n};\\n\\nin vec3 v_Color;\\nin vec2 v_uv;\\nin float v_clip;\\nout vec4 outputColor;\\n\\n#pragma include \\\"picking\\\"\\nvoid main() {\\n  if (u_mapFlag > 0.0) {\\n    outputColor = texture(SAMPLER_2D(u_texture), vec2(v_uv.x, 1.0 - v_uv.y));\\n    outputColor.a *= u_opacity;\\n  } else {\\n    outputColor = vec4(v_Color, u_opacity);\\n  }\\n  outputColor.a *= v_clip;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/plane_vert.glsl' */\nconst planeVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec3 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_opacity;\\n  float u_mapFlag;\\n  float u_terrainClipHeight;\\n};\\n\\nout vec3 v_Color;\\nout vec2 v_uv;\\nout float v_clip;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\nvoid main() {\\n  v_Color = a_Color;\\n  v_uv = a_Uv;\\n\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\\n\\n  v_clip = 1.0;\\n  if (a_Position.z < u_terrainClipHeight) {\\n    v_clip = 0.0;\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, a_Position.z, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class PlaneModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"terrainImage\", void 0);\n    _defineProperty(this, \"terrainImageLoaded\", false);\n    _defineProperty(this, \"mapTexture\", void 0);\n    _defineProperty(this, \"planeGeometryTriangulation\", () => {\n      const {\n        width = 1,\n        height = 1,\n        widthSegments = 1,\n        heightSegments = 1,\n        center = [120, 30],\n        terrainTexture,\n        rgb2height = (r, g, b) => r + g + b\n      } = this.layer.getLayerConfig();\n      const {\n        indices,\n        positions\n      } = this.initPlane(width, height, widthSegments, heightSegments, ...center);\n      if (terrainTexture) {\n        // 存在地形贴图的时候会根据地形贴图对顶点进行偏移\n        return this.translateVertex(positions, indices, this.terrainImage, widthSegments, heightSegments, rgb2height);\n      }\n      return {\n        vertices: positions,\n        indices,\n        size: 5\n      };\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      UV: 10\n    });\n  }\n  initPlane(width = 1, height = 1, widthSegments = 1, heightSegments = 1, lng = 120, lat = 30) {\n    // https://github.com/mrdoob/three.js/blob/dev/src/geometries/PlaneGeometry.js\n    const widthHalf = width / 2;\n    const heightHalf = height / 2;\n    const gridX = Math.floor(widthSegments);\n    const gridY = Math.floor(heightSegments);\n    const gridX1 = gridX + 1;\n    const gridY1 = gridY + 1;\n    const segmentWidth = width / gridX;\n    const segmentHeight = height / gridY;\n    const indices = [];\n    const positions = [];\n    for (let iy = 0; iy < gridY1; iy++) {\n      const y = iy * segmentHeight - heightHalf;\n      for (let ix = 0; ix < gridX1; ix++) {\n        const x = ix * segmentWidth - widthHalf;\n        positions.push(x + lng, -y + lat, 0);\n        positions.push(ix / gridX);\n        positions.push(1 - iy / gridY);\n      }\n    }\n    for (let iy = 0; iy < gridY; iy++) {\n      for (let ix = 0; ix < gridX; ix++) {\n        const a = ix + gridX1 * iy;\n        const b = ix + gridX1 * (iy + 1);\n        const c = ix + 1 + gridX1 * (iy + 1);\n        const d = ix + 1 + gridX1 * iy;\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n    return {\n      indices,\n      positions\n    };\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity,\n      mapTexture,\n      terrainClipHeight = 0,\n      terrainTexture\n    } = this.layer.getLayerConfig();\n    if (this.mapTexture !== mapTexture) {\n      var _this$texture;\n      this.mapTexture = mapTexture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n      this.updateTexture(mapTexture);\n    }\n    const commonOptions = {\n      u_opacity: opacity || 1,\n      u_mapFlag: mapTexture ? 1 : 0,\n      u_terrainClipHeight: terrainTexture ? terrainClipHeight : -1,\n      u_texture: this.texture\n    };\n    this.textures = [this.texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  clearModels() {\n    var _this$texture2;\n    // @ts-ignore\n    this.terrainImage = null;\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    this.textures = [];\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        mapTexture,\n        terrainTexture\n      } = _this.layer.getLayerConfig();\n      _this.mapTexture = mapTexture;\n      const {\n        createTexture2D\n      } = _this.rendererService;\n      _this.texture = createTexture2D({\n        height: 0,\n        width: 0\n      });\n      _this.updateTexture(mapTexture);\n      _this.initUniformsBuffer();\n      if (terrainTexture) {\n        _this.terrainImage = yield _this.loadTerrainImage(terrainTexture);\n      }\n      const model = yield _this.layer.buildLayerModel({\n        moduleName: 'geometryPlane',\n        vertexShader: planeVert,\n        fragmentShader: planeFrag,\n        triangulation: _this.planeGeometryTriangulation,\n        defines: _this.getDefines(),\n        inject: _this.getInject(),\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: true\n        },\n        cull: {\n          enable: true,\n          face: gl.BACK // gl.FRONT | gl.BACK;\n        }\n      });\n      return [model];\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.initModels();\n    })();\n  }\n  createModelData(options) {\n    if (options) {\n      const {\n        widthSegments: oldwidthSegments,\n        heightSegments: oldheightSegments,\n        width: oldwidth,\n        height: oldheight\n      } = this.layer.getLayerConfig();\n      const {\n        widthSegments,\n        heightSegments,\n        width,\n        height\n      } = options;\n      this.layer.style({\n        widthSegments: widthSegments !== undefined ? widthSegments : oldwidthSegments,\n        heightSegments: heightSegments !== undefined ? heightSegments : oldheightSegments,\n        width: width !== undefined ? width : oldwidth,\n        height: height !== undefined ? height : oldheight\n      });\n    }\n    const oldFeatures = this.layer.getEncodedData();\n    const res = this.styleAttributeService.createAttributesAndIndices(oldFeatures, this.planeGeometryTriangulation);\n    return res;\n  }\n  updateTexture(mapTexture) {\n    const {\n      createTexture2D\n    } = this.rendererService;\n    if (mapTexture) {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.onload = () => {\n        this.texture = createTexture2D({\n          data: img,\n          width: img.width,\n          height: img.height,\n          wrapS: gl.CLAMP_TO_EDGE,\n          wrapT: gl.CLAMP_TO_EDGE\n        });\n        this.layerService.reRender();\n      };\n      img.src = mapTexture;\n    } else {\n      this.texture = createTexture2D({\n        width: 0,\n        height: 0\n      });\n    }\n  }\n  getImageData(img) {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const {\n      width,\n      height\n    } = img;\n    canvas.width = width;\n    canvas.height = height;\n    ctx.drawImage(img, 0, 0, width, height);\n    const imageData = ctx.getImageData(0, 0, width, height);\n    return imageData;\n  }\n  translateVertex(positions, indices, image, widthSegments, heightSegments, rgb2height) {\n    const imgWidth = image.width;\n    const imgHeight = image.height;\n    const imageData = this.getImageData(image).data;\n    const gridX = Math.floor(widthSegments);\n    const gridY = Math.floor(heightSegments);\n    const gridX1 = gridX + 1;\n    const gridY1 = gridY + 1;\n    const widthStep = imgWidth / gridX;\n    const heightStep = imgHeight / gridY;\n    for (let iy = 0; iy < gridY1; iy++) {\n      const imgIndexY = Math.floor(iy * heightStep);\n      const imgLen = imgIndexY * imgWidth;\n      for (let ix = 0; ix < gridX1; ix++) {\n        const imgIndexX = Math.floor(ix * widthStep);\n        const imgDataIndex = (imgLen + imgIndexX) * 4;\n        const r = imageData[imgDataIndex];\n        const g = imageData[imgDataIndex + 1];\n        const b = imageData[imgDataIndex + 2];\n        const z = (iy * gridX1 + ix) * 5 + 2;\n        positions[z] = rgb2height(r, g, b);\n      }\n    }\n    return {\n      vertices: positions,\n      indices,\n      size: 5\n    };\n  }\n  loadTerrainImage(terrainTexture) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.terrainImage) {\n        // 若当前已经存在 image，直接进行偏移计算（LOD）\n        if (_this3.terrainImageLoaded) {\n          return _this3.terrainImage;\n        } else {\n          return new Promise(resolve => {\n            _this3.terrainImage.onload = () => {\n              resolve(_this3.terrainImage);\n            };\n          });\n        }\n      } else {\n        // 加载地形贴图、根据地形贴图对 planeGeometry 进行偏移\n        const terrainImage = new Image();\n        terrainImage.crossOrigin = 'anonymous';\n        return new Promise(resolve => {\n          terrainImage.onload = () => {\n            _this3.terrainImageLoaded = true;\n            resolve(terrainImage);\n            // 图片加载完，触发事件，可以进行地形图的顶点计算存储\n            setTimeout(() => _this3.layer.emit('terrainImageLoaded', null));\n          };\n          terrainImage.src = terrainTexture;\n        });\n      }\n    })();\n  }\n  registerBuiltinAttributes() {\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\n/* babel-plugin-inline-import '../shaders/sprite_frag.glsl' */\nconst spriteFrag = \"\\nlayout(std140) uniform commonUniforms {\\n  float u_opacity;\\n  float u_mapFlag;\\n  float u_Scale;\\n};\\nuniform sampler2D u_texture;\\n\\nin vec3 v_Color;\\nin float v_d;\\nout vec4 outputColor;\\n\\nvoid main() {\\n\\n  if(v_d < 0.0) {\\n    discard;\\n  }\\n\\n  if(u_mapFlag > 0.0) {\\n    outputColor = texture(SAMPLER_2D(u_texture), gl_PointCoord);\\n    outputColor.a *= u_opacity;\\n  } else {\\n    outputColor = vec4(v_Color, u_opacity);\\n  }\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/sprite_vert.glsl' */\nconst spriteVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec3 a_Color;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_opacity;\\n  float u_mapFlag;\\n  float u_Scale;\\n};\\n\\nout vec3 v_Color;\\nout float v_d;\\n\\n#pragma include \\\"projection\\\"\\nvoid main() {\\n  v_Color = a_Color.xyz;\\n  v_d = a_Position.z;\\n\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, a_Position.z, 1.0));\\n  gl_PointSize = pow(u_Zoom - 1.0, 2.0) * u_Scale;\\n}\\n\";\nvar SPRITE_ANIMATE_DIR = /*#__PURE__*/function (SPRITE_ANIMATE_DIR) {\n  SPRITE_ANIMATE_DIR[\"UP\"] = \"up\";\n  SPRITE_ANIMATE_DIR[\"DOWN\"] = \"down\";\n  return SPRITE_ANIMATE_DIR;\n}(SPRITE_ANIMATE_DIR || {});\nexport default class SpriteModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"mapTexture\", void 0);\n    _defineProperty(this, \"positions\", void 0);\n    _defineProperty(this, \"indices\", void 0);\n    _defineProperty(this, \"timer\", void 0);\n    _defineProperty(this, \"spriteTop\", void 0);\n    _defineProperty(this, \"spriteUpdate\", void 0);\n    _defineProperty(this, \"spriteAnimate\", void 0);\n    _defineProperty(this, \"planeGeometryUpdateTriangulation\", () => {\n      const {\n        spriteBottom = -10\n      } = this.layer.getLayerConfig();\n      const updateZ = this.spriteUpdate;\n      const bottomZ = spriteBottom;\n      const topZ = this.spriteTop;\n      for (let i = 0; i < this.positions.length; i += 5) {\n        if (this.spriteAnimate === SPRITE_ANIMATE_DIR.UP) {\n          this.positions[i + 2] += updateZ;\n          if (this.positions[i + 2] > topZ) {\n            this.positions[i + 2] = bottomZ;\n          }\n        } else {\n          this.positions[i + 2] -= updateZ;\n          if (this.positions[i + 2] < bottomZ) {\n            this.positions[i + 2] = topZ;\n          }\n        }\n      }\n      return {\n        vertices: this.positions,\n        indices: this.indices,\n        size: 5\n      };\n    });\n    /**\n     * Recalculate and update position attribute.\n     */\n    _defineProperty(this, \"updatePosition\", () => {\n      var _this$styleAttributeS;\n      this.planeGeometryUpdateTriangulation();\n      const vertexAttribute = (_this$styleAttributeS = this.styleAttributeService.getLayerStyleAttribute('position')) === null || _this$styleAttributeS === void 0 ? void 0 : _this$styleAttributeS.vertexAttribute;\n      if (vertexAttribute) {\n        // [x1, y1, z1, x2, y2, z2...]\n        const updated = [];\n        for (let i = 0; i < this.positions.length; i += 5) {\n          updated.push(this.positions[i], this.positions[i + 1], this.positions[i + 2]);\n        }\n        vertexAttribute.updateBuffer({\n          data: updated,\n          offset: 0\n        });\n      }\n      this.layerService.throttleRenderLayers();\n      this.timer = requestAnimationFrame(this.updatePosition);\n    });\n    _defineProperty(this, \"planeGeometryTriangulation\", () => {\n      const {\n        center = [120, 30],\n        spriteCount = 100,\n        spriteRadius = 10\n      } = this.layer.getLayerConfig();\n      const {\n        indices,\n        positions\n      } = this.initSprite(spriteRadius, spriteCount, ...center);\n      this.positions = positions;\n      this.indices = indices;\n      return {\n        vertices: positions,\n        indices,\n        size: 5\n      };\n    });\n  }\n  initSprite(radius = 10, spriteCount = 100, lng = 120, lat = 30) {\n    const indices = [];\n    const positions = [];\n    const heightLimit = this.spriteAnimate === SPRITE_ANIMATE_DIR.UP ? -this.spriteTop : this.spriteTop;\n    for (let i = 0; i < spriteCount; i++) {\n      const height = Math.random() * heightLimit;\n      positions.push(...getPos(height));\n    }\n    for (let i = 0; i < spriteCount; i++) {\n      indices.push(i);\n    }\n    function getPos(z) {\n      const randomX = radius * Math.random();\n      const randomY = radius * Math.random();\n      const x = -radius / 2 + randomX;\n      const y = -radius / 2 + randomY;\n      return [x + lng, -y + lat, z, 0, 0];\n    }\n    return {\n      indices,\n      positions\n    };\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity,\n      mapTexture,\n      spriteScale = 1\n    } = this.layer.getLayerConfig();\n    if (this.mapTexture !== mapTexture) {\n      var _this$texture;\n      this.mapTexture = mapTexture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n      this.textures = [];\n      this.updateTexture(mapTexture);\n    }\n    const commonOptions = {\n      u_opacity: opacity || 1,\n      u_mapFlag: mapTexture ? 1 : 0,\n      u_Scale: spriteScale,\n      u_texture: this.texture\n    };\n    this.textures = [this.texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  clearModels() {\n    var _this$texture2;\n    cancelAnimationFrame(this.timer);\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    this.textures = [];\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        mapTexture,\n        spriteTop = 300,\n        spriteUpdate = 10,\n        spriteAnimate = SPRITE_ANIMATE_DIR.DOWN\n      } = _this.layer.getLayerConfig();\n      _this.initUniformsBuffer();\n      _this.mapTexture = mapTexture;\n      _this.spriteTop = spriteTop;\n      _this.spriteUpdate = spriteUpdate;\n      spriteAnimate === 'up' ? _this.spriteAnimate = SPRITE_ANIMATE_DIR.UP : _this.spriteAnimate = SPRITE_ANIMATE_DIR.DOWN;\n      const {\n        createTexture2D\n      } = _this.rendererService;\n      _this.texture = createTexture2D({\n        height: 0,\n        width: 0\n      });\n      _this.updateTexture(mapTexture);\n      setTimeout(() => {\n        _this.updatePosition();\n      }, 100);\n      const model = yield _this.layer.buildLayerModel({\n        moduleName: 'geometrySprite',\n        vertexShader: spriteVert,\n        fragmentShader: spriteFrag,\n        triangulation: _this.planeGeometryTriangulation,\n        defines: _this.getDefines(),\n        inject: _this.getInject(),\n        primitive: gl.POINTS,\n        depth: {\n          enable: false\n        },\n        blend: _this.getBlend()\n      });\n      return [model];\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.initModels();\n    })();\n  }\n  updateTexture(mapTexture) {\n    const {\n      createTexture2D\n    } = this.rendererService;\n    if (mapTexture) {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.onload = () => {\n        this.texture = createTexture2D({\n          data: img,\n          width: img.width,\n          height: img.height,\n          wrapS: gl.CLAMP_TO_EDGE,\n          wrapT: gl.CLAMP_TO_EDGE\n        });\n        this.layerService.reRender();\n      };\n      img.src = mapTexture;\n    } else {\n      this.texture = createTexture2D({\n        width: 1,\n        height: 1\n      });\n    }\n  }\n  registerBuiltinAttributes() {\n    return '';\n  }\n}", "import BillBoardModel from \"./billboard\";\nimport PlaneModel from \"./plane\";\nimport SpriteModel from \"./sprite\";\nconst GeometryModels = {\n  plane: PlaneModel,\n  sprite: SpriteModel,\n  billboard: BillBoardModel\n};\nexport default GeometryModels;", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport GeometryModels from \"./models\";\nexport default class GeometryLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'GeometryLayer');\n    _defineProperty(this, \"defaultSourceConfig\", {\n      data: [{\n        x: 0,\n        y: 0\n      }],\n      options: {\n        parser: {\n          type: 'json',\n          x: 'x',\n          y: 'y'\n        }\n      }\n    });\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modelType = _this.getModelType();\n      _this.layerModel = new GeometryModels[modelType](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  getDefaultConfig() {\n    const type = this.getModelType();\n    const defaultConfig = {\n      plane: {},\n      sprite: {},\n      billboard: {}\n    };\n    return defaultConfig[type];\n  }\n  getModelType() {\n    var _shapeAttribute$scale;\n    const shapeAttribute = this.styleAttributeService.getLayerStyleAttribute('shape');\n    const shape = shapeAttribute === null || shapeAttribute === void 0 || (_shapeAttribute$scale = shapeAttribute.scale) === null || _shapeAttribute$scale === void 0 ? void 0 : _shapeAttribute$scale.field;\n    if (shape === 'plane') {\n      return 'plane';\n    } else if (shape === 'sprite') {\n      return 'sprite';\n    } else if (shape === 'billboard') {\n      return 'billboard';\n    } else {\n      return 'plane';\n    }\n  }\n}", "export function rampColor2legend(rampColors, name) {\n  return {\n    type: rampColors.type,\n    field: 'value',\n    items: rampColors.positions.map((value, index) => {\n      return {\n        [name]: index >= rampColors.colors.length ? null : rampColors.colors[index],\n        value\n      };\n    })\n  };\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { HeatmapGridTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/grid/grid_frag.glsl' */\nconst grid_frag = \"in vec4 v_color;\\n\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\nout vec4 outputColor;\\nvoid main() {\\n  outputColor = v_color;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/grid/grid_vert.glsl' */\nconst grid_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location =  ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\\n\\nlayout(std140) uniform commonUniforms {\\n    vec2 u_radius;\\n    float u_opacity;\\n    float u_coverage;\\n    float u_angle;\\n};\\n\\nout vec4 v_color;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  v_color = a_Color;\\n  v_color.a *= u_opacity;\\n\\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\\n  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage;\\n\\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\\n  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\\n  gl_Position = project_common_position_to_clipspace(project_pos);\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class GridModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      POS: 9\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity,\n      coverage,\n      angle\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_radius: [this.layer.getSource().data.xOffset, this.layer.getSource().data.yOffset],\n      u_opacity: opacity || 1.0,\n      u_coverage: coverage || 0.9,\n      u_angle: angle || 0\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'heatmapGrid',\n        vertexShader: grid_vert,\n        fragmentShader: grid_frag,\n        defines: _this2.getDefines(),\n        triangulation: HeatmapGridTriangulation,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        }\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'pos',\n      // 顶点经纬度位置\n      type: AttributeType.Attribute,\n      descriptor: {\n        shaderLocation: this.attributeLocation.POS,\n        name: 'a_Pos',\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: feature => {\n          const coordinates = feature.coordinates;\n          return [coordinates[0], coordinates[1], 0];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { PointExtrudeTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/grid3d/grid_3d_frag.glsl' */\nconst grid_3d_frag = \"in vec4 v_color;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec2 u_radius;\\n  float u_opacity;\\n  float u_coverage;\\n  float u_angle;\\n};\\n\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\n\\nout vec4 outputColor;\\nvoid main() {\\n  outputColor = v_color;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/grid3d/grid_3d_vert.glsl' */\nconst grid_3d_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec2 u_radius;\\n  float u_opacity;\\n  float u_coverage;\\n  float u_angle;\\n};\\n\\nout vec4 v_color;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\\n  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);\\n\\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \\u5B9E\\u9645\\u7684\\u7ECF\\u7EAC\\u5EA6\\n  vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\\n\\n  float lightWeight = calc_lighting(project_pos);\\n  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w);\\n\\n  gl_Position = project_common_position_to_clipspace(project_pos);\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class Grid3DModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      POS: 10,\n      NORMAL: 11\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity,\n      coverage,\n      angle\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_radius: [this.layer.getSource().data.xOffset, this.layer.getSource().data.yOffset],\n      u_opacity: opacity || 1.0,\n      u_coverage: coverage || 0.9,\n      u_angle: angle || 0\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'heatmapGrid3d',\n        vertexShader: grid_3d_vert,\n        fragmentShader: grid_3d_frag,\n        defines: _this2.getDefines(),\n        triangulation: PointExtrudeTriangulation,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: true\n        }\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        shaderLocation: this.attributeLocation.SIZE,\n        name: 'a_Size',\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'pos',\n      // 顶点经纬度位置\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Pos',\n        shaderLocation: this.attributeLocation.POS,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: feature => {\n          const coordinates = feature.coordinates;\n          return [coordinates[0], coordinates[1], 0];\n        }\n      }\n    });\n  }\n}", "export function heatMap3DTriangulation(width, height) {\n  const indices = [];\n  const vertices = [];\n  const uvs = [];\n  const gridX1 = width + 1;\n  const gridY1 = height + 1;\n  const widthHalf = width / 2;\n  const heightHalf = height / 2;\n  for (let iy = 0; iy < gridY1; iy++) {\n    const y = iy - heightHalf;\n    for (let ix = 0; ix < gridX1; ix++) {\n      const x = ix - widthHalf;\n      vertices.push(x / widthHalf, -y / heightHalf, 0);\n      uvs.push(ix / width);\n      uvs.push(1 - iy / height);\n    }\n  }\n  for (let iy = 0; iy < height; iy++) {\n    for (let ix = 0; ix < width; ix++) {\n      const a = ix + gridX1 * iy;\n      const b = ix + gridX1 * (iy + 1);\n      const c = ix + 1 + gridX1 * (iy + 1);\n      const d = ix + 1 + gridX1 * iy;\n      indices.push(a, b, d);\n      indices.push(b, c, d);\n    }\n  }\n  return {\n    vertices,\n    indices,\n    uvs\n  };\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, TextureUsage, gl } from '@antv/l7-core';\nimport { generateColorRamp, lodashUtil } from '@antv/l7-utils';\nimport { mat4 } from 'gl-matrix';\nimport BaseModel from \"../../core/BaseModel\";\nimport { HeatmapTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/heatmap/heatmap_3d_frag.glsl' */\nconst heatmap_3d_frag = \"layout(std140) uniform commonUniforms {\\n  mat4 u_ViewProjectionMatrixUncentered;\\n  mat4 u_InverseViewProjectionMatrix;\\n  float u_opacity;\\n  float u_common_uniforms_padding1;\\n  float u_common_uniforms_padding2;\\n  float u_common_uniforms_padding3;\\n};\\n\\nuniform sampler2D u_texture;\\nuniform sampler2D u_colorTexture;\\n\\nin vec2 v_texCoord;\\nin float v_intensity;\\nout vec4 outputColor;\\n\\nvoid main(){\\n   \\n    float intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;\\n    vec4 color = texture(SAMPLER_2D(u_colorTexture),vec2(intensity, 0));\\n    outputColor = color;\\n    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;\\n   outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/heatmap/heatmap_3d_vert.glsl' */\nconst heatmap_3d_vert = \"layout(location = 0) in vec3 a_Position;\\nlayout(location = 10) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  mat4 u_ViewProjectionMatrixUncentered;\\n  mat4 u_InverseViewProjectionMatrix;\\n  float u_opacity;\\n  float u_common_uniforms_padding1;\\n  float u_common_uniforms_padding2;\\n  float u_common_uniforms_padding3;\\n};\\n\\nuniform sampler2D u_texture;\\nuniform sampler2D u_colorTexture;\\n\\nout vec2 v_texCoord;\\nout float v_intensity;\\n\\nvec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {\\n  float t2 = t * t;\\n  float one_minus_t = 1.0 - t;\\n  float one_minus_t2 = one_minus_t * one_minus_t;\\n  return P0 * one_minus_t2 * one_minus_t +\\n  P1 * 3.0 * t * one_minus_t2 +\\n  P2 * 3.0 * t2 * one_minus_t +\\n  P3 * t2 * t;\\n}\\nvec2 toBezier(float t, vec4 p) {\\n  return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));\\n}\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n\\nvoid main() {\\n  v_texCoord = a_Uv;\\n\\n  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // \\u5C06\\u539F\\u672C 0 -> 1 \\u7684 uv \\u8F6C\\u6362\\u4E3A -1 -> 1 \\u7684\\u6807\\u51C6\\u5750\\u6807\\u7A7A\\u95F4\\uFF08NDC\\uFF09\\n\\n  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y \\u5E73\\u9762\\u4E0A\\u7684\\u70B9\\uFF08z == 0\\uFF09\\u53EF\\u4EE5\\u8BA4\\u4E3A\\u662F\\u4E09\\u7EF4\\u4E0A\\u7684\\u70B9\\u88AB\\u6295\\u5F71\\u5230\\u5E73\\u9762\\u540E\\u7684\\u70B9\\n  vec4 p2 = vec4(pos, 1.0, 1.0); // \\u5E73\\u884C\\u4E8Ex/y\\u5E73\\u9762\\u3001z==1 \\u7684\\u5E73\\u9762\\u4E0A\\u7684\\u70B9\\n\\n  vec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // \\u6839\\u636E\\u89C6\\u56FE\\u6295\\u5F71\\u77E9\\u9635\\u7684\\u9006\\u77E9\\u9635\\u5E73\\u9762\\u4E0A\\u7684\\u53CD\\u7B97\\u51FA\\u4E09\\u7EF4\\u7A7A\\u95F4\\u4E2D\\u7684\\u70B9\\uFF08p1\\u5E73\\u9762\\u4E0A\\u7684\\u70B9\\uFF09\\n  vec4 inverseP2 = u_InverseViewProjectionMatrix * p2;\\n\\n  inverseP1 = inverseP1 / inverseP1.w; // \\u5F52\\u4E00\\u5316\\u64CD\\u4F5C\\uFF08\\u5F52\\u4E00\\u5316\\u540E\\u4E3A\\u4E16\\u754C\\u5750\\u6807\\uFF09\\n  inverseP2 = inverseP2 / inverseP2.w;\\n\\n  float zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??\\n  vec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);\\n\\n  vec4 b = vec4(0.5, 0.0, 1.0, 0.5);\\n  float fh;\\n\\n  v_intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;\\n  fh = toBezier(v_intensity, b).y;\\n  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.0), 1.0);\\n\\n}\\n\"; // 绘制平面热力的 shader\n/* babel-plugin-inline-import '../shaders/heatmap/heatmap_frag.glsl' */\nconst heatmap_frag = \"uniform sampler2D u_texture;        // \\u70ED\\u529B\\u5F3A\\u5EA6\\u56FE\\nuniform sampler2D u_colorTexture;   // \\u6839\\u636E\\u5F3A\\u5EA6\\u5206\\u5E03\\u7684\\u8272\\u5E26\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_opacity;\\n  float u_common_uniforms_padding1;\\n  float u_common_uniforms_padding2;\\n  float u_common_uniforms_padding3;\\n};\\nin vec2 v_texCoord;\\nout vec4 outputColor;\\n\\n#pragma include \\\"scene_uniforms\\\"\\n\\nfloat getBlurIndusty() {\\n    float vW = 2.0/ u_ViewportSize.x;\\n    float vH = 2.0/ u_ViewportSize.y;\\n    vec2 vUv = v_texCoord;\\n    float i11 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y + 1.0 * vH) ).r;\\n    float i12 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y + 1.0 * vH) ).r;\\n    float i13 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y + 1.0 * vH) ).r;\\n\\n    float i21 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y) ).r;\\n    float i22 = texture(SAMPLER_2D(u_texture), vec2( vUv.x , vUv.y) ).r;\\n    float i23 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y) ).r;\\n\\n    float i31 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y-1.0*vH) ).r;\\n    float i32 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y-1.0*vH) ).r;\\n    float i33 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y-1.0*vH) ).r;\\n\\n    return(\\n        i11 + \\n        i12 + \\n        i13 + \\n        i21 + \\n        i21 + \\n        i22 + \\n        i23 + \\n        i31 + \\n        i32 + \\n        i33\\n        )/9.0;\\n}\\n\\n\\nvoid main(){\\n    // float intensity = texture(u_texture, v_texCoord).r;\\n    float intensity = getBlurIndusty();\\n    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0.0));\\n    outputColor = color;\\n    outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/heatmap/heatmap_vert.glsl' */\nconst heatmap_vert = \"layout(location = 0) in vec3 a_Position;\\nlayout(location = 10) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_opacity;\\n  float u_common_uniforms_padding1;\\n  float u_common_uniforms_padding2;\\n  float u_common_uniforms_padding3;\\n};\\n\\n#pragma include \\\"scene_uniforms\\\"\\n\\nout vec2 v_texCoord;\\nvoid main() {\\n  v_texCoord = a_Uv;\\n  #ifdef VIEWPORT_ORIGIN_TL\\n  v_texCoord.y = 1.0 - v_texCoord.y;\\n  #endif\\n\\n  gl_Position = vec4(a_Position.xy, 0, 1.0);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/heatmap/heatmap_framebuffer_frag.glsl' */\nconst heatmap_framebuffer_frag = \"layout(std140) uniform commonUniforms {\\n  float u_radius;\\n  float u_intensity;\\n  float u_common_uniforms_padding1;\\n  float u_common_uniforms_padding2;\\n};\\n\\nin vec2 v_extrude;\\nin float v_weight;\\nout vec4 outputColor;\\n#define GAUSS_COEF  0.3989422804014327\\n\\nvoid main(){\\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\\n    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);\\n    outputColor = vec4(val, 1., 1., 1.);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/heatmap/heatmap_framebuffer_vert.glsl' */\nconst heatmap_framebuffer_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_DIR) in vec2 a_Dir;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_radius;\\n  float u_intensity;\\n  float u_common_uniforms_padding1;\\n  float u_common_uniforms_padding2;\\n};\\n\\nout vec2 v_extrude;\\nout float v_weight;\\n\\n#define GAUSS_COEF (0.3989422804014327)\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  vec3 picking_color_placeholder = u_PickingColor;\\n\\n  v_weight = a_Size;\\n  float ZERO = 1.0 / 255.0 / 16.0;\\n  float extrude_x = a_Dir.x * 2.0 - 1.0;\\n  float extrude_y = a_Dir.y * 2.0 - 1.0;\\n  vec2 extrude_dir = normalize(vec2(extrude_x, extrude_y));\\n  float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 2.5;\\n  v_extrude = extrude_dir * S;\\n\\n  vec2 offset = project_pixel(v_extrude * u_radius);\\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\\n\\n}\\n\";\nimport { heatMap3DTriangulation } from \"../triangulation\";\nconst {\n  isEqual\n} = lodashUtil;\nexport default class HeatMapModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"colorTexture\", void 0);\n    _defineProperty(this, \"heatmapFramerBuffer\", void 0);\n    _defineProperty(this, \"heatmapTexture\", void 0);\n    _defineProperty(this, \"intensityModel\", void 0);\n    _defineProperty(this, \"colorModel\", void 0);\n    _defineProperty(this, \"shapeType\", void 0);\n    _defineProperty(this, \"preRampColors\", void 0);\n    _defineProperty(this, \"colorModelUniformBuffer\", []);\n    _defineProperty(this, \"heat3DModelUniformBuffer\", []);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      UV: 10,\n      DIR: 11\n    });\n  }\n  prerender() {\n    const {\n      clear,\n      useFramebuffer\n    } = this.rendererService;\n    useFramebuffer(this.heatmapFramerBuffer, () => {\n      clear({\n        color: [0, 0, 0, 0],\n        depth: 1,\n        stencil: 0,\n        framebuffer: this.heatmapFramerBuffer\n      });\n      this.drawIntensityMode(); // 密度图\n    });\n  }\n  render(options) {\n    const {\n      rampColors\n    } = this.layer.getLayerConfig();\n    if (!isEqual(this.preRampColors, rampColors)) {\n      this.updateColorTexture();\n    }\n    this.shapeType === 'heatmap' ? this.drawHeatMap(options) // 2D\n    : this.draw3DHeatMap(options); // 3D\n  }\n  getUninforms() {\n    throw new Error('Method not implemented.');\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var _shapeAttr$scale;\n      const {\n        createFramebuffer,\n        getViewportSize,\n        createTexture2D\n      } = _this.rendererService;\n      const shapeAttr = _this.styleAttributeService.getLayerStyleAttribute('shape');\n      const shapeType = (shapeAttr === null || shapeAttr === void 0 || (_shapeAttr$scale = shapeAttr.scale) === null || _shapeAttr$scale === void 0 ? void 0 : _shapeAttr$scale.field) || 'heatmap';\n      _this.shapeType = shapeType;\n      // 生成热力图密度图\n      _this.intensityModel = yield _this.buildHeatMapIntensity();\n      // 渲染到屏幕\n      _this.colorModel = shapeType === 'heatmap' ? _this.buildHeatmap() // 2D\n      : _this.build3dHeatMap(); // 3D\n\n      const {\n        width,\n        height\n      } = getViewportSize();\n\n      // 初始化密度图纹理\n      _this.heatmapTexture = createTexture2D({\n        width: Math.floor(width / 4),\n        height: Math.floor(height / 4),\n        wrapS: gl.CLAMP_TO_EDGE,\n        wrapT: gl.CLAMP_TO_EDGE,\n        min: gl.LINEAR,\n        mag: gl.LINEAR,\n        usage: TextureUsage.RENDER_TARGET\n      });\n      _this.heatmapFramerBuffer = createFramebuffer({\n        color: _this.heatmapTexture,\n        depth: true,\n        width: Math.floor(width / 4),\n        height: Math.floor(height / 4)\n      });\n      _this.updateColorTexture();\n      return [_this.intensityModel, _this.colorModel];\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.initModels();\n    })();\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'dir',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Dir',\n        shaderLocation: this.attributeLocation.DIR,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return [size];\n        }\n      }\n    });\n  }\n\n  /**\n   * 热力图密度图\n   */\n  buildHeatMapIntensity() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.uniformBuffers = [_this3.rendererService.createBuffer({\n        // opacity\n        data: new Float32Array(4).fill(0),\n        // 长度需要大于等于 4\n        isUBO: true\n      })];\n      _this3.layer.triangulation = HeatmapTriangulation;\n      const model = yield _this3.layer.buildLayerModel({\n        moduleName: 'heatmapIntensity',\n        vertexShader: heatmap_framebuffer_vert,\n        fragmentShader: heatmap_framebuffer_frag,\n        triangulation: HeatmapTriangulation,\n        defines: _this3.getDefines(),\n        depth: {\n          enable: false\n        },\n        cull: {\n          enable: true,\n          face: gl.FRONT\n        }\n      });\n      return model;\n    })();\n  }\n  buildHeatmap() {\n    this.shaderModuleService.registerModule('heatmapColor', {\n      vs: heatmap_vert,\n      fs: heatmap_frag\n    });\n    this.colorModelUniformBuffer = [this.rendererService.createBuffer({\n      // opacity\n      data: new Float32Array(4).fill(0),\n      // 长度需要大于等于 4\n      isUBO: true\n    })];\n    const {\n      vs,\n      fs,\n      uniforms\n    } = this.shaderModuleService.getModule('heatmapColor');\n    const {\n      createAttribute,\n      createElements,\n      createBuffer,\n      createModel\n    } = this.rendererService;\n    return createModel({\n      vs,\n      fs,\n      uniformBuffers: [...this.colorModelUniformBuffer, ...this.rendererService.uniformBuffers],\n      attributes: {\n        a_Position: createAttribute({\n          shaderLocation: this.attributeLocation.POSITION,\n          buffer: createBuffer({\n            data: [-1, 1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0],\n            type: gl.FLOAT\n          }),\n          size: 3\n        }),\n        a_Uv: createAttribute({\n          shaderLocation: this.attributeLocation.UV,\n          buffer: createBuffer({\n            data: [0, 1, 1, 1, 0, 0, 1, 0],\n            type: gl.FLOAT\n          }),\n          size: 2\n        })\n      },\n      uniforms: _objectSpread({}, uniforms),\n      depth: {\n        enable: false\n      },\n      elements: createElements({\n        data: [0, 2, 1, 2, 3, 1],\n        type: gl.UNSIGNED_INT,\n        count: 6\n      })\n    });\n  }\n  build3dHeatMap() {\n    const {\n      getViewportSize\n    } = this.rendererService;\n    const {\n      width,\n      height\n    } = getViewportSize();\n    const triangulation = heatMap3DTriangulation(width / 4.0, height / 4.0);\n    this.shaderModuleService.registerModule('heatmap3dColor', {\n      vs: heatmap_3d_vert,\n      fs: heatmap_3d_frag\n    });\n    this.heat3DModelUniformBuffer = [this.rendererService.createBuffer({\n      // opacity\n      data: new Float32Array(16 * 2 + 4).fill(0),\n      // 长度需要大于等于 4\n      isUBO: true\n    })];\n    const {\n      vs,\n      fs,\n      uniforms\n    } = this.shaderModuleService.getModule('heatmap3dColor');\n    const {\n      createAttribute,\n      createElements,\n      createBuffer,\n      createModel\n    } = this.rendererService;\n    return createModel({\n      vs,\n      fs,\n      attributes: {\n        a_Position: createAttribute({\n          shaderLocation: this.attributeLocation.POSITION,\n          buffer: createBuffer({\n            data: triangulation.vertices,\n            type: gl.FLOAT\n          }),\n          size: 3\n        }),\n        a_Uv: createAttribute({\n          shaderLocation: this.attributeLocation.UV,\n          buffer: createBuffer({\n            data: triangulation.uvs,\n            type: gl.FLOAT\n          }),\n          size: 2\n        })\n      },\n      primitive: gl.TRIANGLES,\n      uniformBuffers: [...this.heat3DModelUniformBuffer, ...this.rendererService.uniformBuffers],\n      uniforms: _objectSpread({}, uniforms),\n      depth: {\n        enable: true\n      },\n      blend: {\n        enable: true,\n        func: {\n          srcRGB: gl.SRC_ALPHA,\n          srcAlpha: 1,\n          dstRGB: gl.ONE_MINUS_SRC_ALPHA,\n          dstAlpha: 1\n        }\n      },\n      elements: createElements({\n        data: triangulation.indices,\n        type: gl.UNSIGNED_INT,\n        count: triangulation.indices.length\n      })\n    });\n  }\n\n  // 绘制密度图\n  drawIntensityMode() {\n    var _this$intensityModel;\n    const {\n      intensity = 10,\n      radius = 5\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_radius: radius,\n      u_intensity: intensity\n    };\n    this.uniformBuffers[0].subData({\n      offset: 0,\n      data: [radius, intensity]\n    });\n    this.layerService.beforeRenderData(this.layer);\n    this.layer.hooks.beforeRender.call();\n\n    // 绘制密度图\n    (_this$intensityModel = this.intensityModel) === null || _this$intensityModel === void 0 || _this$intensityModel.draw({\n      uniforms: commonOptions,\n      blend: {\n        enable: true,\n        func: {\n          srcRGB: gl.ONE,\n          srcAlpha: 1,\n          dstRGB: gl.ONE,\n          dstAlpha: 1\n        }\n      },\n      stencil: {\n        enable: false,\n        mask: 0xff,\n        func: {\n          cmp: 514,\n          // gl.EQUAL,\n          ref: 1,\n          mask: 0xff\n        }\n      }\n    });\n    this.layer.hooks.afterRender.call();\n  }\n  drawHeatMap(options) {\n    var _this$colorModel;\n    const {\n      opacity = 1.0\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_opacity: opacity,\n      u_colorTexture: this.colorTexture,\n      u_texture: this.heatmapFramerBuffer\n    };\n    const textures = [this.heatmapTexture, this.colorTexture];\n    this.colorModelUniformBuffer[0].subData({\n      offset: 0,\n      data: [opacity]\n    });\n    (_this$colorModel = this.colorModel) === null || _this$colorModel === void 0 || _this$colorModel.draw({\n      uniforms: commonOptions,\n      textures,\n      blend: this.getBlend(),\n      stencil: this.getStencil(options)\n    });\n  }\n  draw3DHeatMap(options) {\n    var _this$colorModel2;\n    const {\n      opacity = 1.0\n    } = this.layer.getLayerConfig();\n    const invert = mat4.create();\n    mat4.invert(invert, this.cameraService.getViewProjectionMatrixUncentered());\n    const commonOptions = {\n      u_opacity: opacity,\n      u_colorTexture: this.colorTexture,\n      u_texture: this.heatmapFramerBuffer,\n      u_ViewProjectionMatrixUncentered: this.cameraService.getViewProjectionMatrixUncentered(),\n      u_InverseViewProjectionMatrix: [...invert]\n    };\n    this.heat3DModelUniformBuffer[0].subData({\n      offset: 0,\n      data: [...commonOptions.u_ViewProjectionMatrixUncentered, ...commonOptions.u_InverseViewProjectionMatrix, opacity]\n    });\n    const textures = [this.heatmapTexture, this.colorTexture];\n    (_this$colorModel2 = this.colorModel) === null || _this$colorModel2 === void 0 || _this$colorModel2.draw({\n      uniforms: commonOptions,\n      textures,\n      blend: {\n        enable: true,\n        func: {\n          srcRGB: gl.SRC_ALPHA,\n          srcAlpha: 1,\n          dstRGB: gl.ONE_MINUS_SRC_ALPHA,\n          dstAlpha: 1\n        }\n      },\n      stencil: this.getStencil(options)\n    });\n  }\n  updateColorTexture() {\n    const {\n      createTexture2D\n    } = this.rendererService;\n    if (this.texture) {\n      this.texture.destroy();\n    }\n    const {\n      rampColors\n    } = this.layer.getLayerConfig();\n    const imageData = generateColorRamp(rampColors);\n    this.colorTexture = createTexture2D({\n      data: imageData.data,\n      usage: TextureUsage.SAMPLED,\n      width: imageData.width,\n      height: imageData.height,\n      wrapS: gl.CLAMP_TO_EDGE,\n      wrapT: gl.CLAMP_TO_EDGE,\n      min: gl.NEAREST,\n      mag: gl.NEAREST,\n      flipY: false,\n      unorm: true\n    });\n    this.preRampColors = rampColors;\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { HeatmapGridTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/hexagon/hexagon_frag.glsl' */\nconst hexagon_frag = \"in vec4 v_color;\\n\\n#pragma include \\\"picking\\\"\\nout vec4 outputColor;\\nvoid main() {\\n  outputColor = v_color;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/hexagon/hexagon_vert.glsl' */\nconst hexagon_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec2 u_radius;\\n  float u_opacity;\\n  float u_coverage;\\n  float u_angle;\\n};\\n\\nout vec4 v_color;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  v_color = a_Color;\\n  v_color.a *= u_opacity;\\n\\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\\n  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);\\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\\n\\n  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class HexagonModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      POS: 9\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity,\n      coverage,\n      angle\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_radius: [this.layer.getSource().data.xOffset, this.layer.getSource().data.yOffset],\n      u_opacity: opacity || 1.0,\n      u_coverage: coverage || 0.9,\n      u_angle: angle || 0\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'heatmapHexagon',\n        vertexShader: hexagon_vert,\n        fragmentShader: hexagon_frag,\n        defines: _this2.getDefines(),\n        triangulation: HeatmapGridTriangulation,\n        depth: {\n          enable: false\n        },\n        primitive: gl.TRIANGLES\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'pos',\n      // 顶点经纬度位置\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Pos',\n        shaderLocation: this.attributeLocation.POS,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: feature => {\n          const coordinates = feature.coordinates;\n          return [coordinates[0], coordinates[1], 0];\n        }\n      }\n    });\n  }\n}", "import GridModel from \"./grid\";\nimport Grid3DModel from \"./grid3d\";\nimport HeatMapModel from \"./heatmap\";\nimport HexagonModel from \"./hexagon\";\nconst HeatMapModels = {\n  heatmap: HeatMapModel,\n  heatmap3d: HeatMapModel,\n  grid: GridModel,\n  grid3d: Grid3DModel,\n  hexagon: HexagonModel\n};\nexport default HeatMapModels;", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport { rampColor2legend } from \"../utils/rampcolor_legend\";\nimport HeatMapModels from \"./models\";\nexport default class HeatMapLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'HeatMapLayer');\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const shape = _this.getModelType();\n      _this.layerModel = new HeatMapModels[shape](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  prerender() {\n    const shape = this.getModelType();\n    if (shape === 'heatmap') {\n      if (this.layerModel) {\n        this.layerModel.prerender(); // 独立的渲染流程\n      }\n    }\n  }\n  renderModels(options = {}) {\n    const shape = this.getModelType();\n    if (shape === 'heatmap') {\n      if (this.layerModel) {\n        this.layerModel.render(options); // 独立的渲染流程\n      }\n      return this;\n    }\n    if (this.encodeDataLength <= 0 && !this.forceRender) {\n      return this;\n    }\n    this.hooks.beforeRender.call();\n    this.models.forEach(model => model.draw({\n      uniforms: this.layerModel.getUninforms(),\n      blend: this.layerModel.getBlend(),\n      stencil: this.layerModel.getStencil(options)\n    }));\n    this.hooks.afterRender.call();\n    return this;\n  }\n  updateModelData(data) {\n    if (data.attributes && data.elements) {\n      this.models[0].updateAttributesAndElements(data.attributes, data.elements);\n    } else {\n      console.warn('data error');\n    }\n  }\n  getModelType() {\n    var _shapeAttribute$scale;\n    const shapeAttribute = this.styleAttributeService.getLayerStyleAttribute('shape');\n    const {\n      shape3d\n    } = this.getLayerConfig();\n    const source = this.getSource();\n    const sourceType = source.data.type;\n    const shape = (shapeAttribute === null || shapeAttribute === void 0 || (_shapeAttribute$scale = shapeAttribute.scale) === null || _shapeAttribute$scale === void 0 ? void 0 : _shapeAttribute$scale.field) || 'heatmap';\n    if (shape === 'heatmap' || shape === 'heatmap3d') {\n      return 'heatmap';\n    }\n    if (sourceType === 'hexagon') {\n      return (shape3d === null || shape3d === void 0 ? void 0 : shape3d.indexOf(shape)) === -1 ? 'hexagon' : 'grid3d';\n    }\n    if (sourceType === 'grid') {\n      return (shape3d === null || shape3d === void 0 ? void 0 : shape3d.indexOf(shape)) === -1 ? 'grid' : 'grid3d';\n    }\n    return 'heatmap';\n  }\n  getLegend(name) {\n    if (this.getModelType() === 'heatmap') {\n      if (name !== 'color') return {\n        type: undefined,\n        field: undefined,\n        items: []\n      };\n      const rampColors = this.getLayerConfig().rampColors;\n      return rampColor2legend(rampColors, name);\n    } else {\n      return super.getLegend(name);\n    }\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { defaultValue } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { RasterImageTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/image_frag.glsl' */\nconst ImageFrag = \"uniform sampler2D u_texture;\\nlayout(std140) uniform commonUniforms {\\n    float u_opacity:1.0;\\n    float u_brightness:1.0;\\n    float u_contrast:1.0;\\n    float u_saturation:1.0;\\n    float u_gamma:1.0;\\n};\\n\\nin vec2 v_texCoord;\\nout vec4 outputColor;\\nvec3 setContrast(vec3 rgb, float contrast) {\\n  vec3 color = mix(vec3(0.5), rgb, contrast);\\n  color = clamp(color, 0.0, 1.0);\\n  return color;\\n}\\nvec3 setSaturation(vec3 rgb, float adjustment) {\\n  const vec3 grayVector = vec3(0.2125, 0.7154, 0.0721);\\n  vec3 intensity = vec3(dot(rgb, grayVector));\\n  vec3 color = mix(intensity, rgb, adjustment);\\n  color = clamp(color, 0.0, 1.0);\\n  return color;\\n}\\nvoid main() {\\n  vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));\\n  //brightness\\n  color.rgb = mix(vec3(0.0, 0.0, 0.0), color.rgb, u_brightness);\\n  //contrast\\n  color.rgb = setContrast(color.rgb, u_contrast);\\n  // saturation\\n  color.rgb = setSaturation(color.rgb, u_saturation);\\n  // gamma\\n  color.rgb = pow(color.rgb, vec3(u_gamma));\\n  outputColor = color;\\n  outputColor.a *= u_opacity;\\n  if(outputColor.a < 0.01)\\n    discard;\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/image_vert.glsl' */\nconst ImageVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n    float u_opacity:1.0;\\n    float u_brightness:1.0;\\n    float u_contrast:1.0;\\n    float u_saturation:1.0;\\n    float u_gamma:1.0;\\n};\\n\\nout vec2 v_texCoord;\\n#pragma include \\\"projection\\\"\\n\\nvoid main() {\\n  v_texCoord = a_Uv;\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\\n}\\n\";\nexport default class ImageModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      UV: 9\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity,\n      brightness,\n      contrast,\n      saturation,\n      gamma\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_opacity: defaultValue(opacity, 1.0),\n      u_brightness: defaultValue(brightness, 1.0),\n      u_contrast: defaultValue(contrast, 1.0),\n      u_saturation: defaultValue(saturation, 1.0),\n      u_gamma: defaultValue(gamma, 1.0)\n    };\n    this.textures = [this.texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.loadTexture();\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n  }\n  loadTexture() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        createTexture2D\n      } = _this2.rendererService;\n      const source = _this2.layer.getSource();\n      const imageData = yield source.data.images;\n      _this2.texture = createTexture2D({\n        data: imageData[0],\n        width: imageData[0].width,\n        height: imageData[0].height,\n        mag: gl.LINEAR,\n        min: gl.LINEAR\n      });\n    })();\n  }\n  buildModels() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.initUniformsBuffer();\n      const model = yield _this3.layer.buildLayerModel({\n        moduleName: 'rasterImage',\n        vertexShader: ImageVert,\n        fragmentShader: ImageFrag,\n        defines: _this3.getDefines(),\n        triangulation: RasterImageTriangulation,\n        primitive: gl.TRIANGLES,\n        blend: {\n          // Tip: 优化显示效果\n          enable: true\n        },\n        depth: {\n          enable: false\n        },\n        pickingEnabled: false\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 22 层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import ImageModel from \"./image\";\nconst ImageModels = {\n  image: ImageModel\n};\nexport default ImageModels;", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport ImageModels from \"./models/index\";\nexport default class ImageLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'ImageLayer');\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modelType = _this.getModelType();\n      _this.layerModel = new ImageModels[modelType](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  getDefaultConfig() {\n    const type = this.getModelType();\n    const defaultConfig = {\n      image: {}\n    };\n    return defaultConfig[type];\n  }\n  getModelType() {\n    return 'image';\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { fp64LowPart, rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { LineArcTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/arc/line_arc_frag.glsl' */\nconst arc_line_frag = \"\\n#define Animate 0.0\\n#define LineTexture 1.0\\nuniform sampler2D u_texture;\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_dash_array;\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float segmentNumber;\\n  float u_lineDir: 1.0;\\n  float u_icon_step: 100;\\n  float u_line_texture: 0.0;\\n  float u_textureBlend;\\n  float u_blur : 0.9;\\n  float u_line_type: 0.0;\\n  float u_time;\\n  float u_linearColor: 0.0;\\n};\\n\\nin vec4 v_color;\\nin vec2 v_iconMapUV;\\nin vec4 v_lineData;\\n//dash\\nin vec4 v_dash_array;\\nin float v_distance_ratio;\\n\\nout vec4 outputColor;\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  if(u_dash_array!=vec4(0.0)){\\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\\n      discard;\\n    };\\n  }\\n  float animateSpeed = 0.0; // \\u8FD0\\u52A8\\u901F\\u5EA6\\n  outputColor = v_color;\\n  if(u_animate.x == Animate && u_line_texture != LineTexture) {\\n      animateSpeed = u_time / u_animate.y;\\n      float alpha =1.0 - fract( mod(1.0- v_lineData.b, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\\n      // alpha = smoothstep(0., 1., alpha);\\n      alpha = clamp(alpha, 0.0, 1.0);\\n      outputColor.a *= alpha;\\n  }\\n\\n  // \\u5F53\\u5B58\\u5728\\u8D34\\u56FE\\u65F6\\u5728\\u5E95\\u8272\\u4E0A\\u8D34\\u4E0A\\u8D34\\u56FE\\n  if(u_line_texture == LineTexture) { // while load texture\\n    float arcRadio = smoothstep( 0.0, 1.0, (v_lineData.r / segmentNumber));\\n    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);\\n\\n    float count = v_lineData.g; // \\u8D34\\u56FE\\u5728\\u5F27\\u7EBF\\u4E0A\\u91CD\\u590D\\u7684\\u6570\\u91CF\\n\\n    float time = 0.0;\\n    if(u_animate.x == Animate) {\\n      time = u_time / u_animate.y;\\n    }\\n    float redioCount = arcRadio * count;\\n\\n    float u = fract(redioCount - time);\\n    float v = v_lineData.a; // \\u6A2A\\u5411 v\\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\\n\\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\\n\\n    if(u_animate.x == Animate) {\\n      float currentPlane = floor(redioCount - time);\\n      float textureStep = floor(count * u_animate.z);\\n      float a = mod(currentPlane, textureStep);\\n      if(a < textureStep - 1.0) {\\n        pattern = vec4(0.0);\\n      }\\n    }\\n\\n    if(u_textureBlend == 0.0) { // normal\\n      pattern.a = 0.0;\\n      outputColor = filterColor(outputColor + pattern);\\n    } else { // replace\\n        pattern.a *= v_color.a;\\n        if(outputColor.a <= 0.0) {\\n          pattern.a = 0.0;\\n        }\\n        outputColor = filterColor(pattern);\\n    }\\n    \\n  } else {\\n     outputColor = filterColor(outputColor);\\n  }\\n}\";\n/* babel-plugin-inline-import '../shaders/arc/line_arc_vert.glsl' */\nconst arc_line_vert = \"#define Animate (0.0)\\n#define LineTexture (1.0)\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_dash_array;\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float segmentNumber;\\n  float u_lineDir: 1.0;\\n  float u_icon_step: 100;\\n  float u_line_texture: 0.0;\\n  float u_textureBlend;\\n  float u_blur : 0.9;\\n  float u_line_type: 0.0;\\n  float u_time;\\n  float u_linearColor: 0.0;\\n};\\n\\nout vec4 v_color;\\nout vec2 v_iconMapUV;\\nout vec4 v_lineData;\\n//dash\\nout vec4 v_dash_array;\\nout float v_distance_ratio;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n#pragma include \\\"picking\\\"\\n\\nfloat bezier3(vec3 arr, float t) {\\n  float ut = 1.0 - t;\\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\\n}\\nvec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {\\n  vec2 center = target - source;\\n  float r = length(center);\\n  float theta = atan(center.y, center.x);\\n  float thetaOffset = arcThetaOffset;\\n  float r2 = r / 2.0 / cos(thetaOffset);\\n  float theta2 = theta + thetaOffset;\\n  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);\\n  if (u_lineDir == 1.0) {\\n    // \\u6B63\\u5411\\n    return mid;\\n  } else {\\n    // \\u9006\\u5411\\n    // (mid + vmin)/2 = (s + t)/2\\n    vec2 vmid = source + target - mid;\\n    return vmid;\\n  }\\n  // return mid;\\n}\\nfloat getSegmentRatio(float index) {\\n  // dash: index / (segmentNumber - 1.);\\n  // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\\n  //  return index / (segmentNumber - 1.);\\n}\\nvec2 interpolate(vec2 source, vec2 target, float t, float arcThetaOffset) {\\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\\n  vec2 mid = midPoint(source, target, arcThetaOffset);\\n  vec3 x = vec3(source.x, mid.x, target.x);\\n  vec3 y = vec3(source.y, mid.y, target.y);\\n  return vec2(bezier3(x, t), bezier3(y, t));\\n}\\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\\n  // normalized direction of the line\\n  vec2 dir_screenspace = normalize(line_clipspace);\\n  // rotate by 90 degrees\\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\\n  return offset;\\n}\\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\\n  // normalized direction of the line\\n  vec2 dir_screenspace = normalize(line_clipspace);\\n  // rotate by 90 degrees\\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\\n   return dir_screenspace.xy * sign(offset_direction);\\n}\\n\\nvoid main() {\\n  //vs\\u4E2D\\u8BA1\\u7B97\\u6E10\\u53D8\\u8272\\n  if (u_linearColor == 1.0) {\\n    float d_segmentIndex = a_Position.x + 1.0; // \\u5F53\\u524D\\u9876\\u70B9\\u5728\\u5F27\\u7EBF\\u4E2D\\u6240\\u5904\\u7684\\u5206\\u6BB5\\u4F4D\\u7F6E\\n    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex / segmentNumber);\\n  } else {\\n    v_color = a_Color;\\n  }\\n  v_color.a = v_color.a * opacity;\\n\\n  vec2 source_world = a_Instance.rg; // \\u8D77\\u59CB\\u70B9\\n  vec2 target_world = a_Instance.ba; // \\u7EC8\\u70B9\\n\\n  float segmentIndex = a_Position.x;\\n  float segmentRatio = getSegmentRatio(segmentIndex);\\n\\n  // \\u8BA1\\u7B97 dashArray \\u548C distanceRatio \\u8F93\\u51FA\\u5230\\u7247\\u5143\\n  float total_Distance = pixelDistance(source_world, target_world) / 2.0 * PI;\\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;\\n  v_distance_ratio = segmentIndex / segmentNumber;\\n\\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\\n  float d_distance_ratio;\\n\\n  if(u_animate.x == Animate) {\\n      d_distance_ratio = segmentIndex / segmentNumber;\\n      if(u_lineDir != 1.0) {\\n        d_distance_ratio = 1.0 - d_distance_ratio;\\n      }\\n  }\\n\\n  v_lineData.b = d_distance_ratio;\\n\\n  vec4 source = project_position(vec4(source_world, 0, 1.), a_Instance64Low.xy);\\n  vec4 target = project_position(vec4(target_world, 0, 1.), a_Instance64Low.zw);\\n\\n  vec2 currPos = interpolate(source.xy, target.xy, segmentRatio, thetaOffset);\\n  vec2 nextPos = interpolate(source.xy, target.xy, nextSegmentRatio, thetaOffset);\\n\\n  vec2 offset = project_pixel(\\n    getExtrusionOffset((nextPos.xy - currPos.xy) * indexDir, a_Position.y)\\n  );\\n\\n  float d_segmentIndex = a_Position.x + 1.0; // \\u5F53\\u524D\\u9876\\u70B9\\u5728\\u5F27\\u7EBF\\u4E2D\\u6240\\u5904\\u7684\\u5206\\u6BB5\\u4F4D\\u7F6E\\n  v_lineData.r = d_segmentIndex;\\n\\n  if(LineTexture == u_line_texture) { // \\u5F00\\u542F\\u8D34\\u56FE\\u6A21\\u5F0F\\n    float arcDistrance = length(source - target); // \\u8D77\\u59CB\\u70B9\\u548C\\u7EC8\\u70B9\\u7684\\u8DDD\\u79BB\\n    arcDistrance = project_pixel(arcDistrance);\\n\\n    v_iconMapUV = a_iconMapUV;\\n\\n    float pixelLen = project_pixel_texture(u_icon_step); // \\u8D34\\u56FE\\u6CBF\\u5F27\\u7EBF\\u65B9\\u5411\\u7684\\u957F\\u5EA6 - \\u968F\\u5730\\u56FE\\u7F29\\u653E\\u6539\\u53D8\\n    float texCount = floor(arcDistrance / pixelLen); // \\u8D34\\u56FE\\u5728\\u5F27\\u7EBF\\u4E0A\\u91CD\\u590D\\u7684\\u6570\\u91CF\\n    v_lineData.g = texCount;\\n\\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \\u7EBF\\u6A2A\\u5411\\u504F\\u79FB\\u7684\\u8DDD\\u79BB\\n    float linePixelSize = project_pixel(a_Size); // \\u5B9A\\u70B9\\u4F4D\\u7F6E\\u504F\\u79FB\\n    v_lineData.a = lineOffsetWidth / linePixelSize; // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(currPos.xy + offset, 0, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nconst lineStyleObj = {\n  solid: 0.0,\n  dash: 1.0\n};\nexport default class ArcModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"updateTexture\", () => {\n      const {\n        createTexture2D\n      } = this.rendererService;\n      if (this.texture) {\n        this.texture.update({\n          data: this.iconService.getCanvas()\n        });\n        this.layer.render();\n        return;\n      }\n      this.texture = createTexture2D({\n        data: this.iconService.getCanvas(),\n        mag: gl.NEAREST,\n        min: gl.NEAREST,\n        premultiplyAlpha: false,\n        width: 1024,\n        height: this.iconService.canvasHeight || 128\n      });\n      this.textures = [this.texture];\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      INSTANCE: 10,\n      INSTANCE_64LOW: 11,\n      UV: 12,\n      THETA_OFFSET: 13\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      sourceColor,\n      targetColor,\n      textureBlend = 'normal',\n      lineType = 'solid',\n      dashArray = [10, 5],\n      forward = true,\n      lineTexture = false,\n      iconStep = 100,\n      segmentNumber = 30\n      // thetaOffset = 0.314,\n    } = this.layer.getLayerConfig();\n    const {\n      animateOption\n    } = this.layer.getLayerConfig();\n    let u_dash_array = dashArray;\n    if (lineType !== 'dash') {\n      u_dash_array = [0, 0];\n    }\n    if (u_dash_array.length === 2) {\n      u_dash_array.push(0, 0);\n    }\n\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [0, 0, 0, 0];\n    let targetColorArr = [0, 0, 0, 0];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    if (this.rendererService.getDirty()) {\n      var _this$texture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.bind();\n    }\n    const commonOptions = {\n      u_animate: this.animateOption2Array(animateOption),\n      u_dash_array,\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      u_textSize: [1024, this.iconService.canvasHeight || 128],\n      segmentNumber,\n      u_lineDir: forward ? 1 : -1,\n      u_icon_step: iconStep,\n      u_line_texture: lineTexture ? 1.0 : 0.0,\n      // 传入线的标识\n      u_textureBlend: textureBlend === 'normal' ? 0.0 : 1.0,\n      u_blur: 0.9,\n      u_line_type: lineStyleObj[lineType || 'solid'],\n      u_time: this.layer.getLayerAnimateTime() || 0,\n      // // 纹理支持参数\n      // u_texture: this.texture, // 贴图\n      // 渐变色支持参数\n      u_linearColor: useLinearColor\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n\n  // public getAnimateUniforms(): IModelUniform {\n  //   const { animateOption } = this.layer.getLayerConfig() as ILayerConfig;\n  //   return {\n  //     u_animate: this.animateOption2Array(animateOption as IAnimateOption),\n  //     u_time: this.layer.getLayerAnimateTime(),\n  //   };\n  // }\n\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.updateTexture();\n      _this.iconService.on('imageUpdate', _this.updateTexture);\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture2;\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    this.iconService.off('imageUpdate', this.updateTexture);\n  }\n  getShaders() {\n    return {\n      frag: arc_line_frag,\n      vert: arc_line_vert,\n      type: ''\n    };\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const {\n        segmentNumber = 30\n      } = _this2.layer.getLayerConfig();\n      const {\n        frag,\n        vert,\n        type\n      } = _this2.getShaders();\n      //\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'lineArc2d' + type,\n        vertexShader: vert,\n        fragmentShader: frag,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation: LineArcTriangulation,\n        depth: {\n          enable: false\n        },\n        styleOption: {\n          segmentNumber\n        }\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n\n    // 弧线起始点信息\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'instance',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Instance',\n        shaderLocation: this.attributeLocation.INSTANCE,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4], vertex[5], vertex[6]];\n        }\n      }\n    });\n\n    // save low part for enabled double precision INSTANCE attribute\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'instance64Low',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Instance64Low',\n        shaderLocation: this.attributeLocation.INSTANCE_64LOW,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          return [fp64LowPart(vertex[3]), fp64LowPart(vertex[4]), fp64LowPart(vertex[5]), fp64LowPart(vertex[6])];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_iconMapUV',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const iconMap = this.iconService.getIconMap();\n          const {\n            texture\n          } = feature;\n          const {\n            x,\n            y\n          } = iconMap[texture] || {\n            x: 0,\n            y: 0\n          };\n          return [x, y];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'thetaOffset',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_ThetaOffset',\n        shaderLocation: this.attributeLocation.THETA_OFFSET,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            thetaOffset: op = 1\n          } = feature;\n          return [op];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { fp64LowPart, rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { LineArcTriangulation } from \"../../core/triangulation\";\nimport { EARTH_RADIUS } from \"../../earth/utils\";\n// arc3d line layer\n/* babel-plugin-inline-import '../shaders/arc3d/line_arc_3d_frag.glsl' */\nconst arc3d_line_frag = \"#define LineTypeSolid 0.0\\n#define LineTypeDash 1.0\\n#define Animate 0.0\\n#define LineTexture 1.0\\n\\nuniform sampler2D u_texture;\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_dash_array: [10.0, 5., 0, 0];\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float u_globel;\\n  float u_globel_radius;\\n  float u_global_height: 10;\\n  float segmentNumber;\\n  float u_line_type: 0.0;\\n  float u_icon_step: 100;\\n  float u_line_texture: 0.0;\\n  float u_textureBlend;\\n  float u_time;\\n  float u_linearColor: 0.0;\\n};\\n\\nin vec4 v_color;\\nin vec4 v_dash_array;\\nin float v_segmentIndex;\\nin vec2 v_iconMapUV;\\nin vec4 v_line_data;\\n\\nout vec4 outputColor;\\n\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  float animateSpeed = 0.0; // \\u8FD0\\u52A8\\u901F\\u5EA6\\n  float d_distance_ratio = v_line_data.g; // \\u5F53\\u524D\\u70B9\\u4F4D\\u8DDD\\u79BB\\u5360\\u7EBF\\u603B\\u957F\\u7684\\u6BD4\\u4F8B\\n  outputColor = v_color;\\n\\n  if(u_line_type == LineTypeDash) {\\n    float flag = 0.;\\n    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\\n      flag = 1.;\\n    }\\n    outputColor.a *=flag;\\n  }\\n\\n  if(u_animate.x == Animate && u_line_texture != LineTexture) {\\n      animateSpeed = u_time / u_animate.y;\\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\\n\\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\\n      // alpha = smoothstep(0., 1., alpha);\\n      alpha = clamp(alpha, 0.0, 1.0);\\n      outputColor.a *= alpha;\\n\\n      // u_animate\\n      // x enable\\n      // y duration\\n      // z interval\\n      // w trailLength\\n  }\\n\\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\\n    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));\\n    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\\n    float count = v_line_data.b; // // \\u8D34\\u56FE\\u5728\\u5F27\\u7EBF\\u4E0A\\u91CD\\u590D\\u7684\\u6570\\u91CF\\n\\n    float time = 0.0;\\n    if(u_animate.x == Animate) {\\n      time = u_time / u_animate.y;\\n    }\\n    float redioCount = arcRadio * count;\\n\\n    float u = fract(redioCount - time);\\n\\n    float v = v_line_data.a;  // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C\\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\\n\\n    if(u_animate.x == Animate) {\\n      float currentPlane = floor(redioCount - time);\\n      float textureStep = floor(count * u_animate.z);\\n      float a = mod(currentPlane, textureStep);\\n      if(a < textureStep - 1.0) {\\n        pattern = vec4(0.0);\\n      }\\n    }\\n\\n    if(u_textureBlend == 0.0) { // normal\\n      pattern.a = 0.0;\\n      outputColor = filterColor(outputColor + pattern);\\n    } else { // replace\\n        pattern.a *= v_color.a;\\n        if(outputColor.a <= 0.0) {\\n          pattern.a = 0.0;\\n          discard;\\n        } else {\\n          outputColor = filterColor(pattern);\\n        }\\n    }\\n\\n  } else {\\n    outputColor = filterColor(outputColor);\\n  }\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/arc3d/line_arc_3d_vert.glsl' */\nconst arc3d_line_vert = \"#define LineTypeSolid 0.0\\n#define LineTypeDash 1.0\\n#define Animate 0.0\\n#define LineTexture 1.0\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\\n\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_dash_array: [10.0, 5., 0, 0];\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float u_globel;\\n  float u_globel_radius;\\n  float u_global_height: 10;\\n  float segmentNumber;\\n  float u_line_type: 0.0;\\n  float u_icon_step: 100;\\n  float u_line_texture: 0.0;\\n  float u_textureBlend;\\n  float u_time;\\n  float u_linearColor: 0.0;\\n};\\nout vec4 v_color;\\nout vec4 v_dash_array;\\nout float v_segmentIndex;\\nout vec2 v_iconMapUV;\\nout vec4 v_line_data;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n#pragma include \\\"picking\\\"\\n\\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\\n}\\n\\nfloat getSegmentRatio(float index) {\\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\\n}\\n\\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\\n  vec2 x = mix(source, target, ratio);\\n  vec2 center = mix(source, target, 0.5);\\n  float dSourceCenter = distance(source, center);\\n  float dXCenter = distance(x, center);\\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\\n}\\n\\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\\n  float vertex_height = paraboloid(source, target, segmentRatio);\\n\\n  return vec3(\\n    mix(source, target, segmentRatio),\\n    sqrt(max(0.0, vertex_height))\\n  );\\n}\\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\\n  // normalized direction of the line\\n  vec2 dir_screenspace = normalize(line_clipspace);\\n  // rotate by 90 degrees\\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\\n\\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\\n\\n  return offset;\\n}\\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\\n  // normalized direction of the line\\n  vec2 dir_screenspace = normalize(line_clipspace);\\n  // rotate by 90 degrees\\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\\n  return dir_screenspace.xy * sign(offset_direction);\\n}\\n\\nfloat torad(float deg) {\\n  return (deg / 180.0) * acos(-1.0);\\n}\\n\\nvec3 lglt2xyz(vec2 lnglat) {\\n  float pi = 3.1415926;\\n  // + Math.PI/2 \\u662F\\u4E3A\\u4E86\\u5BF9\\u9F50\\u5750\\u6807\\n  float lng = torad(lnglat.x) + pi / 2.0;\\n  float lat = torad(lnglat.y);\\n\\n  // \\u624B\\u52A8\\u589E\\u52A0\\u4E00\\u4E9B\\u504F\\u79FB\\uFF0C\\u51CF\\u8F7B\\u9762\\u7684\\u51B2\\u7A81\\n  float radius = u_globel_radius;\\n\\n  float z = radius * cos(lat) * cos(lng);\\n  float x = radius * cos(lat) * sin(lng);\\n  float y = radius * sin(lat);\\n  return vec3(x, y, z);\\n}\\n\\nvoid main() {\\n  //vs\\u4E2D\\u8BA1\\u7B97\\u6E10\\u53D8\\u8272\\n  if(u_linearColor==1.0){\\n    float d_segmentIndex = a_Position.x + 1.0; // \\u5F53\\u524D\\u9876\\u70B9\\u5728\\u5F27\\u7EBF\\u4E2D\\u6240\\u5904\\u7684\\u5206\\u6BB5\\u4F4D\\u7F6E\\n    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\\n  }\\n  else{\\n    v_color = a_Color;\\n  }\\n  v_color.a = v_color.a * opacity;\\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0), a_Instance64Low.xy).xy;\\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0), a_Instance64Low.zw).xy;\\n  float segmentIndex = a_Position.x;\\n  float segmentRatio = getSegmentRatio(segmentIndex);\\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\\n\\n  float d_distance_ratio;\\n   if(u_line_type == LineTypeDash) {\\n    d_distance_ratio = segmentIndex / segmentNumber;\\n    float total_Distance = pixelDistance(source, target) / 2.0 * PI;\\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\\n  }\\n    if(u_animate.x == Animate) {\\n      d_distance_ratio = segmentIndex / segmentNumber;\\n  }\\n  v_line_data.g = d_distance_ratio; // \\u5F53\\u524D\\u70B9\\u4F4D\\u8DDD\\u79BB\\u5360\\u7EBF\\u603B\\u957F\\u7684\\u6BD4\\u4F8B\\n\\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\\n  vec3 curr = getPos(source, target, segmentRatio);\\n  vec3 next = getPos(source, target, nextSegmentRatio);\\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\\n\\n\\n  v_segmentIndex = a_Position.x;\\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \\u5F00\\u542F\\u8D34\\u56FE\\u6A21\\u5F0F\\n\\n    float arcDistrance = length(source - target);\\n    float pixelLen =  project_pixel_texture(u_icon_step);\\n    v_line_data.b = floor(arcDistrance/pixelLen); // \\u8D34\\u56FE\\u5728\\u5F27\\u7EBF\\u4E0A\\u91CD\\u590D\\u7684\\u6570\\u91CF\\n\\n    vec2 projectOffset = project_pixel(offset);\\n    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \\u7EBF\\u6A2A\\u5411\\u504F\\u79FB\\u7684\\u8DDD\\u79BB\\n    float linePixelSize = project_pixel(a_Size);  // \\u5B9A\\u70B9\\u4F4D\\u7F6E\\u504F\\u79FB\\uFF0C\\u6309\\u5730\\u56FE\\u7B49\\u7EA7\\u7F29\\u653E\\u540E\\u7684\\u8DDD\\u79BB\\n    v_line_data.a = lineOffsetWidth/linePixelSize;  // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C\\n\\n    v_iconMapUV = a_iconMapUV;\\n  }\\n\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z * thetaOffset, 1.0));\\n\\n  // \\u5730\\u7403\\u6A21\\u5F0F\\n  if(u_globel > 0.0) {\\n    vec3 startLngLat = lglt2xyz(a_Instance.rg);\\n    vec3 endLngLat = lglt2xyz(a_Instance.ba);\\n    float globalRadius = length(startLngLat);\\n\\n    vec3 lineDir = normalize(endLngLat - startLngLat);\\n    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);\\n\\n    // \\u7EBF\\u7684\\u504F\\u79FB\\n    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;\\n    // \\u8BA1\\u7B97\\u8D77\\u59CB\\u70B9\\u548C\\u7EC8\\u6B62\\u70B9\\u7684\\u8DDD\\u79BB\\n    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;\\n    // \\u8BA1\\u7B97\\u98DE\\u7EBF\\u5404\\u4E2A\\u8282\\u70B9\\u76F8\\u5E94\\u7684\\u9AD8\\u5EA6\\n    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;\\n    // \\u5730\\u7403\\u70B9\\u4F4D\\n    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;\\n\\n    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);\\n  }\\n\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nconst lineStyleObj = {\n  solid: 0.0,\n  dash: 1.0\n};\nexport default class Arc3DModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"updateTexture\", () => {\n      const {\n        createTexture2D\n      } = this.rendererService;\n      if (this.texture) {\n        this.texture.update({\n          data: this.iconService.getCanvas()\n        });\n        this.layer.render();\n        return;\n      }\n      this.texture = createTexture2D({\n        data: this.iconService.getCanvas(),\n        mag: gl.NEAREST,\n        min: gl.NEAREST,\n        premultiplyAlpha: false,\n        width: 1024,\n        height: this.iconService.canvasHeight || 128\n      });\n      this.textures = [this.texture];\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      INSTANCE: 10,\n      INSTANCE_64LOW: 11,\n      UV: 12,\n      THETA_OFFSET: 13\n    });\n  }\n  // public enableShaderEncodeStyles = ['opacity'];\n  getCommonUniformsInfo() {\n    const {\n      sourceColor,\n      targetColor,\n      textureBlend = 'normal',\n      lineType = 'solid',\n      dashArray = [10, 5],\n      lineTexture = false,\n      iconStep = 100,\n      segmentNumber = 30,\n      globalArcHeight = 10\n    } = this.layer.getLayerConfig();\n    const {\n      animateOption\n    } = this.layer.getLayerConfig();\n    if (dashArray.length === 2) {\n      dashArray.push(0, 0);\n    }\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [0, 0, 0, 0];\n    let targetColorArr = [0, 0, 0, 0];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    if (this.rendererService.getDirty()) {\n      var _this$texture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.bind();\n    }\n    const commonOptions = {\n      u_animate: this.animateOption2Array(animateOption),\n      u_dash_array: dashArray,\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      u_textSize: [1024, this.iconService.canvasHeight || 128],\n      u_globel: this.mapService.version === 'GLOBEL' ? 1 : 0,\n      u_globel_radius: EARTH_RADIUS,\n      // 地球半径\n      u_global_height: globalArcHeight,\n      segmentNumber,\n      u_line_type: lineStyleObj[lineType] || 0.0,\n      u_icon_step: iconStep,\n      u_line_texture: lineTexture ? 1.0 : 0.0,\n      // 传入线的标识\n      u_textureBlend: textureBlend === 'normal' ? 0.0 : 1.0,\n      u_time: this.layer.getLayerAnimateTime() || 0,\n      u_linearColor: useLinearColor //是否使用渐变色\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n\n  // public getAnimateUniforms(): IModelUniform {\n  //   const { animateOption } = this.layer.getLayerConfig() as ILayerConfig;\n  //   return {\n  //     u_animate: this.animateOption2Array(animateOption as IAnimateOption),\n  //     u_time: this.layer.getLayerAnimateTime(),\n  //   };\n  // }\n\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      _this.updateTexture();\n      _this.iconService.on('imageUpdate', _this.updateTexture);\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture2;\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    this.iconService.off('imageUpdate', this.updateTexture);\n  }\n  getShaders() {\n    return {\n      frag: arc3d_line_frag,\n      vert: arc3d_line_vert,\n      type: ''\n    };\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        segmentNumber = 30\n      } = _this2.layer.getLayerConfig();\n      const {\n        frag,\n        vert,\n        type\n      } = _this2.getShaders();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'lineArc3d' + type,\n        vertexShader: vert,\n        fragmentShader: frag,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation: LineArcTriangulation,\n        styleOption: {\n          segmentNumber\n        }\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'instance',\n      // 弧线起始点信息\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Instance',\n        shaderLocation: this.attributeLocation.INSTANCE,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4], vertex[5], vertex[6]];\n        }\n      }\n    });\n\n    // save low part for enabled double precision INSTANCE attribute\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'instance64Low',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Instance64Low',\n        shaderLocation: this.attributeLocation.INSTANCE_64LOW,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          return [fp64LowPart(vertex[3]), fp64LowPart(vertex[4]), fp64LowPart(vertex[5]), fp64LowPart(vertex[6])];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_iconMapUV',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const iconMap = this.iconService.getIconMap();\n          const {\n            texture\n          } = feature;\n          const {\n            x,\n            y\n          } = iconMap[texture] || {\n            x: 0,\n            y: 0\n          };\n          return [x, y];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'thetaOffset',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_ThetaOffset',\n        shaderLocation: this.attributeLocation.THETA_OFFSET,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            thetaOffset: op = 1\n          } = feature;\n          return [op];\n        }\n      }\n    });\n  }\n}", "import earcut from 'earcut';\nimport { circle } from \"./Path\";\nconst maxArrowWidthMap = {\n  circle: 2,\n  triangle: 2,\n  diamond: 4,\n  rect: 2,\n  classic: 3,\n  halfTriangle: 2,\n  none: 0\n};\nconst PathHeight = 1 / 2;\nexport function halfTriangleArrow(dir, options) {\n  const {\n    width = 2,\n    height = 1\n  } = options;\n  return {\n    vertices: [0, PathHeight * dir, 1 * dir * width, -(height + PathHeight) * dir, 1 * dir * width, (height - PathHeight) * dir, 0, PathHeight * dir, 1 * dir * width, -(height + PathHeight) * dir, 1 * dir * width, (height - PathHeight) * dir],\n    indices: [3, 4, 5],\n    outLineIndices: [0, 1, 2],\n    normals: [1 * dir, -2 * dir, 1,\n    // y,x\n    -2 * dir, 1.5 * dir, 1, 1 * dir, 1.5 * dir, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    dimensions: 2\n  };\n}\nexport function triangleArrow(dir, options) {\n  const {\n    width = 2,\n    height = 3\n  } = options;\n  return {\n    vertices: [0, 0, 1 * dir * width, 1 * height, 1 * dir * width, -1 * height, 0, 0, 1 * dir * width, 1 * height, 1 * dir * width, -1 * height],\n    outLineIndices: [0, 1, 2],\n    indices: [3, 4, 5],\n    normals: [0, -1.5 * dir, 1, 2, 1 * dir, 1, -2, 1 * dir, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    dimensions: 2\n  };\n}\nexport function rectArrow(dir, options) {\n  const {\n    width = 2,\n    height = 2\n  } = options;\n  return {\n    vertices: [0, height / 2, dir * width * 1, height / 2, dir * width * 1, -height / 2, 0, -height / 2, 0, height / 2, dir * width * 1, height / 2, dir * width * 1, -height / 2, 0, -height / 2],\n    dimensions: 2,\n    indices: [4, 5, 6, 4, 6, 7],\n    outLineIndices: [0, 1, 2, 0, 2, 3],\n    normals: [0, -dir, 1, 1, 0, 1, 0, -dir, 1, -1, -0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  };\n}\nexport function diamondArrow(dir, options) {\n  const {\n    width = 2,\n    height = 3\n  } = options;\n  return {\n    vertices: [0, 0, 1 * width * dir, 0.5 * height, 2 * width * dir, 0, 1 * width * dir, -0.5 * height, 0, 0, 1 * width * dir, 0.5 * height, 2 * width * dir, 0, 1 * width * dir, -0.5 * height],\n    dimensions: 2,\n    indices: [4, 5, 6, 4, 6, 7],\n    outLineIndices: [0, 1, 2, 0, 2, 3],\n    normals: [0, -dir, 1, 1, 0, 1, 0, -dir, 1, -1, -0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  };\n}\nexport function classicArrow(dir, options) {\n  const {\n    width = 2,\n    height = 3\n  } = options;\n  return {\n    vertices: [0, 0, 2 * dir * width, 1 * height, 1.5 * dir * width, 0, 2 * dir * width, -1 * height, 0, 0, 2 * dir * width, 1 * height, 1.5 * dir * width, 0, 2 * dir * width, -1 * height],\n    dimensions: 2,\n    indices: [4, 5, 6, 4, 6, 7],\n    outLineIndices: [0, 1, 2, 0, 2, 3],\n    normals: [0, -dir, 1, 1, 0, 1, 0, -dir, 1, -1, -0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  };\n}\nexport function circleArraw(dir, options) {\n  const {\n    width = 2,\n    height = 2\n  } = options;\n  const path = circle();\n  const flattengeo = earcut.flatten([path]);\n  const triangles = earcut(flattengeo.vertices, flattengeo.holes, flattengeo.dimensions);\n  // @ts-ignore\n  const vertice = path.map(t => [t[0] * width * dir, t[1] * height]).flat();\n  return {\n    vertices: [...vertice, ...vertice],\n    dimensions: 2,\n    indices: triangles.map(v => v + path.length),\n    outLineIndices: triangles,\n    normals: [\n    // @ts-ignore\n    ...path.map(t => [t[1] * height, t[0] * width * dir, 1]).flat(), ...new Array(path.length * 3).fill(0)]\n  };\n}\nexport function lineArrowPath(coord, indexOffset = 0, symbol) {\n  const sourceType = typeof symbol['source'] === 'object' ? symbol['source'].type : symbol['source'];\n  const targetType = typeof symbol['target'] === 'object' ? symbol['target'].type : symbol['target'];\n  const {\n    width: sourceWidth = sourceType ? maxArrowWidthMap[sourceType] : 0\n  } = typeof symbol['source'] === 'object' ? symbol['source'] : {};\n  const {\n    width: targetWidth = targetType ? maxArrowWidthMap[targetType] : 0\n  } = typeof symbol['target'] === 'object' ? symbol['target'] : {};\n  return {\n    vertices: [0, PathHeight, 1 * sourceWidth, ...coord, 1, PathHeight, -1 * targetWidth, ...coord, 1, -PathHeight, -1 * targetWidth, ...coord, 0, -PathHeight, 1 * sourceWidth, ...coord, 0, PathHeight, 1 * sourceWidth, ...coord, 1, PathHeight, -1 * targetWidth, ...coord, 1, -PathHeight, -1 * targetWidth, ...coord, 0, -PathHeight, 1 * sourceWidth, ...coord],\n    outLineIndices: [0, 1, 2, 0, 2, 3].map(t => t + indexOffset),\n    indices: [4, 5, 6, 4, 6, 7].map(t => t + indexOffset),\n    normals: [1, -1, 1, 1, 1, 1, -1, 0, 1, -1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    dimensions: 2\n  };\n}\nexport function getSymbol(type, position) {\n  const shape = typeof type === 'object' ? type.type : type;\n  const dir = position === 'source' ? 1 : -1;\n  const option = typeof type === 'object' ? type : {};\n  switch (shape) {\n    case 'circle':\n      return circleArraw(dir, option);\n    case 'triangle':\n      return triangleArrow(dir, option);\n    case 'diamond':\n      return diamondArrow(dir, option);\n    case 'rect':\n      return rectArrow(dir, option);\n    case 'classic':\n      return classicArrow(dir, option);\n    case 'halfTriangle':\n      return halfTriangleArrow(dir, option);\n    default:\n      return {\n        vertices: [],\n        indices: [],\n        normals: [],\n        dimensions: 2,\n        outLineIndices: [],\n        outLineNormals: []\n      };\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { getSymbol, lineArrowPath } from \"./shape/arrow\";\n\n// list all arrow shape\n\n// Half Edge\nexport function FlowHalfArrowFillTriangulation(feature) {\n  // @ts-ignore\n  const coord = feature.coordinates.flat();\n  const tin = 1;\n  const tout = 1.0;\n  return {\n    vertices: [1, 0, 0, ...coord,\n    // 0\n    1, 2, -3, ...coord,\n    // 1\n    1, 1, -3, ...coord,\n    // 2\n    0, 1, 0, ...coord,\n    // 3\n    0, 0, 0, ...coord,\n    // 4\n    1, 0, 0, ...coord,\n    // 0\n    1, 2, -3, ...coord,\n    // 1\n    1, 1, -3, ...coord,\n    // 2\n    0, 1, 0, ...coord,\n    // 3\n    0, 0, 0, ...coord // 4\n    ],\n    normals: [-tin, 2 * tout, 1,\n    // 0\n    2 * tout, -tout, 1,\n    // 1\n    tout, -tout, 1,\n    // 2\n    tout, -tout, 1,\n    // 3\n    -tin, -tout, 1,\n    // 4\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    indices: [0, 1, 2, 0, 2, 3, 0, 3, 4, 5, 6, 7, 5, 7, 8, 5, 8, 9],\n    size: 7\n  };\n}\nexport function FlowLineTriangulation(feature, symbolOption) {\n  return symbolOption ? ArrowLineTriangulation(feature, symbolOption) : FlowHalfArrowFillTriangulation(feature);\n}\nexport function ArrowLineTriangulation(feature, symbolOption) {\n  // @ts-ignore\n  const coord = feature.coordinates.flat();\n  const {\n    target = 'classic',\n    source = 'circle'\n  } = symbolOption;\n  const startSymbol = shape2Vertices(getSymbol(source, 'source'), coord, 0, 0);\n  const linePath = lineArrowPath(coord, startSymbol.vertices.length / 7, symbolOption);\n  const endSymbol = shape2Vertices(getSymbol(target, 'target'), coord, 1, startSymbol.vertices.length / 7 + linePath.vertices.length / 7);\n  const data = {\n    vertices: [...startSymbol.vertices, ...linePath.vertices, ...endSymbol.vertices],\n    indices: [...startSymbol.outLineIndices, ...linePath.outLineIndices, ...endSymbol.outLineIndices, ...startSymbol.indices, ...linePath.indices, ...endSymbol.indices],\n    normals: [...startSymbol.normals, ...linePath.normals, ...endSymbol.normals],\n    size: 7\n  };\n  return data;\n}\n// start 0,end 1;\nfunction shape2Vertices(shape, coord, type = 1, indexOffset = 0) {\n  const shapeVertices = [];\n  const {\n    vertices,\n    indices,\n    dimensions,\n    outLineIndices\n  } = shape;\n  for (let i = 0; i < vertices.length; i += dimensions) {\n    shapeVertices.push(type, vertices[i + 1], vertices[i], ...coord);\n  }\n  return _objectSpread(_objectSpread({}, shape), {}, {\n    vertices: shapeVertices,\n    indices: indices.map(i => i + indexOffset),\n    outLineIndices: outLineIndices.map(i => i + indexOffset)\n  });\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { fp64LowPart } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { FlowLineTriangulation } from \"../../core/line_trangluation\";\n/* babel-plugin-inline-import '../shaders/flow/flow_line_frag.glsl' */\nconst flow_line_frag = \"// #extension GL_OES_standard_derivatives : enable\\n\\nin vec4 v_color;\\nout vec4 outputColor;\\n\\n\\n// line texture\\n\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  outputColor = v_color;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/flow/flow_line_vert.glsl' */\nconst flow_line_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\n\\nlayout(std140) uniform commonUniorm {\\n  float u_gap_width: 1.0;\\n  float u_stroke_width: 1.0;\\n  float u_stroke_opacity: 1.0;\\n};\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n#pragma include \\\"picking\\\"\\n\\nout vec4 v_color;\\n\\nvec2 project_pixel_offset(vec2 offsets) {\\n  vec2 data = project_pixel(offsets);\\n\\n  return vec2(data.x, -data.y);\\n}\\n\\nvec2 line_dir(vec2 target, vec2 source) {\\n  return normalize(ProjectFlat(target) - ProjectFlat(source));\\n}\\n\\n\\nvoid main() {\\n  // \\u900F\\u660E\\u5EA6\\u8BA1\\u7B97\\n  vec2 source_world = a_Instance.rg; // \\u8D77\\u70B9\\n  vec2 target_world = a_Instance.ba; // \\u7EC8\\u70B9\\n  vec2 flowlineDir = line_dir(target_world, source_world);\\n  vec2 perpendicularDir = vec2(-flowlineDir.y, flowlineDir.x);\\n\\n  vec2 position = mix(source_world, target_world, a_Position.x);\\n  vec2 position64Low = mix(a_Instance64Low.rg, a_Instance64Low.ba, a_Position.x);\\n\\n  float lengthCommon = length(\\n    project_position(vec4(target_world, 0, 1)) - project_position(vec4(source_world, 0, 1))\\n  );\\n  vec2 offsetDistances = a_Size.x * project_pixel_offset(vec2(a_Position.y, a_Position.z)); // Mapbox || \\u9AD8\\u5FB7\\n  vec2 limitedOffsetDistances = clamp(\\n    offsetDistances,\\n    project_pixel(-lengthCommon * 0.2),\\n    project_pixel(lengthCommon * 0.2)\\n  );\\n\\n  float startOffsetCommon = project_pixel(offsets[0]);\\n  float endOffsetCommon = project_pixel(offsets[1]);\\n  float endpointOffset = mix(\\n    clamp(startOffsetCommon, 0.0, lengthCommon * 0.2),\\n    -clamp(endOffsetCommon, 0.0, lengthCommon * 0.2),\\n    a_Position.x\\n  );\\n\\n  vec2 normalsCommon = u_stroke_width * project_pixel_offset(vec2(a_Normal.x, a_Normal.y));\\n\\n  float gapCommon = -1. * project_pixel(u_gap_width);\\n  vec3 offsetCommon = vec3(\\n    flowlineDir * (limitedOffsetDistances[1] + normalsCommon.y + endpointOffset * 1.05) -\\n      perpendicularDir * (limitedOffsetDistances[0] + gapCommon + normalsCommon.x),\\n    0.0\\n  );\\n\\n  vec4 project_pos = project_position(vec4(position.xy, 0, 1.0), position64Low);\\n\\n  vec4 fillColor = vec4(a_Color.rgb, a_Color.a * opacity);\\n  v_color = mix(fillColor, vec4(u_stroke.xyz, u_stroke.w * fillColor.w * u_stroke_opacity), a_Normal.z);\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy +  offsetCommon.xy, 0., 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class FlowLineModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      INSTANCE: 10,\n      INSTANCE_64LOW: 11,\n      NORMAL: 12\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      gapWidth = 2,\n      strokeWidth = 1,\n      strokeOpacity = 1\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_gap_width: gapWidth,\n      u_stroke_width: strokeWidth,\n      u_stroke_opacity: strokeOpacity\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modelFill = yield _this2.layer.buildLayerModel({\n        moduleName: 'flow_line',\n        vertexShader: flow_line_vert,\n        fragmentShader: flow_line_frag,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation: FlowLineTriangulation,\n        styleOption: _this2.layer.getLayerConfig().symbol,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        },\n        pick: false\n      });\n      return [modelFill];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Style 参与数据映射的内置属性\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        // 宽度\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return Array.isArray(size) ? [size[0], size[1]] : [size, 0];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'instance',\n      // 弧线起始点信息\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Instance',\n        shaderLocation: this.attributeLocation.INSTANCE,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4], vertex[5], vertex[6]];\n        }\n      }\n    });\n\n    // save low part for enabled double precision INSTANCE attribute\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'instance64Low',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Instance64Low',\n        shaderLocation: this.attributeLocation.INSTANCE_64LOW,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          return [fp64LowPart(vertex[3]), fp64LowPart(vertex[4]), fp64LowPart(vertex[5]), fp64LowPart(vertex[6])];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { fp64LowPart, rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { LineArcTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/greatCircle/line_arc_great_circle_frag.glsl' */\nconst line_arc_frag = \"#define LineTypeSolid 0.0\\n#define LineTypeDash 1.0\\n#define Animate 0.0\\n#define LineTexture 1.0\\n\\nuniform sampler2D u_texture;\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_dash_array: [10.0, 5., 0, 0];\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float segmentNumber;\\n  float u_line_type: 0.0;\\n  float u_icon_step: 100;\\n  float u_line_texture: 0.0;\\n  float u_textureBlend;\\n  float u_time;\\n  float u_linearColor: 0;\\n};\\n\\nin vec4 v_dash_array;\\nin vec4 v_color;\\nin vec2 v_iconMapUV;\\nin vec4 v_line_data;\\nin float v_distance_ratio;\\n\\nout vec4 outputColor;\\n#pragma include \\\"picking\\\"\\n#pragma include \\\"project\\\"\\n#pragma include \\\"projection\\\"\\n\\nvoid main() {\\n\\n  float animateSpeed = 0.0;\\n  float d_segmentIndex = v_line_data.g;\\n\\n  // \\u8BBE\\u7F6E\\u5F27\\u7EBF\\u7684\\u5E95\\u8272\\n  if(u_linearColor == 1.0) { // \\u4F7F\\u7528\\u6E10\\u53D8\\u989C\\u8272\\n    outputColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\\n    outputColor.a *= v_color.a;\\n  } else { // \\u4F7F\\u7528 color \\u65B9\\u6CD5\\u4F20\\u5165\\u7684\\u989C\\u8272\\n    outputColor = v_color;\\n  }\\n\\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\\n  if(u_line_type == LineTypeDash) {\\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\\n      // \\u5B9E\\u7EBF\\u90E8\\u5206\\n    } else {\\n      // \\u865A\\u7EBF\\u90E8\\u5206\\n      discard;\\n    };\\n  }\\n\\n  // \\u8BBE\\u7F6E\\u5F27\\u7EBF\\u7684\\u52A8\\u753B\\u6A21\\u5F0F\\n  if(u_animate.x == Animate) {\\n      animateSpeed = u_time / u_animate.y;\\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\\n      alpha = smoothstep(0., 1., alpha);\\n      outputColor.a *= alpha;\\n  }\\n\\n  // \\u8BBE\\u7F6E\\u5F27\\u7EBF\\u7684\\u8D34\\u56FE\\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) {\\n    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));\\n    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);\\n    float count = v_line_data.b; // \\u8D34\\u56FE\\u5728\\u5F27\\u7EBF\\u4E0A\\u91CD\\u590D\\u7684\\u6570\\u91CF\\n    float u = fract(arcRadio * count - animateSpeed * count);\\n    // float u = fract(arcRadio * count - animateSpeed);\\n    if(u_animate.x == Animate) {\\n      u = outputColor.a/v_color.a;\\n    }\\n\\n    float v = v_line_data.a; // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C\\n\\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\\n\\n    // \\u8BBE\\u7F6E\\u8D34\\u56FE\\u548C\\u5E95\\u8272\\u7684\\u53E0\\u52A0\\u6A21\\u5F0F\\n    if(u_textureBlend == 0.0) { // normal\\n      pattern.a = 0.0;\\n      outputColor = filterColor(outputColor + pattern);\\n    } else { // replace\\n        pattern.a *= v_color.a;\\n        if(outputColor.a <= 0.0) {\\n          pattern.a = 0.0;\\n        }\\n        outputColor = filterColor(pattern);\\n    }\\n  } else {\\n    outputColor = filterColor(outputColor);\\n  }\\n\\n  // gl_FragColor = filterColor(gl_FragColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/greatCircle/line_arc_great_circle_vert.glsl' */\nconst line_arc2d_vert = \"#define LineTypeSolid (0.0)\\n#define LineTypeDash (1.0)\\n#define Animate (0.0)\\n#define LineTexture (1.0)\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_dash_array: [10.0, 5., 0, 0];\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float segmentNumber;\\n  float u_line_type: 0.0;\\n  float u_icon_step: 100;\\n  float u_line_texture: 0.0;\\n  float u_textureBlend;\\n  float u_time;\\n  float u_linearColor: 0;\\n};\\n\\nout vec4 v_dash_array;\\nout vec4 v_color;\\nout vec2 v_iconMapUV;\\nout vec4 v_line_data;\\nout float v_distance_ratio;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n#pragma include \\\"picking\\\"\\n\\nfloat maps(float value, float start1, float stop1, float start2, float stop2) {\\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\\n}\\n\\nfloat getSegmentRatio(float index) {\\n  return index / (segmentNumber - 1.0);\\n}\\n\\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\\n  vec2 x = mix(source, target, ratio);\\n  vec2 center = mix(source, target, 0.5);\\n  float dSourceCenter = distance(source, center);\\n  float dXCenter = distance(x, center);\\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\\n}\\n\\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\\n  float vertex_height = paraboloid(source, target, segmentRatio);\\n\\n  return vec3(mix(source, target, segmentRatio), sqrt(max(0.0, vertex_height)));\\n}\\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\\n  // normalized direction of the line\\n  vec2 dir_screenspace = normalize(line_clipspace);\\n  // rotate by 90 degrees\\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\\n  return offset;\\n}\\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\\n  // normalized direction of the line\\n  vec2 dir_screenspace = normalize(line_clipspace);\\n  // rotate by 90 degrees\\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\\n  return dir_screenspace.xy * sign(offset_direction);\\n}\\nfloat getAngularDist(vec2 source, vec2 target) {\\n  vec2 delta = source - target;\\n  vec2 sin_half_delta = sin(delta / 2.0);\\n  float a =\\n    sin_half_delta.y * sin_half_delta.y +\\n    cos(source.y) * cos(target.y) * sin_half_delta.x * sin_half_delta.x;\\n  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));\\n}\\n\\nvec2 midPoint(vec2 source, vec2 target) {\\n  vec2 center = target - source;\\n  float r = length(center);\\n  float theta = atan(center.y, center.x);\\n  float thetaOffset = 0.314;\\n  float r2 = r / 2.0 / cos(thetaOffset);\\n  float theta2 = theta + thetaOffset;\\n  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);\\n  return mid;\\n}\\nfloat bezier3(vec3 arr, float t) {\\n  float ut = 1.0 - t;\\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\\n}\\n\\nvec2 interpolate(vec2 source, vec2 target, float angularDist, float t) {\\n  if (abs(angularDist - PI) < 0.001) {\\n    return (1.0 - t) * source + t * target;\\n  }\\n  float a = sin((1.0 - t) * angularDist) / sin(angularDist);\\n  float b = sin(t * angularDist) / sin(angularDist);\\n  vec2 sin_source = sin(source);\\n  vec2 cos_source = cos(source);\\n  vec2 sin_target = sin(target);\\n  vec2 cos_target = cos(target);\\n  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;\\n  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;\\n  float z = a * sin_source.y + b * sin_target.y;\\n  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));\\n\\n}\\n\\nvoid main() {\\n  v_color = a_Color;\\n  v_color.a = v_color.a * opacity;\\n  vec2 source = radians(a_Instance.rg);\\n  vec2 target = radians(a_Instance.ba);\\n  float angularDist = getAngularDist(source, target);\\n  float segmentIndex = a_Position.x;\\n  float segmentRatio = getSegmentRatio(segmentIndex);\\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\\n\\n  if (u_line_type == LineTypeDash) {\\n    v_distance_ratio = segmentIndex / segmentNumber;\\n    float total_Distance = pixelDistance(source, target) / 2.0 * PI;\\n    total_Distance = total_Distance * 16.0; // total_Distance*16.0 \\u8C03\\u6574\\u9ED8\\u8BA4\\u7684\\u6548\\u679C\\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;\\n  }\\n\\n  if (u_animate.x == Animate) {\\n    v_distance_ratio = segmentIndex / segmentNumber;\\n  }\\n\\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\\n  v_distance_ratio = segmentIndex / segmentNumber;\\n\\n  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0), a_Instance64Low.xy);\\n  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0), a_Instance64Low.zw);\\n\\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\\n  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));\\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\\n\\n  v_line_data.g = a_Position.x; // \\u8BE5\\u9876\\u70B9\\u5728\\u5F27\\u7EBF\\u4E0A\\u7684\\u5206\\u6BB5\\u6392\\u5E8F\\n  if (LineTexture == u_line_texture) {\\n    float d_arcDistrance = length(source - target);\\n    d_arcDistrance = project_pixel(d_arcDistrance);\\n\\n    float d_pixelLen = project_pixel(u_icon_step) / 8.0;\\n    v_line_data.b = floor(d_arcDistrance / d_pixelLen); // \\u8D34\\u56FE\\u5728\\u5F27\\u7EBF\\u4E0A\\u91CD\\u590D\\u7684\\u6570\\u91CF\\n\\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \\u7EBF\\u6A2A\\u5411\\u504F\\u79FB\\u7684\\u8DDD\\u79BB\\n    float linePixelSize = project_pixel(a_Size); // \\u5B9A\\u70B9\\u4F4D\\u7F6E\\u504F\\u79FB\\uFF0C\\u6309\\u5730\\u56FE\\u7B49\\u7EA7\\u7F29\\u653E\\u540E\\u7684\\u8DDD\\u79BB\\n    v_line_data.a = lineOffsetWidth / linePixelSize; // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C\\n\\n    v_iconMapUV = a_iconMapUV;\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\\n  setPickingColor(a_PickingColor);\\n}\\n\\n\";\nconst lineStyleObj = {\n  solid: 0.0,\n  dash: 1.0\n};\nexport default class GreatCircleModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"updateTexture\", () => {\n      const {\n        createTexture2D\n      } = this.rendererService;\n      if (this.texture) {\n        this.texture.update({\n          data: this.iconService.getCanvas()\n        });\n        this.layer.render();\n        return;\n      }\n      this.texture = createTexture2D({\n        data: this.iconService.getCanvas(),\n        mag: gl.NEAREST,\n        min: gl.NEAREST,\n        premultiplyAlpha: false,\n        width: 1024,\n        height: this.iconService.canvasHeight || 128\n      });\n      this.textures = [this.texture];\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      INSTANCE: 10,\n      INSTANCE_64LOW: 11,\n      UV: 12\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      sourceColor,\n      targetColor,\n      textureBlend = 'normal',\n      lineType = 'solid',\n      dashArray = [10, 5],\n      lineTexture = false,\n      iconStep = 100,\n      segmentNumber = 30\n    } = this.layer.getLayerConfig();\n    const {\n      animateOption\n    } = this.layer.getLayerConfig();\n    if (dashArray.length === 2) {\n      dashArray.push(0, 0);\n    }\n    if (this.rendererService.getDirty()) {\n      var _this$texture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.bind();\n    }\n\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [0, 0, 0, 0];\n    let targetColorArr = [0, 0, 0, 0];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    let u_time = this.layer.getLayerAnimateTime();\n    if (isNaN(u_time)) {\n      u_time = 0.0;\n    }\n    const commonOptions = {\n      u_animate: this.animateOption2Array(animateOption),\n      u_dash_array: dashArray,\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      u_textSize: [1024, this.iconService.canvasHeight || 128],\n      segmentNumber,\n      u_line_type: lineStyleObj[lineType] || 0.0,\n      u_icon_step: iconStep,\n      u_line_texture: lineTexture ? 1.0 : 0.0,\n      // 传入线的标识\n      u_textureBlend: textureBlend === 'normal' ? 0.0 : 1.0,\n      u_time,\n      // 纹理支持参数\n      // u_texture: this.texture, // 贴图\n      // 渐变色支持参数\n      u_linearColor: useLinearColor\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  // public getAnimateUniforms(): IModelUniform {\n  //   const { animateOption } = this.layer.getLayerConfig() as ILayerConfig;\n  //   return {\n  //     u_animate: this.animateOption2Array(animateOption as IAnimateOption),\n  //     u_time: this.layer.getLayerAnimateTime(),\n  //   };\n  // }\n\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      _this.updateTexture();\n      _this.iconService.on('imageUpdate', _this.updateTexture);\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture2;\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    this.iconService.off('imageUpdate', this.updateTexture);\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        segmentNumber = 30\n      } = _this2.layer.getLayerConfig();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'lineGreatCircle',\n        vertexShader: line_arc2d_vert,\n        fragmentShader: line_arc_frag,\n        triangulation: LineArcTriangulation,\n        styleOption: {\n          segmentNumber\n        },\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        depth: {\n          enable: false\n        }\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'instance',\n      // 弧线起始点信息\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Instance',\n        shaderLocation: this.attributeLocation.INSTANCE,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4], vertex[5], vertex[6]];\n        }\n      }\n    });\n\n    // save low part for enabled double precision INSTANCE attribute\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'instance64Low',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Instance64Low',\n        shaderLocation: this.attributeLocation.INSTANCE_64LOW,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          return [fp64LowPart(vertex[3]), fp64LowPart(vertex[4]), fp64LowPart(vertex[5]), fp64LowPart(vertex[6])];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_iconMapUV',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const iconMap = this.iconService.getIconMap();\n          const {\n            texture\n          } = feature;\n          const {\n            x,\n            y\n          } = iconMap[texture] || {\n            x: 0,\n            y: 0\n          };\n          return [x, y];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { LinearDir, TextureBlend } from \"../../core/interface\";\nimport { LineTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/line/line_frag.glsl' */\nconst line_frag = \"// #extension GL_OES_standard_derivatives : enable\\n#define Animate 0.0\\n#define LineTexture 1.0\\n\\nuniform sampler2D u_texture;\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_dash_array;\\n  vec4 u_blur;\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float u_icon_step: 100;\\n  float u_heightfixed: 0.0;\\n  float u_vertexScale: 1.0;\\n  float u_raisingHeight: 0.0;\\n  float u_strokeWidth: 0.0;\\n  float u_textureBlend;\\n  float u_line_texture;\\n  float u_linearDir: 1.0;\\n  float u_linearColor: 0;\\n  float u_time;\\n};\\n\\nin vec4 v_color;\\nin vec4 v_stroke;\\n// dash\\nin vec4 v_dash_array;\\nin float v_d_distance_ratio;\\nin vec2 v_iconMapUV;\\nin vec4 v_texture_data;\\n\\nout vec4 outputColor;\\n#pragma include \\\"picking\\\"\\n\\n// [animate, duration, interval, trailLength],\\nvoid main() {\\n  if(u_dash_array!=vec4(0.0)){\\n    float dashLength = mod(v_d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\\n      // \\u865A\\u7EBF\\u90E8\\u5206\\n      discard;\\n    };\\n  }\\n  float animateSpeed = 0.0; // \\u8FD0\\u52A8\\u901F\\u5EA6\\n  float d_distance_ratio = v_texture_data.r; // \\u5F53\\u524D\\u70B9\\u4F4D\\u8DDD\\u79BB\\u5360\\u7EBF\\u603B\\u957F\\u7684\\u6BD4\\u4F8B\\n  if(u_linearDir < 1.0) {\\n    d_distance_ratio = v_texture_data.a;\\n  }\\n  if(u_linearColor == 1.0) { // \\u4F7F\\u7528\\u6E10\\u53D8\\u989C\\u8272\\n    outputColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);\\n    outputColor.a *= v_color.a;\\n  } else { // \\u4F7F\\u7528 color \\u65B9\\u6CD5\\u4F20\\u5165\\u7684\\u989C\\u8272\\n     outputColor = v_color;\\n  }\\n  // anti-alias\\n  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));\\n  if(u_animate.x == Animate) {\\n      animateSpeed = u_time / u_animate.y;\\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);\\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\\n      alpha = smoothstep(0., 1., alpha);\\n      outputColor.a *= alpha;\\n  }\\n\\n  if(u_line_texture == LineTexture) { // while load texture\\n    float aDistance = v_texture_data.g;      // \\u5F53\\u524D\\u9876\\u70B9\\u7684\\u8DDD\\u79BB\\n    float d_texPixelLen = v_texture_data.b;  // \\u8D34\\u56FE\\u7684\\u50CF\\u7D20\\u957F\\u5EA6\\uFF0C\\u6839\\u636E\\u5730\\u56FE\\u5C42\\u7EA7\\u7F29\\u653E\\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\\n    float v = v_texture_data.a;  // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C\\n\\n    // v = max(smoothstep(0.95, 1.0, v), v);\\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\\n     vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\\n\\n    if(u_textureBlend == 0.0) { // normal\\n      pattern.a = 0.0;\\n      outputColor += pattern;\\n    } else { // replace\\n        pattern.a *= v_color.a;\\n        if(outputColor.a <= 0.0) {\\n          pattern.a = 0.0;\\n        }\\n        outputColor = pattern;\\n    }\\n  } \\n\\n  float v = v_texture_data.a;\\n  float strokeWidth = min(0.5, u_strokeWidth);\\n  // \\u7ED8\\u5236 border\\n  if(strokeWidth > 0.01) {\\n    float borderOuterWidth = strokeWidth / 2.0;\\n\\n\\n    if(v >= 1.0 - strokeWidth || v <= strokeWidth) {\\n      if(v > strokeWidth) { // \\u5916\\u4FA7\\n        float linear = smoothstep(0.0, 1.0, (v - (1.0 - strokeWidth))/strokeWidth);\\n        //  float linear = step(0.0, (v - (1.0 - borderWidth))/borderWidth);\\n        outputColor.rgb = mix(outputColor.rgb, v_stroke.rgb, linear);\\n      } else if(v <= strokeWidth) {\\n        float linear = smoothstep(0.0, 1.0, v/strokeWidth);\\n        outputColor.rgb = mix(v_stroke.rgb, outputColor.rgb, linear);\\n      }\\n    }\\n\\n    if(v < borderOuterWidth) {\\n      outputColor.a = mix(0.0, outputColor.a, v/borderOuterWidth);\\n    } else if(v > 1.0 - borderOuterWidth) {\\n      outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);\\n    }\\n  }\\n\\n  // blur\\n  float blurV = v_texture_data.a;\\n  if(blurV < 0.5) {\\n    outputColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);\\n  } else {\\n    outputColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);\\n  }\\n  \\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/line/line_vert.glsl' */\nconst line_vert = \"#define Animate (0.0)\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_DISTANCE_INDEX) in vec3 a_DistanceAndIndexAndMiter;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec4 a_Normal_Total_Distance;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_dash_array;\\n  vec4 u_blur;\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float u_icon_step: 100;\\n  float u_heightfixed: 0.0;\\n  float u_vertexScale: 1.0;\\n  float u_raisingHeight: 0.0;\\n  float u_strokeWidth: 0.0;\\n  float u_textureBlend;\\n  float u_line_texture;\\n  float u_linearDir: 1.0;\\n  float u_linearColor: 0;\\n  float u_time;\\n};\\n\\nout vec4 v_color;\\nout vec4 v_stroke;\\n//dash\\nout vec4 v_dash_array;\\nout float v_d_distance_ratio;\\n// texV \\u7EBF\\u56FE\\u5C42 - \\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\uFF08\\u7EBF\\u7684\\u5BBD\\u5EA6\\u65B9\\u5411\\uFF09\\nout vec2 v_iconMapUV;\\nout vec4 v_texture_data;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  vec2 a_DistanceAndIndex = a_DistanceAndIndexAndMiter.xy;\\n  float a_Miter = a_DistanceAndIndexAndMiter.z;\\n  vec3 a_Normal = a_Normal_Total_Distance.xyz;\\n  float a_Total_Distance = a_Normal_Total_Distance.w;\\n  //dash\\u8F93\\u51FA\\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;\\n  v_d_distance_ratio = a_DistanceAndIndex.x / a_Total_Distance;\\n\\n  // cal style mapping - \\u6570\\u636E\\u7EB9\\u7406\\u6620\\u5C04\\u90E8\\u5206\\u7684\\u8BA1\\u7B97\\n  float d_texPixelLen; // \\u8D34\\u56FE\\u7684\\u50CF\\u7D20\\u957F\\u5EA6\\uFF0C\\u6839\\u636E\\u5730\\u56FE\\u5C42\\u7EA7\\u7F29\\u653E\\n  v_iconMapUV = a_iconMapUV;\\n  d_texPixelLen = project_float_pixel(u_icon_step);\\n\\n  v_color = a_Color;\\n  v_color.a *= opacity;\\n  v_stroke = stroke;\\n\\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * a_Normal;\\n\\n  vec2 offset = project_pixel(size.xy);\\n\\n  float lineDistance = a_DistanceAndIndex.x;\\n  float currentLinePointRatio = lineDistance / a_Total_Distance;\\n\\n  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \\u7EBF\\u6A2A\\u5411\\u504F\\u79FB\\u7684\\u8DDD\\u79BB\\uFF08\\u5411\\u4E24\\u4FA7\\u504F\\u79FB\\u7684\\u548C\\uFF09\\n  float linePixelSize = project_pixel(a_Size.x) * 2.0; // \\u5B9A\\u70B9\\u4F4D\\u7F6E\\u504F\\u79FB\\uFF0C\\u6309\\u5730\\u56FE\\u7B49\\u7EA7\\u7F29\\u653E\\u540E\\u7684\\u8DDD\\u79BB \\u5355\\u4FA7 * 2\\n  float texV = lineOffsetWidth / linePixelSize; // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C\\n\\n  v_texture_data = vec4(currentLinePointRatio, lineDistance, d_texPixelLen, texV);\\n  // \\u8BBE\\u7F6E\\u6570\\u636E\\u96C6\\u7684\\u53C2\\u6570\\n\\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\\n\\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\\n\\n  float h = float(a_Position.z) * u_vertexScale; // \\u7EBF\\u9876\\u70B9\\u7684\\u9AD8\\u5EA6 - \\u517C\\u5BB9\\u4E0D\\u5B58\\u5728\\u7B2C\\u4E09\\u4E2A\\u6570\\u503C\\u7684\\u60C5\\u51B5 vertex height\\n  float lineHeight = a_Size.y; // size \\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u4EE3\\u8868\\u7684\\u9AD8\\u5EA6 [linewidth, lineheight]\\n\\n  // \\u517C\\u5BB9 mapbox \\u5728\\u7EBF\\u9AD8\\u5EA6\\u4E0A\\u7684\\u6548\\u679C\\u8868\\u73B0\\u57FA\\u672C\\u4E00\\u81F4\\n  if (\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n  ) {\\n    // mapbox\\n    // \\u4FDD\\u6301\\u9AD8\\u5EA6\\u76F8\\u5BF9\\u4E0D\\u53D8\\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\\n    h *= mapboxZoomScale;\\n    h += u_raisingHeight * mapboxZoomScale;\\n    if (u_heightfixed > 0.0) {\\n      lineHeight *= mapboxZoomScale;\\n    }\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(\\n    vec4(project_pos.xy + offset, lineHeight + h, 1.0)\\n  );\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class LineModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"textureEventFlag\", false);\n    _defineProperty(this, \"texture\", this.createTexture2D({\n      data: new Uint8Array([0, 0, 0, 0]),\n      width: 1,\n      height: 1\n    }));\n    _defineProperty(this, \"updateTexture\", () => {\n      const {\n        createTexture2D\n      } = this.rendererService;\n      if (this.textures.length === 0) {\n        this.textures = [this.texture];\n      }\n      if (this.texture) {\n        this.texture.update({\n          data: this.iconService.getCanvas()\n        });\n        this.layer.render();\n        return;\n      }\n      this.texture = createTexture2D({\n        data: this.iconService.getCanvas(),\n        mag: gl.NEAREST,\n        min: gl.NEAREST,\n        premultiplyAlpha: false,\n        width: 1024,\n        height: this.iconService.canvasHeight || 128\n      });\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      DISTANCE_INDEX: 10,\n      NORMAL: 11,\n      UV: 12\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      sourceColor,\n      targetColor,\n      textureBlend = 'normal',\n      lineType = 'solid',\n      dashArray = [10, 5, 0, 0],\n      lineTexture = false,\n      iconStep = 100,\n      vertexHeightScale = 20.0,\n      strokeWidth = 0.0,\n      raisingHeight = 0,\n      heightfixed = false,\n      linearDir = LinearDir.VERTICAL,\n      // 默认纵向\n      blur = [1, 1, 1, 0]\n    } = this.layer.getLayerConfig();\n    let u_dash_array = dashArray;\n    if (lineType !== 'dash') {\n      u_dash_array = [0, 0, 0, 0];\n    }\n    if (u_dash_array.length === 2) {\n      u_dash_array.push(0, 0);\n    }\n    if (this.rendererService.getDirty() && this.texture) {\n      var _this$texture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.bind();\n    }\n    const {\n      animateOption\n    } = this.layer.getLayerConfig();\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [0, 0, 0, 0];\n    let targetColorArr = [0, 0, 0, 0];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    const commonOptions = {\n      u_animate: this.animateOption2Array(animateOption),\n      u_dash_array,\n      u_blur: blur,\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      u_textSize: [1024, this.iconService.canvasHeight || 128],\n      u_icon_step: iconStep,\n      // 是否固定高度\n      u_heightfixed: Number(heightfixed),\n      // 顶点高度 scale\n      u_vertexScale: vertexHeightScale,\n      u_raisingHeight: Number(raisingHeight),\n      // line border 参数\n      u_strokeWidth: strokeWidth,\n      u_textureBlend: textureBlend === TextureBlend.NORMAL ? 0.0 : 1.0,\n      u_line_texture: lineTexture ? 1.0 : 0.0,\n      // 传入线的标识\n      u_linearDir: linearDir === LinearDir.VERTICAL ? 1.0 : 0.0,\n      u_linearColor: useLinearColor,\n      u_time: this.layer.getLayerAnimateTime() || 0\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  // public getAnimateUniforms(): IModelUniform {\n  //   const { animateOption } = this.layer.getLayerConfig() as ILayerConfig;\n  //   return {\n  //     u_animate: this.animateOption2Array(animateOption as IAnimateOption),\n  //     u_time: this.layer.getLayerAnimateTime(),\n  //   };\n  // }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      // this.updateTexture();\n      // this.iconService.on('imageUpdate', this.updateTexture);\n      if (!_this.textureEventFlag) {\n        _this.textureEventFlag = true;\n        _this.updateTexture();\n        _this.iconService.on('imageUpdate', _this.updateTexture);\n      }\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture2;\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    this.iconService.off('imageUpdate', this.updateTexture);\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        depth = false\n      } = _this2.layer.getLayerConfig();\n      const {\n        frag,\n        vert,\n        type\n      } = _this2.getShaders();\n      _this2.layer.triangulation = LineTriangulation;\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'line' + type,\n        vertexShader: vert,\n        fragmentShader: frag,\n        triangulation: LineTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        depth: {\n          enable: depth\n        }\n      });\n      return [model];\n    })();\n  }\n\n  /**\n   * 根据参数获取不同的 shader 代码\n   * @returns\n   */\n  getShaders() {\n    return {\n      frag: line_frag,\n      vert: line_vert,\n      type: ''\n    };\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'distanceAndIndex',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_DistanceAndIndexAndMiter',\n        shaderLocation: this.attributeLocation.DISTANCE_INDEX,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal, vertexIndex) => {\n          return vertexIndex === undefined ? [vertex[3], 10, vertex[4]] : [vertex[3], vertexIndex, vertex[4]];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return Array.isArray(size) ? [size[0], size[1]] : [size, 0];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal_total_distance',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal_Total_Distance',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return [...normal, vertex[5]];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_iconMapUV',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const iconMap = this.iconService.getIconMap();\n          const {\n            texture\n          } = feature;\n          const {\n            x,\n            y\n          } = iconMap[texture] || {\n            x: 0,\n            y: 0\n          };\n          return [x, y];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { SimpleLineTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/simple/simpleline_frag.glsl' */\nconst simple_line_frag = \"\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec4 u_dash_array;\\n  float u_vertexScale: 1.0;\\n  float u_linearColor: 0;\\n};\\nin float v_distanceScale;\\nin vec4 v_color;\\n//dash\\nin vec4 v_dash_array;\\n\\nout vec4 outputColor;\\nvoid main() {\\n  if(u_dash_array!=vec4(0.0)){\\n    float dashLength = mod(v_distanceScale, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\\n      // \\u865A\\u7EBF\\u90E8\\u5206\\n      discard;\\n    };\\n  }\\n  if(u_linearColor==1.0){\\n    outputColor = mix(u_sourceColor, u_targetColor, v_distanceScale);\\n    outputColor.a *= v_color.a; // \\u5168\\u5C40\\u900F\\u660E\\u5EA6\\n  }\\n  else{\\n    outputColor = v_color;\\n  }\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/simple/simpleline_vert.glsl' */\nconst simple_line_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec4 a_SizeDistanceAndTotalDistance;\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec4 u_dash_array;\\n  float u_vertexScale: 1.0;\\n  float u_linearColor: 0;\\n};\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n\\nout vec4 v_color;\\nout float v_distanceScale;\\nout vec4 v_dash_array;\\n\\nvoid main() {\\n  //dash\\u8F93\\u51FA\\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_SizeDistanceAndTotalDistance.a;\\n\\n  v_color = a_Color;\\n  v_distanceScale = a_SizeDistanceAndTotalDistance.b / a_SizeDistanceAndTotalDistance.a;\\n  v_color.a = v_color.a * opacity;\\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\\n\\n  float h = float(a_Position.z) * u_vertexScale; // \\u7EBF\\u9876\\u70B9\\u7684\\u9AD8\\u5EA6 - \\u517C\\u5BB9\\u4E0D\\u5B58\\u5728\\u7B2C\\u4E09\\u4E2A\\u6570\\u503C\\u7684\\u60C5\\u51B5\\n\\n  float lineHeight = a_SizeDistanceAndTotalDistance.y;\\n  // \\u517C\\u5BB9 mapbox \\u5728\\u7EBF\\u9AD8\\u5EA6\\u4E0A\\u7684\\u6548\\u679C\\u8868\\u73B0\\u57FA\\u672C\\u4E00\\u81F4\\n  if (\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n  ) {\\n    // \\u4FDD\\u6301\\u9AD8\\u5EA6\\u76F8\\u5BF9\\u4E0D\\u53D8\\n    h *= 2.0 / pow(2.0, 20.0 - u_Zoom);\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));\\n  gl_PointSize = 10.0;\\n\\n}\\n\";\nexport default class SimpleLineModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      sourceColor,\n      targetColor,\n      lineType = 'solid',\n      dashArray = [10, 5, 0, 0],\n      vertexHeightScale = 20.0\n    } = this.layer.getLayerConfig();\n    let u_dash_array = dashArray;\n    if (lineType !== 'dash') {\n      u_dash_array = [0, 0, 0, 0];\n    }\n    if (u_dash_array.length === 2) {\n      u_dash_array.push(0, 0);\n    }\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [0, 0, 0, 0];\n    let targetColorArr = [0, 0, 0, 0];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    const commonOptions = {\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      u_dash_array,\n      // 顶点高度 scale\n      u_vertexScale: vertexHeightScale,\n      // 渐变色支持参数\n      u_linearColor: useLinearColor\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  getShaders() {\n    return {\n      frag: simple_line_frag,\n      vert: simple_line_vert,\n      type: 'lineSimpleNormal'\n    };\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const {\n        frag,\n        vert,\n        type\n      } = _this2.getShaders();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: type,\n        vertexShader: vert,\n        fragmentShader: frag,\n        triangulation: SimpleLineTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        primitive: gl.LINES,\n        depth: {\n          enable: false\n        },\n        pick: false\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n\n    //size.x,size,y,distance,totalDistance\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'sizeDistanceAndTotalDistance',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_SizeDistanceAndTotalDistance',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: (feature, featureIdx, vertex) => {\n          const {\n            size = 1\n          } = feature;\n          const a_Size = Array.isArray(size) ? [size[0], size[1]] : [size, 0];\n          return [a_Size[0], a_Size[1], vertex[3], vertex[5]];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { LineTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/wall/wall_frag.glsl' */\nconst line_frag = \"#define Animate 0.0\\n#define LineTexture 1.0\\n\\n// line texture\\n\\nuniform sampler2D u_texture;\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float u_icon_step: 100;\\n  float u_heightfixed;\\n  float u_linearColor: 0;\\n  float u_line_texture;\\n  float u_textureBlend;\\n  float u_iconStepCount;\\n  float u_time;\\n};\\n\\n\\nin vec2 v_iconMapUV;\\nin vec4 v_color;\\nin float v_blur;\\nin vec4 v_dataset;\\n\\nout vec4 outputColor;\\n\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  float animateSpeed = 0.0; // \\u8FD0\\u52A8\\u901F\\u5EA6\\n  float d_distance_ratio = v_dataset.r; // \\u5F53\\u524D\\u70B9\\u4F4D\\u8DDD\\u79BB\\u5360\\u7EBF\\u603B\\u957F\\u7684\\u6BD4\\u4F8B\\n  float v = v_dataset.a;\\n\\n  if(u_linearColor == 1.0) { // \\u4F7F\\u7528\\u6E10\\u53D8\\u989C\\u8272\\n    outputColor = mix(u_sourceColor, u_targetColor, v);\\n  } else { // \\u4F7F\\u7528 color \\u65B9\\u6CD5\\u4F20\\u5165\\u7684\\u989C\\u8272\\n     outputColor = v_color;\\n  }\\n\\n  outputColor.a *= v_color.a; // \\u5168\\u5C40\\u900F\\u660E\\u5EA6\\n  if(u_animate.x == Animate) {\\n      animateSpeed = u_time / u_animate.y;\\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);\\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\\n      alpha = smoothstep(0., 1., alpha);\\n      outputColor.a *= alpha;\\n  }\\n\\n  if(u_line_texture == LineTexture) { // while load texture\\n    float aDistance = v_dataset.g;      // \\u5F53\\u524D\\u9876\\u70B9\\u7684\\u8DDD\\u79BB\\n    float d_texPixelLen = v_dataset.b;  // \\u8D34\\u56FE\\u7684\\u50CF\\u7D20\\u957F\\u5EA6\\uFF0C\\u6839\\u636E\\u5730\\u56FE\\u5C42\\u7EA7\\u7F29\\u653E\\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\\n    float v = v_dataset.a;  // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C\\n\\n    // \\u8BA1\\u7B97\\u7EB9\\u7406\\u95F4\\u9694 start\\n    float flag = 0.0;\\n    if(u > 1.0/u_iconStepCount) {\\n      flag = 1.0;\\n    }\\n    u = fract(u*u_iconStepCount);\\n    // \\u8BA1\\u7B97\\u7EB9\\u7406\\u95F4\\u9694 end\\n\\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\\n\\n    // Tip: \\u5224\\u65AD\\u7EB9\\u7406\\u95F4\\u9694\\n    if(flag > 0.0) {\\n      pattern = vec4(0.0);\\n    }\\n\\n    if(u_textureBlend == 0.0) { // normal\\n      pattern.a = 0.0;\\n      outputColor = filterColor(outputColor + pattern);\\n    } else { // replace\\n        pattern.a *= v_color.a;\\n        if(outputColor.a <= 0.0) {\\n          pattern.a = 0.0;\\n        }\\n        outputColor = filterColor(pattern);\\n    }\\n  }\\n\\n\\n  // blur - AA\\n  if(v < v_blur) {\\n    outputColor.a = mix(0.0, outputColor.a, v/v_blur);\\n  } else if(v > 1.0 - v_blur) {\\n    outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);\\n  }\\n\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/wall/wall_vert.glsl' */\nconst line_vert = \"#define Animate 0.0\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\\nlayout(location = ATTRIBUTE_LOCATION_DISTANCE_MITER_TOTAL) in vec3 a_Distance_Total_Miter;\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  vec2 u_textSize;\\n  float u_icon_step: 100;\\n  float u_heightfixed;\\n  float u_linearColor: 0;\\n  float u_line_texture;\\n  float u_textureBlend;\\n  float u_iconStepCount;\\n  float u_time;\\n};\\n\\n// texV \\u7EBF\\u56FE\\u5C42 - \\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\uFF08\\u7EBF\\u7684\\u5BBD\\u5EA6\\u65B9\\u5411\\uFF09\\nout vec2 v_iconMapUV;\\nout vec4 v_color;\\nout float v_blur;\\nout vec4 v_dataset;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  float a_Distance = a_Distance_Total_Miter.x;\\n  float a_Miter = a_Distance_Total_Miter.y;\\n  float a_Total_Distance = a_Distance_Total_Miter.z;\\n\\n  float d_distance_ratio; // \\u5F53\\u524D\\u70B9\\u4F4D\\u8DDD\\u79BB\\u5360\\u7EBF\\u603B\\u957F\\u7684\\u6BD4\\u4F8B\\n  float d_texPixelLen; // \\u8D34\\u56FE\\u7684\\u50CF\\u7D20\\u957F\\u5EA6\\uFF0C\\u6839\\u636E\\u5730\\u56FE\\u5C42\\u7EA7\\u7F29\\u653E\\n\\n  v_iconMapUV = a_iconMapUV;\\n  if (u_heightfixed < 1.0) {\\n    // \\u9AD8\\u5EA6\\u968F zoom \\u8C03\\u6574\\n    d_texPixelLen = project_pixel(u_icon_step);\\n  } else {\\n    d_texPixelLen = u_icon_step;\\n  }\\n\\n  if (u_animate.x == Animate || u_linearColor == 1.0) {\\n    d_distance_ratio = a_Distance / a_Total_Distance;\\n  }\\n\\n  float miter = (a_Miter + 1.0) / 2.0;\\n  // \\u8BBE\\u7F6E\\u6570\\u636E\\u96C6\\u7684\\u53C2\\u6570\\n  v_dataset[0] = d_distance_ratio; // \\u5F53\\u524D\\u70B9\\u4F4D\\u8DDD\\u79BB\\u5360\\u7EBF\\u603B\\u957F\\u7684\\u6BD4\\u4F8B\\n  v_dataset[1] = a_Distance; // \\u5F53\\u524D\\u9876\\u70B9\\u7684\\u8DDD\\u79BB\\n  v_dataset[2] = d_texPixelLen; // \\u8D34\\u56FE\\u7684\\u50CF\\u7D20\\u957F\\u5EA6\\uFF0C\\u6839\\u636E\\u5730\\u56FE\\u5C42\\u7EA7\\u7F29\\u653E\\n  v_dataset[3] = miter; // \\u7EBF\\u56FE\\u5C42\\u8D34\\u56FE\\u90E8\\u5206\\u7684 v \\u5750\\u6807\\u503C 0 - 1\\n\\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\\n\\n  float originSize = a_Size.x; // \\u56FA\\u5B9A\\u9AD8\\u5EA6\\n  if (u_heightfixed < 1.0) {\\n    originSize = project_float_meter(a_Size.x); // \\u9AD8\\u5EA6\\u968F zoom \\u8C03\\u6574\\n  }\\n\\n  float wallHeight = originSize * miter;\\n  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));\\n\\n  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);\\n  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\\n\\n  // \\u517C\\u5BB9 mapbox \\u5728\\u7EBF\\u9AD8\\u5EA6\\u4E0A\\u7684\\u6548\\u679C\\u8868\\u73B0\\u57FA\\u672C\\u4E00\\u81F4\\n  if (\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n  ) {\\n    // mapbox\\n    // \\u4FDD\\u6301\\u9AD8\\u5EA6\\u76F8\\u5BF9\\u4E0D\\u53D8\\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\\n    if (u_heightfixed > 0.0) {\\n      wallHeight *= mapboxZoomScale;\\n    }\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class LineWallModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"updateTexture\", () => {\n      const {\n        createTexture2D\n      } = this.rendererService;\n      if (this.texture) {\n        this.texture.update({\n          data: this.iconService.getCanvas()\n        });\n        this.layer.render();\n        return;\n      }\n      this.texture = createTexture2D({\n        data: this.iconService.getCanvas(),\n        mag: gl.NEAREST,\n        min: gl.NEAREST,\n        premultiplyAlpha: false,\n        width: 1024,\n        height: this.iconService.canvasHeight || 128\n      });\n      this.textures = [this.texture];\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      NORMAL: 12,\n      UV: 13,\n      DISTANCE_MITER_TOTAL: 15\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      sourceColor,\n      targetColor,\n      textureBlend = 'normal',\n      heightfixed = false,\n      lineTexture = false,\n      iconStep = 100,\n      iconStepCount = 1\n    } = this.layer.getLayerConfig();\n    const {\n      animateOption\n    } = this.layer.getLayerConfig();\n    if (this.rendererService.getDirty()) {\n      var _this$texture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.bind();\n    }\n\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [0, 0, 0, 0];\n    let targetColorArr = [0, 0, 0, 0];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    const commonOptions = {\n      u_animate: this.animateOption2Array(animateOption),\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      u_textSize: [1024, this.iconService.canvasHeight || 128],\n      u_icon_step: iconStep,\n      u_heightfixed: Number(heightfixed),\n      // 渐变色支持参数\n      u_linearColor: useLinearColor,\n      u_line_texture: lineTexture ? 1.0 : 0.0,\n      // 传入线的标识\n      u_textureBlend: textureBlend === 'normal' ? 0.0 : 1.0,\n      u_iconStepCount: iconStepCount,\n      u_time: this.layer.getLayerAnimateTime() || 0\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  // public getAnimateUniforms(): IModelUniform {\n  //   const { animateOption } = this.layer.getLayerConfig() as ILayerConfig;\n  //   return {\n  //     u_animate: this.animateOption2Array(animateOption as IAnimateOption),\n  //     u_time: this.layer.getLayerAnimateTime(),\n  //   };\n  // }\n\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      _this.updateTexture();\n      _this.iconService.on('imageUpdate', _this.updateTexture);\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture2;\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    this.iconService.off('imageUpdate', this.updateTexture);\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'lineWall',\n        vertexShader: line_vert,\n        fragmentShader: line_frag,\n        triangulation: LineTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        depth: {\n          enable: false\n        },\n        blend: _this2.getBlend()\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return Array.isArray(size) ? [size[0], size[1]] : [size, 0];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        // @ts-ignore\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'distanceAndTotalAndMiter',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Distance_Total_Miter',\n        shaderLocation: this.attributeLocation.DISTANCE_MITER_TOTAL,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex) => {\n          // [distance, miter, total_distance]\n          return [vertex[3], vertex[4], vertex[5]];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_iconMapUV',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const iconMap = this.iconService.getIconMap();\n          const {\n            texture\n          } = feature;\n          const {\n            x,\n            y\n          } = iconMap[texture] || {\n            x: 0,\n            y: 0\n          };\n          return [x, y];\n        }\n      }\n    });\n  }\n}", "import ArcModel from \"./arc\";\nimport Arc3DModel from \"./arc_3d\";\nimport FlowLineModel from \"./flow\";\nimport GreatCircleModel from \"./great_circle\";\nimport LineModel from \"./line\";\nimport SimpleLineModel from \"./simple_line\";\nimport LineWallModel from \"./wall\";\nconst LineModels = {\n  arc: ArcModel,\n  arc3d: Arc3DModel,\n  greatcircle: GreatCircleModel,\n  wall: LineWallModel,\n  line: LineModel,\n  simple: SimpleLineModel,\n  flowline: FlowLineModel,\n  earthArc3d: Arc3DModel\n};\nexport default LineModels;", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport LineModels from \"./models\";\nexport default class LineLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'LineLayer');\n    _defineProperty(this, \"enableShaderEncodeStyles\", ['stroke', 'offsets', 'opacity', 'thetaOffset']);\n    //注意顺序 4+2+1+1\n    _defineProperty(this, \"arrowInsertCount\", 0);\n    _defineProperty(this, \"defaultSourceConfig\", {\n      data: [{\n        lng1: 100,\n        lat1: 30.0,\n        lng2: 130,\n        lat2: 30\n      }],\n      options: {\n        parser: {\n          type: 'json',\n          x: 'lng1',\n          y: 'lat1',\n          x1: 'lng2',\n          y1: 'lat2'\n        }\n      }\n    });\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const shape = _this.getModelType();\n      _this.layerModel = new LineModels[shape](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  getDefaultConfig() {\n    const type = this.getModelType();\n    const defaultConfig = {\n      line: {},\n      linearline: {},\n      simple: {},\n      wall: {},\n      arc3d: {\n        blend: 'additive'\n      },\n      arc: {\n        blend: 'additive'\n      },\n      greatcircle: {\n        blend: 'additive'\n      },\n      tileLine: {},\n      earthArc3d: {},\n      flowline: {},\n      arrow: {}\n    };\n    return defaultConfig[type];\n  }\n  getModelType() {\n    var _shapeAttribute$scale;\n    if (this.layerType) {\n      return this.layerType;\n    }\n    const shapeAttribute = this.styleAttributeService.getLayerStyleAttribute('shape');\n    const shape = shapeAttribute === null || shapeAttribute === void 0 || (_shapeAttribute$scale = shapeAttribute.scale) === null || _shapeAttribute$scale === void 0 ? void 0 : _shapeAttribute$scale.field;\n    return shape || 'line';\n  }\n  processData(filterData) {\n    // simple line 在接受 multiPolygon 的数据进行绘制的时候需要对数据进行拆解\n    if (this.getModelType() !== 'simple') {\n      return filterData;\n    }\n    const dataArray = [];\n    filterData.map(data => {\n      if (Array.isArray(data.coordinates) && Array.isArray(data.coordinates[0]) && Array.isArray(data.coordinates[0][0])) {\n        const object = _objectSpread({}, data);\n        data.coordinates.map(d => {\n          dataArray.push(_objectSpread(_objectSpread({}, object), {}, {\n            coordinates: d\n          }));\n        });\n      } else {\n        dataArray.push(data);\n      }\n    });\n    return dataArray;\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { rgb2arr } from '@antv/l7-utils';\n/* babel-plugin-inline-import '../shaders/billboard/billboard_point_frag.glsl' */\nconst simplePointFrag = \"\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_stroke_color;\\n  float u_additive;\\n  float u_stroke_opacity;\\n  float u_stroke_width;\\n};\\n\\nin vec4 v_color;\\nin float v_blur;\\nin float v_innerRadius;\\n\\nout vec4 outputColor;\\n\\n#pragma include \\\"picking\\\"\\nvoid main() {\\n  vec2 center = vec2(0.5);\\n\\n  // Tip: \\u7247\\u5143\\u5230\\u4E2D\\u5FC3\\u70B9\\u7684\\u8DDD\\u79BB 0 - 1\\n  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;\\n  // Tip: \\u7247\\u5143\\u7684\\u526A\\u5207\\u6210\\u5706\\u5F62\\n  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);\\n\\n\\n  if(v_innerRadius < 0.99) {\\n    // \\u5F53\\u5B58\\u5728 stroke \\u4E14 stroke > 0.01\\n    float blurWidth = (1.0 - v_blur)/2.0;\\n    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);\\n    if(fragmengTocenter > v_innerRadius + blurWidth) {\\n      outputColor = stroke;\\n    } else if(fragmengTocenter > v_innerRadius - blurWidth){\\n      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);\\n      outputColor = mix(v_color, stroke, mixR);\\n    } else {\\n      outputColor = v_color;\\n    }\\n  } else {\\n    // \\u5F53\\u4E0D\\u5B58\\u5728 stroke \\u6216 stroke <= 0.01\\n    outputColor = v_color;\\n  }\\n\\n  outputColor = filterColor(outputColor);\\n  \\n  if(u_additive > 0.0) {\\n    outputColor *= circleClipOpacity;\\n  } else {\\n    outputColor.a *= circleClipOpacity;\\n  }\\n\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/billboard/billboard_point_vert.glsl' */\nconst simplePointVert = \"\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_stroke_color;\\n  float u_additive;\\n  float u_stroke_opacity;\\n  float u_stroke_width;\\n};\\n\\nout vec4 v_color;\\nout float v_blur;\\nout float v_innerRadius;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n#pragma include \\\"project\\\"\\nvoid main() {\\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\\n  v_blur = 1.0 - max(2.0 / a_Size, 0.05);\\n  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);\\n\\n  vec2 offset = project_pixel(u_offsets);\\n\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\n\\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport function PointTriangulation(feature) {\n  const coordinates = feature.coordinates;\n  return {\n    vertices: [...coordinates],\n    indices: [0],\n    size: coordinates.length\n  };\n}\nexport default class SimplePointModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9\n    });\n  }\n  getDefaultStyle() {\n    return {\n      blend: 'additive'\n    };\n  }\n  getCommonUniformsInfo() {\n    const {\n      blend,\n      strokeOpacity = 1,\n      strokeWidth = 0,\n      stroke = '#fff'\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_stroke_color: rgb2arr(stroke),\n      u_additive: blend === 'additive' ? 1.0 : 0.0,\n      u_stroke_opacity: strokeOpacity,\n      u_stroke_width: strokeWidth\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.layer.triangulation = PointTriangulation;\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'pointSimple',\n        vertexShader: simplePointVert,\n        fragmentShader: simplePointFrag,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation: PointTriangulation,\n        depth: {\n          enable: false\n        },\n        primitive: gl.POINTS\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 22 层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { calculateCentroid, lodashUtil, rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { PointExtrudeTriangulation } from \"../../core/triangulation\";\nimport { lglt2xyz } from \"../../earth/utils\";\n/* babel-plugin-inline-import '../shaders/earthExtrude/earthExtrude_frag.glsl' */\nconst pointExtrudeFrag = \"precision highp float;\\nin vec4 v_color;\\n\\n#pragma include \\\"picking\\\"\\n\\nlayout(std140) uniform commonUniform {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_linearColor: 0;\\n  float u_heightfixed: 0.0; // \\u9ED8\\u8BA4\\u4E0D\\u56FA\\u5B9A\\n  float u_globel;\\n  float u_r;\\n  float u_pickLight: 0.0;\\n  float u_opacitylinear: 0.0;\\n  float u_opacitylinear_dir: 1.0;\\n  float u_lightEnable: 1.0;\\n};\\nin float v_lightWeight;\\nin float v_barLinearZ;\\nout vec4 outputColor;\\nvoid main() {\\n\\n   outputColor = v_color;\\n\\n  // \\u5F00\\u542F\\u900F\\u660E\\u5EA6\\u6E10\\u53D8\\n  if(u_opacitylinear > 0.0) {\\n    outputColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_barLinearZ): v_barLinearZ;\\n  }\\n\\n  // picking\\n  if(u_pickLight > 0.0) {\\n    outputColor = filterColorAlpha(outputColor, v_lightWeight);\\n  } else {\\n    outputColor = filterColor(outputColor);\\n  }\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/earthExtrude/earthExtrude_vert.glsl' */\nconst pointExtrudeVert = \"precision highp float;\\n\\n#define pi 3.1415926535\\n#define ambientRatio 0.5\\n#define diffuseRatio 0.3\\n#define specularRatio 0.2\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\n\\nlayout(std140) uniform commonUniform {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_linearColor: 0;\\n  float u_heightfixed: 0.0; // \\u9ED8\\u8BA4\\u4E0D\\u56FA\\u5B9A\\n  float u_globel;\\n  float u_r;\\n  float u_pickLight: 0.0;\\n  float u_opacitylinear: 0.0;\\n  float u_opacitylinear_dir: 1.0;\\n  float u_lightEnable: 1.0;\\n};\\n\\nout vec4 v_color;\\nout float v_lightWeight;\\nout float v_barLinearZ;\\n// \\u7528\\u4E8E\\u5C06\\u5728\\u9876\\u70B9\\u7740\\u8272\\u5668\\u4E2D\\u8BA1\\u7B97\\u597D\\u7684\\u6837\\u5F0F\\u503C\\u4F20\\u9012\\u7ED9\\u7247\\u5143\\n\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\nfloat getYRadian(float x, float z) {\\n  if(x > 0.0 && z > 0.0) {\\n    return atan(x/z);\\n  } else if(x > 0.0 && z <= 0.0){\\n    return atan(-z/x) + pi/2.0;\\n  } else if(x <= 0.0 && z <= 0.0) {\\n    return  pi + atan(x/z); //atan(x/z) +\\n  } else {\\n    return atan(z/-x) + pi*3.0/2.0;\\n  }\\n}\\n\\nfloat getXRadian(float y, float r) {\\n  return atan(y/r);\\n}\\n\\nvoid main() {\\n\\n  // cal style mapping - \\u6570\\u636E\\u7EB9\\u7406\\u6620\\u5C04\\u90E8\\u5206\\u7684\\u8BA1\\u7B97\\n  vec3 size = a_Size * a_Position;\\n\\n  // a_Position.z \\u662F\\u5728\\u6784\\u5EFA\\u7F51\\u683C\\u7684\\u65F6\\u5019\\u4F20\\u5165\\u7684\\u6807\\u51C6\\u503C 0 - 1\\uFF0C\\u5728\\u63D2\\u503C\\u5668\\u63D2\\u503C\\u53EF\\u4EE5\\u83B7\\u53D6 0\\uFF5E1 \\u7EBF\\u6027\\u6E10\\u53D8\\u7684\\u503C\\n  v_barLinearZ =  a_Position.z;\\n\\n  vec3 offset = size; // \\u63A7\\u5236\\u5706\\u67F1\\u4F53\\u7684\\u5927\\u5C0F - \\u4ECE\\u6807\\u51C6\\u5355\\u4F4D\\u5706\\u67F1\\u4F53\\u8FDB\\u884C\\u504F\\u79FB\\n  if(u_heightfixed < 1.0) { // \\u5706\\u67F1\\u4F53\\u4E0D\\u56FA\\u5B9A\\u9AD8\\u5EA6\\n    //\\n  } else {// \\u5706\\u67F1\\u4F53\\u56FA\\u5B9A\\u9AD8\\u5EA6 \\uFF08 \\u5904\\u7406 mapbox \\uFF09\\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\\n      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);\\n    }\\n  }\\n\\n\\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\\n\\n  // u_r \\u63A7\\u5236\\u5706\\u67F1\\u7684\\u751F\\u957F\\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\\n\\n  // \\u5706\\u67F1\\u5149\\u7167\\u6548\\u679C\\n  float lightWeight = 1.0;\\n  if(u_lightEnable > 0.0) { // \\u53D6\\u6D88\\u4E09\\u5143\\u8868\\u8FBE\\u5F0F\\uFF0C\\u589E\\u5F3A\\u5065\\u58EE\\u6027\\n    lightWeight = calc_lighting(pos);\\n  }\\n  v_lightWeight = lightWeight;\\n  // \\u8BBE\\u7F6E\\u5706\\u67F1\\u7684\\u5E95\\u8272\\n  if(u_linearColor == 1.0) { // \\u4F7F\\u7528\\u6E10\\u53D8\\u989C\\u8272\\n    v_color = mix(u_sourceColor, u_targetColor, v_barLinearZ);\\n    v_color.rgb *= lightWeight;\\n  } else { // \\u4F7F\\u7528 color \\u65B9\\u6CD5\\u4F20\\u5165\\u7684\\u989C\\u8272\\n     v_color = a_Color;\\n  }\\n  v_color.a *= u_opacity;\\n\\n\\n  // \\u5728\\u5730\\u7403\\u6A21\\u5F0F\\u4E0B\\uFF0C\\u5C06\\u539F\\u672C\\u5782\\u76F4\\u4E8E xy \\u5E73\\u9762\\u7684\\u5706\\u67F1\\u8C03\\u6574\\u59FF\\u6001\\u5230\\u9002\\u5E94\\u5706\\u7684\\u89D2\\u5EA6\\n  //\\u65CB\\u8F6C\\u77E9\\u9635mx\\uFF0C\\u521B\\u5EFA\\u7ED5x\\u8F74\\u65CB\\u8F6C\\u77E9\\u9635\\n  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);\\n  float xRadian = getXRadian(a_Pos.y, r);\\n  float xcos = cos(xRadian);//\\u6C42\\u89E3\\u65CB\\u8F6C\\u89D2\\u5EA6\\u4F59\\u5F26\\u503C\\n  float xsin = sin(xRadian);//\\u6C42\\u89E3\\u65CB\\u8F6C\\u89D2\\u5EA6\\u6B63\\u5F26\\u503C\\n  mat4 mx = mat4(\\n    1,0,0,0,\\n    0,xcos,-xsin,0,\\n    0,xsin,xcos,0,\\n    0,0,0,1);\\n\\n  //\\u65CB\\u8F6C\\u77E9\\u9635my\\uFF0C\\u521B\\u5EFA\\u7ED5y\\u8F74\\u65CB\\u8F6C\\u77E9\\u9635\\n  float yRadian = getYRadian(a_Pos.x, a_Pos.z);\\n  float ycos = cos(yRadian);//\\u6C42\\u89E3\\u65CB\\u8F6C\\u89D2\\u5EA6\\u4F59\\u5F26\\u503C\\n  float ysin = sin(yRadian);//\\u6C42\\u89E3\\u65CB\\u8F6C\\u89D2\\u5EA6\\u6B63\\u5F26\\u503C\\n  mat4 my = mat4(\\n    ycos,0,-ysin,0,\\n    0,1,0,0,\\n    ysin,0,ycos,0,\\n    0,0,0,1);\\n\\n  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);\\n\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nconst {\n  isNumber\n} = lodashUtil;\nexport default class ExtrudeModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"raiseCount\", 0);\n    _defineProperty(this, \"raiseRepeat\", 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      POS: 10,\n      NORMAL: 11\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      animateOption = {\n        enable: false,\n        speed: 0.01,\n        repeat: false\n      },\n      opacity = 1,\n      sourceColor,\n      targetColor,\n      pickLight = false,\n      heightfixed = true,\n      opacityLinear = {\n        enable: false,\n        dir: 'up'\n      },\n      lightEnable = true\n    } = this.layer.getLayerConfig();\n\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [0, 0, 0, 0];\n    let targetColorArr = [0, 0, 0, 0];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    if (this.raiseCount < 1 && this.raiseRepeat > 0) {\n      if (animateOption.enable) {\n        const {\n          speed = 0.01\n        } = animateOption;\n        this.raiseCount += speed;\n        if (this.raiseCount >= 1) {\n          if (this.raiseRepeat > 1) {\n            this.raiseCount = 0;\n            this.raiseRepeat--;\n          } else {\n            this.raiseCount = 1;\n          }\n        }\n      }\n    }\n    const commonOptions = {\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      // 渐变色支持参数\n      u_linearColor: useLinearColor,\n      // 圆柱体的拾取高亮是否要计算光照\n      u_pickLight: Number(pickLight),\n      // 圆柱体是否固定高度\n      u_heightfixed: Number(heightfixed),\n      u_r: animateOption.enable && this.raiseRepeat > 0 ? this.raiseCount : 1.0,\n      u_opacity: isNumber(opacity) ? opacity : 1.0,\n      // 透明度渐变\n      u_opacitylinear: Number(opacityLinear.enable),\n      u_opacitylinear_dir: opacityLinear.dir === 'up' ? 1.0 : 0.0,\n      // 光照计算开关\n      u_lightEnable: Number(lightEnable)\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        animateOption: {\n          repeat = 1\n        }\n      } = _this2.layer.getLayerConfig();\n      _this2.raiseRepeat = repeat;\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'pointEarthExtrude',\n        vertexShader: pointExtrudeVert,\n        fragmentShader: pointExtrudeFrag,\n        triangulation: PointExtrudeTriangulation,\n        depth: {\n          enable: true\n        },\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        cull: {\n          enable: true,\n          face: gl.FRONT\n        },\n        blend: _this2.getBlend()\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: feature => {\n          const {\n            size\n          } = feature;\n          if (size) {\n            let buffersize = [];\n            if (Array.isArray(size)) {\n              buffersize = size.length === 2 ? [size[0], size[0], size[1]] : size;\n            }\n            if (!Array.isArray(size)) {\n              buffersize = [size, size, size];\n            }\n            return buffersize;\n          } else {\n            return [2, 2, 2];\n          }\n        }\n      }\n    });\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'pos',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Pos',\n        shaderLocation: this.attributeLocation.POS,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: feature => {\n          const coordinates = calculateCentroid(feature.coordinates);\n          return lglt2xyz([coordinates[0], coordinates[1]]);\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { GlobelPointFillTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/earthFill/earthFill_frag.glsl' */\nconst pointFillFrag = \"in vec4 v_data;\\nin vec4 v_color;\\nin float v_radius;\\n\\nlayout(std140) uniform commonUniform {\\n  float u_additive;\\n  float u_stroke_opacity : 1;\\n  float u_stroke_width : 2;\\n  float u_blur : 0.0;\\n};\\n#pragma include \\\"sdf_2d\\\"\\n#pragma include \\\"picking\\\"\\n\\nout vec4 outputColor;\\n\\nvoid main() {\\n  int shape = int(floor(v_data.w + 0.5));\\n\\n  vec4 strokeColor = u_stroke == vec4(0.0) ? v_color : u_stroke;\\n\\n  lowp float antialiasblur = v_data.z;\\n  float r = v_radius / (v_radius + u_stroke_width);\\n\\n  float outer_df;\\n  float inner_df;\\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\\n  if (shape == 0) {\\n    outer_df = sdCircle(v_data.xy, 1.0);\\n    inner_df = sdCircle(v_data.xy, r);\\n  } else if (shape == 1) {\\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\\n  } else if (shape == 2) {\\n    outer_df = sdBox(v_data.xy, vec2(1.));\\n    inner_df = sdBox(v_data.xy, vec2(r));\\n  } else if (shape == 3) {\\n    outer_df = sdPentagon(v_data.xy, 0.8);\\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\\n  } else if (shape == 4) {\\n    outer_df = sdHexagon(v_data.xy, 0.8);\\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\\n  } else if (shape == 5) {\\n    outer_df = sdOctogon(v_data.xy, 1.0);\\n    inner_df = sdOctogon(v_data.xy, r);\\n  } else if (shape == 6) {\\n    outer_df = sdHexagram(v_data.xy, 0.52);\\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\\n  } else if (shape == 7) {\\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\\n    inner_df = sdRhombus(v_data.xy, vec2(r));\\n  } else if (shape == 8) {\\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\\n  }\\n\\n  if(outer_df > antialiasblur + 0.018) discard;\\n\\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\\n\\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\\n    antialiasblur,\\n    0.0,\\n    inner_df\\n  );\\n\\n  if(u_stroke_width < 0.01) {\\n    outputColor = vec4(v_color.rgb, v_color.a * u_opacity);\\n  } else {\\n    outputColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\\n  }\\n\\n  if(u_additive > 0.0) {\\n    outputColor *= opacity_t;\\n    outputColor = filterColorAlpha(outputColor, outputColor.a);\\n  } else {\\n    outputColor.a *= opacity_t;\\n    outputColor = filterColor(outputColor);\\n  }\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/earthFill/earthFill_vert.glsl' */\nconst pointFillVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;\\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\\n\\nlayout(std140) uniform commonUniform {\\n  float u_additive;\\n  float u_stroke_opacity : 1;\\n  float u_stroke_width : 2;\\n  float u_blur : 0.0;\\n};\\nout vec4 v_data;\\nout vec4 v_color;\\nout float v_radius;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n\\n\\nvoid main() {\\n  vec3 extrude = a_Extrude;\\n  float shape_type = a_Shape;\\n  /*\\n  *  setPickingSize \\u8BBE\\u7F6E\\u62FE\\u53D6\\u5927\\u5C0F\\n  */\\n  float newSize = setPickingSize(a_Size);\\n  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;\\n\\n  // unpack color(vec2)\\n  v_color = a_Color;\\n\\n  // radius(16-bit)\\n  v_radius = newSize;\\n\\n  // anti-alias\\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);\\n\\n  // TODP: /abs(extrude.x) \\u662F\\u4E3A\\u4E86\\u517C\\u5BB9\\u5730\\u7403\\u6A21\\u5F0F\\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\\n\\n  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1 + vec3(u_offsets,0.0), 1.0);\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nimport { mat4, vec3 } from 'gl-matrix';\nexport default class FillModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      SHAPE: 10,\n      EXTRUDE: 11\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      strokeOpacity = 1,\n      strokeWidth = 0,\n      // offsets = [0, 0],\n      blend,\n      blur = 0\n    } = this.layer.getLayerConfig();\n    this.layer.getLayerConfig();\n    const commonOptions = {\n      u_additive: blend === 'additive' ? 1.0 : 0.0,\n      u_stroke_opacity: strokeOpacity,\n      u_stroke_width: strokeWidth,\n      u_blur: blur\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.layer.triangulation = GlobelPointFillTriangulation;\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'pointEarthFill',\n        vertexShader: pointFillVert,\n        fragmentShader: pointFillFrag,\n        triangulation: GlobelPointFillTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        depth: {\n          enable: true\n        },\n        blend: _this2.getBlend()\n      });\n      return [model];\n    })();\n  }\n\n  // overwrite baseModel func\n  animateOption2Array(option) {\n    return [option.enable ? 0 : 1.0, option.speed || 1, option.rings || 3, 0];\n  }\n  registerBuiltinAttributes() {\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'extrude',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Extrude',\n        shaderLocation: this.attributeLocation.EXTRUDE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx) => {\n          const [x, y, z] = vertex;\n          const n1 = vec3.fromValues(0, 0, 1);\n          const n2 = vec3.fromValues(x, 0, z);\n          const xzReg = x >= 0 ? vec3.angle(n1, n2) : Math.PI * 2 - vec3.angle(n1, n2);\n          const yReg = Math.PI * 2 - Math.asin(y / 100);\n          const m = mat4.create();\n          mat4.rotateY(m, m, xzReg);\n          mat4.rotateX(m, m, yReg);\n          const v1 = vec3.fromValues(1, 1, 0);\n          vec3.transformMat4(v1, v1, m);\n          vec3.normalize(v1, v1);\n          const v2 = vec3.fromValues(-1, 1, 0);\n          vec3.transformMat4(v2, v2, m);\n          vec3.normalize(v2, v2);\n          const v3 = vec3.fromValues(-1, -1, 0);\n          vec3.transformMat4(v3, v3, m);\n          vec3.normalize(v3, v3);\n          const v4 = vec3.fromValues(1, -1, 0);\n          vec3.transformMat4(v4, v4, m);\n          vec3.normalize(v4, v4);\n          const extrude = [...v1, ...v2, ...v3, ...v4];\n          const extrudeIndex = attributeIdx % 4 * 3;\n          return [extrude[extrudeIndex], extrude[extrudeIndex + 1], extrude[extrudeIndex + 2]];\n        }\n      }\n    });\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 5\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'shape',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Shape',\n        shaderLocation: this.attributeLocation.SHAPE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            shape = 2\n          } = feature;\n          const shape2d = this.layer.getLayerConfig().shape2d;\n          const shapeIndex = shape2d.indexOf(shape);\n          return [shapeIndex];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { calculateCentroid, fp64LowPart, rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { PointExtrudeTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/extrude/extrude_frag.glsl' */\nconst pointExtrudeFrag = \"\\nin vec4 v_color;\\nin float v_lightWeight;\\nout vec4 outputColor;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_pickLight;\\n  float u_heightfixed;\\n  float u_r;\\n  float u_linearColor;\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_opacitylinear;\\n  float u_opacitylinear_dir;\\n  float u_lightEnable;\\n};\\n\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n\\n  outputColor = v_color;\\n  // \\u5F00\\u542F\\u900F\\u660E\\u5EA6\\u6E10\\u53D8\\n  // picking\\n  if(u_pickLight > 0.0) {\\n    outputColor = filterColorAlpha(outputColor, v_lightWeight);\\n  } else {\\n    outputColor = filterColor(outputColor);\\n  }\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/extrude/extrude_vert.glsl' */\nconst pointExtrudeVert = \"#define pi (3.1415926535)\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec4 a_Extrude;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_pickLight;\\n  float u_heightfixed;\\n  float u_r;\\n  float u_linearColor;\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_opacitylinear;\\n  float u_opacitylinear_dir;\\n  float u_lightEnable;\\n};\\nout vec4 v_color;\\nout float v_lightWeight;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\nfloat getYRadian(float x, float z) {\\n  if (x > 0.0 && z > 0.0) {\\n    return atan(x / z);\\n  } else if (x > 0.0 && z <= 0.0) {\\n    return atan(-z / x) + pi / 2.0;\\n  } else if (x <= 0.0 && z <= 0.0) {\\n    return pi + atan(x / z); //atan(x/z) +\\n  } else {\\n    return atan(z / -x) + pi * 3.0 / 2.0;\\n  }\\n}\\n\\nfloat getXRadian(float y, float r) {\\n  return atan(y / r);\\n}\\n\\nvoid main() {\\n  vec3 size = a_Size * a_Position;\\n\\n  vec3 offset = size; // \\u63A7\\u5236\\u5706\\u67F1\\u4F53\\u7684\\u5927\\u5C0F - \\u4ECE\\u6807\\u51C6\\u5355\\u4F4D\\u5706\\u67F1\\u4F53\\u8FDB\\u884C\\u504F\\u79FB\\n\\n  if (u_heightfixed < 1.0) {\\n    // \\u5706\\u67F1\\u4F53\\u4E0D\\u56FA\\u5B9A\\u9AD8\\u5EA6\\n  } else {\\n    // \\u5706\\u67F1\\u4F53\\u56FA\\u5B9A\\u9AD8\\u5EA6 \\uFF08 \\u5904\\u7406 mapbox \\uFF09\\n    if (\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n    ) {\\n      offset *= 4.0 / pow(2.0, 21.0 - u_Zoom);\\n    }\\n  }\\n\\n  vec2 positions = a_Extrude.xy;\\n  vec2 positions64Low = a_Extrude.zw;\\n  vec4 project_pos = project_position(vec4(positions, 0.0, 1.0), positions64Low);\\n\\n  // u_r \\u63A7\\u5236\\u5706\\u67F1\\u7684\\u751F\\u957F\\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\\n\\n  // // \\u5706\\u67F1\\u5149\\u7167\\u6548\\u679C\\n  float lightWeight = 1.0;\\n\\n  if (u_lightEnable > 0.0) {\\n    // \\u53D6\\u6D88\\u4E09\\u5143\\u8868\\u8FBE\\u5F0F\\uFF0C\\u589E\\u5F3A\\u5065\\u58EE\\u6027\\n    lightWeight = calc_lighting(pos);\\n  }\\n\\n  v_lightWeight = lightWeight;\\n\\n  v_color = a_Color;\\n\\n  // \\u8BBE\\u7F6E\\u5706\\u67F1\\u7684\\u5E95\\u8272\\n  if (u_linearColor == 1.0) {\\n    // \\u4F7F\\u7528\\u6E10\\u53D8\\u989C\\u8272\\n    v_color = mix(u_sourceColor, u_targetColor, a_Position.z);\\n    v_color.a = v_color.a * opacity;\\n  } else {\\n    v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\\n  }\\n\\n  if (u_opacitylinear > 0.0) {\\n    v_color.a *= u_opacitylinear_dir > 0.0 ? 1.0 - a_Position.z : a_Position.z;\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(pos);\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class ExtrudeModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"raiseCount\", 0);\n    _defineProperty(this, \"raiseRepeat\", 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      EXTRUDE: 10,\n      NORMAL: 11\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      animateOption = {\n        enable: false,\n        speed: 0.01,\n        repeat: false\n      },\n      sourceColor,\n      targetColor,\n      pickLight = false,\n      heightfixed = false,\n      opacityLinear = {\n        enable: false,\n        dir: 'up'\n      },\n      lightEnable = true\n    } = this.layer.getLayerConfig();\n\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [0, 0, 0, 0];\n    let targetColorArr = [0, 0, 0, 0];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    if (this.raiseCount < 1 && this.raiseRepeat > 0) {\n      if (animateOption.enable) {\n        const {\n          speed = 0.01\n        } = animateOption;\n        this.raiseCount += speed;\n        if (this.raiseCount >= 1) {\n          if (this.raiseRepeat > 1) {\n            this.raiseCount = 0;\n            this.raiseRepeat--;\n          } else {\n            this.raiseCount = 1;\n          }\n        }\n      }\n    }\n    const commonOptions = {\n      // 圆柱体的拾取高亮是否要计算光照\n      u_pickLight: Number(pickLight),\n      // 圆柱体是否固定高度\n      u_heightfixed: Number(heightfixed),\n      u_r: animateOption.enable && this.raiseRepeat > 0 ? this.raiseCount : 1.0,\n      // 渐变色支持参数\n      u_linearColor: useLinearColor,\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      // 透明度渐变\n      u_opacitylinear: Number(opacityLinear.enable),\n      u_opacitylinear_dir: opacityLinear.dir === 'up' ? 1.0 : 0.0,\n      // 光照计算开关\n      u_lightEnable: Number(lightEnable)\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        depth = true,\n        animateOption: {\n          repeat = 1\n        }\n      } = _this2.layer.getLayerConfig();\n      _this2.raiseRepeat = repeat;\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'pointExtrude',\n        vertexShader: pointExtrudeVert,\n        fragmentShader: pointExtrudeFrag,\n        triangulation: PointExtrudeTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        cull: {\n          enable: true,\n          face: gl.FRONT\n        },\n        depth: {\n          enable: depth\n        }\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: feature => {\n          const {\n            size\n          } = feature;\n          if (size) {\n            let buffersize = [];\n            if (Array.isArray(size)) {\n              buffersize = size.length === 2 ? [size[0], size[0], size[1]] : size;\n            }\n            if (!Array.isArray(size)) {\n              buffersize = [size, size, size];\n            }\n            return buffersize;\n          } else {\n            return [2, 2, 2];\n          }\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'extrude',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Extrude',\n        shaderLocation: this.attributeLocation.EXTRUDE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 4,\n        update: feature => {\n          const coordinates = calculateCentroid(feature.coordinates);\n          // [lng, lat, lowLng, lowLat]\n          // low part for enabled double precision\n          return [coordinates[0], coordinates[1], fp64LowPart(coordinates[0]), fp64LowPart(coordinates[1])];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { PointFillTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/fill/fill_frag.glsl' */\nconst pointFillFrag = \"\\nlayout(std140) uniform commonUniforms {\\n  vec3 u_blur_height_fixed;\\n  float u_stroke_width;\\n  float u_additive;\\n  float u_stroke_opacity;\\n  float u_size_unit;\\n  float u_time;\\n  vec4 u_animate;\\n};\\n\\nin vec4 v_color;\\nin vec4 v_stroke;\\nin vec4 v_data;\\nin float v_radius;\\n\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"sdf_2d\\\"\\n#pragma include \\\"picking\\\"\\n\\nout vec4 outputColor;\\n\\nvoid main() {\\n  int shape = int(floor(v_data.w + 0.5));\\n  lowp float antialiasblur = v_data.z;\\n  float r = v_radius / (v_radius + u_stroke_width);\\n\\n  float outer_df;\\n  float inner_df;\\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\\n  if (shape == 0) {\\n    outer_df = sdCircle(v_data.xy, 1.0);\\n    inner_df = sdCircle(v_data.xy, r);\\n  } else if (shape == 1) {\\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\\n  } else if (shape == 2) {\\n    outer_df = sdBox(v_data.xy, vec2(1.));\\n    inner_df = sdBox(v_data.xy, vec2(r));\\n  } else if (shape == 3) {\\n    outer_df = sdPentagon(v_data.xy, 0.8);\\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\\n  } else if (shape == 4) {\\n    outer_df = sdHexagon(v_data.xy, 0.8);\\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\\n  } else if (shape == 5) {\\n    outer_df = sdOctogon(v_data.xy, 1.0);\\n    inner_df = sdOctogon(v_data.xy, r);\\n  } else if (shape == 6) {\\n    outer_df = sdHexagram(v_data.xy, 0.52);\\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\\n  } else if (shape == 7) {\\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\\n    inner_df = sdRhombus(v_data.xy, vec2(r));\\n  } else if (shape == 8) {\\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\\n  }\\n\\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\\n\\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\\n    antialiasblur,\\n    0.0,\\n    inner_df\\n  );\\n\\n  float PI = 3.14159;\\n  float N_RINGS = 3.0;\\n  float FREQ = 1.0;\\n\\n  if(u_stroke_width < 0.01) {\\n    outputColor = v_color;\\n  } else {\\n    outputColor = mix(v_color, v_stroke * u_stroke_opacity, color_t);\\n  }\\n  float intensity = 1.0;\\n  if(u_time!=-1.0){\\n    //wave\\u76F8\\u5173\\u903B\\u8F91\\n    float d = length(v_data.xy);\\n    if(d > 0.5) {\\n      discard;\\n    }\\n    intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);\\n  }\\n\\n  if(u_additive > 0.0) {\\n    outputColor *= opacity_t;\\n    outputColor *= intensity;//wave\\n    outputColor = filterColorAlpha(outputColor, outputColor.a);\\n  } else {\\n    outputColor.a *= opacity_t;\\n    outputColor.a *= intensity;//wave \\n    outputColor = filterColor(outputColor);\\n  }\\n   // \\u4F5C\\u4E3A mask \\u6A21\\u677F\\u65F6\\u9700\\u8981\\u4E22\\u5F03\\u900F\\u660E\\u7684\\u50CF\\u7D20\\n  if(outputColor.a < 0.01) {\\n    discard;\\n  } \\n}\\n\";\n/* babel-plugin-inline-import '../shaders/fill/fill_vert.glsl' */\nconst pointFillVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;\\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec3 u_blur_height_fixed;\\n  float u_stroke_width;\\n  float u_additive;\\n  float u_stroke_opacity;\\n  float u_size_unit;\\n  float u_time;\\n  vec4 u_animate;\\n};\\n\\nout vec4 v_color;\\nout vec4 v_stroke;\\nout vec4 v_data;\\nout float v_radius;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n#pragma include \\\"rotation_2d\\\"\\n\\nvoid main() {\\n  // \\u900F\\u660E\\u5EA6\\u8BA1\\u7B97\\n   v_stroke = stroke;\\n  vec3 extrude = a_Extrude;\\n  float shape_type = a_Shape;\\n  /*\\n  *  setPickingSize \\u8BBE\\u7F6E\\u62FE\\u53D6\\u5927\\u5C0F\\n  *  u_meter2coord \\u5728\\u7B49\\u9762\\u79EF\\u5927\\u5C0F\\u7684\\u65F6\\u5019\\u8BBE\\u7F6E\\u5355\\u4F4D\\n  */\\n  float newSize = setPickingSize(a_Size);\\n  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;\\n\\n\\n\\n  // unpack color(vec2)\\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\\n\\n  if(u_size_unit == 1.0) {\\n    newSize = newSize  * u_PixelsPerMeter.z;\\n  }\\n\\n   v_radius = newSize;\\n\\n  // anti-alias\\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur_height_fixed.x);\\n\\n  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + u_offsets);\\n\\n  offset = project_pixel(offset);\\n  offset = rotate_matrix(offset,rotation);\\n\\n  // TODP: /abs(extrude.x) \\u662F\\u4E3A\\u4E86\\u517C\\u5BB9\\u5730\\u7403\\u6A21\\u5F0F\\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\\n\\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\\n\\n  float raisingHeight = u_blur_height_fixed.y;\\n\\n  if(u_blur_height_fixed.z < 1.0) { // false\\n    raisingHeight = project_pixel(u_blur_height_fixed.y);\\n  } else {\\n     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\\n      raisingHeight = u_blur_height_fixed.y * mapboxZoomScale;\\n    }\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nimport { SizeUnitType } from \"../../core/interface\";\nexport default class FillModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      SHAPE: 10,\n      EXTRUDE: 11\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      strokeOpacity = 1,\n      strokeWidth = 0,\n      blend,\n      blur = 0,\n      raisingHeight = 0,\n      heightfixed = false,\n      unit = 'pixel'\n    } = this.layer.getLayerConfig();\n    let u_time = this.getAnimateUniforms().u_time;\n    if (isNaN(u_time)) {\n      u_time = -1.0;\n    }\n    const commonOptions = {\n      u_blur_height_fixed: [blur, Number(raisingHeight), Number(heightfixed)],\n      u_stroke_width: strokeWidth,\n      u_additive: blend === 'additive' ? 1.0 : 0.0,\n      u_stroke_opacity: strokeOpacity,\n      u_size_unit: SizeUnitType[unit],\n      u_time,\n      u_animate: this.getAnimateUniforms().u_animate\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  getAnimateUniforms() {\n    const {\n      animateOption = {\n        enable: false\n      }\n    } = this.layer.getLayerConfig();\n    return {\n      u_animate: this.animateOption2Array(animateOption),\n      u_time: this.layer.getLayerAnimateTime()\n    };\n  }\n  getAttribute() {\n    return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(), PointFillTriangulation);\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        frag,\n        vert,\n        type\n      } = _this2.getShaders();\n      _this2.layer.triangulation = PointFillTriangulation;\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: type,\n        vertexShader: vert,\n        fragmentShader: frag,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation: PointFillTriangulation,\n        depth: {\n          enable: false\n        }\n      });\n      return [model];\n    })();\n  }\n\n  /**\n   * 根据 animateOption 的值返回对应的 shader 代码\n   * @returns\n   */\n  getShaders() {\n    return {\n      frag: pointFillFrag,\n      vert: pointFillVert,\n      type: 'pointFill'\n    };\n  }\n\n  // overwrite baseModel func\n  animateOption2Array(option) {\n    return [option.enable ? 0 : 1.0, option.speed || 1, option.rings || 3, 0];\n  }\n  registerBuiltinAttributes() {\n    // 注册 Style 参与数据映射的内置属性\n    const shape2d = this.layer.getLayerConfig().shape2d;\n\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'extrude',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Extrude',\n        shaderLocation: this.attributeLocation.EXTRUDE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx) => {\n          const extrude = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0];\n          const extrudeIndex = attributeIdx % 4 * 3;\n          return [extrude[extrudeIndex], extrude[extrudeIndex + 1], extrude[extrudeIndex + 2]];\n        }\n      }\n    });\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 5\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n\n    // point layer shape;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'shape',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Shape',\n        shaderLocation: this.attributeLocation.SHAPE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            shape = 2\n          } = feature;\n          const shapeIndex = shape2d.indexOf(shape);\n          return [shapeIndex];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { SizeUnitType } from \"../../core/interface\";\nimport { PointFillTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/fillImage/fillImage_frag.glsl' */\nconst pointFillFrag = \"in vec2 v_uv;// \\u672C\\u8EAB\\u7684 uv \\u5750\\u6807\\nin vec2 v_Iconuv;\\nin float v_opacity;\\nout vec4 outputColor;\\n\\nuniform sampler2D u_texture;\\nlayout(std140) uniform commonUniform {\\n  vec2 u_textSize;\\n  float u_heightfixed: 0.0;\\n  float u_raisingHeight: 0.0;\\n  float u_size_unit;\\n};\\n\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"sdf_2d\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;\\n  outputColor = texture(SAMPLER_2D(u_texture), pos);\\n  outputColor.a *= v_opacity;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/fillImage/fillImage_vert.glsl' */\nconst pointFillVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniform {\\n  vec2 u_textSize;\\n  float u_heightfixed;\\n  float u_raisingHeight;\\n  float u_size_unit;\\n};\\n\\nout vec2 v_uv;\\nout vec2 v_Iconuv;\\nout float v_opacity;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n#pragma include \\\"rotation_2d\\\"\\n\\nvoid main() {\\n  vec3 extrude = a_Extrude;\\n  v_uv = (a_Extrude.xy + 1.0) / 2.0;\\n  v_uv.y = 1.0 - v_uv.y;\\n  v_Iconuv = a_Uv;\\n  v_opacity = opacity;\\n  float newSize = a_Size;\\n  if (u_size_unit == 1.0) {\\n    newSize = newSize * u_PixelsPerMeter.z;\\n  }\\n\\n  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);\\n  vec2 offset = extrude.xy * newSize + offsets;\\n\\n  offset = rotate_matrix(offset, rotation);\\n\\n  offset = project_pixel(offset);\\n\\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class FillImageModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"meter2coord\", 1);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"isMeter\", false);\n    _defineProperty(this, \"radian\", 0);\n    _defineProperty(this, \"updateTexture\", () => {\n      const {\n        createTexture2D\n      } = this.rendererService;\n      if (this.texture) {\n        this.texture.update({\n          data: this.iconService.getCanvas(),\n          mag: 'linear',\n          min: 'linear mipmap nearest',\n          mipmap: true\n        });\n        // 更新完纹理后在更新的图层的时候需要更新所有的图层\n        this.layerService.throttleRenderLayers();\n        return;\n      }\n      this.texture = createTexture2D({\n        data: this.iconService.getCanvas(),\n        mag: gl.LINEAR,\n        min: gl.LINEAR_MIPMAP_LINEAR,\n        premultiplyAlpha: false,\n        width: 1024,\n        height: this.iconService.canvasHeight || 128,\n        mipmap: true\n      });\n      this.textures = [this.texture];\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      EXTRUDE: 10,\n      UV: 11\n    });\n  }\n  // 旋转的弧度\n  getCommonUniformsInfo() {\n    const {\n      raisingHeight = 0.0,\n      heightfixed = false,\n      unit = 'pixel'\n    } = this.layer.getLayerConfig();\n    if (this.rendererService.getDirty()) {\n      var _this$texture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.bind();\n    }\n    const commonOptions = {\n      u_textSize: [1024, this.iconService.canvasHeight || 128],\n      u_heightfixed: Number(heightfixed),\n      u_raisingHeight: Number(raisingHeight),\n      u_size_unit: SizeUnitType[unit]\n    }; //2+1+1+1\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  getAttribute() {\n    return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(), PointFillTriangulation);\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.iconService.on('imageUpdate', _this.updateTexture);\n      _this.updateTexture();\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'pointFillImage',\n        vertexShader: pointFillVert,\n        fragmentShader: pointFillFrag,\n        triangulation: PointFillTriangulation,\n        depth: {\n          enable: false\n        },\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        cull: {\n          enable: true,\n          face: gl.FRONT\n        }\n      });\n      return [model];\n    })();\n  }\n  clearModels() {\n    var _this$texture2;\n    this.iconService.off('imageUpdate', this.updateTexture);\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n  }\n\n  // overwrite baseModel func\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const iconMap = this.iconService.getIconMap();\n          const {\n            shape\n          } = feature;\n          const {\n            x,\n            y\n          } = iconMap[shape] || {\n            x: -64,\n            y: -64\n          };\n          return [x, y];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'extrude',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Extrude',\n        shaderLocation: this.attributeLocation.EXTRUDE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx) => {\n          const extrude = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0];\n          const extrudeIndex = attributeIdx % 4 * 3;\n          return [extrude[extrudeIndex], extrude[extrudeIndex + 1], extrude[extrudeIndex + 2]];\n        }\n      }\n    });\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 5\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { PointImageTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/image/image_frag.glsl' */\nconst pointImageFrag = \"layout(std140) uniform commonUniforms {\\n  vec2 u_textSize;\\n  float u_raisingHeight;\\n  float u_heightfixed;\\n};\\n\\nuniform sampler2D u_texture;\\n\\nin vec4 v_color;\\nin vec2 v_uv;\\nin float v_opacity;\\n\\n#pragma include \\\"picking\\\"\\n\\nout vec4 outputColor;\\n\\nvoid main(){\\n  vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\\n  vec4 textureColor;\\n\\n  // Y = 0.299R + 0.587G + 0.114B // \\u4EAE\\u5EA6\\u63D0\\u53D6\\n  \\n  textureColor = texture(SAMPLER_2D(u_texture), pos);\\n\\n  // Tip: \\u53BB\\u9664\\u8FB9\\u7F18\\u90E8\\u5206 mipmap \\u5BFC\\u81F4\\u7684\\u6DF7\\u5408\\u53D8\\u6697\\n  float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);\\n  if(fragmengTocenter >= 0.5) {\\n        float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;\\n        textureColor.a *= luma;\\n  }\\n  \\n  if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\\n        outputColor= textureColor;\\n  }else {\\n        outputColor= step(0.01, textureColor.z) * v_color;\\n  }\\n  outputColor.a *= v_opacity;\\n  if (outputColor.a < 0.01) {\\n      discard;\\n  }\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/image/image_vert.glsl' */\nconst pointImageVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec2 u_textSize;\\n  float u_raisingHeight;\\n  float u_heightfixed;\\n};\\n\\nout vec4 v_color;\\nout vec2 v_uv;\\nout float v_opacity;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  // cal style mapping - \\u6570\\u636E\\u7EB9\\u7406\\u6620\\u5C04\\u90E8\\u5206\\u7684\\u8BA1\\u7B97\\n  v_color = a_Color;\\n  v_opacity = opacity;\\n  v_uv = a_Uv;\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n\\n  vec2 offset = project_pixel(offsets);\\n\\n  float raisingHeight = u_raisingHeight;\\n  if (u_heightfixed < 1.0) {\\n    // false\\n    raisingHeight = project_pixel(u_raisingHeight);\\n  } else {\\n    if (\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n    ) {\\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\\n      raisingHeight = u_raisingHeight * mapboxZoomScale;\\n    }\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));\\n\\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class ImageModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"updateTexture\", () => {\n      const {\n        createTexture2D\n      } = this.rendererService;\n      if (this.texture) {\n        this.texture.update({\n          data: this.iconService.getCanvas(),\n          mag: 'linear',\n          min: 'linear mipmap nearest',\n          mipmap: true\n        });\n        // 更新完纹理后在更新的图层的时候需要更新所有的图层\n        // this.layer.layerModelNeedUpdate = true;\n        setTimeout(() => {\n          // 延迟渲染\n          this.layerService.throttleRenderLayers();\n        });\n        return;\n      }\n      this.texture = createTexture2D({\n        data: this.iconService.getCanvas(),\n        mag: gl.LINEAR,\n        min: gl.LINEAR_MIPMAP_LINEAR,\n        premultiplyAlpha: false,\n        width: 1024,\n        height: this.iconService.canvasHeight || 128,\n        mipmap: true\n      });\n    });\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      UV: 10\n    });\n  }\n  getUninforms() {\n    // ThreeJS 图层兼容\n    if (this.rendererService.getDirty()) {\n      var _this$texture;\n      (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.bind();\n    }\n    const commonInfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commonInfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      raisingHeight = 0,\n      heightfixed = false\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_textSize: [1024, this.iconService.canvasHeight || 128],\n      u_raisingHeight: Number(raisingHeight),\n      u_heightfixed: Number(heightfixed),\n      u_texture: this.texture\n    };\n    this.textures = [this.texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.iconService.on('imageUpdate', _this.updateTexture);\n      _this.updateTexture();\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture2;\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    this.iconService.off('imageUpdate', this.updateTexture);\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'pointImage',\n        vertexShader: pointImageVert,\n        fragmentShader: pointImageFrag,\n        triangulation: PointImageTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        depth: {\n          enable: false\n        },\n        primitive: gl.POINTS\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 5\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n\n    // point layer uv;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: feature => {\n          const iconMap = this.iconService.getIconMap();\n          const {\n            shape\n          } = feature;\n          const {\n            x,\n            y\n          } = iconMap[shape] || {\n            x: -64,\n            y: -64\n          }; // 非画布区域，默认的图标改为透明\n          return [x, y];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\n/* babel-plugin-inline-import '../shaders/normal/normal_frag.glsl' */\nconst normalFrag = \"in vec4 v_color;\\nout vec4 outputColor;\\nvoid main() {\\n  outputColor = v_color;\\n}\";\n/* babel-plugin-inline-import '../shaders/normal/normal_vert.glsl' */\nconst normalVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\n\\nlayout(std140) uniform u_Common {\\n  float u_size_scale;\\n};\\n\\nout vec4 v_color;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"project\\\"\\n\\nvoid main() {\\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\\n\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n  gl_Position = project_common_position_to_clipspace(project_pos);\\n\\n  gl_PointSize = a_Size * u_size_scale * 2.0 * u_DevicePixelRatio;\\n}\\n\";\nexport function PointTriangulation(feature) {\n  const coordinates = feature.coordinates;\n  return {\n    vertices: [...coordinates],\n    indices: [0],\n    size: coordinates.length\n  };\n}\nexport default class NormalModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9\n    });\n  }\n  getDefaultStyle() {\n    return {\n      blend: 'additive'\n    };\n  }\n  getCommonUniformsInfo() {\n    const commonOptions = {\n      u_size_scale: 0.5\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.layer.triangulation = PointTriangulation;\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'pointNormal',\n        vertexShader: normalVert,\n        fragmentShader: normalFrag,\n        triangulation: PointTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        depth: {\n          enable: false\n        },\n        primitive: gl.POINTS,\n        pick: false\n      });\n      return [model];\n    })();\n  }\n  clearModels() {\n    return;\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 1\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { SizeUnitType } from \"../../core/interface\";\nimport { PointFillTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/radar/radar_frag.glsl' */\nconst pointFillFrag = \"\\nlayout(std140) uniform commonUniorm{\\n  float u_additive;\\n  float u_size_unit;\\n  float u_speed: 1.0;\\n  float u_time;\\n};\\nin vec4 v_data;\\nin vec4 v_color;\\nin float v_radius;\\nin vec2 v_extrude;\\n#pragma include \\\"sdf_2d\\\"\\n#pragma include \\\"picking\\\"\\n\\nout vec4 outputColor;\\n\\nvoid main() {\\n\\n  lowp float antialiasblur = v_data.z;\\n  float r = v_radius / (v_radius);\\n\\n  float outer_df = sdCircle(v_data.xy, 1.0);\\n  float inner_df = sdCircle(v_data.xy, r);\\n\\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\\n\\n  outputColor = vec4(v_color.rgb, v_color.a);\\n\\n  if(u_additive > 0.0) {\\n    outputColor *= opacity_t;\\n  } else {\\n    outputColor.a *= opacity_t;\\n  }\\n\\n  if(outputColor.a > 0.0) {\\n    outputColor = filterColor(outputColor);\\n  }\\n\\n  vec2 extrude =  v_extrude;\\n  vec2 dir = normalize(extrude);\\n  vec2 baseDir = vec2(1.0, 0.0);\\n  float pi = 3.14159265359;\\n  float flag = sign(dir.y);\\n  float rades = dot(dir, baseDir);\\n  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;\\n  // simple AA\\n  if(radar_v > 0.99) {\\n    radar_v = 1.0 - (radar_v - 0.99)/0.01;\\n  }\\n\\n  outputColor.a *= radar_v;\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/radar/radar_vert.glsl' */\nconst pointFillVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\\n\\nlayout(std140) uniform commonUniorm {\\n  float u_additive;\\n  float u_size_unit;\\n  float u_speed: 1.0;\\n  float u_time;\\n};\\n\\nout vec4 v_data;\\nout vec4 v_color;\\nout float v_radius;\\nout vec2 v_extrude;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  float newSize = setPickingSize(a_Size);\\n\\n  float time = u_time * u_speed;\\n  mat2 rotateMatrix = mat2(\\n    cos(time), sin(time),\\n    -sin(time), cos(time)\\n  );\\n  v_extrude = rotateMatrix * a_Extrude.xy;\\n\\n  v_color = a_Color;\\n  v_color.a *= opacity;\\n\\n  float blur = 0.0;\\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);\\n\\n  if(u_size_unit == 1.) {\\n    newSize = newSize  * u_PixelsPerMeter.z;\\n  }\\n  v_radius = newSize;\\n\\n  vec2 offset = (a_Extrude.xy * (newSize));\\n\\n  offset = project_pixel(offset);\\n\\n  v_data = vec4(a_Extrude.x, a_Extrude.y, antialiasblur, -1.0);\\n\\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class RadarModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      EXTRUDE: 10\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      blend,\n      speed = 1,\n      unit = 'pixel'\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_additive: blend === 'additive' ? 1.0 : 0.0,\n      u_size_unit: SizeUnitType[unit],\n      u_speed: speed,\n      u_time: this.layer.getLayerAnimateTime()\n    }; //1+1+1+1\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  getAnimateUniforms() {\n    return {};\n  }\n  getAttribute() {\n    return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(), PointFillTriangulation);\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'pointRadar',\n        vertexShader: pointFillVert,\n        fragmentShader: pointFillFrag,\n        triangulation: PointFillTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        depth: {\n          enable: false\n        }\n      });\n      return [model];\n    })();\n  }\n\n  // overwrite baseModel func\n  animateOption2Array(option) {\n    return [option.enable ? 0 : 1.0, option.speed || 1, option.rings || 3, 0];\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'extrude',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Extrude',\n        shaderLocation: this.attributeLocation.EXTRUDE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx) => {\n          const extrude = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0];\n          const extrudeIndex = attributeIdx % 4 * 3;\n          return [extrude[extrudeIndex], extrude[extrudeIndex + 1], extrude[extrudeIndex + 2]];\n        }\n      }\n    });\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        shaderLocation: this.attributeLocation.SIZE,\n        name: 'a_Size',\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 5\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n  }\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n/**\n * 网格索引，相比 @mapbox/grid-index，在简单计算碰撞检测结果时效率更高\n * @see https://zhuanlan.zhihu.com/p/74373214\n */\nclass GridIndex {\n  constructor(width, height, cellSize) {\n    _defineProperty(this, \"boxCells\", []);\n    _defineProperty(this, \"xCellCount\", void 0);\n    _defineProperty(this, \"yCellCount\", void 0);\n    _defineProperty(this, \"boxKeys\", void 0);\n    _defineProperty(this, \"bboxes\", void 0);\n    _defineProperty(this, \"width\", void 0);\n    _defineProperty(this, \"height\", void 0);\n    _defineProperty(this, \"xScale\", void 0);\n    _defineProperty(this, \"yScale\", void 0);\n    _defineProperty(this, \"boxUid\", void 0);\n    const boxCells = this.boxCells;\n    this.xCellCount = Math.ceil(width / cellSize);\n    this.yCellCount = Math.ceil(height / cellSize);\n    for (let i = 0; i < this.xCellCount * this.yCellCount; i++) {\n      boxCells.push([]);\n    }\n    this.boxKeys = [];\n    this.bboxes = [];\n    this.width = width;\n    this.height = height;\n    this.xScale = this.xCellCount / width;\n    this.yScale = this.yCellCount / height;\n    this.boxUid = 0;\n  }\n  insert(key, x1, y1, x2, y2) {\n    this.forEachCell(x1, y1, x2, y2, this.insertBoxCell, this.boxUid++);\n    this.boxKeys.push(key);\n    this.bboxes.push(x1);\n    this.bboxes.push(y1);\n    this.bboxes.push(x2);\n    this.bboxes.push(y2);\n  }\n  query(x1, y1, x2, y2, predicate) {\n    return this.queryHitTest(x1, y1, x2, y2, false, predicate);\n  }\n  hitTest(x1, y1, x2, y2, predicate) {\n    return this.queryHitTest(x1, y1, x2, y2, true, predicate);\n  }\n  insertBoxCell(x1, y1, x2, y2, cellIndex, uid) {\n    this.boxCells[cellIndex].push(uid);\n  }\n  queryHitTest(x1, y1, x2, y2, hitTest, predicate) {\n    if (x2 < 0 || x1 > this.width || y2 < 0 || y1 > this.height) {\n      return hitTest ? false : [];\n    }\n    const result = [];\n    if (x1 <= 0 && y1 <= 0 && this.width <= x2 && this.height <= y2) {\n      // 这一步是高效的关键，后续精确碰撞检测结果在计算文本可见性时并不需要\n      if (hitTest) {\n        return true;\n      }\n      for (let boxUid = 0; boxUid < this.boxKeys.length; boxUid++) {\n        result.push({\n          key: this.boxKeys[boxUid],\n          x1: this.bboxes[boxUid * 4],\n          y1: this.bboxes[boxUid * 4 + 1],\n          x2: this.bboxes[boxUid * 4 + 2],\n          y2: this.bboxes[boxUid * 4 + 3]\n        });\n      }\n      return predicate ? result.filter(predicate) : result;\n    }\n    const queryArgs = {\n      hitTest,\n      seenUids: {\n        box: {},\n        circle: {}\n      }\n    };\n    this.forEachCell(x1, y1, x2, y2, this.queryCell, result, queryArgs, predicate);\n    return hitTest ? result.length > 0 : result;\n  }\n  queryCell(x1, y1, x2, y2, cellIndex, result, queryArgs, predicate) {\n    const seenUids = queryArgs.seenUids;\n    const boxCell = this.boxCells[cellIndex];\n    if (boxCell !== null) {\n      const bboxes = this.bboxes;\n      for (const boxUid of boxCell) {\n        if (!seenUids.box[boxUid]) {\n          seenUids.box[boxUid] = true;\n          const offset = boxUid * 4;\n          if (x1 <= bboxes[offset + 2] && y1 <= bboxes[offset + 3] && x2 >= bboxes[offset + 0] && y2 >= bboxes[offset + 1] && (!predicate || predicate(this.boxKeys[boxUid]))) {\n            if (queryArgs.hitTest) {\n              result.push(true);\n              return true;\n            }\n            result.push({\n              key: this.boxKeys[boxUid],\n              x1: bboxes[offset],\n              y1: bboxes[offset + 1],\n              x2: bboxes[offset + 2],\n              y2: bboxes[offset + 3]\n            });\n          }\n        }\n      }\n    }\n    return false;\n  }\n  forEachCell(x1, y1, x2, y2, fn, arg1, arg2, predicate) {\n    const cx1 = this.convertToXCellCoord(x1);\n    const cy1 = this.convertToYCellCoord(y1);\n    const cx2 = this.convertToXCellCoord(x2);\n    const cy2 = this.convertToYCellCoord(y2);\n    for (let x = cx1; x <= cx2; x++) {\n      for (let y = cy1; y <= cy2; y++) {\n        const cellIndex = this.xCellCount * y + x;\n        if (fn.call(this, x1, y1, x2, y2, cellIndex, arg1, arg2, predicate)) {\n          return;\n        }\n      }\n    }\n  }\n  convertToXCellCoord(x) {\n    return Math.max(0, Math.min(this.xCellCount - 1, Math.floor(x * this.xScale)));\n  }\n  convertToYCellCoord(y) {\n    return Math.max(0, Math.min(this.yCellCount - 1, Math.floor(y * this.yScale)));\n  }\n}\nexport default GridIndex;", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n// @mapbox/grid-index 并没有类似 hitTest 的单纯获取碰撞检测结果的方法，query 将导致计算大量多余的包围盒结果，因此使用改良版\nimport { mat4, vec4 } from 'gl-matrix';\nimport GridIndex from \"./grid-index\";\n/**\n * 基于网格实现文本避让，大幅提升包围盒碰撞检测效率\n * @see https://zhuanlan.zhihu.com/p/74373214\n */\nexport default class CollisionIndex {\n  constructor(width, height) {\n    _defineProperty(this, \"width\", void 0);\n    _defineProperty(this, \"height\", void 0);\n    _defineProperty(this, \"grid\", void 0);\n    _defineProperty(this, \"viewportPadding\", 100);\n    _defineProperty(this, \"screenRightBoundary\", void 0);\n    _defineProperty(this, \"screenBottomBoundary\", void 0);\n    _defineProperty(this, \"gridRightBoundary\", void 0);\n    _defineProperty(this, \"gridBottomBoundary\", void 0);\n    this.width = width;\n    this.height = height;\n    this.viewportPadding = Math.max(width, height);\n    // 创建网格索引\n    this.grid = new GridIndex(width + this.viewportPadding, height + this.viewportPadding, 25);\n    this.screenRightBoundary = width + this.viewportPadding;\n    this.screenBottomBoundary = height + this.viewportPadding;\n    this.gridRightBoundary = width + 2 * this.viewportPadding;\n    this.gridBottomBoundary = height + 2 * this.viewportPadding;\n  }\n  placeCollisionBox(collisionBox) {\n    // const projectedPoint = this.project(\n    //   mvpMatrix,\n    //   collisionBox.anchorPointX,\n    //   collisionBox.anchorPointY,\n    // );\n\n    const tlX = collisionBox.x1 + collisionBox.anchorPointX + this.viewportPadding;\n    const tlY = collisionBox.y1 + collisionBox.anchorPointY + this.viewportPadding;\n    const brX = collisionBox.x2 + collisionBox.anchorPointX + this.viewportPadding;\n    const brY = collisionBox.y2 + collisionBox.anchorPointY + this.viewportPadding;\n    if (!this.isInsideGrid(tlX, tlY, brX, brY) || this.grid.hitTest(tlX, tlY, brX, brY)) {\n      return {\n        box: []\n      };\n    }\n    return {\n      box: [tlX, tlY, brX, brY]\n    };\n  }\n  insertCollisionBox(box, featureIndex) {\n    const key = {\n      featureIndex\n    };\n    this.grid.insert(key, box[0], box[1], box[2], box[3]);\n  }\n\n  /**\n   * 后续碰撞检测都需要投影到 viewport 坐标系\n   * @param {THREE.Matrix4} mvpMatrix mvp矩阵\n   * @param {number} x P20 平面坐标X\n   * @param {number} y P20 平面坐标Y\n   * @return {Point} projectedPoint\n   */\n  project(mvpMatrix, x, y) {\n    const point = vec4.fromValues(x, y, 0, 1);\n    const out = vec4.create();\n    // @ts-ignore\n    const mat = mat4.fromValues(...mvpMatrix);\n    vec4.transformMat4(out, point, mat);\n    // GL 坐标系[-1, 1] -> viewport 坐标系[width, height]\n    return {\n      x: (out[0] / out[3] + 1) / 2 * this.width + this.viewportPadding,\n      y: (-out[1] / out[3] + 1) / 2 * this.height + this.viewportPadding\n    };\n  }\n\n  /**\n   * 判断包围盒是否在整个网格内，需要加上 buffer\n   * @param {number} x1 x1\n   * @param {number} y1 y1\n   * @param {number} x2 x2\n   * @param {number} y2 y2\n   * @return {Point} isInside\n   */\n  isInsideGrid(x1, y1, x2, y2) {\n    return x2 >= 0 && x1 < this.gridRightBoundary && y2 >= 0 && y1 < this.gridBottomBoundary;\n  }\n}", "/**\n * 返回文本相对锚点位置\n * @param {string} anchor 锚点位置\n * @return {alignment} alignment\n */\nfunction getAnchorAlignment(anchor) {\n  let horizontalAlign = 0.5;\n  let verticalAlign = 0.5;\n  switch (anchor) {\n    case 'right':\n    case 'top-right':\n    case 'bottom-right':\n      horizontalAlign = 1;\n      break;\n    case 'left':\n    case 'top-left':\n    case 'bottom-left':\n      horizontalAlign = 0;\n      break;\n    default:\n      horizontalAlign = 0.5;\n  }\n  switch (anchor) {\n    case 'bottom':\n    case 'bottom-right':\n    case 'bottom-left':\n      verticalAlign = 1;\n      break;\n    case 'top':\n    case 'top-right':\n    case 'top-left':\n      verticalAlign = 0;\n      break;\n    default:\n      verticalAlign = 0.5;\n  }\n  return {\n    horizontalAlign,\n    verticalAlign\n  };\n}\n\n// justify right = 1, left = 0, center = 0.5\nfunction justifyLine(positionedGlyphs, glyphMap, start, end, justify) {\n  if (!justify) {\n    return;\n  }\n  const lastPositionedGlyph = positionedGlyphs[end];\n  const glyph = lastPositionedGlyph.glyph;\n  if (glyph) {\n    const lastAdvance = glyphMap[glyph].advance * lastPositionedGlyph.scale;\n    const lineIndent = (positionedGlyphs[end].x + lastAdvance) * justify;\n    for (let j = start; j <= end; j++) {\n      positionedGlyphs[j].x -= lineIndent;\n    }\n  }\n}\n\n// justify right=1 left=0 center=0.5\n// horizontalAlign right=1 left=0 center=0.5\n// verticalAlign right=1 left=0 center=0.5\nfunction align(positionedGlyphs, justify, horizontalAlign, verticalAlign, maxLineLength, lineHeight, lineCount) {\n  const shiftX = (justify - horizontalAlign) * maxLineLength;\n  const shiftY = (-verticalAlign * lineCount + 0.5) * lineHeight;\n  for (const glyphs of positionedGlyphs) {\n    glyphs.x += shiftX;\n    glyphs.y += shiftY;\n  }\n}\nfunction shapeLines(shaping, glyphMap, lines, lineHeight, textAnchor, textJustify, spacing) {\n  // buffer 为 4\n  const yOffset = -8;\n  let x = 0;\n  let y = yOffset;\n  let maxLineLength = 0;\n  const positionedGlyphs = shaping.positionedGlyphs;\n  const justify = textJustify === 'right' ? 1 : textJustify === 'left' ? 0 : 0.5;\n  const lineStartIndex = positionedGlyphs.length;\n  lines.forEach(line => {\n    line.split('').forEach(char => {\n      const glyph = glyphMap[char];\n      const baselineOffset = 0;\n      if (glyph) {\n        positionedGlyphs.push({\n          glyph: char,\n          x,\n          y: y + baselineOffset,\n          vertical: false,\n          // TODO：目前只支持水平方向\n          scale: 1,\n          metrics: glyph\n        });\n        x += glyph.advance + spacing;\n      }\n    });\n\n    // 左右对齐\n    if (positionedGlyphs.length !== lineStartIndex) {\n      const lineLength = x - spacing;\n      maxLineLength = Math.max(lineLength, maxLineLength);\n      justifyLine(positionedGlyphs, glyphMap, lineStartIndex, positionedGlyphs.length - 1, justify);\n    }\n    x = 0;\n    y -= lineHeight + 5;\n  });\n  const {\n    horizontalAlign,\n    verticalAlign\n  } = getAnchorAlignment(textAnchor);\n  align(positionedGlyphs, justify, horizontalAlign, verticalAlign, maxLineLength, lineHeight, lines.length);\n\n  // 计算包围盒\n  const height = y - yOffset;\n  shaping.top += -verticalAlign * height;\n  shaping.bottom = shaping.top - height;\n  shaping.left += -horizontalAlign * maxLineLength;\n  shaping.right = shaping.left + maxLineLength;\n}\nfunction shapeIconFont(shaping, glyphMap, iconfonts, lineHeight, textAnchor, textJustify, spacing) {\n  // buffer 为 4\n  const yOffset = -8;\n  let x = 0;\n  let y = yOffset;\n  let maxLineLength = 0;\n  const positionedGlyphs = shaping.positionedGlyphs;\n  const justify = textJustify === 'right' ? 1 : textJustify === 'left' ? 0 : 0.5;\n  const lineStartIndex = positionedGlyphs.length;\n  iconfonts.forEach(iconfont => {\n    const glyph = glyphMap[iconfont];\n    const baselineOffset = 0;\n    if (glyph) {\n      positionedGlyphs.push({\n        glyph: iconfont,\n        // x,\n        /**\n         * iconfont\n         * 在计算大小的时候计算的是 unicode 字符 如 &#xe6d4;\n         * 在布局计算 icon 位置的时候应该始终保持居中（且 icon 只占一个字符的位置）\n         */\n        x: glyph.advance / 2,\n        y: y + baselineOffset,\n        vertical: false,\n        // TODO：目前只支持水平方向\n        scale: 1,\n        metrics: glyph\n      });\n      x += glyph.advance + spacing;\n    }\n\n    // 左右对齐\n    if (positionedGlyphs.length !== lineStartIndex) {\n      const lineLength = x - spacing;\n      maxLineLength = Math.max(lineLength, maxLineLength);\n      justifyLine(positionedGlyphs, glyphMap, lineStartIndex, positionedGlyphs.length - 1, justify);\n    }\n    x = 0;\n    y -= lineHeight + 5;\n  });\n  const {\n    horizontalAlign,\n    verticalAlign\n  } = getAnchorAlignment(textAnchor);\n  align(positionedGlyphs, justify, horizontalAlign, verticalAlign, maxLineLength, lineHeight, iconfonts.length);\n\n  // 计算包围盒\n  const height = y - yOffset;\n  shaping.top += -verticalAlign * height;\n  shaping.bottom = shaping.top - height;\n  shaping.left += -horizontalAlign * maxLineLength;\n  shaping.right = shaping.left + maxLineLength;\n}\n\n/**\n * 计算文本中每个独立字符相对锚点的位置\n *\n * @param {string} text 原始文本\n * @param {*} glyphs mapping\n * @param {number} lineHeight 行高\n * @param {string} textAnchor 文本相对于锚点的位置\n * @param {string} textJustify 左右对齐\n * @param {number} spacing 字符间距\n * @param {[number, number]} translate 文本水平 & 垂直偏移量\n * @param {[boolean]} isIconFont 是否是 iconfont\n * @return {boolean|shaping} 每个字符相对于锚点的位置\n */\nexport function shapeText(text, glyphs, lineHeight, textAnchor, textJustify, spacing, translate = [0, 0], isIconFont) {\n  // TODO：处理换行\n  const lines = text.split('\\n');\n  const positionedGlyphs = [];\n  const shaping = {\n    positionedGlyphs,\n    top: translate[1],\n    bottom: translate[1],\n    left: translate[0],\n    right: translate[0],\n    lineCount: lines.length,\n    text\n  };\n  isIconFont ? shapeIconFont(shaping, glyphs, lines, lineHeight, textAnchor, textJustify, spacing) : shapeLines(shaping, glyphs, lines, lineHeight, textAnchor, textJustify, spacing);\n  if (!positionedGlyphs.length) {\n    return false;\n  }\n  return shaping;\n}\nexport function getGlyphQuads(shaping, textOffset = [0, 0], alongLine) {\n  const {\n    positionedGlyphs = []\n  } = shaping;\n  const quads = [];\n  for (const positionedGlyph of positionedGlyphs) {\n    const rect = positionedGlyph.metrics;\n\n    // The rects have an addditional buffer that is not included in their size.\n    const rectBuffer = 4;\n    const halfAdvance = rect.advance * positionedGlyph.scale / 2;\n    const glyphOffset = alongLine ? [positionedGlyph.x + halfAdvance, positionedGlyph.y] : [0, 0];\n    const builtInOffset = alongLine ? [0, 0] : [positionedGlyph.x + halfAdvance + textOffset[0], positionedGlyph.y + textOffset[1]];\n    const x1 = (0 - rectBuffer) * positionedGlyph.scale - halfAdvance + builtInOffset[0];\n    const y1 = (0 - rectBuffer) * positionedGlyph.scale + builtInOffset[1];\n    const x2 = x1 + rect.width * positionedGlyph.scale;\n    const y2 = y1 + rect.height * positionedGlyph.scale;\n    const tl = {\n      x: x1,\n      y: y1\n    };\n    const tr = {\n      x: x2,\n      y: y1\n    };\n    const bl = {\n      x: x1,\n      y: y2\n    };\n    const br = {\n      x: x2,\n      y: y2\n    };\n\n    // TODO：处理字符旋转的情况\n\n    quads.push({\n      tl,\n      tr,\n      bl,\n      br,\n      tex: rect,\n      glyphOffset\n    });\n  }\n  return quads;\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { boundsContains, calculateCentroid, lodashUtil, padBounds, rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport CollisionIndex from \"../../utils/collision-index\";\nimport { getGlyphQuads, shapeText } from \"../../utils/symbol-layout\";\n/* babel-plugin-inline-import '../shaders/text/text_frag.glsl' */\nconst textFrag = \"#define SDF_PX 8.0\\n#define EDGE_GAMMA 0.105\\n#define FONT_SIZE 48.0\\n\\nuniform sampler2D u_sdf_map;\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\\n  vec2 u_sdf_map_size;\\n  float u_raisingHeight: 0.0;\\n  float u_stroke_width : 2;\\n  float u_gamma_scale : 0.5;\\n  float u_halo_blur : 0.5;\\n};\\n\\nin vec2 v_uv;\\nin float v_gamma_scale;\\nin vec4 v_color;\\nin vec4 v_stroke_color;\\nin float v_fontScale;\\n\\nout vec4 outputColor;\\n\\n#pragma include \\\"picking\\\"\\nvoid main() {\\n  // get style data mapping\\n\\n  // get sdf from atlas\\n  float dist = texture(SAMPLER_2D(u_sdf_map), v_uv).a;\\n\\n  lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;\\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\\n\\n  highp float gamma_scaled = gamma * v_gamma_scale;\\n\\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\\n\\n  outputColor = mix(v_color, v_stroke_color, smoothstep(0., 0.5, 1.- dist));\\n\\n  outputColor.a *= alpha;\\n   // \\u4F5C\\u4E3A mask \\u6A21\\u677F\\u65F6\\u9700\\u8981\\u4E22\\u5F03\\u900F\\u660E\\u7684\\u50CF\\u7D20\\n  if (outputColor.a < 0.01) {\\n    discard;\\n  }\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/text/text_vert.glsl' */\nconst textVert = \"#define SDF_PX 8.0\\n#define EDGE_GAMMA 0.105\\n#define FONT_SIZE 24.0\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_TEXT_OFFSETS) in vec2 a_textOffsets;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_tex;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\\n  vec2 u_sdf_map_size;\\n  float u_raisingHeight: 0.0;\\n  float u_stroke_width : 2;\\n  float u_gamma_scale : 0.5;\\n  float u_halo_blur : 0.5;\\n};\\n\\nout vec2 v_uv;\\nout float v_gamma_scale;\\nout vec4 v_color;\\nout vec4 v_stroke_color;\\nout float v_fontScale;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n#pragma include \\\"rotation_2d\\\"\\n\\nvoid main() {\\n  // cal style mapping - \\u6570\\u636E\\u7EB9\\u7406\\u6620\\u5C04\\u90E8\\u5206\\u7684\\u8BA1\\u7B97\\n\\n  v_uv = a_tex / u_sdf_map_size;\\n\\n\\n\\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\\n  v_stroke_color = vec4(u_stroke_color.xyz, u_stroke_color.w * opacity);\\n\\n  // \\u6587\\u672C\\u7F29\\u653E\\u6BD4\\u4F8B\\n  float fontScale = a_Size / FONT_SIZE;\\n  v_fontScale = fontScale;\\n\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n\\n  vec2 offset = rotate_matrix(a_textOffsets,rotation);\\n\\n  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\\n\\n  float raiseHeight = u_raisingHeight;\\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\\n  }\\n\\n  vec4 projected_position = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));\\n\\n  gl_Position = vec4(\\n    projected_position.xy / projected_position.w + offset * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\\n  v_gamma_scale = gl_Position.w;\\n  setPickingColor(a_PickingColor);\\n\\n}\\n\";\nconst {\n  isEqual\n} = lodashUtil;\nexport function TextTrianglation(feature) {\n  // @ts-ignore\n  const that = this;\n  const id = feature.id;\n  const vertices = [];\n  const indices = [];\n  if (!that.glyphInfoMap || !that.glyphInfoMap[id]) {\n    return {\n      vertices: [],\n      // [ x, y, z, tex.x,tex.y, offset.x. offset.y]\n      indices: [],\n      size: 7\n    };\n  }\n  const centroid = that.glyphInfoMap[id].centroid; // 计算中心点\n  const coord = centroid.length === 2 ? [centroid[0], centroid[1], 0] : centroid;\n  that.glyphInfoMap[id].glyphQuads.forEach((quad, index) => {\n    vertices.push(...coord, quad.tex.x, quad.tex.y + quad.tex.height, quad.tl.x, quad.tl.y, ...coord, quad.tex.x + quad.tex.width, quad.tex.y + quad.tex.height, quad.tr.x, quad.tr.y, ...coord, quad.tex.x + quad.tex.width, quad.tex.y, quad.br.x, quad.br.y, ...coord, quad.tex.x, quad.tex.y, quad.bl.x, quad.bl.y);\n    indices.push(0 + index * 4, 1 + index * 4, 2 + index * 4, 2 + index * 4, 3 + index * 4, 0 + index * 4);\n  });\n  return {\n    vertices,\n    // [ x, y, z, tex.x,tex.y, offset.x. offset.y]\n    indices,\n    size: 7\n  };\n}\nexport default class TextModel extends BaseModel {\n  constructor(...args) {\n    var _this;\n    super(...args);\n    _this = this;\n    _defineProperty(this, \"glyphInfo\", void 0);\n    _defineProperty(this, \"glyphInfoMap\", {});\n    _defineProperty(this, \"rawEncodeData\", void 0);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"currentZoom\", -1);\n    _defineProperty(this, \"extent\", void 0);\n    _defineProperty(this, \"textureHeight\", 0);\n    _defineProperty(this, \"textCount\", 0);\n    _defineProperty(this, \"preTextStyle\", {});\n    _defineProperty(this, \"mapping\", /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.initGlyph(); //\n      _this.updateTexture();\n      yield _this.reBuildModel();\n    }));\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      TEXT_OFFSETS: 10,\n      UV: 11\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption), {\n      u_sdf_map: this.textures[0]\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      stroke = '#fff',\n      strokeWidth = 0,\n      halo = 0.5,\n      gamma = 2.0,\n      raisingHeight = 0\n    } = this.layer.getLayerConfig();\n    const mapping = this.getFontServiceMapping();\n    const canvas = this.getFontServiceCanvas();\n    if (mapping && Object.keys(mapping).length !== this.textCount && canvas) {\n      this.updateTexture();\n      this.textCount = Object.keys(mapping).length;\n    }\n    this.preTextStyle = this.getTextStyle();\n    const commonOptions = {\n      u_stroke_color: rgb2arr(stroke),\n      u_sdf_map_size: [(canvas === null || canvas === void 0 ? void 0 : canvas.width) || 1, (canvas === null || canvas === void 0 ? void 0 : canvas.height) || 1],\n      u_raisingHeight: Number(raisingHeight),\n      u_stroke_width: strokeWidth,\n      u_gamma_scale: gamma,\n      u_halo_blur: halo\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      // 绑定事件\n      _this2.bindEvent();\n      _this2.extent = _this2.textExtent();\n      _this2.rawEncodeData = _this2.layer.getEncodedData();\n      _this2.preTextStyle = _this2.getTextStyle();\n      _this2.initUniformsBuffer();\n      return _this2.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        textAllowOverlap = false\n      } = _this3.layer.getLayerConfig();\n\n      //  this.mapping(); 重复调用\n      _this3.initGlyph(); //\n      _this3.updateTexture();\n      if (!textAllowOverlap) {\n        _this3.filterGlyphs();\n      }\n      const model = yield _this3.layer.buildLayerModel({\n        moduleName: 'pointText',\n        vertexShader: textVert,\n        fragmentShader: textFrag,\n        defines: _this3.getDefines(),\n        inject: _this3.getInject(),\n        triangulation: TextTrianglation.bind(_this3),\n        depth: {\n          enable: false\n        }\n      });\n      return [model];\n    })();\n  }\n  // 需要更新的场景\n  // 1. 文本偏移量发生改变\n  // 2. 文本锚点发生改变\n  // 3. 文本允许重叠发生改变\n  // 4. 文本字体发生改变\n  // 5. 文本字体粗细发生改变\n  needUpdate() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        textAllowOverlap = false,\n        textAnchor = 'center',\n        textOffset,\n        padding,\n        fontFamily,\n        fontWeight\n      } = _this4.getTextStyle();\n      if (!isEqual(padding, _this4.preTextStyle.padding) || !isEqual(textOffset, _this4.preTextStyle.textOffset) || !isEqual(textAnchor, _this4.preTextStyle.textAnchor) || !isEqual(fontFamily, _this4.preTextStyle.fontFamily) || !isEqual(fontWeight, _this4.preTextStyle.fontWeight)) {\n        yield _this4.mapping();\n        return true;\n      }\n      if (textAllowOverlap) {\n        // 小于不做避让\n        return false;\n      }\n\n      // textAllowOverlap 发生改变\n      const zoom = _this4.mapService.getZoom();\n      const extent = _this4.mapService.getBounds();\n      const flag = boundsContains(_this4.extent, extent);\n      // 文本不能压盖则进行过滤\n      if (Math.abs(_this4.currentZoom - zoom) > 0.5 || !flag || textAllowOverlap !== _this4.preTextStyle.textAllowOverlap) {\n        // TODO this.mapping 数据未变化，避让\n        yield _this4.reBuildModel();\n        return true;\n      }\n      return false;\n    })();\n  }\n  clearModels() {\n    var _this$texture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n    // TODO this.mapping\n    this.layer.off('remapping', this.mapping);\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 20层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'textOffsets',\n      type: AttributeType.Attribute,\n      descriptor: {\n        shaderLocation: this.attributeLocation.TEXT_OFFSETS,\n        name: 'a_textOffsets',\n        // 文字偏移量\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[5], vertex[6]];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'textUv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_tex',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 12\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n  }\n  bindEvent() {\n    if (!this.layer.isTileLayer) {\n      // 重新绑定\n      this.layer.on('remapping', this.mapping);\n    }\n  }\n  textExtent() {\n    const bounds = this.mapService.getBounds();\n    return padBounds(bounds, 0.5);\n  }\n  /**\n   * 生成文字纹理（生成文字纹理字典）\n   */\n  initTextFont() {\n    const {\n      fontWeight,\n      fontFamily\n    } = this.getTextStyle();\n    const data = this.rawEncodeData;\n    const characterSet = [];\n    data.forEach(item => {\n      let {\n        shape = ''\n      } = item;\n      shape = shape.toString();\n      for (const char of shape) {\n        // 去重\n        if (characterSet.indexOf(char) === -1) {\n          characterSet.push(char);\n        }\n      }\n    });\n    this.fontService.setFontOptions({\n      characterSet,\n      fontWeight,\n      fontFamily,\n      iconfont: false\n    });\n  }\n\n  /**\n   * 生成 iconfont 纹理字典\n   */\n  initIconFontTex() {\n    const {\n      fontWeight,\n      fontFamily\n    } = this.getTextStyle();\n    const data = this.rawEncodeData;\n    const characterSet = [];\n    data.forEach(item => {\n      let {\n        shape = ''\n      } = item;\n      shape = `${shape}`;\n      if (characterSet.indexOf(shape) === -1) {\n        characterSet.push(shape);\n      }\n    });\n    this.fontService.setFontOptions({\n      characterSet,\n      fontWeight,\n      fontFamily,\n      iconfont: true\n    });\n  }\n  getTextStyle() {\n    const {\n      fontWeight = '400',\n      fontFamily = 'sans-serif',\n      textAllowOverlap = false,\n      padding = [0, 0],\n      textAnchor = 'center',\n      textOffset = [0, 0],\n      opacity = 1,\n      strokeOpacity = 1,\n      strokeWidth = 0,\n      stroke = '#000'\n    } = this.layer.getLayerConfig();\n    return {\n      fontWeight,\n      fontFamily,\n      textAllowOverlap,\n      padding,\n      textAnchor,\n      textOffset,\n      opacity,\n      strokeOpacity,\n      strokeWidth,\n      stroke\n    };\n  }\n\n  /**\n   * 生成文字布局（对照文字纹理字典提取对应文字的位置很好信息）\n   */\n  generateGlyphLayout(iconfont) {\n    const mapping = this.getFontServiceMapping();\n    const {\n      spacing = 2,\n      textAnchor = 'center',\n      textOffset\n    } = this.layer.getLayerConfig();\n    const data = this.rawEncodeData;\n    this.glyphInfo = data.map(feature => {\n      const {\n        shape = '',\n        id,\n        size = 1\n      } = feature;\n      const offset = feature.textOffset ? feature.textOffset : textOffset || [0, 0];\n      const anchor = feature.textAnchor ? feature.textAnchor : textAnchor || 'center';\n      const shaping = shapeText(shape.toString(), mapping,\n      // @ts-ignore\n      size, anchor, 'left', spacing, offset,\n      //\n      iconfont);\n      const glyphQuads = getGlyphQuads(shaping, offset, false);\n      feature.shaping = shaping;\n      feature.glyphQuads = glyphQuads;\n      // feature.centroid = calculteCentroid(coordinates);\n\n      feature.centroid = calculateCentroid(feature.coordinates);\n      this.glyphInfoMap[id] = {\n        shaping,\n        glyphQuads,\n        centroid: calculateCentroid(feature.coordinates)\n      };\n      return feature;\n    });\n  }\n  getFontServiceMapping() {\n    const {\n      fontWeight = '400',\n      fontFamily = 'sans-serif'\n    } = this.layer.getLayerConfig();\n    return this.fontService.getMappingByKey(`${fontFamily}_${fontWeight}`);\n  }\n  getFontServiceCanvas() {\n    const {\n      fontWeight = '400',\n      fontFamily = 'sans-serif'\n    } = this.layer.getLayerConfig();\n    // 更新文字布局\n    return this.fontService.getCanvasByKey(`${fontFamily}_${fontWeight}`);\n  }\n\n  /**\n   * 文字避让 depend on originCentorid\n   */\n  filterGlyphs() {\n    const {\n      padding = [0, 0],\n      textAllowOverlap = false\n    } = this.layer.getLayerConfig();\n    if (textAllowOverlap) {\n      // 如果允许文本覆盖\n      return;\n    }\n    this.glyphInfoMap = {};\n    this.currentZoom = this.mapService.getZoom();\n    this.extent = this.textExtent();\n    const {\n      width,\n      height\n    } = this.rendererService.getViewportSize();\n    const collisionIndex = new CollisionIndex(width, height);\n    const filterData = this.glyphInfo.filter(feature => {\n      const {\n        shaping,\n        id = 0\n      } = feature;\n      const centroid = feature.centroid;\n      const size = feature.size;\n      const fontScale = size / 16;\n      const pixels = this.mapService.lngLatToContainer(centroid);\n      const {\n        box\n      } = collisionIndex.placeCollisionBox({\n        x1: shaping.left * fontScale - padding[0],\n        x2: shaping.right * fontScale + padding[0],\n        y1: shaping.top * fontScale - padding[1],\n        y2: shaping.bottom * fontScale + padding[1],\n        anchorPointX: pixels.x,\n        anchorPointY: pixels.y\n      });\n      if (box && box.length) {\n        collisionIndex.insertCollisionBox(box, id);\n        return true;\n      } else {\n        return false;\n      }\n    });\n    filterData.forEach(item => {\n      // @ts-ignore\n      this.glyphInfoMap[item.id] = item;\n    });\n    // this.layer.setEncodedData(filterData);\n  }\n  /**\n   * 初始化文字布局\n   */\n  initGlyph() {\n    const {\n      iconfont = false\n    } = this.layer.getLayerConfig();\n    // 1.生成文字纹理（或是生成 iconfont）\n    iconfont ? this.initIconFontTex() : this.initTextFont();\n    // 2.生成文字布局\n    this.generateGlyphLayout(iconfont);\n  }\n  /**\n   * 更新文字纹理\n   */\n  updateTexture() {\n    const {\n      createTexture2D\n    } = this.rendererService;\n    const canvas = this.getFontServiceCanvas();\n    this.textureHeight = canvas.height;\n    if (this.texture) {\n      this.texture.destroy();\n    }\n    this.texture = createTexture2D({\n      data: canvas,\n      mag: gl.LINEAR,\n      min: gl.LINEAR,\n      width: canvas.width,\n      height: canvas.height\n    });\n    this.textures = [this.texture];\n  }\n  reBuildModel() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      _this5.filterGlyphs();\n      const model = yield _this5.layer.buildLayerModel({\n        moduleName: 'pointText',\n        vertexShader: textVert,\n        fragmentShader: textFrag,\n        triangulation: TextTrianglation.bind(_this5),\n        defines: _this5.getDefines(),\n        inject: _this5.getInject(),\n        depth: {\n          enable: false\n        }\n      });\n      // TODO 渲染流程待修改\n      _this5.layer.models = [model];\n    })();\n  }\n}", "import SimplePoint from \"./billboard_point\";\nimport EarthExtrudeModel from \"./earthExtrude\";\n// earth\nimport EarthFillModel from \"./earthFill\";\nimport ExtrudeModel from \"./extrude\";\nimport FillModel from \"./fill\";\nimport FillImageModel from \"./fillImage\";\nimport IMageModel from \"./image\";\nimport NormalModel from \"./normal\";\nimport Radar from \"./radar\";\nimport TextModel from \"./text\";\nconst PointModels = {\n  fillImage: FillImageModel,\n  fill: FillModel,\n  radar: Radar,\n  image: IMageModel,\n  normal: NormalModel,\n  simplePoint: SimplePoint,\n  extrude: ExtrudeModel,\n  text: TextModel,\n  earthFill: EarthFillModel,\n  earthExtrude: EarthExtrudeModel\n};\nexport default PointModels;", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport PointModels from \"./models/index\";\nexport default class PointLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'PointLayer');\n    _defineProperty(this, \"enableShaderEncodeStyles\", ['stroke', 'offsets', 'opacity', 'rotation']);\n    //4+2+1+1\n    _defineProperty(this, \"enableDataEncodeStyles\", ['textOffset', 'textAnchor']);\n    _defineProperty(this, \"defaultSourceConfig\", {\n      data: [],\n      options: {\n        parser: {\n          type: 'json',\n          x: 'lng',\n          y: 'lat'\n        }\n      }\n    });\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modelType = _this.getModelType();\n      if (_this.layerModel) {\n        _this.layerModel.clearModels();\n      }\n      _this.layerModel = new PointModels[modelType](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  rebuildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield _this2.buildModels();\n    })();\n  }\n\n  /**\n   * 在未传入数据的时候判断点图层的 shape 类型\n   * @returns\n   */\n  getModelTypeWillEmptyData() {\n    if (this.shapeOption) {\n      const {\n        field,\n        values\n      } = this.shapeOption;\n      const {\n        shape2d\n      } = this.getLayerConfig();\n      const iconMap = this.iconService.getIconMap();\n      if (field && (shape2d === null || shape2d === void 0 ? void 0 : shape2d.indexOf(field)) !== -1) {\n        return 'fill';\n      }\n      if (values === 'text') {\n        return 'text';\n      }\n      if (values && values instanceof Array) {\n        for (const v of values) {\n          if (typeof v === 'string' && iconMap.hasOwnProperty(v)) {\n            return 'image';\n          }\n        }\n      }\n    }\n    return 'normal';\n  }\n  getDefaultConfig() {\n    const type = this.getModelType();\n    const defaultConfig = {\n      fillImage: {},\n      normal: {\n        blend: 'additive'\n      },\n      radar: {},\n      simplePoint: {},\n      fill: {\n        blend: 'normal'\n      },\n      extrude: {},\n      image: {},\n      text: {\n        blend: 'normal'\n      },\n      tile: {},\n      tileText: {},\n      earthFill: {},\n      earthExtrude: {}\n    };\n    return defaultConfig[type];\n  }\n  getModelType() {\n    //  2D、 3d、 shape、image、text、normal、\n    const layerData = this.getEncodedData();\n    const {\n      shape2d,\n      shape3d,\n      billboard = true\n    } = this.getLayerConfig();\n    const iconMap = this.iconService.getIconMap();\n    const item = layerData.find(fe => {\n      return fe.hasOwnProperty('shape');\n    });\n    if (!item) {\n      return this.getModelTypeWillEmptyData();\n    } else {\n      const shape = item.shape;\n      if (shape === 'dot') {\n        return 'normal';\n      }\n      if (shape === 'simple') {\n        return 'simplePoint';\n      }\n      if (shape === 'radar') {\n        return 'radar';\n      }\n      if (this.layerType === 'fillImage' || billboard === false) {\n        return 'fillImage';\n      }\n      if ((shape2d === null || shape2d === void 0 ? void 0 : shape2d.indexOf(shape)) !== -1) {\n        if (this.mapService.version === 'GLOBEL') {\n          return 'earthFill';\n        } else {\n          return 'fill';\n        }\n      }\n      if ((shape3d === null || shape3d === void 0 ? void 0 : shape3d.indexOf(shape)) !== -1) {\n        if (this.mapService.version === 'GLOBEL') {\n          return 'earthExtrude';\n        } else {\n          return 'extrude';\n        }\n      }\n      if (iconMap.hasOwnProperty(shape)) {\n        return 'image';\n      }\n      return 'text';\n    }\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nexport function loadImage(_x) {\n  return _loadImage.apply(this, arguments);\n}\nfunction _loadImage() {\n  _loadImage = _asyncToGenerator(function* (url) {\n    // @ts-ignore\n    if (window.createImageBitmap) {\n      const response = yield fetch(url);\n      const imageBitmap = yield createImageBitmap(yield response.blob());\n      return imageBitmap;\n    } else {\n      const image = new window.Image();\n      return new Promise(res => {\n        image.onload = () => res(image);\n        image.src = url;\n        image.crossOrigin = 'Anonymous';\n      });\n    }\n  });\n  return _loadImage.apply(this, arguments);\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { PolygonExtrudeTriangulation } from \"../../core/triangulation\";\nimport { loadImage } from \"../../utils/load-image\";\n/* babel-plugin-inline-import '../shaders/extrude/polygon_extrude_frag.glsl' */\nconst polygonExtrudeFrag = \"layout(std140) uniform commonUniforms {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_linearColor;\\n  float u_topsurface;\\n  float u_sidesurface;\\n  float u_heightfixed; // \\u9ED8\\u8BA4\\u4E0D\\u56FA\\u5B9A\\n  float u_raisingHeight;\\n};\\n\\nin vec4 v_Color;\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\nout vec4 outputColor;\\nvoid main() {\\n\\n     // top face\\n    if(u_topsurface < 1.0) {\\n      discard;\\n    }\\n\\n    outputColor = v_Color;\\n  \\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/extrude/polygon_extrude_picklight_frag.glsl' */\nconst polygonExtrudePickLightFrag = \"\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_linearColor;\\n  float u_topsurface;\\n  float u_sidesurface;\\n  float u_heightfixed; // \\u9ED8\\u8BA4\\u4E0D\\u56FA\\u5B9A\\n  float u_raisingHeight;\\n};\\n\\nin vec4 v_Color;\\nin vec3 v_uvs;\\nin vec2 v_texture_data;\\nout vec4 outputColor;\\n\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  float isSide =  v_texture_data.x;\\n  float sidey = v_uvs[2];\\n  float lightWeight = v_texture_data.y;\\n\\n  // Tip: \\u90E8\\u5206\\u673A\\u578B GPU \\u8BA1\\u7B97\\u7CBE\\u5EA6\\u517C\\u5BB9\\n  if(isSide < 0.999) {\\n    // side face\\n    if(u_sidesurface < 1.0) {\\n      discard;\\n    }\\n    \\n    if( u_linearColor == 1.0) {\\n      // side use linear\\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\\n      linearColor.rgb *= lightWeight;\\n      outputColor = linearColor;\\n    } else {\\n      // side notuse linear\\n       outputColor = v_Color;\\n    }\\n  } else {\\n    // top face\\n    if(u_topsurface < 1.0) {\\n      discard;\\n    }\\n    outputColor = v_Color;\\n  }\\n\\n  outputColor = filterColorAlpha(outputColor, lightWeight);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/extrude/polygon_extrude_picklight_vert.glsl' */\nconst polygonExtrudePickLightVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_linearColor;\\n  float u_topsurface;\\n  float u_sidesurface;\\n  float u_heightfixed; // \\u9ED8\\u8BA4\\u4E0D\\u56FA\\u5B9A\\n  float u_raisingHeight;\\n};\\n\\nout vec4 v_Color;\\nout vec3 v_uvs;\\nout vec2 v_texture_data;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  v_uvs = a_uvs;\\n  // cal style mapping - \\u6570\\u636E\\u7EB9\\u7406\\u6620\\u5C04\\u90E8\\u5206\\u7684\\u8BA1\\u7B97\\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\\n  vec4 project_pos = project_position(pos, a_Position64Low);\\n\\n  if (u_heightfixed > 0.0) {\\n    // \\u5224\\u65AD\\u51E0\\u4F55\\u4F53\\u662F\\u5426\\u56FA\\u5B9A\\u9AD8\\u5EA6\\n    project_pos.z = a_Position.z * a_Size;\\n    project_pos.z += u_raisingHeight;\\n    if (\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n    ) {\\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\\n      project_pos.z *= mapboxZoomScale;\\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\\n    }\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n  float lightWeight = calc_lighting(project_pos);\\n  v_texture_data = vec2(a_Position.z, lightWeight);\\n\\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/extrude/polygon_extrude_vert.glsl' */\nconst polygonExtrudeVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_linearColor;\\n  float u_topsurface;\\n  float u_sidesurface;\\n  float u_heightfixed; // \\u9ED8\\u8BA4\\u4E0D\\u56FA\\u5B9A\\n  float u_raisingHeight;\\n};\\n\\nout vec4 v_Color;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  float isSide = a_Position.z;\\n  float topU = a_uvs[0];\\n  float topV = 1.0 - a_uvs[1];\\n  float sidey = a_uvs[2];\\n\\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\\n\\n  vec4 project_pos = project_position(pos, a_Position64Low);\\n  float lightWeight = calc_lighting(project_pos);\\n\\n  if (u_heightfixed > 0.0) {\\n    // \\u5224\\u65AD\\u51E0\\u4F55\\u4F53\\u662F\\u5426\\u56FA\\u5B9A\\u9AD8\\u5EA6\\n    project_pos.z = a_Position.z * a_Size;\\n    project_pos.z += u_raisingHeight;\\n\\n    if (\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n    ) {\\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\\n      project_pos.z *= mapboxZoomScale;\\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\\n    }\\n  }\\n\\n gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n\\n  // Tip: \\u90E8\\u5206\\u673A\\u578B GPU \\u8BA1\\u7B97\\u7CBE\\u5EA6\\u517C\\u5BB9\\n  if (isSide < 0.999) {\\n    // side face\\n    // if(u_sidesurface < 1.0) {\\n    //   discard;\\n    // }\\n\\n    if (u_linearColor == 1.0) {\\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\\n      linearColor.rgb *= lightWeight;\\n      v_Color = linearColor;\\n    } else {\\n      v_Color = a_Color;\\n    }\\n\\n  } else {\\n    v_Color = a_Color;\\n  }\\n\\n  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/extrude/polygon_extrudetex_frag.glsl' */\nconst polygonExtrudeTexFrag = \"uniform sampler2D u_texture;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_linearColor;\\n  float u_topsurface;\\n  float u_sidesurface;\\n  float u_heightfixed; // \\u9ED8\\u8BA4\\u4E0D\\u56FA\\u5B9A\\n  float u_raisingHeight;\\n};\\n\\nin vec4 v_Color;\\nin vec3 v_uvs;\\nin vec2 v_texture_data;\\n\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\n\\nout vec4 outputColor;\\n\\nvoid main() {\\n  float opacity = u_opacity;\\n  float isSide = v_texture_data.x;\\n  float lightWeight = v_texture_data.y;\\n  float topU = v_uvs[0];\\n  float topV = 1.0 - v_uvs[1];\\n  float sidey = v_uvs[2];\\n\\n  outputColor = texture(SAMPLER_2D(u_texture), vec2(topU, topV));\\n  // Tip: \\u90E8\\u5206\\u673A\\u578B GPU \\u8BA1\\u7B97\\u7CBE\\u5EA6\\u517C\\u5BB9\\n  if (isSide < 0.999) {// \\u662F\\u5426\\u662F\\u8FB9\\u7F18\\n    // side face\\n    if (u_sidesurface < 1.0) {\\n      discard;\\n    }\\n\\n    if (u_linearColor == 1.0) {\\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\\n      linearColor.rgb *= lightWeight;\\n      outputColor = linearColor;\\n    } else {\\n      outputColor = v_Color;\\n    }\\n  } else {\\n     // top face\\n    if (u_topsurface < 1.0) {\\n      discard;\\n    }\\n  }\\n  \\n  outputColor.a *= opacity;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/extrude/polygon_extrudetex_vert.glsl' */\nconst polygonExtrudeTexVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_sourceColor;\\n  vec4 u_targetColor;\\n  float u_linearColor;\\n  float u_topsurface;\\n  float u_sidesurface;\\n  float u_heightfixed; // \\u9ED8\\u8BA4\\u4E0D\\u56FA\\u5B9A\\n  float u_raisingHeight;\\n};\\n\\nout vec4 v_Color;\\nout vec3 v_uvs;\\nout vec2 v_texture_data;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\\n  vec4 project_pos = project_position(pos, a_Position64Low);\\n  float lightWeight = calc_lighting(project_pos);\\n  v_uvs = a_uvs;\\n  v_Color = a_Color;\\n  v_Color.a *= opacity;\\n\\n  v_texture_data = vec2(a_Position.z, lightWeight);\\n\\n  if (u_heightfixed > 0.0) {\\n    // \\u5224\\u65AD\\u51E0\\u4F55\\u4F53\\u662F\\u5426\\u56FA\\u5B9A\\u9AD8\\u5EA6\\n    project_pos.z = a_Position.z * a_Size;\\n    project_pos.z += u_raisingHeight;\\n\\n    if (\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n    ) {\\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\\n      project_pos.z *= mapboxZoomScale;\\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\\n    }\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class ExtrudeModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      NORMAL: 10,\n      UV: 11\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      mapTexture,\n      heightfixed = false,\n      raisingHeight = 0,\n      topsurface = true,\n      sidesurface = true,\n      sourceColor,\n      targetColor\n    } = this.layer.getLayerConfig();\n\n    // 转化渐变色\n    let useLinearColor = 0; // 默认不生效\n    let sourceColorArr = [1, 1, 1, 1];\n    let targetColorArr = [1, 1, 1, 1];\n    if (sourceColor && targetColor) {\n      sourceColorArr = rgb2arr(sourceColor);\n      targetColorArr = rgb2arr(targetColor);\n      useLinearColor = 1;\n    }\n    const commonOptions = {\n      u_sourceColor: sourceColorArr,\n      u_targetColor: targetColorArr,\n      u_linearColor: useLinearColor,\n      // 控制侧面和顶面的显示隐藏\n      u_topsurface: Number(topsurface),\n      u_sidesurface: Number(sidesurface),\n      u_heightfixed: Number(heightfixed),\n      u_raisingHeight: Number(raisingHeight)\n    };\n    if (mapTexture && this.texture) {\n      // @ts-ignore\n      commonOptions.u_texture = this.texture;\n      this.textures = [this.texture];\n    }\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.loadTexture();\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        frag,\n        vert,\n        type\n      } = _this2.getShaders();\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: type,\n        vertexShader: vert,\n        fragmentShader: frag,\n        depth: {\n          enable: true\n        },\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation: PolygonExtrudeTriangulation\n      });\n      return [model];\n    })();\n  }\n  getShaders() {\n    const {\n      pickLight,\n      mapTexture\n    } = this.layer.getLayerConfig();\n    if (mapTexture) {\n      return {\n        frag: polygonExtrudeTexFrag,\n        vert: polygonExtrudeTexVert,\n        type: 'polygonExtrudeTexture'\n      };\n    }\n    if (pickLight) {\n      return {\n        frag: polygonExtrudePickLightFrag,\n        vert: polygonExtrudePickLightVert,\n        type: 'polygonExtrudePickLight'\n      };\n    } else {\n      return {\n        frag: polygonExtrudeFrag,\n        vert: polygonExtrudeVert,\n        type: 'polygonExtrude'\n      };\n    }\n  }\n  clearModels() {\n    var _this$texture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n    this.textures = [];\n  }\n  registerBuiltinAttributes() {\n    const bounds = this.layer.getSource().extent;\n    const lngLen = bounds[2] - bounds[0];\n    const latLen = bounds[3] - bounds[1];\n\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 22 层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uvs',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_uvs',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex) => {\n          const lng = vertex[0];\n          const lat = vertex[1];\n          // 临时 兼容高德V2\n          return [(lng - bounds[0]) / lngLen, (lat - bounds[1]) / latLen, vertex[4]];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 10\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n  }\n  loadTexture() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        mapTexture\n      } = _this3.layer.getLayerConfig();\n      const {\n        createTexture2D\n      } = _this3.rendererService;\n      _this3.texture = createTexture2D({\n        height: 1,\n        width: 1\n      });\n      if (mapTexture) {\n        const image = yield loadImage(mapTexture);\n        _this3.texture = createTexture2D({\n          data: image,\n          width: image.width,\n          height: image.height,\n          wrapS: gl.CLAMP_TO_EDGE,\n          wrapT: gl.CLAMP_TO_EDGE,\n          min: gl.LINEAR,\n          mag: gl.LINEAR\n        });\n      }\n    })();\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { PolygonExtrudeTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/extrusion/polygon_extrusion_frag.glsl' */\nconst polygonExtrudeFrag = \"\\nin vec4 v_Color;\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\nout vec4 outputColor;\\nvoid main() {\\n\\n  outputColor = v_Color;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/extrusion/polygon_extrusion_vert.glsl' */\nconst polygonExtrudeVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\n\\nout vec4 v_Color;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"light\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size + (1.0 - a_Position.z) * extrusionBase, 1.0);\\n\\n  vec4 project_pos = project_position(pos, a_Position64Low);\\n  float lightWeight = calc_lighting(project_pos);\\n  v_Color = a_Color;\\n  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\";\nexport default class ExtrusionModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      SIZE: 9,\n      NORMAL: 10,\n      EXTRUSION_BASE: 11\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const commonOptions = {};\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        frag,\n        vert,\n        type\n      } = _this2.getShaders();\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: type,\n        vertexShader: vert,\n        fragmentShader: frag,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation: PolygonExtrudeTriangulation,\n        depth: {\n          enable: true\n        }\n      });\n      return [model];\n    })();\n  }\n  getShaders() {\n    return {\n      frag: polygonExtrudeFrag,\n      vert: polygonExtrudeVert,\n      type: 'polygonExtrude'\n    };\n  }\n  clearModels() {\n    var _this$texture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 22 层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'size',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Size',\n        shaderLocation: this.attributeLocation.SIZE,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            size = 10\n          } = feature;\n          return Array.isArray(size) ? [size[0]] : [size];\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'extrusionBase',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_ExtrusionBase',\n        shaderLocation: this.attributeLocation.EXTRUSION_BASE,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 1,\n        update: feature => {\n          const {\n            extrusionBase: op = 0\n          } = feature;\n          return [op];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { polygonTriangulation, polygonTriangulationWithCenter } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/fill/fill_frag.glsl' */\nconst polygon_frag = \"in vec4 v_color;\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\nout vec4 outputColor;\\nvoid main() {\\n  outputColor = v_color;\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/fill/fill_linear_frag.glsl' */\nconst polygon_linear_frag = \"\\nlayout(std140) uniform commonUniforms {\\n  float u_raisingHeight;\\n  float u_opacitylinear;\\n  float u_dir;\\n};\\n\\nin vec4 v_color;\\nin vec3 v_linear;\\nin vec2 v_pos;\\nout vec4 outputColor;\\n#pragma include \\\"scene_uniforms\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  outputColor = v_color;\\n  if (u_opacitylinear > 0.0) {\\n    outputColor.a *= u_dir == 1.0 ? 1.0 - length(v_pos - v_linear.xy)/v_linear.z : length(v_pos - v_linear.xy)/v_linear.z;\\n  }\\n  outputColor = filterColor(outputColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/fill/fill_linear_vert.glsl' */\nconst polygon_linear_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_LINEAR) in vec3 a_linear;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_raisingHeight;\\n  float u_opacitylinear;\\n  float u_dir;\\n};\\n\\nout vec4 v_color;\\nout vec3 v_linear;\\nout vec2 v_pos;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  if (u_opacitylinear > 0.0) {\\n    v_linear = a_linear;\\n    v_pos = a_Position.xy;\\n  }\\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n  project_pos.z += u_raisingHeight;\\n\\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\\n    project_pos.z *= mapboxZoomScale;\\n    project_pos.z += u_raisingHeight * mapboxZoomScale;\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n  setPickingColor(a_PickingColor);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/fill/fill_vert.glsl' */\nconst polygon_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_raisingHeight;\\n};\\n\\nout vec4 v_color;\\n\\n#pragma include \\\"projection\\\"\\n#pragma include \\\"picking\\\"\\n\\nvoid main() {\\n  // cal style mapping - \\u6570\\u636E\\u7EB9\\u7406\\u6620\\u5C04\\u90E8\\u5206\\u7684\\u8BA1\\u7B97\\n\\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n\\n  project_pos.z += u_raisingHeight;\\n\\n  if (\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\\n  ) {\\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\\n    project_pos.z *= mapboxZoomScale;\\n    project_pos.z += u_raisingHeight * mapboxZoomScale;\\n  }\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n\\n  setPickingColor(a_PickingColor);\\n}\\n\\n\";\nexport default class FillModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      LINEAR: 9\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      raisingHeight = 0,\n      opacityLinear = {\n        enable: false,\n        dir: 'in'\n      }\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_raisingHeight: Number(raisingHeight),\n      u_opacitylinear: Number(opacityLinear.enable),\n      u_dir: opacityLinear.dir === 'in' ? 1.0 : 0.0\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        frag,\n        vert,\n        triangulation,\n        type\n      } = _this2.getModelParams();\n      _this2.initUniformsBuffer();\n      _this2.layer.triangulation = triangulation;\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: type,\n        vertexShader: vert,\n        fragmentShader: frag,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        }\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 22 层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    const {\n      opacityLinear = {\n        enable: false,\n        dir: 'in'\n      }\n    } = this.layer.getLayerConfig();\n    if (opacityLinear.enable) {\n      this.styleAttributeService.registerStyleAttribute({\n        name: 'linear',\n        type: AttributeType.Attribute,\n        descriptor: {\n          name: 'a_linear',\n          shaderLocation: this.attributeLocation.LINEAR,\n          buffer: {\n            // give the WebGL driver a hint that this buffer may change\n            usage: gl.STATIC_DRAW,\n            data: [],\n            type: gl.FLOAT\n          },\n          size: 3,\n          update: (feature, featureIdx, vertex) => {\n            return [vertex[3], vertex[4], vertex[5]];\n          }\n        }\n      });\n    }\n  }\n  getModelParams() {\n    const {\n      opacityLinear = {\n        enable: false\n      }\n    } = this.layer.getLayerConfig();\n    if (opacityLinear.enable) {\n      return {\n        frag: polygon_linear_frag,\n        vert: polygon_linear_vert,\n        type: 'polygonLinear',\n        triangulation: polygonTriangulationWithCenter\n      };\n    } else {\n      return {\n        frag: polygon_frag,\n        vert: polygon_vert,\n        type: 'polygonFill',\n        triangulation: polygonTriangulation\n      };\n    }\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { polygonTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/ocean/ocean_frag.glsl' */\nconst ocean_frag = \"\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_watercolor;\\n  vec4 u_watercolor2;\\n  float u_time;\\n};\\n\\nin vec2 v_uv;\\nin float v_opacity;\\nout vec4 outputColor;\\n\\nfloat coast2water_fadedepth = 0.10;\\nfloat large_waveheight      = .750; // change to adjust the \\\"heavy\\\" waves\\nfloat large_wavesize        = 3.4;  // factor to adjust the large wave size\\nfloat small_waveheight      = 0.6;  // change to adjust the small random waves\\nfloat small_wavesize        = 0.5;   // factor to ajust the small wave size\\nfloat water_softlight_fact  = 15.;  // range [1..200] (should be << smaller than glossy-fact)\\nfloat water_glossylight_fact= 120.; // range [1..200]\\nfloat particle_amount       = 70.;\\n\\nvec3 water_specularcolor    = vec3(1.3, 1.3, 0.9);    // specular Color (RGB) of the water-highlights\\n#define light                 vec3(-0., sin(u_time*0.5)*.5 + .35, 2.8) // position of the sun\\n\\nuniform sampler2D u_texture1;\\nuniform sampler2D u_texture2;\\nuniform sampler2D u_texture3;\\n\\n  \\n\\nfloat hash( float n ) {\\n    return fract(sin(n)*43758.5453123);\\n}\\n\\n// 2d noise function\\nfloat noise1( in vec2 x ) {\\n  vec2 p  = floor(x);\\n  vec2 f  = smoothstep(0.0, 1.0, fract(x));\\n  float n = p.x + p.y*57.0;\\n  return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\\n    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);\\n}\\n\\nfloat noise(vec2 p) {\\n    return texture(SAMPLER_2D(u_texture2),p*vec2(1./256.)).x;\\n}\\n\\nvec4 highness(vec2 p) {\\n    vec4 t = texture(SAMPLER_2D(u_texture1),fract(p));\\n    float clipped = -2.0-smoothstep(3.,10.,t.a)*6.9-smoothstep(10.,100.,t.a)*89.9-smoothstep(0.,10000.,t.a)*10000.0;\\n    return clamp(t, 0.0,3.0)+clamp(t/3.0-1.0, 0.0,1.0)+clamp(t/16.0-1.0, 0.0,1.0);\\n}\\n\\nfloat height_map( vec2 p ) {\\n    vec4 height=highness(p);\\n    /*\\n    height = -0.5+\\n        0.5*smoothstep(-100.,0.,-height)+\\n        2.75*smoothstep(0.,2.,height)+\\n        1.75*smoothstep(2.,4.,height)+\\n        2.75*smoothstep(4.,16.,height)+\\n        1.5*smoothstep(16.,1000.,height);\\n    */\\n\\n    mat2 m = mat2( 0.9563*1.4,  -0.2924*1.4,  0.2924*1.4,  0.9563*1.4 );\\n    //p = p*6.;\\n    float f = 0.6000*noise1( p ); p = m*p*1.1*6.;\\n    f += 0.2500*noise( p ); p = m*p*1.32;\\n    f += 0.1666*noise( p ); p = m*p*1.11;\\n    f += 0.0834*noise( p ); p = m*p*1.12;\\n    f += 0.0634*noise( p ); p = m*p*1.13;\\n    f += 0.0444*noise( p ); p = m*p*1.14;\\n    f += 0.0274*noise( p ); p = m*p*1.15;\\n    f += 0.0134*noise( p ); p = m*p*1.16;\\n    f += 0.0104*noise( p ); p = m*p*1.17;\\n    f += 0.0084*noise( p );\\n    f = .25*f+dot(height,vec4(-.03125,-.125,.25,.25))*.5;\\n        const float FLAT_LEVEL = 0.92525;\\n        //f = f*0.25+height*0.75;\\n    if (f<FLAT_LEVEL)\\n        f = f;\\n    else\\n        f = pow((f-FLAT_LEVEL)/(1.-FLAT_LEVEL), 2.)*(1.-FLAT_LEVEL)*2.0+FLAT_LEVEL; // makes a smooth coast-increase\\n    return clamp(f, 0., 10.);\\n}\\n\\nvec3 plasma_quintic( float x ) {\\n    x = clamp( x, 0.0, 1.0);\\n    vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3\\n    vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7\\n    return vec3(\\n        dot( x1.xyzw, vec4( +0.063861086, +1.992659096, -1.023901152, -0.490832805 ) ) + dot( x2.xy, vec2( +1.308442123, -0.914547012 ) ),\\n        dot( x1.xyzw, vec4( +0.049718590, -0.791144343, +2.892305078, +0.811726816 ) ) + dot( x2.xy, vec2( -4.686502417, +2.717794514 ) ),\\n        dot( x1.xyzw, vec4( +0.513275779, +1.580255060, -5.164414457, +4.559573646 ) ) + dot( x2.xy, vec2( -1.916810682, +0.570638854 ) ) );\\n}\\n\\nvec4 color(vec2 p){\\n    vec4 c1 = vec4(1.7,1.6,.9,1);\\n    vec4 c2 = vec4(.2,.94,.1,1);\\n    vec4 c3 = vec4(.3,.2,.0,1);\\n    vec4 c4 = vec4(.99,.99,1.6,1);\\n    vec4 v = highness(p);\\n    float los = smoothstep(0.1,1.1,v.b);\\n    float his = smoothstep(3.5,6.5,v.b);\\n    float ces = smoothstep(1.,5.,v.a);\\n    vec4 lo = mix(c1,c2,los);\\n    vec4 hi = mix(c3,c4,his);\\n    vec4 ce = mix(lo,hi,ces);\\n\\n    return vec4(plasma_quintic(ces),1).ragb;\\n}\\n\\nvec3 terrain_map( vec2 p )\\n{\\n  return color(p).rgb*0.75+0.25*vec3(0.7, .55, .4)+texture(SAMPLER_2D(u_texture3), fract(p*5.)).rgb*.5; // test-terrain is simply 'sandstone'\\n}\\n\\nconst mat2 m = mat2( 0.72, -1.60,  1.60,  0.72 );\\n\\nfloat water_map( vec2 p, float height ) {\\n    vec2 p2 = p*large_wavesize;\\n    vec2 shift1 = 0.001*vec2( u_time*160.0*2.0, u_time*120.0*2.0 );\\n    vec2 shift2 = 0.001*vec2( u_time*190.0*2.0, -u_time*130.0*2.0 );\\n\\n    // coarse crossing 'ocean' waves...\\n    float f = 0.6000*noise( p );\\n    f += 0.2500*noise( p*m );\\n    f += 0.1666*noise( p*m*m );\\n    float wave = sin(p2.x*0.622+p2.y*0.622+shift2.x*4.269)*large_waveheight*f*height*height ;\\n\\n    p *= small_wavesize;\\n    f = 0.;\\n    float amp = 1.0, s = .5;\\n    for (int i=0; i<9; i++)\\n    { p = m*p*.947; f -= amp*abs(sin((noise( p+shift1*s )-.5)*2.)); amp = amp*.59; s*=-1.329; }\\n    \\n    return wave+f*small_waveheight;\\n}\\n\\nfloat nautic(vec2 p) {\\n    p *= 18.;\\n    float f = 0.;\\n    float amp = 1.0, s = .5;\\n    for (int i=0; i<3; i++)\\n    { p = m*p*1.2; f += amp*abs(smoothstep(0., 1., noise( p+u_time*s ))-.5); amp = amp*.5; s*=-1.227; }\\n    return pow(1.-f, 5.);\\n}\\n\\nfloat particles(vec2 p) {\\n    p *= 200.;\\n    float f = 0.;\\n    float amp = 1.0, s = 1.5;\\n    for (int i=0; i<3; i++)\\n    { p = m*p*1.2; f += amp*noise( p+u_time*s ); amp = amp*.5; s*=-1.227; }\\n    return pow(f*.35, 7.)*particle_amount;\\n}\\n\\nfloat test_shadow( vec2 xy, float height) {\\n    vec3 r0 = vec3(xy, height);\\n    vec3 rd = normalize( light - r0 );\\n    \\n    float hit = 1.0;\\n    float t   = 0.001;\\n    for (int j=1; j<25; j++)\\n    {\\n        vec3 p = r0 + t*rd;\\n        float h = height_map( p.xy );\\n        float height_diff = p.z - h;\\n        if (height_diff<0.0)\\n        {\\n            return 0.0;\\n        }\\n        t += 0.01+height_diff*.02;\\n        hit = min(hit, 2.*height_diff/t); // soft shaddow   \\n    }\\n    return hit;\\n}\\n\\nvec3 CalcTerrain(vec2 uv, float height) {\\n    vec3 col = terrain_map( uv );\\n    vec2 iResolution = vec2(512.);\\n    float h1 = height_map(uv-vec2(0., 0.5)/ iResolution.xy);\\n    float h2 = height_map(uv+vec2(0., 0.5)/ iResolution.xy);\\n    float h3 = height_map(uv-vec2(0.5, 0.)/ iResolution.xy);\\n    float h4 = height_map(uv+vec2(0.5, 0.)/ iResolution.xy);\\n    vec3 norm = normalize(vec3(h3-h4, h1-h2, 1.));\\n    vec3 r0 = vec3(uv, height);\\n    vec3 rd = normalize( light - r0 );\\n    float grad = dot(norm, rd);\\n    col *= grad+pow(grad, 8.);\\n    float terrainshade = test_shadow( uv, height );\\n    col = mix(col*.25, col, terrainshade);\\n    return col;\\n}\\n\\n\\nvoid main() {\\n  vec3 watercolor = u_watercolor.rgb;\\n  vec3 watercolor2 = u_watercolor2.rgb;\\n  vec2 uv = v_uv;\\n  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)\\n  float deepwater_fadedepth   = 0.4 + coast2water_fadedepth;\\n  float height = height_map( uv );\\n  vec3 col;\\n\\n    float waveheight = clamp(WATER_LEVEL*3.-1.5, 0., 1.);\\n    float level = WATER_LEVEL + .2*water_map(uv*15. + vec2(u_time*.1), waveheight);\\n    if (height > level)\\n    {\\n        col = CalcTerrain(uv, height);\\n    }\\n    if (height <= level)\\n    {\\n        vec2 dif = vec2(.0, .01);\\n        vec2 pos = uv*15. + vec2(u_time*.01);\\n        float h1 = water_map(pos-dif,waveheight);\\n        float h2 = water_map(pos+dif,waveheight);\\n        float h3 = water_map(pos-dif.yx,waveheight);\\n        float h4 = water_map(pos+dif.yx,waveheight);\\n        vec3 normwater = normalize(vec3(h3-h4, h1-h2, .125)); // norm-vector of the 'bumpy' water-plane\\n        uv += normwater.xy*.002*(level-height);\\n        \\n        col = CalcTerrain(uv, height);\\n\\n        float coastfade = clamp((level-height)/coast2water_fadedepth, 0., 1.);\\n        float coastfade2= clamp((level-height)/deepwater_fadedepth, 0., 1.);\\n        float intensity = col.r*.2126+col.g*.7152+col.b*.0722;\\n        watercolor = mix(watercolor*intensity, watercolor2, smoothstep(0., 1., coastfade2));\\n\\n        vec3 r0 = vec3(uv, WATER_LEVEL);\\n        vec3 rd = normalize( light - r0 ); // ray-direction to the light from water-position\\n        float grad     = dot(normwater, rd); // dot-product of norm-vector and light-direction\\n        float specular = pow(grad, water_softlight_fact);  // used for soft highlights                          \\n        float specular2= pow(grad, water_glossylight_fact); // used for glossy highlights\\n        float gradpos  = dot(vec3(0., 0., 1.), rd);\\n        float specular1= smoothstep(0., 1., pow(gradpos, 5.));  // used for diffusity (some darker corona around light's specular reflections...)                          \\n        float watershade  = test_shadow( uv, level );\\n        watercolor *= 2.2+watershade;\\n        watercolor += (.2+.8*watershade) * ((grad-1.0)*.5+specular) * .25;\\n        watercolor /= (1.+specular1*1.25);\\n        watercolor += watershade*specular2*water_specularcolor;\\n        watercolor += watershade*coastfade*(1.-coastfade2)*(vec3(.5, .6, .7)*nautic(uv)+vec3(1., 1., 1.)*particles(uv));\\n        \\n        col = mix(col, watercolor, coastfade);\\n    }\\n    \\n  outputColor = vec4(col, v_opacity);  \\n}\\n\";\n/* babel-plugin-inline-import '../shaders/ocean/ocean_vert.glsl' */\nconst ocean_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_watercolor;\\n  vec4 u_watercolor2;\\n  float u_time;\\n};\\n\\nout vec2 v_uv;\\nout float v_opacity;\\n\\n#pragma include \\\"projection\\\"\\n\\nvoid main() {\\n  v_uv = a_uv;\\n  v_opacity = opacity;\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n}\\n\\n\";\nexport default class OceanModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture1\", void 0);\n    _defineProperty(this, \"texture2\", void 0);\n    _defineProperty(this, \"texture3\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      UV: 9\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      watercolor = '#6D99A8',\n      watercolor2 = '#0F121C'\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_watercolor: rgb2arr(watercolor),\n      u_watercolor2: rgb2arr(watercolor2),\n      u_time: this.layer.getLayerAnimateTime(),\n      u_texture1: this.texture1,\n      u_texture2: this.texture2,\n      u_texture3: this.texture3\n    };\n\n    // u_opacity: isNumber(opacity) ? opacity : 1.0,\n    this.textures = [this.texture1, this.texture2, this.texture3];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  getAnimateUniforms() {\n    return {\n      u_time: this.layer.getLayerAnimateTime()\n    };\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.loadTexture();\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'polygonOcean',\n        vertexShader: ocean_vert,\n        fragmentShader: ocean_frag,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        triangulation: polygonTriangulation,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        }\n      });\n      return [model];\n    })();\n  }\n  clearModels() {\n    var _this$texture, _this$texture2, _this$texture3;\n    (_this$texture = this.texture1) === null || _this$texture === void 0 || _this$texture.destroy();\n    (_this$texture2 = this.texture2) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    (_this$texture3 = this.texture3) === null || _this$texture3 === void 0 || _this$texture3.destroy();\n  }\n  registerBuiltinAttributes() {\n    const bbox = this.layer.getSource().extent;\n    const [minLng, minLat, maxLng, maxLat] = bbox;\n    const lngLen = maxLng - minLng;\n    const latLen = maxLat - minLat;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'oceanUv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          const [lng, lat] = vertex;\n          return [(lng - minLng) / lngLen, (lat - minLat) / latLen];\n        }\n      }\n    });\n  }\n  loadTexture() {\n    const {\n      createTexture2D\n    } = this.rendererService;\n    const defaultTextureOptions = {\n      height: 0,\n      width: 0\n    };\n    // 默认索引为 undefined，所以单独赋值\n    this.texture1 = createTexture2D(defaultTextureOptions);\n    this.texture2 = createTexture2D(defaultTextureOptions);\n    this.texture3 = createTexture2D(defaultTextureOptions);\n\n    // 加载完 image 后单独给 texture f赋值\n    initImage(images => {\n      this.texture1 = initTex(images[0]);\n      this.texture2 = initTex(images[1]);\n      this.texture3 = initTex(images[2]);\n      this.layerService.reRender();\n    });\n    function initImage(callback) {\n      let loadedCount = 0;\n      const loadedImages = [];\n      const images = ['https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ', 'https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ', 'https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ'];\n      images.map(imgSrc => {\n        const image = new Image();\n        image.crossOrigin = '';\n        image.src = imgSrc;\n        loadedImages.push(image);\n        image.onload = () => {\n          loadedCount++;\n          if (loadedCount === 3) {\n            callback(loadedImages);\n          }\n        };\n      });\n    }\n    function initTex(image) {\n      return createTexture2D({\n        data: image,\n        width: image.width,\n        height: image.height,\n        wrapS: gl.MIRRORED_REPEAT,\n        wrapT: gl.MIRRORED_REPEAT,\n        min: gl.LINEAR,\n        mag: gl.LINEAR\n      });\n    }\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { polygonTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/water/polygon_water_frag.glsl' */\nconst water_frag = \"uniform sampler2D u_texture;\\nlayout(std140) uniform commonUniforms {\\n  float u_speed;\\n  float u_time;\\n};\\n\\nout vec4 outputColor;\\n\\n\\nin vec4 v_Color;\\nin vec2 v_uv;\\n\\nfloat rand(vec2 n) { return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453); }\\n\\nfloat water(vec3 p) {\\n  float t = u_time * u_speed;\\n  p.z += t * 2.; p.x += t * 2.;\\n  vec3 c1 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;\\n  p.z += t * 3.; p.x += t * 0.52;\\n  vec3 c2 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;\\n  p.z += t * 4.; p.x += t * 0.8;\\n  vec3 c3 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;\\n  c1 += c2 - c3;\\n  float z = (c1.x + c1.y + c1.z) / 3.;\\n  return p.y + z / 4.;\\n}\\n\\nfloat map(vec3 p) {\\n  float d = 100.0;\\n  d = water(p);\\n  return d;\\n}\\n\\nfloat intersect(vec3 ro, vec3 rd) {\\n  float d = 0.0;\\n  for (int i = 0; i <= 100; i++) {\\n    float h = map(ro + rd * d);\\n    if (h < 0.1) return  d;\\n    d += h;\\n  }\\n  return 0.0;\\n}\\n\\nvec3 norm(vec3 p) {\\n  float eps = .1;\\n  return normalize(vec3(\\n    map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),\\n    map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),\\n    map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))\\n  ));\\n} \\n\\nfloat calSpc() {\\n  vec3 l1 = normalize(vec3(1, 1, 1));\\n  vec3 ro = vec3(-3, 20, -8);\\n  vec3 rc = vec3(0, 0, 0);\\n  vec3 ww = normalize(rc - ro);\\n  vec3 uu = normalize(cross(vec3(0,1,0), ww));\\n  vec3 vv = normalize(cross(rc - ro, uu));\\n  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);\\n  float d = intersect(ro, rd);\\n  vec3 p = ro + rd * d;\\n  vec3 n = norm(p);\\n  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);\\n  return spc;\\n}\\n\\nvoid main() {\\n\\n  outputColor = v_Color;\\n  float spc = calSpc();\\n  outputColor += spc * 0.4;\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/water/polygon_water_vert.glsl' */\nconst water_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  float u_speed;\\n  float u_time;\\n};\\nout vec4 v_Color;\\nout vec2 v_uv;\\n\\n#pragma include \\\"projection\\\"\\n\\nvoid main() {\\n  v_uv = a_uv;\\n  v_Color = a_Color;\\n  v_Color.a *= opacity;\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n}\\n\\n\";\nexport default class WaterModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      UV: 9\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      speed = 0.5\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_speed: speed,\n      u_time: this.layer.getLayerAnimateTime(),\n      u_texture: this.texture\n    };\n\n    // u_opacity: isNumber(opacity) ? opacity : 1.0,\n    this.textures = [this.texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  getAnimateUniforms() {\n    return {\n      u_time: this.layer.getLayerAnimateTime()\n    };\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.loadTexture();\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'polygonWater',\n        vertexShader: water_vert,\n        fragmentShader: water_frag,\n        triangulation: polygonTriangulation,\n        defines: _this2.getDefines(),\n        inject: _this2.getInject(),\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        },\n        pickingEnabled: false,\n        diagnosticDerivativeUniformityEnabled: false\n      });\n      return [model];\n    })();\n  }\n  clearModels() {\n    var _this$texture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n  }\n  registerBuiltinAttributes() {\n    const bbox = this.layer.getSource().extent;\n    const [minLng, minLat, maxLng, maxLat] = bbox;\n    const lngLen = maxLng - minLng;\n    const latLen = maxLat - minLat;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'waterUv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          const [lng, lat] = vertex;\n          return [(lng - minLng) / lngLen, (lat - minLat) / latLen];\n        }\n      }\n    });\n  }\n  loadTexture() {\n    const {\n      waterTexture\n    } = this.layer.getLayerConfig();\n    const {\n      createTexture2D\n    } = this.rendererService;\n    this.texture = createTexture2D({\n      height: 1,\n      width: 1\n    });\n    const image = new Image();\n    image.crossOrigin = '';\n    if (waterTexture) {\n      // custom texture\n      console.warn('L7 recommend：https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ');\n      image.src = waterTexture;\n    } else {\n      // default texture\n      image.src = 'https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ';\n    }\n    image.onload = () => {\n      this.texture = createTexture2D({\n        data: image,\n        width: image.width,\n        height: image.height,\n        wrapS: gl.MIRRORED_REPEAT,\n        wrapT: gl.MIRRORED_REPEAT,\n        min: gl.LINEAR,\n        mag: gl.LINEAR\n      });\n      this.layerService.reRender();\n    };\n  }\n}", "import LineModel from \"../../line/models/line\";\nimport PointExtrudeModel from \"../../point/models/extrude\";\nimport PointFillModel from \"../../point/models/fill\";\nimport IMageModel from \"../../point/models/image\";\nimport NormalModel from \"../../point/models/normal\";\nimport TextModel from \"../../point/models/text\";\nimport ExtrudeModel from \"./extrude\";\nimport Extrusion from \"./extrusion\";\nimport FillModel from \"./fill\";\nimport Ocean from \"./ocean\";\nimport Water from \"./water\";\nconst PolygonModels = {\n  fill: FillModel,\n  line: LineModel,\n  extrude: ExtrudeModel,\n  text: TextModel,\n  point_fill: PointFillModel,\n  point_image: IMageModel,\n  point_normal: NormalModel,\n  point_extrude: PointExtrudeModel,\n  water: Water,\n  ocean: Ocean,\n  extrusion: Extrusion\n  // point_fill: PointModels.fill,\n};\nexport default PolygonModels;", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport PolygonModels from \"./models/\";\nexport default class PolygonLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'PolygonLayer');\n    _defineProperty(this, \"enableShaderEncodeStyles\", ['opacity', 'extrusionBase',\n    // shape 为文本时\n    'rotation', 'offsets', 'stroke']);\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const shape = _this.getModelType();\n      _this.layerModel = new PolygonModels[shape](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  getModelType() {\n    var _shapeAttribute$scale;\n    const shapeAttribute = this.styleAttributeService.getLayerStyleAttribute('shape');\n    const shape = shapeAttribute === null || shapeAttribute === void 0 || (_shapeAttribute$scale = shapeAttribute.scale) === null || _shapeAttribute$scale === void 0 ? void 0 : _shapeAttribute$scale.field;\n    if (shape === 'fill' || !shape) {\n      return 'fill';\n    } else if (shape === 'extrude') {\n      return 'extrude';\n    } else if (shape === 'extrusion') {\n      return 'extrusion';\n    } else if (shape === 'water') {\n      return 'water';\n    } else if (shape === 'ocean') {\n      return 'ocean';\n    } else if (shape === 'line') {\n      return 'line';\n    } else {\n      return this.getPointModelType();\n    }\n  }\n  getPointModelType() {\n    // pointlayer\n    //  2D、 3d、 shape、image、text、normal、\n    const layerData = this.getEncodedData();\n    const {\n      shape2d,\n      shape3d\n    } = this.getLayerConfig();\n    const iconMap = this.iconService.getIconMap();\n    const item = layerData.find(fe => {\n      return fe.hasOwnProperty('shape');\n    });\n    if (!item) {\n      return 'fill';\n    } else {\n      const shape = item.shape;\n      if (shape === 'dot') {\n        return 'point_normal';\n      }\n      if ((shape2d === null || shape2d === void 0 ? void 0 : shape2d.indexOf(shape)) !== -1) {\n        return 'point_fill';\n      }\n      if ((shape3d === null || shape3d === void 0 ? void 0 : shape3d.indexOf(shape)) !== -1) {\n        return 'point_extrude';\n      }\n      if (iconMap.hasOwnProperty(shape)) {\n        return 'point_image';\n      }\n      return 'text';\n    }\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { getDefaultDomain } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { RasterImageTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/raster/raster_2d_frag.glsl' */\nconst rasterFrag = \"layout(std140) uniform commonUniforms {\\n  vec2 u_domain;\\n  float u_opacity;\\n  float u_noDataValue;\\n  float u_clampLow;\\n  float u_clampHigh;\\n};\\n\\nuniform sampler2D u_rasterTexture;\\nuniform sampler2D u_colorTexture;\\n\\nin vec2 v_texCoord;\\n\\nbool isnan_emu(float x) { return (x > 0.0 || x < 0.0) ? x != x : x != 0.0; }\\n\\nout vec4 outputColor;\\n\\nvoid main() {\\n  // Can use any component here since u_rasterTexture is under luminance format.\\n  float value = texture(SAMPLER_2D(u_rasterTexture), vec2(v_texCoord.x, v_texCoord.y)).r;\\n  if (value == u_noDataValue || isnan_emu(value)) {\\n    discard;\\n  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {\\n    discard;\\n  } else {\\n    float normalisedValue =(value - u_domain[0]) / (u_domain[1] - u_domain[0]);\\n    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(normalisedValue, 0));\\n    \\n    outputColor = color;\\n    outputColor.a = outputColor.a * u_opacity ;\\n    if (outputColor.a < 0.01)\\n      discard;\\n  }\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/raster/raster_2d_vert.glsl' */\nconst rasterVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec2 u_domain;\\n  float u_opacity;\\n  float u_noDataValue;\\n  float u_clampLow;\\n  float u_clampHigh;\\n};\\n\\nout vec2 v_texCoord;\\n\\n#pragma include \\\"projection\\\"\\n\\nvoid main() {\\n  v_texCoord = a_Uv;\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\\n}\\n\";\nexport default class RasterModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"colorTexture\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      UV: 9\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity = 1,\n      clampLow = true,\n      clampHigh = true,\n      noDataValue = -9999999,\n      domain,\n      rampColors\n    } = this.layer.getLayerConfig();\n    const newdomain = domain || getDefaultDomain(rampColors);\n    this.colorTexture = this.layer.textureService.getColorTexture(rampColors, newdomain);\n    const commonOptions = {\n      u_domain: newdomain,\n      u_opacity: opacity || 1,\n      u_noDataValue: noDataValue,\n      u_clampLow: clampLow ? 1 : 0,\n      u_clampHigh: (typeof clampHigh !== 'undefined' ? clampHigh : clampLow) ? 1 : 0,\n      u_rasterTexture: this.texture,\n      u_colorTexture: this.colorTexture\n    };\n    this.textures = [this.texture, this.colorTexture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  getRasterData(parserDataItem) {\n    return _asyncToGenerator(function* () {\n      if (Array.isArray(parserDataItem.data)) {\n        // 直接传入波段数据\n        return {\n          data: parserDataItem.data,\n          width: parserDataItem.width,\n          height: parserDataItem.height\n        };\n      } else {\n        // 多波段形式、需要进行处理\n        const {\n          rasterData,\n          width,\n          height\n        } = yield parserDataItem.data;\n        return {\n          data: Array.from(rasterData),\n          width,\n          height\n        };\n      }\n    })();\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const source = _this2.layer.getSource();\n      const {\n        createTexture2D,\n        queryVerdorInfo\n      } = _this2.rendererService;\n      const parserDataItem = source.data.dataArray[0];\n      const {\n        data,\n        width,\n        height\n      } = yield _this2.getRasterData(parserDataItem);\n      _this2.texture = createTexture2D({\n        // @ts-ignore\n        data: new Float32Array(data),\n        width,\n        height,\n        /**\n         * WebGL1 allow the combination of gl.LUMINANCE & gl.FLOAT with OES_texture_float\n         * TODO: https://github.com/antvis/g-device-api/issues/188\n         */\n        format: queryVerdorInfo() === 'WebGL1' ? gl.LUMINANCE : gl.RED,\n        type: gl.FLOAT,\n        alignment: 1\n      });\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'rasterImageData',\n        vertexShader: rasterVert,\n        fragmentShader: rasterFrag,\n        defines: _this2.getDefines(),\n        triangulation: RasterImageTriangulation,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        },\n        pickingEnabled: false\n      });\n      return [model];\n    })();\n  }\n  clearModels() {\n    var _this$texture, _this$colorTexture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n    (_this$colorTexture = this.colorTexture) === null || _this$colorTexture === void 0 || _this$colorTexture.destroy();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 22 层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        shaderLocation: this.attributeLocation.UV,\n        name: 'a_Uv',\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nconst _excluded = [\"data\"],\n  _excluded2 = [\"rasterData\"];\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { RasterImageTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/rgb/raster_rgb_frag.glsl' */\nconst rasterFrag = \"uniform sampler2D u_texture;\\nlayout(std140) uniform commonUniforms {\\n vec2 u_rminmax;\\n vec2 u_gminmax;\\n vec2 u_bminmax;\\n float u_opacity;\\n float u_noDataValue;\\n};\\n\\nin vec2 v_texCoord;\\n\\nout vec4 outputColor;\\n\\nvoid main() {\\n\\n  vec3 rgb = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y)).rgb;\\n\\n  if(rgb == vec3(u_noDataValue)) {\\n    outputColor = vec4(0.0, 0, 0, 0.0);\\n  } else {\\n    outputColor = vec4(rgb.r / (u_rminmax.y -u_rminmax.x), rgb.g /(u_gminmax.y -u_gminmax.x), rgb.b/ (u_bminmax.y - u_bminmax.x), u_opacity);\\n  }\\n\\n  if(outputColor.a < 0.01)\\n    discard;\\n \\n}\";\n/* babel-plugin-inline-import '../shaders/rgb/raster_rgb_vert.glsl' */\nconst rasterVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec2 u_rminmax;\\n  vec2 u_gminmax;\\n  vec2 u_bminmax;\\n  float u_opacity;\\n  float u_noDataValue;\\n};\\n\\nout vec2 v_texCoord;\\n\\n#pragma include \\\"projection\\\"\\n\\nvoid main() {\\n  v_texCoord = a_Uv;\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\\n}\\n\";\nexport default class RasterModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"dataOption\", {});\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      UV: 9\n    });\n  }\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity = 1,\n      noDataValue = 0\n    } = this.layer.getLayerConfig();\n    const {\n      rMinMax = [0, 255],\n      gMinMax = [0, 255],\n      bMinMax = [0, 255]\n    } = this.dataOption;\n    const commonOptions = {\n      u_rminmax: rMinMax,\n      u_gminmax: gMinMax,\n      u_bminmax: bMinMax,\n      u_opacity: opacity || 1,\n      u_noDataValue: noDataValue,\n      u_texture: this.texture\n    };\n    this.textures = [this.texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  getRasterData(parserDataItem) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (Array.isArray(parserDataItem.data)) {\n        const {\n            data\n          } = parserDataItem,\n          rescfg = _objectWithoutProperties(parserDataItem, _excluded);\n        _this.dataOption = rescfg;\n        return _objectSpread({\n          data\n        }, rescfg);\n      }\n      const _yield$parserDataItem = yield parserDataItem.data,\n        {\n          rasterData\n        } = _yield$parserDataItem,\n        rest = _objectWithoutProperties(_yield$parserDataItem, _excluded2);\n      _this.dataOption = rest;\n      if (Array.isArray(rasterData)) {\n        // 直接传入波段数据\n        return _objectSpread({\n          data: rasterData\n        }, rest);\n      } else {\n        // 多波段形式、需要进行处理\n        // 支持彩色栅格（多通道）\n        return _objectSpread({\n          data: Array.from(rasterData)\n        }, rest);\n      }\n    })();\n  }\n  initModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const source = _this2.layer.getSource();\n      const {\n        createTexture2D\n      } = _this2.rendererService;\n      const parserDataItem = source.data.dataArray[0];\n      const {\n        data,\n        width,\n        height\n      } = yield _this2.getRasterData(parserDataItem);\n      _this2.texture = createTexture2D({\n        // @ts-ignore\n        data: new Float32Array(data),\n        width,\n        height,\n        format: gl.RGB,\n        type: gl.FLOAT\n      });\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'rasterImageDataRGBA',\n        vertexShader: rasterVert,\n        fragmentShader: rasterFrag,\n        defines: _this2.getDefines(),\n        triangulation: RasterImageTriangulation,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        },\n        pickingEnabled: false\n      });\n      return [model];\n    })();\n  }\n  buildModels() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      return _this3.initModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 22 层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { getDefaultDomain } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { RasterImageTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/terrain/terrain_rgb_frag.glsl' */\nconst Raster_terrainFrag = \"uniform sampler2D u_texture;\\nuniform sampler2D u_colorTexture;\\n\\nlayout(std140) uniform commonUniforms {\\n vec4 u_unpack;\\n vec2 u_domain;\\n float u_opacity;\\n float u_noDataValue;\\n float u_clampLow;\\n float u_clampHigh;\\n};\\n\\nin vec2 v_texCoord;\\nout vec4 outputColor;\\n\\n\\nfloat getElevation(vec2 coord, float bias) {\\n    // Convert encoded elevation value to meters\\n    vec4 data =  texture(SAMPLER_2D(u_texture), coord,bias) * 255.0;\\n    data.a = -1.0;\\n    return dot(data, u_unpack);\\n}\\n\\nvec4 getColor(float value) {\\n   float normalisedValue =(value- u_domain[0]) / (u_domain[1] - u_domain[0]);\\n    vec2 coord = vec2(normalisedValue, 0);\\n    return  texture(SAMPLER_2D(u_colorTexture), coord);\\n}\\n\\nvoid main() {\\n  float value = getElevation(v_texCoord,0.0);\\n  if (value == u_noDataValue) {\\n    outputColor = vec4(0.0, 0, 0, 0.0);\\n  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {\\n     outputColor = vec4(0.0, 0, 0, 0.0);\\n  } else {\\n   \\n    outputColor = getColor(value);\\n    outputColor.a =  outputColor.a * u_opacity ;\\n      if(outputColor.a < 0.01)\\n      discard;\\n  }\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/terrain/terrain_rgb_vert.glsl' */\nconst Raster_terrainVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n  vec4 u_unpack;\\n  vec2 u_domain;\\n  float u_opacity;\\n  float u_noDataValue;\\n  float u_clampLow;\\n  float u_clampHigh;\\n};\\nout vec2 v_texCoord;\\n#pragma include \\\"projection\\\"\\n\\nvoid main() {\\n  v_texCoord = a_Uv;\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\\n}\\n\";\nexport default class RasterTerrainRGB extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      UV: 9\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity,\n      clampLow = true,\n      clampHigh = true,\n      noDataValue = -9999999,\n      domain,\n      rampColors,\n      colorTexture,\n      rScaler = 6553.6,\n      gScaler = 25.6,\n      bScaler = 0.1,\n      offset = 10000\n    } = this.layer.getLayerConfig();\n    const newdomain = domain || getDefaultDomain(rampColors);\n    let texture = colorTexture;\n    if (!colorTexture) {\n      texture = this.layer.textureService.getColorTexture(rampColors, newdomain);\n    } else {\n      this.layer.textureService.setColorTexture(colorTexture, rampColors, newdomain);\n    }\n    const commonOptions = {\n      u_unpack: [rScaler, gScaler, bScaler, offset],\n      u_domain: newdomain,\n      u_opacity: opacity || 1,\n      u_noDataValue: noDataValue,\n      u_clampLow: clampLow,\n      u_clampHigh: typeof clampHigh !== 'undefined' ? clampHigh : clampLow,\n      u_texture: this.texture,\n      u_colorTexture: texture\n    };\n    this.textures = [this.texture, texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      const source = _this.layer.getSource();\n      const {\n        createTexture2D\n      } = _this.rendererService;\n      const imageData = yield source.data.images;\n      _this.texture = createTexture2D({\n        data: imageData[0],\n        width: imageData[0].width,\n        height: imageData[0].height,\n        min: gl.LINEAR,\n        mag: gl.LINEAR\n      });\n      const model = yield _this.layer.buildLayerModel({\n        moduleName: 'RasterTileDataImage',\n        vertexShader: Raster_terrainVert,\n        fragmentShader: Raster_terrainFrag,\n        defines: _this.getDefines(),\n        triangulation: RasterImageTriangulation,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        }\n      });\n      return [model];\n    })();\n  }\n  clearModels() {\n    var _this$texture;\n    (_this$texture = this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.initModels();\n    })();\n  }\n  registerBuiltinAttributes() {\n    // 注册 Position 属性 64 位地位部分，经纬度数据开启双精度，避免大于 22 层级以上出现数据偏移\n    this.registerPosition64LowAttribute();\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import RasterModel from \"./raster\";\nimport RasterRgbModel from \"./rasterRgb\";\nimport RasterTerrainRGB from \"./rasterTerrainRgb\";\nconst RasterModels = {\n  raster: RasterModel,\n  rasterRgb: RasterRgbModel,\n  raster3d: RasterModel,\n  rasterTerrainRgb: RasterTerrainRGB\n};\nexport default RasterModels;", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport { rampColor2legend } from \"../utils/rampcolor_legend\";\nimport RasterModels from \"./models/index\";\nexport default class RasterLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'RasterLayer');\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modelType = _this.getModelType();\n      _this.layerModel = new RasterModels[modelType](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  getDefaultConfig() {\n    const type = this.getModelType();\n    const defaultConfig = {\n      raster: {},\n      rasterRgb: {},\n      raster3d: {},\n      rasterTerrainRgb: {}\n    };\n    return defaultConfig[type];\n  }\n  getModelType() {\n    // 根据 source 的类型判断 model type\n    const parserType = this.layerSource.getParserType();\n    switch (parserType) {\n      case 'raster' || 'ndi':\n        return 'raster';\n      case 'rasterRgb':\n        return 'rasterRgb';\n      case 'rgb':\n        return 'rasterRgb';\n      case 'image':\n        return 'rasterTerrainRgb';\n      default:\n        return 'raster';\n    }\n  }\n  getLegend(name) {\n    if (name !== 'color') return {\n      type: undefined,\n      field: undefined,\n      items: []\n    };\n    const rampColors = this.getLayerConfig().rampColors;\n    return rampColor2legend(rampColors, name);\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nexport class TileLayerService {\n  constructor({\n    rendererService,\n    layerService,\n    parent\n  }) {\n    /**\n     * tileResource 用于存储瓦片的全局资源\n     */\n    _defineProperty(this, \"tileResource\", new Map());\n    _defineProperty(this, \"rendererService\", void 0);\n    _defineProperty(this, \"layerService\", void 0);\n    _defineProperty(this, \"parent\", void 0);\n    _defineProperty(this, \"layerTiles\", []);\n    this.rendererService = rendererService;\n    this.layerService = layerService;\n    this.parent = parent;\n  }\n  get tiles() {\n    return this.layerTiles;\n  }\n  hasTile(tileKey) {\n    return this.layerTiles.some(tile => tile.key === tileKey);\n  }\n  addTile(tile) {\n    this.layerTiles.push(tile);\n  }\n  getTile(tileKey) {\n    return this.layerTiles.find(tile => tile.key === tileKey);\n  }\n  getVisibleTileBylngLat(lngLat) {\n    // 加载完成 & 可见 & 鼠标选中\n    return this.layerTiles.find(tile => tile.isLoaded && tile.visible && tile.lnglatInBounds(lngLat));\n  }\n  removeTile(tileKey) {\n    const index = this.layerTiles.findIndex(t => t.key === tileKey);\n    const tile = this.layerTiles.splice(index, 1);\n    if (tile[0]) {\n      tile[0].destroy();\n    }\n  }\n  updateTileVisible(sourceTile) {\n    const tile = this.getTile(sourceTile.key);\n    if (sourceTile.isVisible) {\n      // 不可见 => 可见 兄弟节点加载完成\n      if (sourceTile.parent) {\n        const flag = this.isChildrenLoaded(sourceTile.parent);\n        tile === null || tile === void 0 || tile.updateVisible(flag);\n      } else {\n        tile === null || tile === void 0 || tile.updateVisible(true);\n      }\n    } else {\n      // 可见 => 不可见 兄弟节点加载完成\n      if (sourceTile.parent) {\n        const flag = this.isChildrenLoaded(sourceTile.parent);\n        tile === null || tile === void 0 || tile.updateVisible(!flag);\n      } else {\n        tile === null || tile === void 0 || tile.updateVisible(false);\n      }\n    }\n  }\n  isParentLoaded(sourceTile) {\n    const parentTile = sourceTile.parent;\n    if (!parentTile) {\n      return true;\n    }\n    const tile = this.getTile(parentTile === null || parentTile === void 0 ? void 0 : parentTile.key);\n    if (tile !== null && tile !== void 0 && tile.isLoaded) {\n      // 递归父级\n      return true;\n    }\n    return false;\n  }\n  isChildrenLoaded(sourceTile) {\n    const childrenTile = sourceTile === null || sourceTile === void 0 ? void 0 : sourceTile.children;\n    if (childrenTile.length === 0) {\n      return true;\n    }\n    return childrenTile.every(tile => {\n      const tileLayer = this.getTile(tile === null || tile === void 0 ? void 0 : tile.key);\n      if (!tileLayer) {\n        return true;\n      }\n      return (tileLayer === null || tileLayer === void 0 ? void 0 : tileLayer.isLoaded) === true;\n    });\n  }\n  render() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const layers = _this.getRenderLayers();\n      const renders = layers.map( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (layer) {\n          yield _this.layerService.renderTileLayer(layer);\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n      yield Promise.all(renders);\n    })();\n  }\n  getRenderLayers() {\n    const tileList = this.layerTiles.filter(t => t.visible && t.isLoaded);\n    const layers = [];\n    tileList.map(tile => layers.push(...tile.getLayers()));\n    return layers;\n  }\n  getLayers() {\n    const tileList = this.layerTiles.filter(t => t.isLoaded);\n    const layers = [];\n    tileList.map(tile => layers.push(...tile.getLayers()));\n    return layers;\n  }\n  getTiles() {\n    return this.layerTiles;\n  }\n  destroy() {\n    this.layerTiles.forEach(t => t.destroy());\n    this.tileResource.clear();\n  }\n}", "/**\n * splaytree v3.1.2\n * Fast Splay tree for Node and browser\n *\n * @author Alexander Milevski <info@w8r.name>\n * @license MIT\n * @preserve\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar Node = /** @class */ (function () {\r\n    function Node(key, data) {\r\n        this.next = null;\r\n        this.key = key;\r\n        this.data = data;\r\n        this.left = null;\r\n        this.right = null;\r\n    }\r\n    return Node;\r\n}());\n\n/* follows \"An implementation of top-down splaying\"\r\n * by D. Sleator <sleator@cs.cmu.edu> March 1992\r\n */\r\nfunction DEFAULT_COMPARE(a, b) {\r\n    return a > b ? 1 : a < b ? -1 : 0;\r\n}\r\n/**\r\n * Simple top down splay, not requiring i to be in the tree t.\r\n */\r\nfunction splay(i, t, comparator) {\r\n    var N = new Node(null, null);\r\n    var l = N;\r\n    var r = N;\r\n    while (true) {\r\n        var cmp = comparator(i, t.key);\r\n        //if (i < t.key) {\r\n        if (cmp < 0) {\r\n            if (t.left === null)\r\n                break;\r\n            //if (i < t.left.key) {\r\n            if (comparator(i, t.left.key) < 0) {\r\n                var y = t.left; /* rotate right */\r\n                t.left = y.right;\r\n                y.right = t;\r\n                t = y;\r\n                if (t.left === null)\r\n                    break;\r\n            }\r\n            r.left = t; /* link right */\r\n            r = t;\r\n            t = t.left;\r\n            //} else if (i > t.key) {\r\n        }\r\n        else if (cmp > 0) {\r\n            if (t.right === null)\r\n                break;\r\n            //if (i > t.right.key) {\r\n            if (comparator(i, t.right.key) > 0) {\r\n                var y = t.right; /* rotate left */\r\n                t.right = y.left;\r\n                y.left = t;\r\n                t = y;\r\n                if (t.right === null)\r\n                    break;\r\n            }\r\n            l.right = t; /* link left */\r\n            l = t;\r\n            t = t.right;\r\n        }\r\n        else\r\n            break;\r\n    }\r\n    /* assemble */\r\n    l.right = t.left;\r\n    r.left = t.right;\r\n    t.left = N.right;\r\n    t.right = N.left;\r\n    return t;\r\n}\r\nfunction insert(i, data, t, comparator) {\r\n    var node = new Node(i, data);\r\n    if (t === null) {\r\n        node.left = node.right = null;\r\n        return node;\r\n    }\r\n    t = splay(i, t, comparator);\r\n    var cmp = comparator(i, t.key);\r\n    if (cmp < 0) {\r\n        node.left = t.left;\r\n        node.right = t;\r\n        t.left = null;\r\n    }\r\n    else if (cmp >= 0) {\r\n        node.right = t.right;\r\n        node.left = t;\r\n        t.right = null;\r\n    }\r\n    return node;\r\n}\r\nfunction split(key, v, comparator) {\r\n    var left = null;\r\n    var right = null;\r\n    if (v) {\r\n        v = splay(key, v, comparator);\r\n        var cmp = comparator(v.key, key);\r\n        if (cmp === 0) {\r\n            left = v.left;\r\n            right = v.right;\r\n        }\r\n        else if (cmp < 0) {\r\n            right = v.right;\r\n            v.right = null;\r\n            left = v;\r\n        }\r\n        else {\r\n            left = v.left;\r\n            v.left = null;\r\n            right = v;\r\n        }\r\n    }\r\n    return { left: left, right: right };\r\n}\r\nfunction merge(left, right, comparator) {\r\n    if (right === null)\r\n        return left;\r\n    if (left === null)\r\n        return right;\r\n    right = splay(left.key, right, comparator);\r\n    right.left = left;\r\n    return right;\r\n}\r\n/**\r\n * Prints level of the tree\r\n */\r\nfunction printRow(root, prefix, isTail, out, printNode) {\r\n    if (root) {\r\n        out(\"\" + prefix + (isTail ? '└── ' : '├── ') + printNode(root) + \"\\n\");\r\n        var indent = prefix + (isTail ? '    ' : '│   ');\r\n        if (root.left)\r\n            printRow(root.left, indent, false, out, printNode);\r\n        if (root.right)\r\n            printRow(root.right, indent, true, out, printNode);\r\n    }\r\n}\r\nvar Tree = /** @class */ (function () {\r\n    function Tree(comparator) {\r\n        if (comparator === void 0) { comparator = DEFAULT_COMPARE; }\r\n        this._root = null;\r\n        this._size = 0;\r\n        this._comparator = comparator;\r\n    }\r\n    /**\r\n     * Inserts a key, allows duplicates\r\n     */\r\n    Tree.prototype.insert = function (key, data) {\r\n        this._size++;\r\n        return this._root = insert(key, data, this._root, this._comparator);\r\n    };\r\n    /**\r\n     * Adds a key, if it is not present in the tree\r\n     */\r\n    Tree.prototype.add = function (key, data) {\r\n        var node = new Node(key, data);\r\n        if (this._root === null) {\r\n            node.left = node.right = null;\r\n            this._size++;\r\n            this._root = node;\r\n        }\r\n        var comparator = this._comparator;\r\n        var t = splay(key, this._root, comparator);\r\n        var cmp = comparator(key, t.key);\r\n        if (cmp === 0)\r\n            this._root = t;\r\n        else {\r\n            if (cmp < 0) {\r\n                node.left = t.left;\r\n                node.right = t;\r\n                t.left = null;\r\n            }\r\n            else if (cmp > 0) {\r\n                node.right = t.right;\r\n                node.left = t;\r\n                t.right = null;\r\n            }\r\n            this._size++;\r\n            this._root = node;\r\n        }\r\n        return this._root;\r\n    };\r\n    /**\r\n     * @param  {Key} key\r\n     * @return {Node|null}\r\n     */\r\n    Tree.prototype.remove = function (key) {\r\n        this._root = this._remove(key, this._root, this._comparator);\r\n    };\r\n    /**\r\n     * Deletes i from the tree if it's there\r\n     */\r\n    Tree.prototype._remove = function (i, t, comparator) {\r\n        var x;\r\n        if (t === null)\r\n            return null;\r\n        t = splay(i, t, comparator);\r\n        var cmp = comparator(i, t.key);\r\n        if (cmp === 0) { /* found it */\r\n            if (t.left === null) {\r\n                x = t.right;\r\n            }\r\n            else {\r\n                x = splay(i, t.left, comparator);\r\n                x.right = t.right;\r\n            }\r\n            this._size--;\r\n            return x;\r\n        }\r\n        return t; /* It wasn't there */\r\n    };\r\n    /**\r\n     * Removes and returns the node with smallest key\r\n     */\r\n    Tree.prototype.pop = function () {\r\n        var node = this._root;\r\n        if (node) {\r\n            while (node.left)\r\n                node = node.left;\r\n            this._root = splay(node.key, this._root, this._comparator);\r\n            this._root = this._remove(node.key, this._root, this._comparator);\r\n            return { key: node.key, data: node.data };\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Find without splaying\r\n     */\r\n    Tree.prototype.findStatic = function (key) {\r\n        var current = this._root;\r\n        var compare = this._comparator;\r\n        while (current) {\r\n            var cmp = compare(key, current.key);\r\n            if (cmp === 0)\r\n                return current;\r\n            else if (cmp < 0)\r\n                current = current.left;\r\n            else\r\n                current = current.right;\r\n        }\r\n        return null;\r\n    };\r\n    Tree.prototype.find = function (key) {\r\n        if (this._root) {\r\n            this._root = splay(key, this._root, this._comparator);\r\n            if (this._comparator(key, this._root.key) !== 0)\r\n                return null;\r\n        }\r\n        return this._root;\r\n    };\r\n    Tree.prototype.contains = function (key) {\r\n        var current = this._root;\r\n        var compare = this._comparator;\r\n        while (current) {\r\n            var cmp = compare(key, current.key);\r\n            if (cmp === 0)\r\n                return true;\r\n            else if (cmp < 0)\r\n                current = current.left;\r\n            else\r\n                current = current.right;\r\n        }\r\n        return false;\r\n    };\r\n    Tree.prototype.forEach = function (visitor, ctx) {\r\n        var current = this._root;\r\n        var Q = []; /* Initialize stack s */\r\n        var done = false;\r\n        while (!done) {\r\n            if (current !== null) {\r\n                Q.push(current);\r\n                current = current.left;\r\n            }\r\n            else {\r\n                if (Q.length !== 0) {\r\n                    current = Q.pop();\r\n                    visitor.call(ctx, current);\r\n                    current = current.right;\r\n                }\r\n                else\r\n                    done = true;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Walk key range from `low` to `high`. Stops if `fn` returns a value.\r\n     */\r\n    Tree.prototype.range = function (low, high, fn, ctx) {\r\n        var Q = [];\r\n        var compare = this._comparator;\r\n        var node = this._root;\r\n        var cmp;\r\n        while (Q.length !== 0 || node) {\r\n            if (node) {\r\n                Q.push(node);\r\n                node = node.left;\r\n            }\r\n            else {\r\n                node = Q.pop();\r\n                cmp = compare(node.key, high);\r\n                if (cmp > 0) {\r\n                    break;\r\n                }\r\n                else if (compare(node.key, low) >= 0) {\r\n                    if (fn.call(ctx, node))\r\n                        return this; // stop if smth is returned\r\n                }\r\n                node = node.right;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Returns array of keys\r\n     */\r\n    Tree.prototype.keys = function () {\r\n        var keys = [];\r\n        this.forEach(function (_a) {\r\n            var key = _a.key;\r\n            return keys.push(key);\r\n        });\r\n        return keys;\r\n    };\r\n    /**\r\n     * Returns array of all the data in the nodes\r\n     */\r\n    Tree.prototype.values = function () {\r\n        var values = [];\r\n        this.forEach(function (_a) {\r\n            var data = _a.data;\r\n            return values.push(data);\r\n        });\r\n        return values;\r\n    };\r\n    Tree.prototype.min = function () {\r\n        if (this._root)\r\n            return this.minNode(this._root).key;\r\n        return null;\r\n    };\r\n    Tree.prototype.max = function () {\r\n        if (this._root)\r\n            return this.maxNode(this._root).key;\r\n        return null;\r\n    };\r\n    Tree.prototype.minNode = function (t) {\r\n        if (t === void 0) { t = this._root; }\r\n        if (t)\r\n            while (t.left)\r\n                t = t.left;\r\n        return t;\r\n    };\r\n    Tree.prototype.maxNode = function (t) {\r\n        if (t === void 0) { t = this._root; }\r\n        if (t)\r\n            while (t.right)\r\n                t = t.right;\r\n        return t;\r\n    };\r\n    /**\r\n     * Returns node at given index\r\n     */\r\n    Tree.prototype.at = function (index) {\r\n        var current = this._root;\r\n        var done = false;\r\n        var i = 0;\r\n        var Q = [];\r\n        while (!done) {\r\n            if (current) {\r\n                Q.push(current);\r\n                current = current.left;\r\n            }\r\n            else {\r\n                if (Q.length > 0) {\r\n                    current = Q.pop();\r\n                    if (i === index)\r\n                        return current;\r\n                    i++;\r\n                    current = current.right;\r\n                }\r\n                else\r\n                    done = true;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    Tree.prototype.next = function (d) {\r\n        var root = this._root;\r\n        var successor = null;\r\n        if (d.right) {\r\n            successor = d.right;\r\n            while (successor.left)\r\n                successor = successor.left;\r\n            return successor;\r\n        }\r\n        var comparator = this._comparator;\r\n        while (root) {\r\n            var cmp = comparator(d.key, root.key);\r\n            if (cmp === 0)\r\n                break;\r\n            else if (cmp < 0) {\r\n                successor = root;\r\n                root = root.left;\r\n            }\r\n            else\r\n                root = root.right;\r\n        }\r\n        return successor;\r\n    };\r\n    Tree.prototype.prev = function (d) {\r\n        var root = this._root;\r\n        var predecessor = null;\r\n        if (d.left !== null) {\r\n            predecessor = d.left;\r\n            while (predecessor.right)\r\n                predecessor = predecessor.right;\r\n            return predecessor;\r\n        }\r\n        var comparator = this._comparator;\r\n        while (root) {\r\n            var cmp = comparator(d.key, root.key);\r\n            if (cmp === 0)\r\n                break;\r\n            else if (cmp < 0)\r\n                root = root.left;\r\n            else {\r\n                predecessor = root;\r\n                root = root.right;\r\n            }\r\n        }\r\n        return predecessor;\r\n    };\r\n    Tree.prototype.clear = function () {\r\n        this._root = null;\r\n        this._size = 0;\r\n        return this;\r\n    };\r\n    Tree.prototype.toList = function () {\r\n        return toList(this._root);\r\n    };\r\n    /**\r\n     * Bulk-load items. Both array have to be same size\r\n     */\r\n    Tree.prototype.load = function (keys, values, presort) {\r\n        if (values === void 0) { values = []; }\r\n        if (presort === void 0) { presort = false; }\r\n        var size = keys.length;\r\n        var comparator = this._comparator;\r\n        // sort if needed\r\n        if (presort)\r\n            sort(keys, values, 0, size - 1, comparator);\r\n        if (this._root === null) { // empty tree\r\n            this._root = loadRecursive(keys, values, 0, size);\r\n            this._size = size;\r\n        }\r\n        else { // that re-builds the whole tree from two in-order traversals\r\n            var mergedList = mergeLists(this.toList(), createList(keys, values), comparator);\r\n            size = this._size + size;\r\n            this._root = sortedListToBST({ head: mergedList }, 0, size);\r\n        }\r\n        return this;\r\n    };\r\n    Tree.prototype.isEmpty = function () { return this._root === null; };\r\n    Object.defineProperty(Tree.prototype, \"size\", {\r\n        get: function () { return this._size; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tree.prototype, \"root\", {\r\n        get: function () { return this._root; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Tree.prototype.toString = function (printNode) {\r\n        if (printNode === void 0) { printNode = function (n) { return String(n.key); }; }\r\n        var out = [];\r\n        printRow(this._root, '', true, function (v) { return out.push(v); }, printNode);\r\n        return out.join('');\r\n    };\r\n    Tree.prototype.update = function (key, newKey, newData) {\r\n        var comparator = this._comparator;\r\n        var _a = split(key, this._root, comparator), left = _a.left, right = _a.right;\r\n        if (comparator(key, newKey) < 0) {\r\n            right = insert(newKey, newData, right, comparator);\r\n        }\r\n        else {\r\n            left = insert(newKey, newData, left, comparator);\r\n        }\r\n        this._root = merge(left, right, comparator);\r\n    };\r\n    Tree.prototype.split = function (key) {\r\n        return split(key, this._root, this._comparator);\r\n    };\r\n    Tree.prototype[Symbol.iterator] = function () {\r\n        var current, Q, done;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    current = this._root;\r\n                    Q = [];\r\n                    done = false;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!!done) return [3 /*break*/, 6];\r\n                    if (!(current !== null)) return [3 /*break*/, 2];\r\n                    Q.push(current);\r\n                    current = current.left;\r\n                    return [3 /*break*/, 5];\r\n                case 2:\r\n                    if (!(Q.length !== 0)) return [3 /*break*/, 4];\r\n                    current = Q.pop();\r\n                    return [4 /*yield*/, current];\r\n                case 3:\r\n                    _a.sent();\r\n                    current = current.right;\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    done = true;\r\n                    _a.label = 5;\r\n                case 5: return [3 /*break*/, 1];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    };\r\n    return Tree;\r\n}());\r\nfunction loadRecursive(keys, values, start, end) {\r\n    var size = end - start;\r\n    if (size > 0) {\r\n        var middle = start + Math.floor(size / 2);\r\n        var key = keys[middle];\r\n        var data = values[middle];\r\n        var node = new Node(key, data);\r\n        node.left = loadRecursive(keys, values, start, middle);\r\n        node.right = loadRecursive(keys, values, middle + 1, end);\r\n        return node;\r\n    }\r\n    return null;\r\n}\r\nfunction createList(keys, values) {\r\n    var head = new Node(null, null);\r\n    var p = head;\r\n    for (var i = 0; i < keys.length; i++) {\r\n        p = p.next = new Node(keys[i], values[i]);\r\n    }\r\n    p.next = null;\r\n    return head.next;\r\n}\r\nfunction toList(root) {\r\n    var current = root;\r\n    var Q = [];\r\n    var done = false;\r\n    var head = new Node(null, null);\r\n    var p = head;\r\n    while (!done) {\r\n        if (current) {\r\n            Q.push(current);\r\n            current = current.left;\r\n        }\r\n        else {\r\n            if (Q.length > 0) {\r\n                current = p = p.next = Q.pop();\r\n                current = current.right;\r\n            }\r\n            else\r\n                done = true;\r\n        }\r\n    }\r\n    p.next = null; // that'll work even if the tree was empty\r\n    return head.next;\r\n}\r\nfunction sortedListToBST(list, start, end) {\r\n    var size = end - start;\r\n    if (size > 0) {\r\n        var middle = start + Math.floor(size / 2);\r\n        var left = sortedListToBST(list, start, middle);\r\n        var root = list.head;\r\n        root.left = left;\r\n        list.head = list.head.next;\r\n        root.right = sortedListToBST(list, middle + 1, end);\r\n        return root;\r\n    }\r\n    return null;\r\n}\r\nfunction mergeLists(l1, l2, compare) {\r\n    var head = new Node(null, null); // dummy\r\n    var p = head;\r\n    var p1 = l1;\r\n    var p2 = l2;\r\n    while (p1 !== null && p2 !== null) {\r\n        if (compare(p1.key, p2.key) < 0) {\r\n            p.next = p1;\r\n            p1 = p1.next;\r\n        }\r\n        else {\r\n            p.next = p2;\r\n            p2 = p2.next;\r\n        }\r\n        p = p.next;\r\n    }\r\n    if (p1 !== null) {\r\n        p.next = p1;\r\n    }\r\n    else if (p2 !== null) {\r\n        p.next = p2;\r\n    }\r\n    return head.next;\r\n}\r\nfunction sort(keys, values, left, right, compare) {\r\n    if (left >= right)\r\n        return;\r\n    var pivot = keys[(left + right) >> 1];\r\n    var i = left - 1;\r\n    var j = right + 1;\r\n    while (true) {\r\n        do\r\n            i++;\r\n        while (compare(keys[i], pivot) < 0);\r\n        do\r\n            j--;\r\n        while (compare(keys[j], pivot) > 0);\r\n        if (i >= j)\r\n            break;\r\n        var tmp = keys[i];\r\n        keys[i] = keys[j];\r\n        keys[j] = tmp;\r\n        tmp = values[i];\r\n        values[i] = values[j];\r\n        values[j] = tmp;\r\n    }\r\n    sort(keys, values, left, j, compare);\r\n    sort(keys, values, j + 1, right, compare);\r\n}\n\nexport default Tree;\n//# sourceMappingURL=splay.esm.js.map\n", "export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n", "import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n", "import {epsilon, splitter, resulterrbound, estimate, vec, sum, scale} from './util.js';\n\nconst o3derrboundA = (7 + 56 * epsilon) * epsilon;\nconst o3derrboundB = (3 + 28 * epsilon) * epsilon;\nconst o3derrboundC = (26 + 288 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst at_b = vec(4);\nconst at_c = vec(4);\nconst bt_c = vec(4);\nconst bt_a = vec(4);\nconst ct_a = vec(4);\nconst ct_b = vec(4);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abt = vec(8);\nconst u = vec(4);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _16 = vec(8);\nconst _12 = vec(12);\n\nlet fin = vec(192);\nlet fin2 = vec(192);\n\nfunction finadd(finlen, alen, a) {\n    finlen = sum(finlen, fin, alen, a, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction tailinit(xtail, ytail, ax, ay, bx, by, a, b) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3, negate;\n    if (xtail === 0) {\n        if (ytail === 0) {\n            a[0] = 0;\n            b[0] = 0;\n            return 1;\n        } else {\n            negate = -ytail;\n            s1 = negate * ax;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        }\n    } else {\n        if (ytail === 0) {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            negate = -xtail;\n            s1 = negate * by;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        } else {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = ytail * ax;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            a[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            a[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            a[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            a[3] = u3;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = xtail * by;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            b[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            b[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            b[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            b[3] = u3;\n            return 4;\n        }\n    }\n}\n\nfunction tailadd(finlen, a, b, k, z) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, u3;\n    s1 = a * b;\n    c = splitter * a;\n    ahi = c - (c - a);\n    alo = a - ahi;\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    c = splitter * k;\n    bhi = c - (c - k);\n    blo = k - bhi;\n    _i = s0 * k;\n    c = splitter * s0;\n    ahi = c - (c - s0);\n    alo = s0 - ahi;\n    u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n    _j = s1 * k;\n    c = splitter * s1;\n    ahi = c - (c - s1);\n    alo = s1 - ahi;\n    _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n    _k = _i + _0;\n    bvirt = _k - _i;\n    u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n    u3 = _j + _k;\n    u[2] = _k - (u3 - _j);\n    u[3] = u3;\n    finlen = finadd(finlen, 4, u);\n    if (z !== 0) {\n        c = splitter * z;\n        bhi = c - (c - z);\n        blo = z - bhi;\n        _i = s0 * z;\n        c = splitter * s0;\n        ahi = c - (c - s0);\n        alo = s0 - ahi;\n        u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n        _j = s1 * z;\n        c = splitter * s1;\n        ahi = c - (c - s1);\n        alo = s1 - ahi;\n        _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n        _k = _i + _0;\n        bvirt = _k - _i;\n        u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n        u3 = _j + _k;\n        u[2] = _k - (u3 - _j);\n        u[3] = u3;\n        finlen = finadd(finlen, 4, u);\n    }\n    return finlen;\n}\n\nfunction orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail;\n    let adytail, bdytail, cdytail;\n    let adztail, bdztail, cdztail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            scale(4, bc, adz, _8), _8,\n            scale(4, ca, bdz, _8b), _8b, _16), _16,\n        scale(4, ab, cdz, _8), _8, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = o3derrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    bvirt = az - adz;\n    adztail = az - (adz + bvirt) + (bvirt - dz);\n    bvirt = bz - bdz;\n    bdztail = bz - (bdz + bvirt) + (bvirt - dz);\n    bvirt = cz - cdz;\n    cdztail = cz - (cdz + bvirt) + (bvirt - dz);\n\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 &&\n        adytail === 0 && bdytail === 0 && cdytail === 0 &&\n        adztail === 0 && bdztail === 0 && cdztail === 0) {\n        return det;\n    }\n\n    errbound = o3derrboundC * permanent + resulterrbound * Math.abs(det);\n    det +=\n        adz * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + adztail * (bdx * cdy - bdy * cdx) +\n        bdz * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + bdztail * (cdx * ady - cdy * adx) +\n        cdz * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + cdztail * (adx * bdy - ady * bdx);\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    const at_len = tailinit(adxtail, adytail, bdx, bdy, cdx, cdy, at_b, at_c);\n    const bt_len = tailinit(bdxtail, bdytail, cdx, cdy, adx, ady, bt_c, bt_a);\n    const ct_len = tailinit(cdxtail, cdytail, adx, ady, bdx, bdy, ct_a, ct_b);\n\n    const bctlen = sum(bt_len, bt_c, ct_len, ct_b, bct);\n    finlen = finadd(finlen, scale(bctlen, bct, adz, _16), _16);\n\n    const catlen = sum(ct_len, ct_a, at_len, at_c, cat);\n    finlen = finadd(finlen, scale(catlen, cat, bdz, _16), _16);\n\n    const abtlen = sum(at_len, at_b, bt_len, bt_a, abt);\n    finlen = finadd(finlen, scale(abtlen, abt, cdz, _16), _16);\n\n    if (adztail !== 0) {\n        finlen = finadd(finlen, scale(4, bc, adztail, _12), _12);\n        finlen = finadd(finlen, scale(bctlen, bct, adztail, _16), _16);\n    }\n    if (bdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ca, bdztail, _12), _12);\n        finlen = finadd(finlen, scale(catlen, cat, bdztail, _16), _16);\n    }\n    if (cdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ab, cdztail, _12), _12);\n        finlen = finadd(finlen, scale(abtlen, abt, cdztail, _16), _16);\n    }\n\n    if (adxtail !== 0) {\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, adxtail, bdytail, cdz, cdztail);\n        }\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, -adxtail, cdytail, bdz, bdztail);\n        }\n    }\n    if (bdxtail !== 0) {\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, bdxtail, cdytail, adz, adztail);\n        }\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, -bdxtail, adytail, cdz, cdztail);\n        }\n    }\n    if (cdxtail !== 0) {\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, cdxtail, adytail, bdz, bdztail);\n        }\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, -cdxtail, bdytail, adz, adztail);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function orient3d(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n\n    const det =\n        adz * (bdxcdy - cdxbdy) +\n        bdz * (cdxady - adxcdy) +\n        cdz * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n\n    const errbound = o3derrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n\n    return orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent);\n}\n\nexport function orient3dfast(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    return adx * (bdy * cdz - bdz * cdy) +\n        bdx * (cdy * adz - cdz * ady) +\n        cdx * (ady * bdz - adz * bdy);\n}\n", "import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale} from './util.js';\n\nconst iccerrboundA = (10 + 96 * epsilon) * epsilon;\nconst iccerrboundB = (4 + 48 * epsilon) * epsilon;\nconst iccerrboundC = (44 + 576 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst aa = vec(4);\nconst bb = vec(4);\nconst cc = vec(4);\nconst u = vec(4);\nconst v = vec(4);\nconst axtbc = vec(8);\nconst aytbc = vec(8);\nconst bxtca = vec(8);\nconst bytca = vec(8);\nconst cxtab = vec(8);\nconst cytab = vec(8);\nconst abt = vec(8);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abtt = vec(4);\nconst bctt = vec(4);\nconst catt = vec(4);\n\nconst _8 = vec(8);\nconst _16 = vec(16);\nconst _16b = vec(16);\nconst _16c = vec(16);\nconst _32 = vec(32);\nconst _32b = vec(32);\nconst _48 = vec(48);\nconst _64 = vec(64);\n\nlet fin = vec(1152);\nlet fin2 = vec(1152);\n\nfunction finadd(finlen, a, alen) {\n    finlen = sum(finlen, fin, a, alen, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail, adytail, bdytail, cdytail;\n    let axtbclen, aytbclen, bxtcalen, bytcalen, cxtablen, cytablen;\n    let abtlen, bctlen, catlen;\n    let abttlen, bcttlen, cattlen;\n    let n1, n0;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            sum(\n                scale(scale(4, bc, adx, _8), _8, adx, _16), _16,\n                scale(scale(4, bc, ady, _8), _8, ady, _16b), _16b, _32), _32,\n            sum(\n                scale(scale(4, ca, bdx, _8), _8, bdx, _16), _16,\n                scale(scale(4, ca, bdy, _8), _8, bdy, _16b), _16b, _32b), _32b, _64), _64,\n        sum(\n            scale(scale(4, ab, cdx, _8), _8, cdx, _16), _16,\n            scale(scale(4, ab, cdy, _8), _8, cdy, _16b), _16b, _32), _32, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = iccerrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0) {\n        return det;\n    }\n\n    errbound = iccerrboundC * permanent + resulterrbound * Math.abs(det);\n    det += ((adx * adx + ady * ady) * ((bdx * cdytail + cdy * bdxtail) - (bdy * cdxtail + cdx * bdytail)) +\n        2 * (adx * adxtail + ady * adytail) * (bdx * cdy - bdy * cdx)) +\n        ((bdx * bdx + bdy * bdy) * ((cdx * adytail + ady * cdxtail) - (cdy * adxtail + adx * cdytail)) +\n        2 * (bdx * bdxtail + bdy * bdytail) * (cdx * ady - cdy * adx)) +\n        ((cdx * cdx + cdy * cdy) * ((adx * bdytail + bdy * adxtail) - (ady * bdxtail + bdx * adytail)) +\n        2 * (cdx * cdxtail + cdy * cdytail) * (adx * bdy - ady * bdx));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n        s1 = adx * adx;\n        c = splitter * adx;\n        ahi = c - (c - adx);\n        alo = adx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = ady * ady;\n        c = splitter * ady;\n        ahi = c - (c - ady);\n        alo = ady - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        aa[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        aa[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        aa[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        aa[3] = u3;\n    }\n    if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n        s1 = bdx * bdx;\n        c = splitter * bdx;\n        ahi = c - (c - bdx);\n        alo = bdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = bdy * bdy;\n        c = splitter * bdy;\n        ahi = c - (c - bdy);\n        alo = bdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        bb[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        bb[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        bb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        bb[3] = u3;\n    }\n    if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n        s1 = cdx * cdx;\n        c = splitter * cdx;\n        ahi = c - (c - cdx);\n        alo = cdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = cdy * cdy;\n        c = splitter * cdy;\n        ahi = c - (c - cdy);\n        alo = cdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        cc[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        cc[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        cc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        cc[3] = u3;\n    }\n\n    if (adxtail !== 0) {\n        axtbclen = scale(4, bc, adxtail, axtbc);\n        finlen = finadd(finlen, sum_three(\n            scale(axtbclen, axtbc, 2 * adx, _16), _16,\n            scale(scale(4, cc, adxtail, _8), _8, bdy, _16b), _16b,\n            scale(scale(4, bb, adxtail, _8), _8, -cdy, _16c), _16c, _32, _48), _48);\n    }\n    if (adytail !== 0) {\n        aytbclen = scale(4, bc, adytail, aytbc);\n        finlen = finadd(finlen, sum_three(\n            scale(aytbclen, aytbc, 2 * ady, _16), _16,\n            scale(scale(4, bb, adytail, _8), _8, cdx, _16b), _16b,\n            scale(scale(4, cc, adytail, _8), _8, -bdx, _16c), _16c, _32, _48), _48);\n    }\n    if (bdxtail !== 0) {\n        bxtcalen = scale(4, ca, bdxtail, bxtca);\n        finlen = finadd(finlen, sum_three(\n            scale(bxtcalen, bxtca, 2 * bdx, _16), _16,\n            scale(scale(4, aa, bdxtail, _8), _8, cdy, _16b), _16b,\n            scale(scale(4, cc, bdxtail, _8), _8, -ady, _16c), _16c, _32, _48), _48);\n    }\n    if (bdytail !== 0) {\n        bytcalen = scale(4, ca, bdytail, bytca);\n        finlen = finadd(finlen, sum_three(\n            scale(bytcalen, bytca, 2 * bdy, _16), _16,\n            scale(scale(4, cc, bdytail, _8), _8, adx, _16b), _16b,\n            scale(scale(4, aa, bdytail, _8), _8, -cdx, _16c), _16c, _32, _48), _48);\n    }\n    if (cdxtail !== 0) {\n        cxtablen = scale(4, ab, cdxtail, cxtab);\n        finlen = finadd(finlen, sum_three(\n            scale(cxtablen, cxtab, 2 * cdx, _16), _16,\n            scale(scale(4, bb, cdxtail, _8), _8, ady, _16b), _16b,\n            scale(scale(4, aa, cdxtail, _8), _8, -bdy, _16c), _16c, _32, _48), _48);\n    }\n    if (cdytail !== 0) {\n        cytablen = scale(4, ab, cdytail, cytab);\n        finlen = finadd(finlen, sum_three(\n            scale(cytablen, cytab, 2 * cdy, _16), _16,\n            scale(scale(4, aa, cdytail, _8), _8, bdx, _16b), _16b,\n            scale(scale(4, bb, cdytail, _8), _8, -adx, _16c), _16c, _32, _48), _48);\n    }\n\n    if (adxtail !== 0 || adytail !== 0) {\n        if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n            s1 = bdxtail * cdy;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdy;\n            bhi = c - (c - cdy);\n            blo = cdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * cdytail;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            s1 = cdxtail * -bdy;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * -bdy;\n            bhi = c - (c - -bdy);\n            blo = -bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * -bdytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * -bdytail;\n            bhi = c - (c - -bdytail);\n            blo = -bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            bctlen = sum(4, u, 4, v, bct);\n            s1 = bdxtail * cdytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdxtail * bdytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            bctt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            bctt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            bctt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            bctt[3] = u3;\n            bcttlen = 4;\n        } else {\n            bct[0] = 0;\n            bctlen = 1;\n            bctt[0] = 0;\n            bcttlen = 1;\n        }\n        if (adxtail !== 0) {\n            const len = scale(bctlen, bct, adxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(axtbclen, axtbc, adxtail, _16), _16,\n                scale(len, _16c, 2 * adx, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * adx, _16), _16,\n                scale(len2, _8, adxtail, _16b), _16b,\n                scale(len, _16c, adxtail, _32), _32, _32b, _64), _64);\n\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, adxtail, _8), _8, bdytail, _16), _16);\n            }\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, -adxtail, _8), _8, cdytail, _16), _16);\n            }\n        }\n        if (adytail !== 0) {\n            const len = scale(bctlen, bct, adytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(aytbclen, aytbc, adytail, _16), _16,\n                scale(len, _16c, 2 * ady, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * ady, _16), _16,\n                scale(len2, _8, adytail, _16b), _16b,\n                scale(len, _16c, adytail, _32), _32, _32b, _64), _64);\n        }\n    }\n    if (bdxtail !== 0 || bdytail !== 0) {\n        if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n            s1 = cdxtail * ady;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * ady;\n            bhi = c - (c - ady);\n            blo = ady - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * adytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -cdy;\n            n0 = -cdytail;\n            s1 = adxtail * n1;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * n0;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            catlen = sum(4, u, 4, v, cat);\n            s1 = cdxtail * adytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adxtail * cdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            catt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            catt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            catt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            catt[3] = u3;\n            cattlen = 4;\n        } else {\n            cat[0] = 0;\n            catlen = 1;\n            catt[0] = 0;\n            cattlen = 1;\n        }\n        if (bdxtail !== 0) {\n            const len = scale(catlen, cat, bdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bxtcalen, bxtca, bdxtail, _16), _16,\n                scale(len, _16c, 2 * bdx, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdx, _16), _16,\n                scale(len2, _8, bdxtail, _16b), _16b,\n                scale(len, _16c, bdxtail, _32), _32, _32b, _64), _64);\n\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, bdxtail, _8), _8, cdytail, _16), _16);\n            }\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, -bdxtail, _8), _8, adytail, _16), _16);\n            }\n        }\n        if (bdytail !== 0) {\n            const len = scale(catlen, cat, bdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bytcalen, bytca, bdytail, _16), _16,\n                scale(len, _16c, 2 * bdy, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdy, _16), _16,\n                scale(len2, _8, bdytail, _16b), _16b,\n                scale(len, _16c, bdytail, _32), _32,  _32b, _64), _64);\n        }\n    }\n    if (cdxtail !== 0 || cdytail !== 0) {\n        if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n            s1 = adxtail * bdy;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdy;\n            bhi = c - (c - bdy);\n            blo = bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * bdytail;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -ady;\n            n0 = -adytail;\n            s1 = bdxtail * n1;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * n0;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            abtlen = sum(4, u, 4, v, abt);\n            s1 = adxtail * bdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdxtail * adytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            abtt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            abtt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            abtt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            abtt[3] = u3;\n            abttlen = 4;\n        } else {\n            abt[0] = 0;\n            abtlen = 1;\n            abtt[0] = 0;\n            abttlen = 1;\n        }\n        if (cdxtail !== 0) {\n            const len = scale(abtlen, abt, cdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cxtablen, cxtab, cdxtail, _16), _16,\n                scale(len, _16c, 2 * cdx, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdx, _16), _16,\n                scale(len2, _8, cdxtail, _16b), _16b,\n                scale(len, _16c, cdxtail, _32), _32, _32b, _64), _64);\n\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, cdxtail, _8), _8, adytail, _16), _16);\n            }\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, -cdxtail, _8), _8, bdytail, _16), _16);\n            }\n        }\n        if (cdytail !== 0) {\n            const len = scale(abtlen, abt, cdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cytablen, cytab, cdytail, _16), _16,\n                scale(len, _16c, 2 * cdy, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdy, _16), _16,\n                scale(len2, _8, cdytail, _16b), _16b,\n                scale(len, _16c, cdytail, _32), _32, _32b, _64), _64);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function incircle(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n    const alift = adx * adx + ady * ady;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n    const blift = bdx * bdx + bdy * bdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n    const clift = cdx * cdx + cdy * cdy;\n\n    const det =\n        alift * (bdxcdy - cdxbdy) +\n        blift * (cdxady - adxcdy) +\n        clift * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * alift +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * blift +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * clift;\n\n    const errbound = iccerrboundA * permanent;\n\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent);\n}\n\nexport function incirclefast(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const ady = ay - dy;\n    const bdx = bx - dx;\n    const bdy = by - dy;\n    const cdx = cx - dx;\n    const cdy = cy - dy;\n\n    const abdet = adx * bdy - bdx * ady;\n    const bcdet = bdx * cdy - cdx * bdy;\n    const cadet = cdx * ady - adx * cdy;\n    const alift = adx * adx + ady * ady;\n    const blift = bdx * bdx + bdy * bdy;\n    const clift = cdx * cdx + cdy * cdy;\n\n    return alift * bcdet + blift * cadet + clift * abdet;\n}\n", "import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale, negate} from './util.js';\n\nconst isperrboundA = (16 + 224 * epsilon) * epsilon;\nconst isperrboundB = (5 + 72 * epsilon) * epsilon;\nconst isperrboundC = (71 + 1408 * epsilon) * epsilon * epsilon;\n\nconst ab = vec(4);\nconst bc = vec(4);\nconst cd = vec(4);\nconst de = vec(4);\nconst ea = vec(4);\nconst ac = vec(4);\nconst bd = vec(4);\nconst ce = vec(4);\nconst da = vec(4);\nconst eb = vec(4);\n\nconst abc = vec(24);\nconst bcd = vec(24);\nconst cde = vec(24);\nconst dea = vec(24);\nconst eab = vec(24);\nconst abd = vec(24);\nconst bce = vec(24);\nconst cda = vec(24);\nconst deb = vec(24);\nconst eac = vec(24);\n\nconst adet = vec(1152);\nconst bdet = vec(1152);\nconst cdet = vec(1152);\nconst ddet = vec(1152);\nconst edet = vec(1152);\nconst abdet = vec(2304);\nconst cddet = vec(2304);\nconst cdedet = vec(3456);\nconst deter = vec(5760);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _8c = vec(8);\nconst _16 = vec(16);\nconst _24 = vec(24);\nconst _48 = vec(48);\nconst _48b = vec(48);\nconst _96 = vec(96);\nconst _192 = vec(192);\nconst _384x = vec(384);\nconst _384y = vec(384);\nconst _384z = vec(384);\nconst _768 = vec(768);\n\nfunction sum_three_scale(a, b, c, az, bz, cz, out) {\n    return sum_three(\n        scale(4, a, az, _8), _8,\n        scale(4, b, bz, _8b), _8b,\n        scale(4, c, cz, _8c), _8c, _16, out);\n}\n\nfunction liftexact(alen, a, blen, b, clen, c, dlen, d, x, y, z, out) {\n    const len = sum(\n        sum(alen, a, blen, b, _48), _48,\n        negate(sum(clen, c, dlen, d, _48b), _48b), _48b, _96);\n\n    return sum_three(\n        scale(scale(len, _96, x, _192), _192, x, _384x), _384x,\n        scale(scale(len, _96, y, _192), _192, y, _384y), _384y,\n        scale(scale(len, _96, z, _192), _192, z, _384z), _384z, _768, out);\n}\n\nfunction insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    s1 = ax * by;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ay;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n    s1 = bx * cy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * by;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cx * dy;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * cy;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    cd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    cd[3] = u3;\n    s1 = dx * ey;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * dy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    de[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    de[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    de[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    de[3] = u3;\n    s1 = ex * ay;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * ey;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ea[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ea[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ea[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ea[3] = u3;\n    s1 = ax * cy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * ay;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ac[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ac[3] = u3;\n    s1 = bx * dy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * by;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bd[3] = u3;\n    s1 = cx * ey;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * cy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ce[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ce[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ce[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ce[3] = u3;\n    s1 = dx * ay;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * dy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    da[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    da[3] = u3;\n    s1 = ex * by;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ey;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    eb[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    eb[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    eb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    eb[3] = u3;\n\n    const abclen = sum_three_scale(ab, bc, ac, cz, az, -bz, abc);\n    const bcdlen = sum_three_scale(bc, cd, bd, dz, bz, -cz, bcd);\n    const cdelen = sum_three_scale(cd, de, ce, ez, cz, -dz, cde);\n    const dealen = sum_three_scale(de, ea, da, az, dz, -ez, dea);\n    const eablen = sum_three_scale(ea, ab, eb, bz, ez, -az, eab);\n    const abdlen = sum_three_scale(ab, bd, da, dz, az, bz, abd);\n    const bcelen = sum_three_scale(bc, ce, eb, ez, bz, cz, bce);\n    const cdalen = sum_three_scale(cd, da, ac, az, cz, dz, cda);\n    const deblen = sum_three_scale(de, eb, bd, bz, dz, ez, deb);\n    const eaclen = sum_three_scale(ea, ac, ce, cz, ez, az, eac);\n\n    const deterlen = sum_three(\n        liftexact(cdelen, cde, bcelen, bce, deblen, deb, bcdlen, bcd, ax, ay, az, adet), adet,\n        liftexact(dealen, dea, cdalen, cda, eaclen, eac, cdelen, cde, bx, by, bz, bdet), bdet,\n        sum_three(\n            liftexact(eablen, eab, deblen, deb, abdlen, abd, dealen, dea, cx, cy, cz, cdet), cdet,\n            liftexact(abclen, abc, eaclen, eac, bcelen, bce, eablen, eab, dx, dy, dz, ddet), ddet,\n            liftexact(bcdlen, bcd, abdlen, abd, cdalen, cda, abclen, abc, ex, ey, ez, edet), edet, cddet, cdedet), cdedet, abdet, deter);\n\n    return deter[deterlen - 1];\n}\n\nconst xdet = vec(96);\nconst ydet = vec(96);\nconst zdet = vec(96);\nconst fin = vec(1152);\n\nfunction liftadapt(a, b, c, az, bz, cz, x, y, z, out) {\n    const len = sum_three_scale(a, b, c, az, bz, cz, _24);\n    return sum_three(\n        scale(scale(len, _24, x, _48), _48, x, xdet), xdet,\n        scale(scale(len, _24, y, _48), _48, y, ydet), ydet,\n        scale(scale(len, _24, z, _48), _48, z, zdet), zdet, _192, out);\n}\n\nfunction insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent) {\n    let ab3, bc3, cd3, da3, ac3, bd3;\n\n    let aextail, bextail, cextail, dextail;\n    let aeytail, beytail, ceytail, deytail;\n    let aeztail, beztail, ceztail, deztail;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0;\n\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    s1 = aex * bey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bex * aey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ab3 = _j + _i;\n    bvirt = ab3 - _j;\n    ab[2] = _j - (ab3 - bvirt) + (_i - bvirt);\n    ab[3] = ab3;\n    s1 = bex * cey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * bey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bc3 = _j + _i;\n    bvirt = bc3 - _j;\n    bc[2] = _j - (bc3 - bvirt) + (_i - bvirt);\n    bc[3] = bc3;\n    s1 = cex * dey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * cey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    cd3 = _j + _i;\n    bvirt = cd3 - _j;\n    cd[2] = _j - (cd3 - bvirt) + (_i - bvirt);\n    cd[3] = cd3;\n    s1 = dex * aey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = aex * dey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    da3 = _j + _i;\n    bvirt = da3 - _j;\n    da[2] = _j - (da3 - bvirt) + (_i - bvirt);\n    da[3] = da3;\n    s1 = aex * cey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * aey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ac3 = _j + _i;\n    bvirt = ac3 - _j;\n    ac[2] = _j - (ac3 - bvirt) + (_i - bvirt);\n    ac[3] = ac3;\n    s1 = bex * dey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * bey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bd3 = _j + _i;\n    bvirt = bd3 - _j;\n    bd[2] = _j - (bd3 - bvirt) + (_i - bvirt);\n    bd[3] = bd3;\n\n    const finlen = sum(\n        sum(\n            negate(liftadapt(bc, cd, bd, dez, bez, -cez, aex, aey, aez, adet), adet), adet,\n            liftadapt(cd, da, ac, aez, cez, dez, bex, bey, bez, bdet), bdet, abdet), abdet,\n        sum(\n            negate(liftadapt(da, ab, bd, bez, dez, aez, cex, cey, cez, cdet), cdet), cdet,\n            liftadapt(ab, bc, ac, cez, aez, -bez, dex, dey, dez, ddet), ddet, cddet), cddet, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = isperrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - aex;\n    aextail = ax - (aex + bvirt) + (bvirt - ex);\n    bvirt = ay - aey;\n    aeytail = ay - (aey + bvirt) + (bvirt - ey);\n    bvirt = az - aez;\n    aeztail = az - (aez + bvirt) + (bvirt - ez);\n    bvirt = bx - bex;\n    bextail = bx - (bex + bvirt) + (bvirt - ex);\n    bvirt = by - bey;\n    beytail = by - (bey + bvirt) + (bvirt - ey);\n    bvirt = bz - bez;\n    beztail = bz - (bez + bvirt) + (bvirt - ez);\n    bvirt = cx - cex;\n    cextail = cx - (cex + bvirt) + (bvirt - ex);\n    bvirt = cy - cey;\n    ceytail = cy - (cey + bvirt) + (bvirt - ey);\n    bvirt = cz - cez;\n    ceztail = cz - (cez + bvirt) + (bvirt - ez);\n    bvirt = dx - dex;\n    dextail = dx - (dex + bvirt) + (bvirt - ex);\n    bvirt = dy - dey;\n    deytail = dy - (dey + bvirt) + (bvirt - ey);\n    bvirt = dz - dez;\n    deztail = dz - (dez + bvirt) + (bvirt - ez);\n    if (aextail === 0 && aeytail === 0 && aeztail === 0 &&\n        bextail === 0 && beytail === 0 && beztail === 0 &&\n        cextail === 0 && ceytail === 0 && ceztail === 0 &&\n        dextail === 0 && deytail === 0 && deztail === 0) {\n        return det;\n    }\n\n    errbound = isperrboundC * permanent + resulterrbound * Math.abs(det);\n\n    const abeps = (aex * beytail + bey * aextail) - (aey * bextail + bex * aeytail);\n    const bceps = (bex * ceytail + cey * bextail) - (bey * cextail + cex * beytail);\n    const cdeps = (cex * deytail + dey * cextail) - (cey * dextail + dex * ceytail);\n    const daeps = (dex * aeytail + aey * dextail) - (dey * aextail + aex * deytail);\n    const aceps = (aex * ceytail + cey * aextail) - (aey * cextail + cex * aeytail);\n    const bdeps = (bex * deytail + dey * bextail) - (bey * dextail + dex * beytail);\n    det +=\n        (((bex * bex + bey * bey + bez * bez) * ((cez * daeps + dez * aceps + aez * cdeps) +\n        (ceztail * da3 + deztail * ac3 + aeztail * cd3)) + (dex * dex + dey * dey + dez * dez) *\n        ((aez * bceps - bez * aceps + cez * abeps) + (aeztail * bc3 - beztail * ac3 + ceztail * ab3))) -\n        ((aex * aex + aey * aey + aez * aez) * ((bez * cdeps - cez * bdeps + dez * bceps) +\n        (beztail * cd3 - ceztail * bd3 + deztail * bc3)) + (cex * cex + cey * cey + cez * cez) *\n        ((dez * abeps + aez * bdeps + bez * daeps) + (deztail * ab3 + aeztail * bd3 + beztail * da3)))) +\n        2 * (((bex * bextail + bey * beytail + bez * beztail) * (cez * da3 + dez * ac3 + aez * cd3) +\n        (dex * dextail + dey * deytail + dez * deztail) * (aez * bc3 - bez * ac3 + cez * ab3)) -\n        ((aex * aextail + aey * aeytail + aez * aeztail) * (bez * cd3 - cez * bd3 + dez * bc3) +\n        (cex * cextail + cey * ceytail + cez * ceztail) * (dez * ab3 + aez * bd3 + bez * da3)));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    return insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez);\n}\n\nexport function insphere(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    const aexbey = aex * bey;\n    const bexaey = bex * aey;\n    const ab = aexbey - bexaey;\n    const bexcey = bex * cey;\n    const cexbey = cex * bey;\n    const bc = bexcey - cexbey;\n    const cexdey = cex * dey;\n    const dexcey = dex * cey;\n    const cd = cexdey - dexcey;\n    const dexaey = dex * aey;\n    const aexdey = aex * dey;\n    const da = dexaey - aexdey;\n    const aexcey = aex * cey;\n    const cexaey = cex * aey;\n    const ac = aexcey - cexaey;\n    const bexdey = bex * dey;\n    const dexbey = dex * bey;\n    const bd = bexdey - dexbey;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    const det =\n        (clift * (dez * ab + aez * bd + bez * da) - dlift * (aez * bc - bez * ac + cez * ab)) +\n        (alift * (bez * cd - cez * bd + dez * bc) - blift * (cez * da + dez * ac + aez * cd));\n\n    const aezplus = Math.abs(aez);\n    const bezplus = Math.abs(bez);\n    const cezplus = Math.abs(cez);\n    const dezplus = Math.abs(dez);\n    const aexbeyplus = Math.abs(aexbey) + Math.abs(bexaey);\n    const bexceyplus = Math.abs(bexcey) + Math.abs(cexbey);\n    const cexdeyplus = Math.abs(cexdey) + Math.abs(dexcey);\n    const dexaeyplus = Math.abs(dexaey) + Math.abs(aexdey);\n    const aexceyplus = Math.abs(aexcey) + Math.abs(cexaey);\n    const bexdeyplus = Math.abs(bexdey) + Math.abs(dexbey);\n    const permanent =\n        (cexdeyplus * bezplus + bexdeyplus * cezplus + bexceyplus * dezplus) * alift +\n        (dexaeyplus * cezplus + aexceyplus * dezplus + cexdeyplus * aezplus) * blift +\n        (aexbeyplus * dezplus + bexdeyplus * aezplus + dexaeyplus * bezplus) * clift +\n        (bexceyplus * aezplus + aexceyplus * bezplus + aexbeyplus * cezplus) * dlift;\n\n    const errbound = isperrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return -insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent);\n}\n\nexport function inspherefast(pax, pay, paz, pbx, pby, pbz, pcx, pcy, pcz, pdx, pdy, pdz, pex, pey, pez) {\n    const aex = pax - pex;\n    const bex = pbx - pex;\n    const cex = pcx - pex;\n    const dex = pdx - pex;\n    const aey = pay - pey;\n    const bey = pby - pey;\n    const cey = pcy - pey;\n    const dey = pdy - pey;\n    const aez = paz - pez;\n    const bez = pbz - pez;\n    const cez = pcz - pez;\n    const dez = pdz - pez;\n\n    const ab = aex * bey - bex * aey;\n    const bc = bex * cey - cex * bey;\n    const cd = cex * dey - dex * cey;\n    const da = dex * aey - aex * dey;\n    const ac = aex * cey - cex * aey;\n    const bd = bex * dey - dex * bey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    return (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n}\n", "import SplayTree from 'splaytree';\nimport { orient2d } from 'robust-predicates';\n\n/**\n * A bounding box has the format:\n *\n *  { ll: { x: xmin, y: ymin }, ur: { x: xmax, y: ymax } }\n *\n */\n\nconst isInBbox = (bbox, point) => {\n  return bbox.ll.x <= point.x && point.x <= bbox.ur.x && bbox.ll.y <= point.y && point.y <= bbox.ur.y;\n};\n\n/* Returns either null, or a bbox (aka an ordered pair of points)\n * If there is only one point of overlap, a bbox with identical points\n * will be returned */\nconst getBboxOverlap = (b1, b2) => {\n  // check if the bboxes overlap at all\n  if (b2.ur.x < b1.ll.x || b1.ur.x < b2.ll.x || b2.ur.y < b1.ll.y || b1.ur.y < b2.ll.y) return null;\n\n  // find the middle two X values\n  const lowerX = b1.ll.x < b2.ll.x ? b2.ll.x : b1.ll.x;\n  const upperX = b1.ur.x < b2.ur.x ? b1.ur.x : b2.ur.x;\n\n  // find the middle two Y values\n  const lowerY = b1.ll.y < b2.ll.y ? b2.ll.y : b1.ll.y;\n  const upperY = b1.ur.y < b2.ur.y ? b1.ur.y : b2.ur.y;\n\n  // put those middle values together to get the overlap\n  return {\n    ll: {\n      x: lowerX,\n      y: lowerY\n    },\n    ur: {\n      x: upperX,\n      y: upperY\n    }\n  };\n};\n\n/* Javascript doesn't do integer math. Everything is\n * floating point with percision Number.EPSILON.\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\n */\n\nlet epsilon = Number.EPSILON;\n\n// IE Polyfill\nif (epsilon === undefined) epsilon = Math.pow(2, -52);\nconst EPSILON_SQ = epsilon * epsilon;\n\n/* FLP comparator */\nconst cmp = (a, b) => {\n  // check if they're both 0\n  if (-epsilon < a && a < epsilon) {\n    if (-epsilon < b && b < epsilon) {\n      return 0;\n    }\n  }\n\n  // check if they're flp equal\n  const ab = a - b;\n  if (ab * ab < EPSILON_SQ * a * b) {\n    return 0;\n  }\n\n  // normal comparison\n  return a < b ? -1 : 1;\n};\n\n/**\n * This class rounds incoming values sufficiently so that\n * floating points problems are, for the most part, avoided.\n *\n * Incoming points are have their x & y values tested against\n * all previously seen x & y values. If either is 'too close'\n * to a previously seen value, it's value is 'snapped' to the\n * previously seen value.\n *\n * All points should be rounded by this class before being\n * stored in any data structures in the rest of this algorithm.\n */\n\nclass PtRounder {\n  constructor() {\n    this.reset();\n  }\n  reset() {\n    this.xRounder = new CoordRounder();\n    this.yRounder = new CoordRounder();\n  }\n  round(x, y) {\n    return {\n      x: this.xRounder.round(x),\n      y: this.yRounder.round(y)\n    };\n  }\n}\nclass CoordRounder {\n  constructor() {\n    this.tree = new SplayTree();\n    // preseed with 0 so we don't end up with values < Number.EPSILON\n    this.round(0);\n  }\n\n  // Note: this can rounds input values backwards or forwards.\n  //       You might ask, why not restrict this to just rounding\n  //       forwards? Wouldn't that allow left endpoints to always\n  //       remain left endpoints during splitting (never change to\n  //       right). No - it wouldn't, because we snap intersections\n  //       to endpoints (to establish independence from the segment\n  //       angle for t-intersections).\n  round(coord) {\n    const node = this.tree.add(coord);\n    const prevNode = this.tree.prev(node);\n    if (prevNode !== null && cmp(node.key, prevNode.key) === 0) {\n      this.tree.remove(coord);\n      return prevNode.key;\n    }\n    const nextNode = this.tree.next(node);\n    if (nextNode !== null && cmp(node.key, nextNode.key) === 0) {\n      this.tree.remove(coord);\n      return nextNode.key;\n    }\n    return coord;\n  }\n}\n\n// singleton available by import\nconst rounder = new PtRounder();\n\n/* Cross Product of two vectors with first point at origin */\nconst crossProduct = (a, b) => a.x * b.y - a.y * b.x;\n\n/* Dot Product of two vectors with first point at origin */\nconst dotProduct = (a, b) => a.x * b.x + a.y * b.y;\n\n/* Comparator for two vectors with same starting point */\nconst compareVectorAngles = (basePt, endPt1, endPt2) => {\n  const res = orient2d(basePt.x, basePt.y, endPt1.x, endPt1.y, endPt2.x, endPt2.y);\n  if (res > 0) return -1;\n  if (res < 0) return 1;\n  return 0;\n};\nconst length = v => Math.sqrt(dotProduct(v, v));\n\n/* Get the sine of the angle from pShared -> pAngle to pShaed -> pBase */\nconst sineOfAngle = (pShared, pBase, pAngle) => {\n  const vBase = {\n    x: pBase.x - pShared.x,\n    y: pBase.y - pShared.y\n  };\n  const vAngle = {\n    x: pAngle.x - pShared.x,\n    y: pAngle.y - pShared.y\n  };\n  return crossProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n};\n\n/* Get the cosine of the angle from pShared -> pAngle to pShaed -> pBase */\nconst cosineOfAngle = (pShared, pBase, pAngle) => {\n  const vBase = {\n    x: pBase.x - pShared.x,\n    y: pBase.y - pShared.y\n  };\n  const vAngle = {\n    x: pAngle.x - pShared.x,\n    y: pAngle.y - pShared.y\n  };\n  return dotProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n};\n\n/* Get the x coordinate where the given line (defined by a point and vector)\n * crosses the horizontal line with the given y coordiante.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nconst horizontalIntersection = (pt, v, y) => {\n  if (v.y === 0) return null;\n  return {\n    x: pt.x + v.x / v.y * (y - pt.y),\n    y: y\n  };\n};\n\n/* Get the y coordinate where the given line (defined by a point and vector)\n * crosses the vertical line with the given x coordiante.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nconst verticalIntersection = (pt, v, x) => {\n  if (v.x === 0) return null;\n  return {\n    x: x,\n    y: pt.y + v.y / v.x * (x - pt.x)\n  };\n};\n\n/* Get the intersection of two lines, each defined by a base point and a vector.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nconst intersection$1 = (pt1, v1, pt2, v2) => {\n  // take some shortcuts for vertical and horizontal lines\n  // this also ensures we don't calculate an intersection and then discover\n  // it's actually outside the bounding box of the line\n  if (v1.x === 0) return verticalIntersection(pt2, v2, pt1.x);\n  if (v2.x === 0) return verticalIntersection(pt1, v1, pt2.x);\n  if (v1.y === 0) return horizontalIntersection(pt2, v2, pt1.y);\n  if (v2.y === 0) return horizontalIntersection(pt1, v1, pt2.y);\n\n  // General case for non-overlapping segments.\n  // This algorithm is based on Schneider and Eberly.\n  // http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf - pg 244\n\n  const kross = crossProduct(v1, v2);\n  if (kross == 0) return null;\n  const ve = {\n    x: pt2.x - pt1.x,\n    y: pt2.y - pt1.y\n  };\n  const d1 = crossProduct(ve, v1) / kross;\n  const d2 = crossProduct(ve, v2) / kross;\n\n  // take the average of the two calculations to minimize rounding error\n  const x1 = pt1.x + d2 * v1.x,\n    x2 = pt2.x + d1 * v2.x;\n  const y1 = pt1.y + d2 * v1.y,\n    y2 = pt2.y + d1 * v2.y;\n  const x = (x1 + x2) / 2;\n  const y = (y1 + y2) / 2;\n  return {\n    x: x,\n    y: y\n  };\n};\n\nclass SweepEvent {\n  // for ordering sweep events in the sweep event queue\n  static compare(a, b) {\n    // favor event with a point that the sweep line hits first\n    const ptCmp = SweepEvent.comparePoints(a.point, b.point);\n    if (ptCmp !== 0) return ptCmp;\n\n    // the points are the same, so link them if needed\n    if (a.point !== b.point) a.link(b);\n\n    // favor right events over left\n    if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1;\n\n    // we have two matching left or right endpoints\n    // ordering of this case is the same as for their segments\n    return Segment.compare(a.segment, b.segment);\n  }\n\n  // for ordering points in sweep line order\n  static comparePoints(aPt, bPt) {\n    if (aPt.x < bPt.x) return -1;\n    if (aPt.x > bPt.x) return 1;\n    if (aPt.y < bPt.y) return -1;\n    if (aPt.y > bPt.y) return 1;\n    return 0;\n  }\n\n  // Warning: 'point' input will be modified and re-used (for performance)\n  constructor(point, isLeft) {\n    if (point.events === undefined) point.events = [this];else point.events.push(this);\n    this.point = point;\n    this.isLeft = isLeft;\n    // this.segment, this.otherSE set by factory\n  }\n  link(other) {\n    if (other.point === this.point) {\n      throw new Error(\"Tried to link already linked events\");\n    }\n    const otherEvents = other.point.events;\n    for (let i = 0, iMax = otherEvents.length; i < iMax; i++) {\n      const evt = otherEvents[i];\n      this.point.events.push(evt);\n      evt.point = this.point;\n    }\n    this.checkForConsuming();\n  }\n\n  /* Do a pass over our linked events and check to see if any pair\n   * of segments match, and should be consumed. */\n  checkForConsuming() {\n    // FIXME: The loops in this method run O(n^2) => no good.\n    //        Maintain little ordered sweep event trees?\n    //        Can we maintaining an ordering that avoids the need\n    //        for the re-sorting with getLeftmostComparator in geom-out?\n\n    // Compare each pair of events to see if other events also match\n    const numEvents = this.point.events.length;\n    for (let i = 0; i < numEvents; i++) {\n      const evt1 = this.point.events[i];\n      if (evt1.segment.consumedBy !== undefined) continue;\n      for (let j = i + 1; j < numEvents; j++) {\n        const evt2 = this.point.events[j];\n        if (evt2.consumedBy !== undefined) continue;\n        if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n        evt1.segment.consume(evt2.segment);\n      }\n    }\n  }\n  getAvailableLinkedEvents() {\n    // point.events is always of length 2 or greater\n    const events = [];\n    for (let i = 0, iMax = this.point.events.length; i < iMax; i++) {\n      const evt = this.point.events[i];\n      if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n        events.push(evt);\n      }\n    }\n    return events;\n  }\n\n  /**\n   * Returns a comparator function for sorting linked events that will\n   * favor the event that will give us the smallest left-side angle.\n   * All ring construction starts as low as possible heading to the right,\n   * so by always turning left as sharp as possible we'll get polygons\n   * without uncessary loops & holes.\n   *\n   * The comparator function has a compute cache such that it avoids\n   * re-computing already-computed values.\n   */\n  getLeftmostComparator(baseEvent) {\n    const cache = new Map();\n    const fillCache = linkedEvent => {\n      const nextEvent = linkedEvent.otherSE;\n      cache.set(linkedEvent, {\n        sine: sineOfAngle(this.point, baseEvent.point, nextEvent.point),\n        cosine: cosineOfAngle(this.point, baseEvent.point, nextEvent.point)\n      });\n    };\n    return (a, b) => {\n      if (!cache.has(a)) fillCache(a);\n      if (!cache.has(b)) fillCache(b);\n      const {\n        sine: asine,\n        cosine: acosine\n      } = cache.get(a);\n      const {\n        sine: bsine,\n        cosine: bcosine\n      } = cache.get(b);\n\n      // both on or above x-axis\n      if (asine >= 0 && bsine >= 0) {\n        if (acosine < bcosine) return 1;\n        if (acosine > bcosine) return -1;\n        return 0;\n      }\n\n      // both below x-axis\n      if (asine < 0 && bsine < 0) {\n        if (acosine < bcosine) return -1;\n        if (acosine > bcosine) return 1;\n        return 0;\n      }\n\n      // one above x-axis, one below\n      if (bsine < asine) return -1;\n      if (bsine > asine) return 1;\n      return 0;\n    };\n  }\n}\n\n// Give segments unique ID's to get consistent sorting of\n// segments and sweep events when all else is identical\nlet segmentId = 0;\nclass Segment {\n  /* This compare() function is for ordering segments in the sweep\n   * line tree, and does so according to the following criteria:\n   *\n   * Consider the vertical line that lies an infinestimal step to the\n   * right of the right-more of the two left endpoints of the input\n   * segments. Imagine slowly moving a point up from negative infinity\n   * in the increasing y direction. Which of the two segments will that\n   * point intersect first? That segment comes 'before' the other one.\n   *\n   * If neither segment would be intersected by such a line, (if one\n   * or more of the segments are vertical) then the line to be considered\n   * is directly on the right-more of the two left inputs.\n   */\n  static compare(a, b) {\n    const alx = a.leftSE.point.x;\n    const blx = b.leftSE.point.x;\n    const arx = a.rightSE.point.x;\n    const brx = b.rightSE.point.x;\n\n    // check if they're even in the same vertical plane\n    if (brx < alx) return 1;\n    if (arx < blx) return -1;\n    const aly = a.leftSE.point.y;\n    const bly = b.leftSE.point.y;\n    const ary = a.rightSE.point.y;\n    const bry = b.rightSE.point.y;\n\n    // is left endpoint of segment B the right-more?\n    if (alx < blx) {\n      // are the two segments in the same horizontal plane?\n      if (bly < aly && bly < ary) return 1;\n      if (bly > aly && bly > ary) return -1;\n\n      // is the B left endpoint colinear to segment A?\n      const aCmpBLeft = a.comparePoint(b.leftSE.point);\n      if (aCmpBLeft < 0) return 1;\n      if (aCmpBLeft > 0) return -1;\n\n      // is the A right endpoint colinear to segment B ?\n      const bCmpARight = b.comparePoint(a.rightSE.point);\n      if (bCmpARight !== 0) return bCmpARight;\n\n      // colinear segments, consider the one with left-more\n      // left endpoint to be first (arbitrary?)\n      return -1;\n    }\n\n    // is left endpoint of segment A the right-more?\n    if (alx > blx) {\n      if (aly < bly && aly < bry) return -1;\n      if (aly > bly && aly > bry) return 1;\n\n      // is the A left endpoint colinear to segment B?\n      const bCmpALeft = b.comparePoint(a.leftSE.point);\n      if (bCmpALeft !== 0) return bCmpALeft;\n\n      // is the B right endpoint colinear to segment A?\n      const aCmpBRight = a.comparePoint(b.rightSE.point);\n      if (aCmpBRight < 0) return 1;\n      if (aCmpBRight > 0) return -1;\n\n      // colinear segments, consider the one with left-more\n      // left endpoint to be first (arbitrary?)\n      return 1;\n    }\n\n    // if we get here, the two left endpoints are in the same\n    // vertical plane, ie alx === blx\n\n    // consider the lower left-endpoint to come first\n    if (aly < bly) return -1;\n    if (aly > bly) return 1;\n\n    // left endpoints are identical\n    // check for colinearity by using the left-more right endpoint\n\n    // is the A right endpoint more left-more?\n    if (arx < brx) {\n      const bCmpARight = b.comparePoint(a.rightSE.point);\n      if (bCmpARight !== 0) return bCmpARight;\n    }\n\n    // is the B right endpoint more left-more?\n    if (arx > brx) {\n      const aCmpBRight = a.comparePoint(b.rightSE.point);\n      if (aCmpBRight < 0) return 1;\n      if (aCmpBRight > 0) return -1;\n    }\n    if (arx !== brx) {\n      // are these two [almost] vertical segments with opposite orientation?\n      // if so, the one with the lower right endpoint comes first\n      const ay = ary - aly;\n      const ax = arx - alx;\n      const by = bry - bly;\n      const bx = brx - blx;\n      if (ay > ax && by < bx) return 1;\n      if (ay < ax && by > bx) return -1;\n    }\n\n    // we have colinear segments with matching orientation\n    // consider the one with more left-more right endpoint to be first\n    if (arx > brx) return 1;\n    if (arx < brx) return -1;\n\n    // if we get here, two two right endpoints are in the same\n    // vertical plane, ie arx === brx\n\n    // consider the lower right-endpoint to come first\n    if (ary < bry) return -1;\n    if (ary > bry) return 1;\n\n    // right endpoints identical as well, so the segments are idential\n    // fall back on creation order as consistent tie-breaker\n    if (a.id < b.id) return -1;\n    if (a.id > b.id) return 1;\n\n    // identical segment, ie a === b\n    return 0;\n  }\n\n  /* Warning: a reference to ringWindings input will be stored,\n   *  and possibly will be later modified */\n  constructor(leftSE, rightSE, rings, windings) {\n    this.id = ++segmentId;\n    this.leftSE = leftSE;\n    leftSE.segment = this;\n    leftSE.otherSE = rightSE;\n    this.rightSE = rightSE;\n    rightSE.segment = this;\n    rightSE.otherSE = leftSE;\n    this.rings = rings;\n    this.windings = windings;\n    // left unset for performance, set later in algorithm\n    // this.ringOut, this.consumedBy, this.prev\n  }\n  static fromRing(pt1, pt2, ring) {\n    let leftPt, rightPt, winding;\n\n    // ordering the two points according to sweep line ordering\n    const cmpPts = SweepEvent.comparePoints(pt1, pt2);\n    if (cmpPts < 0) {\n      leftPt = pt1;\n      rightPt = pt2;\n      winding = 1;\n    } else if (cmpPts > 0) {\n      leftPt = pt2;\n      rightPt = pt1;\n      winding = -1;\n    } else throw new Error(`Tried to create degenerate segment at [${pt1.x}, ${pt1.y}]`);\n    const leftSE = new SweepEvent(leftPt, true);\n    const rightSE = new SweepEvent(rightPt, false);\n    return new Segment(leftSE, rightSE, [ring], [winding]);\n  }\n\n  /* When a segment is split, the rightSE is replaced with a new sweep event */\n  replaceRightSE(newRightSE) {\n    this.rightSE = newRightSE;\n    this.rightSE.segment = this;\n    this.rightSE.otherSE = this.leftSE;\n    this.leftSE.otherSE = this.rightSE;\n  }\n  bbox() {\n    const y1 = this.leftSE.point.y;\n    const y2 = this.rightSE.point.y;\n    return {\n      ll: {\n        x: this.leftSE.point.x,\n        y: y1 < y2 ? y1 : y2\n      },\n      ur: {\n        x: this.rightSE.point.x,\n        y: y1 > y2 ? y1 : y2\n      }\n    };\n  }\n\n  /* A vector from the left point to the right */\n  vector() {\n    return {\n      x: this.rightSE.point.x - this.leftSE.point.x,\n      y: this.rightSE.point.y - this.leftSE.point.y\n    };\n  }\n  isAnEndpoint(pt) {\n    return pt.x === this.leftSE.point.x && pt.y === this.leftSE.point.y || pt.x === this.rightSE.point.x && pt.y === this.rightSE.point.y;\n  }\n\n  /* Compare this segment with a point.\n   *\n   * A point P is considered to be colinear to a segment if there\n   * exists a distance D such that if we travel along the segment\n   * from one * endpoint towards the other a distance D, we find\n   * ourselves at point P.\n   *\n   * Return value indicates:\n   *\n   *   1: point lies above the segment (to the left of vertical)\n   *   0: point is colinear to segment\n   *  -1: point lies below the segment (to the right of vertical)\n   */\n  comparePoint(point) {\n    if (this.isAnEndpoint(point)) return 0;\n    const lPt = this.leftSE.point;\n    const rPt = this.rightSE.point;\n    const v = this.vector();\n\n    // Exactly vertical segments.\n    if (lPt.x === rPt.x) {\n      if (point.x === lPt.x) return 0;\n      return point.x < lPt.x ? 1 : -1;\n    }\n\n    // Nearly vertical segments with an intersection.\n    // Check to see where a point on the line with matching Y coordinate is.\n    const yDist = (point.y - lPt.y) / v.y;\n    const xFromYDist = lPt.x + yDist * v.x;\n    if (point.x === xFromYDist) return 0;\n\n    // General case.\n    // Check to see where a point on the line with matching X coordinate is.\n    const xDist = (point.x - lPt.x) / v.x;\n    const yFromXDist = lPt.y + xDist * v.y;\n    if (point.y === yFromXDist) return 0;\n    return point.y < yFromXDist ? -1 : 1;\n  }\n\n  /**\n   * Given another segment, returns the first non-trivial intersection\n   * between the two segments (in terms of sweep line ordering), if it exists.\n   *\n   * A 'non-trivial' intersection is one that will cause one or both of the\n   * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n   *\n   *   * endpoint of segA with endpoint of segB --> trivial\n   *   * endpoint of segA with point along segB --> non-trivial\n   *   * endpoint of segB with point along segA --> non-trivial\n   *   * point along segA with point along segB --> non-trivial\n   *\n   * If no non-trivial intersection exists, return null\n   * Else, return null.\n   */\n  getIntersection(other) {\n    // If bboxes don't overlap, there can't be any intersections\n    const tBbox = this.bbox();\n    const oBbox = other.bbox();\n    const bboxOverlap = getBboxOverlap(tBbox, oBbox);\n    if (bboxOverlap === null) return null;\n\n    // We first check to see if the endpoints can be considered intersections.\n    // This will 'snap' intersections to endpoints if possible, and will\n    // handle cases of colinearity.\n\n    const tlp = this.leftSE.point;\n    const trp = this.rightSE.point;\n    const olp = other.leftSE.point;\n    const orp = other.rightSE.point;\n\n    // does each endpoint touch the other segment?\n    // note that we restrict the 'touching' definition to only allow segments\n    // to touch endpoints that lie forward from where we are in the sweep line pass\n    const touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n    const touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n    const touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n    const touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0;\n\n    // do left endpoints match?\n    if (touchesThisLSE && touchesOtherLSE) {\n      // these two cases are for colinear segments with matching left\n      // endpoints, and one segment being longer than the other\n      if (touchesThisRSE && !touchesOtherRSE) return trp;\n      if (!touchesThisRSE && touchesOtherRSE) return orp;\n      // either the two segments match exactly (two trival intersections)\n      // or just on their left endpoint (one trivial intersection\n      return null;\n    }\n\n    // does this left endpoint matches (other doesn't)\n    if (touchesThisLSE) {\n      // check for segments that just intersect on opposing endpoints\n      if (touchesOtherRSE) {\n        if (tlp.x === orp.x && tlp.y === orp.y) return null;\n      }\n      // t-intersection on left endpoint\n      return tlp;\n    }\n\n    // does other left endpoint matches (this doesn't)\n    if (touchesOtherLSE) {\n      // check for segments that just intersect on opposing endpoints\n      if (touchesThisRSE) {\n        if (trp.x === olp.x && trp.y === olp.y) return null;\n      }\n      // t-intersection on left endpoint\n      return olp;\n    }\n\n    // trivial intersection on right endpoints\n    if (touchesThisRSE && touchesOtherRSE) return null;\n\n    // t-intersections on just one right endpoint\n    if (touchesThisRSE) return trp;\n    if (touchesOtherRSE) return orp;\n\n    // None of our endpoints intersect. Look for a general intersection between\n    // infinite lines laid over the segments\n    const pt = intersection$1(tlp, this.vector(), olp, other.vector());\n\n    // are the segments parrallel? Note that if they were colinear with overlap,\n    // they would have an endpoint intersection and that case was already handled above\n    if (pt === null) return null;\n\n    // is the intersection found between the lines not on the segments?\n    if (!isInBbox(bboxOverlap, pt)) return null;\n\n    // round the the computed point if needed\n    return rounder.round(pt.x, pt.y);\n  }\n\n  /**\n   * Split the given segment into multiple segments on the given points.\n   *  * Each existing segment will retain its leftSE and a new rightSE will be\n   *    generated for it.\n   *  * A new segment will be generated which will adopt the original segment's\n   *    rightSE, and a new leftSE will be generated for it.\n   *  * If there are more than two points given to split on, new segments\n   *    in the middle will be generated with new leftSE and rightSE's.\n   *  * An array of the newly generated SweepEvents will be returned.\n   *\n   * Warning: input array of points is modified\n   */\n  split(point) {\n    const newEvents = [];\n    const alreadyLinked = point.events !== undefined;\n    const newLeftSE = new SweepEvent(point, true);\n    const newRightSE = new SweepEvent(point, false);\n    const oldRightSE = this.rightSE;\n    this.replaceRightSE(newRightSE);\n    newEvents.push(newRightSE);\n    newEvents.push(newLeftSE);\n    const newSeg = new Segment(newLeftSE, oldRightSE, this.rings.slice(), this.windings.slice());\n\n    // when splitting a nearly vertical downward-facing segment,\n    // sometimes one of the resulting new segments is vertical, in which\n    // case its left and right events may need to be swapped\n    if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n      newSeg.swapEvents();\n    }\n    if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n      this.swapEvents();\n    }\n\n    // in the point we just used to create new sweep events with was already\n    // linked to other events, we need to check if either of the affected\n    // segments should be consumed\n    if (alreadyLinked) {\n      newLeftSE.checkForConsuming();\n      newRightSE.checkForConsuming();\n    }\n    return newEvents;\n  }\n\n  /* Swap which event is left and right */\n  swapEvents() {\n    const tmpEvt = this.rightSE;\n    this.rightSE = this.leftSE;\n    this.leftSE = tmpEvt;\n    this.leftSE.isLeft = true;\n    this.rightSE.isLeft = false;\n    for (let i = 0, iMax = this.windings.length; i < iMax; i++) {\n      this.windings[i] *= -1;\n    }\n  }\n\n  /* Consume another segment. We take their rings under our wing\n   * and mark them as consumed. Use for perfectly overlapping segments */\n  consume(other) {\n    let consumer = this;\n    let consumee = other;\n    while (consumer.consumedBy) consumer = consumer.consumedBy;\n    while (consumee.consumedBy) consumee = consumee.consumedBy;\n    const cmp = Segment.compare(consumer, consumee);\n    if (cmp === 0) return; // already consumed\n    // the winner of the consumption is the earlier segment\n    // according to sweep line ordering\n    if (cmp > 0) {\n      const tmp = consumer;\n      consumer = consumee;\n      consumee = tmp;\n    }\n\n    // make sure a segment doesn't consume it's prev\n    if (consumer.prev === consumee) {\n      const tmp = consumer;\n      consumer = consumee;\n      consumee = tmp;\n    }\n    for (let i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n      const ring = consumee.rings[i];\n      const winding = consumee.windings[i];\n      const index = consumer.rings.indexOf(ring);\n      if (index === -1) {\n        consumer.rings.push(ring);\n        consumer.windings.push(winding);\n      } else consumer.windings[index] += winding;\n    }\n    consumee.rings = null;\n    consumee.windings = null;\n    consumee.consumedBy = consumer;\n\n    // mark sweep events consumed as to maintain ordering in sweep event queue\n    consumee.leftSE.consumedBy = consumer.leftSE;\n    consumee.rightSE.consumedBy = consumer.rightSE;\n  }\n\n  /* The first segment previous segment chain that is in the result */\n  prevInResult() {\n    if (this._prevInResult !== undefined) return this._prevInResult;\n    if (!this.prev) this._prevInResult = null;else if (this.prev.isInResult()) this._prevInResult = this.prev;else this._prevInResult = this.prev.prevInResult();\n    return this._prevInResult;\n  }\n  beforeState() {\n    if (this._beforeState !== undefined) return this._beforeState;\n    if (!this.prev) this._beforeState = {\n      rings: [],\n      windings: [],\n      multiPolys: []\n    };else {\n      const seg = this.prev.consumedBy || this.prev;\n      this._beforeState = seg.afterState();\n    }\n    return this._beforeState;\n  }\n  afterState() {\n    if (this._afterState !== undefined) return this._afterState;\n    const beforeState = this.beforeState();\n    this._afterState = {\n      rings: beforeState.rings.slice(0),\n      windings: beforeState.windings.slice(0),\n      multiPolys: []\n    };\n    const ringsAfter = this._afterState.rings;\n    const windingsAfter = this._afterState.windings;\n    const mpsAfter = this._afterState.multiPolys;\n\n    // calculate ringsAfter, windingsAfter\n    for (let i = 0, iMax = this.rings.length; i < iMax; i++) {\n      const ring = this.rings[i];\n      const winding = this.windings[i];\n      const index = ringsAfter.indexOf(ring);\n      if (index === -1) {\n        ringsAfter.push(ring);\n        windingsAfter.push(winding);\n      } else windingsAfter[index] += winding;\n    }\n\n    // calcualte polysAfter\n    const polysAfter = [];\n    const polysExclude = [];\n    for (let i = 0, iMax = ringsAfter.length; i < iMax; i++) {\n      if (windingsAfter[i] === 0) continue; // non-zero rule\n      const ring = ringsAfter[i];\n      const poly = ring.poly;\n      if (polysExclude.indexOf(poly) !== -1) continue;\n      if (ring.isExterior) polysAfter.push(poly);else {\n        if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n        const index = polysAfter.indexOf(ring.poly);\n        if (index !== -1) polysAfter.splice(index, 1);\n      }\n    }\n\n    // calculate multiPolysAfter\n    for (let i = 0, iMax = polysAfter.length; i < iMax; i++) {\n      const mp = polysAfter[i].multiPoly;\n      if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n    }\n    return this._afterState;\n  }\n\n  /* Is this segment part of the final result? */\n  isInResult() {\n    // if we've been consumed, we're not in the result\n    if (this.consumedBy) return false;\n    if (this._isInResult !== undefined) return this._isInResult;\n    const mpsBefore = this.beforeState().multiPolys;\n    const mpsAfter = this.afterState().multiPolys;\n    switch (operation.type) {\n      case \"union\":\n        {\n          // UNION - included iff:\n          //  * On one side of us there is 0 poly interiors AND\n          //  * On the other side there is 1 or more.\n          const noBefores = mpsBefore.length === 0;\n          const noAfters = mpsAfter.length === 0;\n          this._isInResult = noBefores !== noAfters;\n          break;\n        }\n      case \"intersection\":\n        {\n          // INTERSECTION - included iff:\n          //  * on one side of us all multipolys are rep. with poly interiors AND\n          //  * on the other side of us, not all multipolys are repsented\n          //    with poly interiors\n          let least;\n          let most;\n          if (mpsBefore.length < mpsAfter.length) {\n            least = mpsBefore.length;\n            most = mpsAfter.length;\n          } else {\n            least = mpsAfter.length;\n            most = mpsBefore.length;\n          }\n          this._isInResult = most === operation.numMultiPolys && least < most;\n          break;\n        }\n      case \"xor\":\n        {\n          // XOR - included iff:\n          //  * the difference between the number of multipolys represented\n          //    with poly interiors on our two sides is an odd number\n          const diff = Math.abs(mpsBefore.length - mpsAfter.length);\n          this._isInResult = diff % 2 === 1;\n          break;\n        }\n      case \"difference\":\n        {\n          // DIFFERENCE included iff:\n          //  * on exactly one side, we have just the subject\n          const isJustSubject = mps => mps.length === 1 && mps[0].isSubject;\n          this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n          break;\n        }\n      default:\n        throw new Error(`Unrecognized operation type found ${operation.type}`);\n    }\n    return this._isInResult;\n  }\n}\n\nclass RingIn {\n  constructor(geomRing, poly, isExterior) {\n    if (!Array.isArray(geomRing) || geomRing.length === 0) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    this.poly = poly;\n    this.isExterior = isExterior;\n    this.segments = [];\n    if (typeof geomRing[0][0] !== \"number\" || typeof geomRing[0][1] !== \"number\") {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    const firstPoint = rounder.round(geomRing[0][0], geomRing[0][1]);\n    this.bbox = {\n      ll: {\n        x: firstPoint.x,\n        y: firstPoint.y\n      },\n      ur: {\n        x: firstPoint.x,\n        y: firstPoint.y\n      }\n    };\n    let prevPoint = firstPoint;\n    for (let i = 1, iMax = geomRing.length; i < iMax; i++) {\n      if (typeof geomRing[i][0] !== \"number\" || typeof geomRing[i][1] !== \"number\") {\n        throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n      }\n      let point = rounder.round(geomRing[i][0], geomRing[i][1]);\n      // skip repeated points\n      if (point.x === prevPoint.x && point.y === prevPoint.y) continue;\n      this.segments.push(Segment.fromRing(prevPoint, point, this));\n      if (point.x < this.bbox.ll.x) this.bbox.ll.x = point.x;\n      if (point.y < this.bbox.ll.y) this.bbox.ll.y = point.y;\n      if (point.x > this.bbox.ur.x) this.bbox.ur.x = point.x;\n      if (point.y > this.bbox.ur.y) this.bbox.ur.y = point.y;\n      prevPoint = point;\n    }\n    // add segment from last to first if last is not the same as first\n    if (firstPoint.x !== prevPoint.x || firstPoint.y !== prevPoint.y) {\n      this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n    }\n  }\n  getSweepEvents() {\n    const sweepEvents = [];\n    for (let i = 0, iMax = this.segments.length; i < iMax; i++) {\n      const segment = this.segments[i];\n      sweepEvents.push(segment.leftSE);\n      sweepEvents.push(segment.rightSE);\n    }\n    return sweepEvents;\n  }\n}\nclass PolyIn {\n  constructor(geomPoly, multiPoly) {\n    if (!Array.isArray(geomPoly)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    this.exteriorRing = new RingIn(geomPoly[0], this, true);\n    // copy by value\n    this.bbox = {\n      ll: {\n        x: this.exteriorRing.bbox.ll.x,\n        y: this.exteriorRing.bbox.ll.y\n      },\n      ur: {\n        x: this.exteriorRing.bbox.ur.x,\n        y: this.exteriorRing.bbox.ur.y\n      }\n    };\n    this.interiorRings = [];\n    for (let i = 1, iMax = geomPoly.length; i < iMax; i++) {\n      const ring = new RingIn(geomPoly[i], this, false);\n      if (ring.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = ring.bbox.ll.x;\n      if (ring.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = ring.bbox.ll.y;\n      if (ring.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = ring.bbox.ur.x;\n      if (ring.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = ring.bbox.ur.y;\n      this.interiorRings.push(ring);\n    }\n    this.multiPoly = multiPoly;\n  }\n  getSweepEvents() {\n    const sweepEvents = this.exteriorRing.getSweepEvents();\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringSweepEvents = this.interiorRings[i].getSweepEvents();\n      for (let j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(ringSweepEvents[j]);\n      }\n    }\n    return sweepEvents;\n  }\n}\nclass MultiPolyIn {\n  constructor(geom, isSubject) {\n    if (!Array.isArray(geom)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    try {\n      // if the input looks like a polygon, convert it to a multipolygon\n      if (typeof geom[0][0][0] === \"number\") geom = [geom];\n    } catch (ex) {\n      // The input is either malformed or has empty arrays.\n      // In either case, it will be handled later on.\n    }\n    this.polys = [];\n    this.bbox = {\n      ll: {\n        x: Number.POSITIVE_INFINITY,\n        y: Number.POSITIVE_INFINITY\n      },\n      ur: {\n        x: Number.NEGATIVE_INFINITY,\n        y: Number.NEGATIVE_INFINITY\n      }\n    };\n    for (let i = 0, iMax = geom.length; i < iMax; i++) {\n      const poly = new PolyIn(geom[i], this);\n      if (poly.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = poly.bbox.ll.x;\n      if (poly.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = poly.bbox.ll.y;\n      if (poly.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = poly.bbox.ur.x;\n      if (poly.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = poly.bbox.ur.y;\n      this.polys.push(poly);\n    }\n    this.isSubject = isSubject;\n  }\n  getSweepEvents() {\n    const sweepEvents = [];\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polySweepEvents = this.polys[i].getSweepEvents();\n      for (let j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(polySweepEvents[j]);\n      }\n    }\n    return sweepEvents;\n  }\n}\n\nclass RingOut {\n  /* Given the segments from the sweep line pass, compute & return a series\n   * of closed rings from all the segments marked to be part of the result */\n  static factory(allSegments) {\n    const ringsOut = [];\n    for (let i = 0, iMax = allSegments.length; i < iMax; i++) {\n      const segment = allSegments[i];\n      if (!segment.isInResult() || segment.ringOut) continue;\n      let prevEvent = null;\n      let event = segment.leftSE;\n      let nextEvent = segment.rightSE;\n      const events = [event];\n      const startingPoint = event.point;\n      const intersectionLEs = [];\n\n      /* Walk the chain of linked events to form a closed ring */\n      while (true) {\n        prevEvent = event;\n        event = nextEvent;\n        events.push(event);\n\n        /* Is the ring complete? */\n        if (event.point === startingPoint) break;\n        while (true) {\n          const availableLEs = event.getAvailableLinkedEvents();\n\n          /* Did we hit a dead end? This shouldn't happen.\n           * Indicates some earlier part of the algorithm malfunctioned. */\n          if (availableLEs.length === 0) {\n            const firstPt = events[0].point;\n            const lastPt = events[events.length - 1].point;\n            throw new Error(`Unable to complete output ring starting at [${firstPt.x},` + ` ${firstPt.y}]. Last matching segment found ends at` + ` [${lastPt.x}, ${lastPt.y}].`);\n          }\n\n          /* Only one way to go, so cotinue on the path */\n          if (availableLEs.length === 1) {\n            nextEvent = availableLEs[0].otherSE;\n            break;\n          }\n\n          /* We must have an intersection. Check for a completed loop */\n          let indexLE = null;\n          for (let j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n            if (intersectionLEs[j].point === event.point) {\n              indexLE = j;\n              break;\n            }\n          }\n          /* Found a completed loop. Cut that off and make a ring */\n          if (indexLE !== null) {\n            const intersectionLE = intersectionLEs.splice(indexLE)[0];\n            const ringEvents = events.splice(intersectionLE.index);\n            ringEvents.unshift(ringEvents[0].otherSE);\n            ringsOut.push(new RingOut(ringEvents.reverse()));\n            continue;\n          }\n          /* register the intersection */\n          intersectionLEs.push({\n            index: events.length,\n            point: event.point\n          });\n          /* Choose the left-most option to continue the walk */\n          const comparator = event.getLeftmostComparator(prevEvent);\n          nextEvent = availableLEs.sort(comparator)[0].otherSE;\n          break;\n        }\n      }\n      ringsOut.push(new RingOut(events));\n    }\n    return ringsOut;\n  }\n  constructor(events) {\n    this.events = events;\n    for (let i = 0, iMax = events.length; i < iMax; i++) {\n      events[i].segment.ringOut = this;\n    }\n    this.poly = null;\n  }\n  getGeom() {\n    // Remove superfluous points (ie extra points along a straight line),\n    let prevPt = this.events[0].point;\n    const points = [prevPt];\n    for (let i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n      const pt = this.events[i].point;\n      const nextPt = this.events[i + 1].point;\n      if (compareVectorAngles(pt, prevPt, nextPt) === 0) continue;\n      points.push(pt);\n      prevPt = pt;\n    }\n\n    // ring was all (within rounding error of angle calc) colinear points\n    if (points.length === 1) return null;\n\n    // check if the starting point is necessary\n    const pt = points[0];\n    const nextPt = points[1];\n    if (compareVectorAngles(pt, prevPt, nextPt) === 0) points.shift();\n    points.push(points[0]);\n    const step = this.isExteriorRing() ? 1 : -1;\n    const iStart = this.isExteriorRing() ? 0 : points.length - 1;\n    const iEnd = this.isExteriorRing() ? points.length : -1;\n    const orderedPoints = [];\n    for (let i = iStart; i != iEnd; i += step) orderedPoints.push([points[i].x, points[i].y]);\n    return orderedPoints;\n  }\n  isExteriorRing() {\n    if (this._isExteriorRing === undefined) {\n      const enclosing = this.enclosingRing();\n      this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n    }\n    return this._isExteriorRing;\n  }\n  enclosingRing() {\n    if (this._enclosingRing === undefined) {\n      this._enclosingRing = this._calcEnclosingRing();\n    }\n    return this._enclosingRing;\n  }\n\n  /* Returns the ring that encloses this one, if any */\n  _calcEnclosingRing() {\n    // start with the ealier sweep line event so that the prevSeg\n    // chain doesn't lead us inside of a loop of ours\n    let leftMostEvt = this.events[0];\n    for (let i = 1, iMax = this.events.length; i < iMax; i++) {\n      const evt = this.events[i];\n      if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n    }\n    let prevSeg = leftMostEvt.segment.prevInResult();\n    let prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n    while (true) {\n      // no segment found, thus no ring can enclose us\n      if (!prevSeg) return null;\n\n      // no segments below prev segment found, thus the ring of the prev\n      // segment must loop back around and enclose us\n      if (!prevPrevSeg) return prevSeg.ringOut;\n\n      // if the two segments are of different rings, the ring of the prev\n      // segment must either loop around us or the ring of the prev prev\n      // seg, which would make us and the ring of the prev peers\n      if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n        if (prevPrevSeg.ringOut.enclosingRing() !== prevSeg.ringOut) {\n          return prevSeg.ringOut;\n        } else return prevSeg.ringOut.enclosingRing();\n      }\n\n      // two segments are from the same ring, so this was a penisula\n      // of that ring. iterate downward, keep searching\n      prevSeg = prevPrevSeg.prevInResult();\n      prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n    }\n  }\n}\nclass PolyOut {\n  constructor(exteriorRing) {\n    this.exteriorRing = exteriorRing;\n    exteriorRing.poly = this;\n    this.interiorRings = [];\n  }\n  addInterior(ring) {\n    this.interiorRings.push(ring);\n    ring.poly = this;\n  }\n  getGeom() {\n    const geom = [this.exteriorRing.getGeom()];\n    // exterior ring was all (within rounding error of angle calc) colinear points\n    if (geom[0] === null) return null;\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringGeom = this.interiorRings[i].getGeom();\n      // interior ring was all (within rounding error of angle calc) colinear points\n      if (ringGeom === null) continue;\n      geom.push(ringGeom);\n    }\n    return geom;\n  }\n}\nclass MultiPolyOut {\n  constructor(rings) {\n    this.rings = rings;\n    this.polys = this._composePolys(rings);\n  }\n  getGeom() {\n    const geom = [];\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polyGeom = this.polys[i].getGeom();\n      // exterior ring was all (within rounding error of angle calc) colinear points\n      if (polyGeom === null) continue;\n      geom.push(polyGeom);\n    }\n    return geom;\n  }\n  _composePolys(rings) {\n    const polys = [];\n    for (let i = 0, iMax = rings.length; i < iMax; i++) {\n      const ring = rings[i];\n      if (ring.poly) continue;\n      if (ring.isExteriorRing()) polys.push(new PolyOut(ring));else {\n        const enclosingRing = ring.enclosingRing();\n        if (!enclosingRing.poly) polys.push(new PolyOut(enclosingRing));\n        enclosingRing.poly.addInterior(ring);\n      }\n    }\n    return polys;\n  }\n}\n\n/**\n * NOTE:  We must be careful not to change any segments while\n *        they are in the SplayTree. AFAIK, there's no way to tell\n *        the tree to rebalance itself - thus before splitting\n *        a segment that's in the tree, we remove it from the tree,\n *        do the split, then re-insert it. (Even though splitting a\n *        segment *shouldn't* change its correct position in the\n *        sweep line tree, the reality is because of rounding errors,\n *        it sometimes does.)\n */\n\nclass SweepLine {\n  constructor(queue) {\n    let comparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Segment.compare;\n    this.queue = queue;\n    this.tree = new SplayTree(comparator);\n    this.segments = [];\n  }\n  process(event) {\n    const segment = event.segment;\n    const newEvents = [];\n\n    // if we've already been consumed by another segment,\n    // clean up our body parts and get out\n    if (event.consumedBy) {\n      if (event.isLeft) this.queue.remove(event.otherSE);else this.tree.remove(segment);\n      return newEvents;\n    }\n    const node = event.isLeft ? this.tree.add(segment) : this.tree.find(segment);\n    if (!node) throw new Error(`Unable to find segment #${segment.id} ` + `[${segment.leftSE.point.x}, ${segment.leftSE.point.y}] -> ` + `[${segment.rightSE.point.x}, ${segment.rightSE.point.y}] ` + \"in SweepLine tree.\");\n    let prevNode = node;\n    let nextNode = node;\n    let prevSeg = undefined;\n    let nextSeg = undefined;\n\n    // skip consumed segments still in tree\n    while (prevSeg === undefined) {\n      prevNode = this.tree.prev(prevNode);\n      if (prevNode === null) prevSeg = null;else if (prevNode.key.consumedBy === undefined) prevSeg = prevNode.key;\n    }\n\n    // skip consumed segments still in tree\n    while (nextSeg === undefined) {\n      nextNode = this.tree.next(nextNode);\n      if (nextNode === null) nextSeg = null;else if (nextNode.key.consumedBy === undefined) nextSeg = nextNode.key;\n    }\n    if (event.isLeft) {\n      // Check for intersections against the previous segment in the sweep line\n      let prevMySplitter = null;\n      if (prevSeg) {\n        const prevInter = prevSeg.getIntersection(segment);\n        if (prevInter !== null) {\n          if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n          if (!prevSeg.isAnEndpoint(prevInter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n\n      // Check for intersections against the next segment in the sweep line\n      let nextMySplitter = null;\n      if (nextSeg) {\n        const nextInter = nextSeg.getIntersection(segment);\n        if (nextInter !== null) {\n          if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n          if (!nextSeg.isAnEndpoint(nextInter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n\n      // For simplicity, even if we find more than one intersection we only\n      // spilt on the 'earliest' (sweep-line style) of the intersections.\n      // The other intersection will be handled in a future process().\n      if (prevMySplitter !== null || nextMySplitter !== null) {\n        let mySplitter = null;\n        if (prevMySplitter === null) mySplitter = nextMySplitter;else if (nextMySplitter === null) mySplitter = prevMySplitter;else {\n          const cmpSplitters = SweepEvent.comparePoints(prevMySplitter, nextMySplitter);\n          mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n        }\n\n        // Rounding errors can cause changes in ordering,\n        // so remove afected segments and right sweep events before splitting\n        this.queue.remove(segment.rightSE);\n        newEvents.push(segment.rightSE);\n        const newEventsFromSplit = segment.split(mySplitter);\n        for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n          newEvents.push(newEventsFromSplit[i]);\n        }\n      }\n      if (newEvents.length > 0) {\n        // We found some intersections, so re-do the current event to\n        // make sure sweep line ordering is totally consistent for later\n        // use with the segment 'prev' pointers\n        this.tree.remove(segment);\n        newEvents.push(event);\n      } else {\n        // done with left event\n        this.segments.push(segment);\n        segment.prev = prevSeg;\n      }\n    } else {\n      // event.isRight\n\n      // since we're about to be removed from the sweep line, check for\n      // intersections between our previous and next segments\n      if (prevSeg && nextSeg) {\n        const inter = prevSeg.getIntersection(nextSeg);\n        if (inter !== null) {\n          if (!prevSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, inter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n          if (!nextSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, inter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n      this.tree.remove(segment);\n    }\n    return newEvents;\n  }\n\n  /* Safely split a segment that is currently in the datastructures\n   * IE - a segment other than the one that is currently being processed. */\n  _splitSafely(seg, pt) {\n    // Rounding errors can cause changes in ordering,\n    // so remove afected segments and right sweep events before splitting\n    // removeNode() doesn't work, so have re-find the seg\n    // https://github.com/w8r/splay-tree/pull/5\n    this.tree.remove(seg);\n    const rightSE = seg.rightSE;\n    this.queue.remove(rightSE);\n    const newEvents = seg.split(pt);\n    newEvents.push(rightSE);\n    // splitting can trigger consumption\n    if (seg.consumedBy === undefined) this.tree.add(seg);\n    return newEvents;\n  }\n}\n\n// Limits on iterative processes to prevent infinite loops - usually caused by floating-point math round-off errors.\nconst POLYGON_CLIPPING_MAX_QUEUE_SIZE = typeof process !== \"undefined\" && process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1000000;\nconst POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS = typeof process !== \"undefined\" && process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1000000;\nclass Operation {\n  run(type, geom, moreGeoms) {\n    operation.type = type;\n    rounder.reset();\n\n    /* Convert inputs to MultiPoly objects */\n    const multipolys = [new MultiPolyIn(geom, true)];\n    for (let i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n      multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n    }\n    operation.numMultiPolys = multipolys.length;\n\n    /* BBox optimization for difference operation\n     * If the bbox of a multipolygon that's part of the clipping doesn't\n     * intersect the bbox of the subject at all, we can just drop that\n     * multiploygon. */\n    if (operation.type === \"difference\") {\n      // in place removal\n      const subject = multipolys[0];\n      let i = 1;\n      while (i < multipolys.length) {\n        if (getBboxOverlap(multipolys[i].bbox, subject.bbox) !== null) i++;else multipolys.splice(i, 1);\n      }\n    }\n\n    /* BBox optimization for intersection operation\n     * If we can find any pair of multipolygons whose bbox does not overlap,\n     * then the result will be empty. */\n    if (operation.type === \"intersection\") {\n      // TODO: this is O(n^2) in number of polygons. By sorting the bboxes,\n      //       it could be optimized to O(n * ln(n))\n      for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n        const mpA = multipolys[i];\n        for (let j = i + 1, jMax = multipolys.length; j < jMax; j++) {\n          if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n        }\n      }\n    }\n\n    /* Put segment endpoints in a priority queue */\n    const queue = new SplayTree(SweepEvent.compare);\n    for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n      const sweepEvents = multipolys[i].getSweepEvents();\n      for (let j = 0, jMax = sweepEvents.length; j < jMax; j++) {\n        queue.insert(sweepEvents[j]);\n        if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n          // prevents an infinite loop, an otherwise common manifestation of bugs\n          throw new Error(\"Infinite loop when putting segment endpoints in a priority queue \" + \"(queue size too big).\");\n        }\n      }\n    }\n\n    /* Pass the sweep line over those endpoints */\n    const sweepLine = new SweepLine(queue);\n    let prevQueueSize = queue.size;\n    let node = queue.pop();\n    while (node) {\n      const evt = node.key;\n      if (queue.size === prevQueueSize) {\n        // prevents an infinite loop, an otherwise common manifestation of bugs\n        const seg = evt.segment;\n        throw new Error(`Unable to pop() ${evt.isLeft ? \"left\" : \"right\"} SweepEvent ` + `[${evt.point.x}, ${evt.point.y}] from segment #${seg.id} ` + `[${seg.leftSE.point.x}, ${seg.leftSE.point.y}] -> ` + `[${seg.rightSE.point.x}, ${seg.rightSE.point.y}] from queue.`);\n      }\n      if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n        // prevents an infinite loop, an otherwise common manifestation of bugs\n        throw new Error(\"Infinite loop when passing sweep line over endpoints \" + \"(queue size too big).\");\n      }\n      if (sweepLine.segments.length > POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS) {\n        // prevents an infinite loop, an otherwise common manifestation of bugs\n        throw new Error(\"Infinite loop when passing sweep line over endpoints \" + \"(too many sweep line segments).\");\n      }\n      const newEvents = sweepLine.process(evt);\n      for (let i = 0, iMax = newEvents.length; i < iMax; i++) {\n        const evt = newEvents[i];\n        if (evt.consumedBy === undefined) queue.insert(evt);\n      }\n      prevQueueSize = queue.size;\n      node = queue.pop();\n    }\n\n    // free some memory we don't need anymore\n    rounder.reset();\n\n    /* Collect and compile segments we're keeping into a multipolygon */\n    const ringsOut = RingOut.factory(sweepLine.segments);\n    const result = new MultiPolyOut(ringsOut);\n    return result.getGeom();\n  }\n}\n\n// singleton available by import\nconst operation = new Operation();\n\nconst union = function (geom) {\n  for (var _len = arguments.length, moreGeoms = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    moreGeoms[_key - 1] = arguments[_key];\n  }\n  return operation.run(\"union\", geom, moreGeoms);\n};\nconst intersection = function (geom) {\n  for (var _len2 = arguments.length, moreGeoms = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    moreGeoms[_key2 - 1] = arguments[_key2];\n  }\n  return operation.run(\"intersection\", geom, moreGeoms);\n};\nconst xor = function (geom) {\n  for (var _len3 = arguments.length, moreGeoms = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    moreGeoms[_key3 - 1] = arguments[_key3];\n  }\n  return operation.run(\"xor\", geom, moreGeoms);\n};\nconst difference = function (subjectGeom) {\n  for (var _len4 = arguments.length, clippingGeoms = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    clippingGeoms[_key4 - 1] = arguments[_key4];\n  }\n  return operation.run(\"difference\", subjectGeom, clippingGeoms);\n};\nvar index = {\n  union: union,\n  intersection: intersection,\n  xor: xor,\n  difference: difference\n};\n\nexport { index as default };\n", "import polygonClipping from \"polygon-clipping\";\nimport { getGeom } from \"@turf/invariant\";\nimport { multiPolygon, polygon } from \"@turf/helpers\";\n/**\n * Takes two {@link (Multi)Polygon(s)} and returns a combined polygon. If the input polygons are not contiguous, this function returns a {@link MultiPolygon} feature.\n *\n * @name union\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate Properties to output Feature\n * @returns {Feature<(Polygon|MultiPolygon)>} a combined {@link Polygon} or {@link MultiPolygon} feature, or null if the inputs are empty\n * @example\n * var poly1 = turf.polygon([[\n *     [-82.574787, 35.594087],\n *     [-82.574787, 35.615581],\n *     [-82.545261, 35.615581],\n *     [-82.545261, 35.594087],\n *     [-82.574787, 35.594087]\n * ]], {\"fill\": \"#0f0\"});\n * var poly2 = turf.polygon([[\n *     [-82.560024, 35.585153],\n *     [-82.560024, 35.602602],\n *     [-82.52964, 35.602602],\n *     [-82.52964, 35.585153],\n *     [-82.560024, 35.585153]\n * ]], {\"fill\": \"#00f\"});\n *\n * var union = turf.union(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, union];\n */\nfunction union(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n    var unioned = polygonClipping.union(geom1.coordinates, geom2.coordinates);\n    if (unioned.length === 0)\n        return null;\n    if (unioned.length === 1)\n        return polygon(unioned[0], options.properties);\n    else\n        return multiPolygon(unioned, options.properties);\n}\nexport default union;\n", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as turf from '@turf/helpers';\nimport union from '@turf/union';\n\n/**\n * 专门处理 Tile 数据相关\n */\nexport class TileSourceService {\n  getCombineFeature(features) {\n    let p = null;\n    const properties = features[0];\n    features.map(feature => {\n      const polygon = turf.polygon(feature.coordinates);\n      // tslint:disable-next-line: prefer-conditional-expression\n      if (p === null) {\n        p = polygon;\n      } else {\n        p = union(p, polygon);\n      }\n    });\n    if (properties) {\n      p.properties = _objectSpread({}, properties);\n    }\n    return p;\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { decodePickingColor, encodePickingColor } from '@antv/l7-utils';\nimport { TileSourceService } from \"./TileSourceService\";\nconst SELECT = 'select';\nconst ACTIVE = 'active';\nexport class TilePickService {\n  constructor({\n    layerService,\n    tileLayerService,\n    parent\n  }) {\n    _defineProperty(this, \"layerService\", void 0);\n    _defineProperty(this, \"tileLayerService\", void 0);\n    _defineProperty(this, \"tileSourceService\", void 0);\n    _defineProperty(this, \"parent\", void 0);\n    _defineProperty(this, \"tilePickID\", new Map());\n    this.layerService = layerService;\n    this.tileLayerService = tileLayerService;\n    this.parent = parent;\n    this.tileSourceService = new TileSourceService();\n  }\n  pickRender(target) {\n    // 一个 TileLayer 有多个 Tile，但是会同时触发事件的只有一个 Tile\n    const tile = this.tileLayerService.getVisibleTileBylngLat(target.lngLat);\n    if (tile) {\n      // TODO 多图层拾取\n      const pickLayer = tile.getMainLayer();\n      pickLayer === null || pickLayer === void 0 || pickLayer.layerPickService.pickRender(target);\n    }\n  }\n  pick(layer, target) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const container = _this.parent.getContainer();\n      const pickingService = container.pickingService;\n      if (layer.type === 'RasterLayer') {\n        const tile = _this.tileLayerService.getVisibleTileBylngLat(target.lngLat);\n        if (tile && tile.getMainLayer() !== undefined) {\n          const pickLayer = tile.getMainLayer();\n          return pickLayer.layerPickService.pickRasterLayer(pickLayer, target, _this.parent);\n        }\n        return false;\n      }\n      _this.pickRender(target);\n      return pickingService.pickFromPickingFBO(layer, target);\n    })();\n  }\n  selectFeature(pickedColors) {\n    // @ts-ignore\n    const [r, g, b] = pickedColors;\n    const id = this.color2PickId(r, g, b);\n    this.tilePickID.set(SELECT, id);\n    this.updateHighLight(r, g, b, SELECT);\n  }\n  highlightPickedFeature(pickedColors) {\n    // @ts-ignore\n    const [r, g, b] = pickedColors;\n    const id = this.color2PickId(r, g, b);\n    this.tilePickID.set(ACTIVE, id);\n    this.updateHighLight(r, g, b, ACTIVE);\n  }\n  updateHighLight(r, g, b, type) {\n    this.tileLayerService.tiles.map(tile => {\n      const layer = tile.getMainLayer();\n      switch (type) {\n        case SELECT:\n          layer === null || layer === void 0 || layer.hooks.beforeSelect.call([r, g, b]);\n          break;\n        case ACTIVE:\n          layer === null || layer === void 0 || layer.hooks.beforeHighlight.call([r, g, b]);\n          break;\n      }\n    });\n  }\n  setPickState() {\n    const selectColor = this.tilePickID.get(SELECT);\n    const activeColor = this.tilePickID.get(ACTIVE);\n    if (selectColor) {\n      const [r, g, b] = this.pickId2Color(selectColor);\n      this.updateHighLight(r, g, b, SELECT);\n      return;\n    }\n    if (activeColor) {\n      const [r, g, b] = this.pickId2Color(activeColor);\n      this.updateHighLight(r, g, b, ACTIVE);\n      return;\n    }\n  }\n  color2PickId(r, g, b) {\n    return decodePickingColor(new Uint8Array([r, g, b]));\n  }\n  pickId2Color(str) {\n    return encodePickingColor(str);\n  }\n\n  /** 从瓦片中根据数据 */\n  getFeatureById(pickedFeatureIdx) {\n    // 提取当前可见瓦片\n    const tiles = this.tileLayerService.getTiles().filter(tile => tile.visible);\n    // 提取当前可见瓦片中匹配 ID 的 feature 列表\n    const features = [];\n    tiles.forEach(tile => {\n      features.push(...tile.getFeatureById(pickedFeatureIdx));\n    });\n\n    // 将 feature 列表合并后返回\n    // 统一返回成 polygon 的格式 点、线、面可以通用\n\n    // const data = this.tileSourceService.getCombineFeature(features);\n\n    return features;\n  }\n\n  // Tip: for interface define\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  pickRasterLayer() {\n    return false;\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createLayerContainer } from '@antv/l7-core';\nimport { EventEmitter } from 'eventemitter3';\nimport PolygonLayer from \"../../polygon\";\nimport { isNeedMask } from \"./util\";\nexport default class Tile extends EventEmitter {\n  constructor(sourceTile, parent) {\n    super();\n    _defineProperty(this, \"x\", void 0);\n    _defineProperty(this, \"y\", void 0);\n    _defineProperty(this, \"z\", void 0);\n    _defineProperty(this, \"key\", void 0);\n    _defineProperty(this, \"parent\", void 0);\n    _defineProperty(this, \"sourceTile\", void 0);\n    _defineProperty(this, \"visible\", true);\n    _defineProperty(this, \"layers\", []);\n    _defineProperty(this, \"isLoaded\", false);\n    _defineProperty(this, \"tileMaskLayers\", []);\n    _defineProperty(this, \"tileMask\", void 0);\n    this.parent = parent;\n    this.sourceTile = sourceTile;\n    this.x = sourceTile.x;\n    this.y = sourceTile.y;\n    this.z = sourceTile.z;\n    this.key = `${this.x}_${this.y}_${this.z}`;\n  }\n  getLayers() {\n    return this.layers;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  styleUpdate(...arg) {\n    return;\n  }\n  lnglatInBounds(lnglat) {\n    const [minLng, minLat, maxLng, maxLat] = this.sourceTile.bounds;\n    const {\n      lng,\n      lat\n    } = lnglat;\n    return lng >= minLng && lng <= maxLng && lat >= minLat && lat <= maxLat;\n  }\n  getLayerOptions() {\n    var _options$maskLayers;\n    const options = this.parent.getLayerConfig();\n    return _objectSpread(_objectSpread({}, options), {}, {\n      textAllowOverlap: true,\n      // 文本允许重叠\n      autoFit: false,\n      maskLayers: this.getMaskLayer(),\n      tileMask: isNeedMask(this.parent.type),\n      mask: options.mask || ((_options$maskLayers = options.maskLayers) === null || _options$maskLayers === void 0 ? void 0 : _options$maskLayers.length) !== 0 && options.enableMask\n    });\n  }\n  // 获取Mask 图层\n  getMaskLayer() {\n    const {\n      maskLayers\n    } = this.parent.getLayerConfig();\n    const layers = [];\n    maskLayers === null || maskLayers === void 0 || maskLayers.forEach(layer => {\n      if (!layer.tileLayer) {\n        // 非瓦片图层返回图层本身，瓦片图层返回对应的行列号图层\n        layers.push(layer);\n        return layer;\n      }\n      const tileLayer = layer.tileLayer;\n      const tile = tileLayer.getTile(this.sourceTile.key);\n      const l = tile === null || tile === void 0 ? void 0 : tile.getLayers()[0];\n      if (l) {\n        layers.push(l);\n      }\n    });\n    return layers;\n  }\n  addTileMask() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const mask = new PolygonLayer({\n        name: 'mask',\n        visible: true,\n        enablePicking: false\n      }).source({\n        type: 'FeatureCollection',\n        features: [_this.sourceTile.bboxPolygon]\n      }, {\n        parser: {\n          type: 'geojson',\n          featureId: 'id'\n        }\n      }).shape('fill').color('#0f0').style({\n        opacity: 0.5\n      });\n      const container = createLayerContainer(_this.parent.container);\n      mask.setContainer(container);\n      yield mask.init();\n      _this.tileMask = mask;\n      const mainLayer = _this.getMainLayer();\n      if (mainLayer !== undefined) {\n        mainLayer.tileMask = mask;\n      }\n      return mask;\n    })();\n  }\n  // 全局 Mask\n  addMask(layer, mask) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const container = createLayerContainer(_this2.parent.container);\n      mask.setContainer(container);\n      yield mask.init();\n      layer.addMask(mask);\n      _this2.tileMaskLayers.push(mask);\n    })();\n  }\n  addLayer(layer) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      // set flag\n      layer.isTileLayer = true;\n      const container = createLayerContainer(_this3.parent.container);\n      layer.setContainer(container);\n      _this3.layers.push(layer);\n      yield layer.init();\n    })();\n  }\n  updateVisible(value) {\n    this.visible = value;\n    this.updateOptions('visible', value);\n  }\n  updateOptions(key, value) {\n    this.layers.forEach(l => {\n      l.updateLayerConfig({\n        [key]: value\n      });\n    });\n  }\n\n  /**\n   * 一个 Tile 可能有多个 layer，但是在发生拾取、点击事件的时候只有一个生效\n   */\n  getMainLayer() {\n    return this.layers[0];\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getFeatures(sourceLayer) {\n    return [];\n  }\n\n  /**\n   * 在一个 Tile 中可能存在一个相同 ID 的 feature\n   * @param id\n   * @returns\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getFeatureById(id) {\n    return [];\n  }\n  destroy() {\n    var _this$tileMask;\n    (_this$tileMask = this.tileMask) === null || _this$tileMask === void 0 || _this$tileMask.destroy();\n    this.layers.forEach(layer => layer.destroy());\n  }\n}", "import LineLayer from \"../../line\";\nimport PointLayer from \"../../point/index\";\nimport PolygonLayer from \"../../polygon\";\nexport function getTileLayer(type) {\n  if (type === 'PolygonLayer') {\n    return PolygonLayer;\n  }\n  if (type === 'LineLayer') {\n    return LineLayer;\n  }\n  if (type === 'PointLayer') {\n    return PointLayer;\n  }\n  return PointLayer;\n}\nexport function isNeedMask(type) {\n  return ['PolygonLayer', 'LineLayer'].indexOf(type) !== -1;\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport LineLayer from \"../../line\";\nimport PointLayer from \"../../point\";\nimport Tile from \"./Tile\";\nexport default class DebugTile extends Tile {\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const sourceOptions = _this.getSourceOption();\n      const pointData = sourceOptions.data.features[0].properties;\n      const lineLayer = new LineLayer().source(sourceOptions.data, sourceOptions.options).size(1).shape('line').color('red');\n      const pointLayer = new PointLayer({\n        minZoom: _this.z - 1,\n        maxZoom: _this.z + 1,\n        textAllowOverlap: true\n      }).source([pointData], {\n        parser: {\n          type: 'json',\n          x: 'x',\n          y: 'y'\n        }\n      }).size(20).color('red').shape(_this.key).style({\n        stroke: '#fff',\n        strokeWidth: 2\n      });\n      yield _this.addLayer(lineLayer);\n      yield _this.addLayer(pointLayer);\n      _this.isLoaded = true;\n    })();\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    const features = this.sourceTile.data.layers.testTile.features;\n    return {\n      data: {\n        type: 'FeatureCollection',\n        features\n      },\n      options: {\n        parser: {\n          type: 'geojson'\n        },\n        transforms: rawSource.transforms\n      }\n    };\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport ImageLayer from \"../../image\";\nimport Tile from \"./Tile\";\nexport default class ImageTile extends Tile {\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const attributes = _this.parent.getLayerAttributeConfig();\n      const layerOptions = _this.getLayerOptions();\n      const sourceOptions = _this.getSourceOption();\n      const layer = new ImageLayer(_objectSpread({}, layerOptions)).source(sourceOptions.data, sourceOptions.options);\n\n      // 初始化数据映射\n      // tslint:disable-next-line: no-unused-expression\n      attributes && Object.keys(attributes).forEach(type => {\n        var _attributes$attr, _attributes$attr2;\n        const attr = type;\n        // @ts-ignore\n        layer[attr]((_attributes$attr = attributes[attr]) === null || _attributes$attr === void 0 ? void 0 : _attributes$attr.field, (_attributes$attr2 = attributes[attr]) === null || _attributes$attr2 === void 0 ? void 0 : _attributes$attr2.values);\n      });\n      yield _this.addLayer(layer);\n      _this.isLoaded = true;\n    })();\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    return {\n      data: this.sourceTile.data,\n      options: {\n        parser: {\n          type: 'image',\n          extent: this.sourceTile.bounds\n        },\n        transforms: rawSource.transforms\n      }\n    };\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { rgb2arr } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { polygonTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../../shader/minify_frag.glsl' */\nconst mask_frag = \"layout(std140) uniform commonUniorm {\\n  vec4 u_color;\\n  float u_opacity;\\n};\\n\\nout vec4 outputColor;\\n\\nvoid main() {\\n  outputColor = u_color;\\n  outputColor.a *= u_opacity;\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/mask_vert.glsl' */\nconst mask_vert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\n\\nlayout(std140) uniform commonUniorm {\\n  vec4 u_color;\\n  float u_opacity;\\n};\\n\\n#pragma include \\\"projection\\\"\\n\\nvoid main() {\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\\n}\\n\\n\";\nexport default class MaskModel extends BaseModel {\n  getUninforms() {\n    const commoninfo = this.getCommonUniformsInfo();\n    const attributeInfo = this.getUniformsBufferInfo(this.getStyleAttribute());\n    this.updateStyleUnifoms();\n    return _objectSpread(_objectSpread({}, commoninfo.uniformsOption), attributeInfo.uniformsOption);\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity = 1,\n      color = '#000'\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_color: rgb2arr(color),\n      u_opacity: opacity || 1\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.buildModels();\n    })();\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.initUniformsBuffer();\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'mask',\n        vertexShader: mask_vert,\n        fragmentShader: mask_frag,\n        defines: _this2.getDefines(),\n        triangulation: polygonTriangulation,\n        depth: {\n          enable: false\n        },\n        pick: false\n      });\n      return [model];\n    })();\n  }\n  clearModels(refresh = true) {\n    if (refresh) {\n      this.layerService.clear();\n    }\n  }\n  registerBuiltinAttributes() {\n    return '';\n  }\n}", "import FillModel from \"./fill\";\nconst MaskModels = {\n  fill: FillModel\n};\nexport default MaskModels;", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport MaskModels from \"./models\";\nexport default class MaskLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'MaskLayer');\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const shape = _this.getModelType();\n      _this.layerModel = new MaskModels[shape](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  getModelType() {\n    return 'fill';\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport MaskLayer from \"../../mask\";\nimport Tile from \"./Tile\";\nexport default class MaskTile extends Tile {\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const attributes = _this.parent.getLayerAttributeConfig();\n      const layerOptions = _this.getLayerOptions();\n      const sourceOptions = _this.getSourceOption();\n      const layer = new MaskLayer(_objectSpread({}, layerOptions)).source(sourceOptions.data, sourceOptions.options);\n\n      // 初始化数据映射\n      // tslint:disable-next-line: no-unused-expression\n      attributes && Object.keys(attributes).forEach(type => {\n        var _attributes$attr, _attributes$attr2;\n        const attr = type;\n        // @ts-ignore\n        layer[attr]((_attributes$attr = attributes[attr]) === null || _attributes$attr === void 0 ? void 0 : _attributes$attr.field, (_attributes$attr2 = attributes[attr]) === null || _attributes$attr2 === void 0 ? void 0 : _attributes$attr2.values);\n      });\n      yield _this.addLayer(layer);\n      _this.isLoaded = true;\n    })();\n  }\n  getFeatures(sourceLayer) {\n    if (!sourceLayer) {\n      return [];\n    }\n    const source = this.sourceTile.data;\n    return source.getTileData(sourceLayer);\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    const {\n      sourceLayer,\n      featureId\n    } = this.parent.getLayerConfig();\n    const features = this.getFeatures(sourceLayer);\n    return {\n      data: {\n        type: 'FeatureCollection',\n        features\n      },\n      options: {\n        parser: {\n          type: 'geojson',\n          featureId\n        },\n        transforms: rawSource.transforms\n      }\n    };\n  }\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nconst _excluded = [\"rasterData\"];\nimport RasterLayer from \"../../raster\";\nimport Tile from \"./Tile\";\nexport default class RasterTile extends Tile {\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const attributes = _this.parent.getLayerAttributeConfig();\n      const layerOptions = _this.getLayerOptions();\n      const sourceOptions = _this.getSourceOption();\n      const layer = new RasterLayer(_objectSpread({}, layerOptions)).source(sourceOptions.data, sourceOptions.options);\n\n      // 初始化数据映射\n      // tslint:disable-next-line: no-unused-expression\n      attributes && Object.keys(attributes).forEach(type => {\n        var _attributes$attr, _attributes$attr2;\n        const attr = type;\n        // @ts-ignore\n        layer[attr]((_attributes$attr = attributes[attr]) === null || _attributes$attr === void 0 ? void 0 : _attributes$attr.field, (_attributes$attr2 = attributes[attr]) === null || _attributes$attr2 === void 0 ? void 0 : _attributes$attr2.values);\n      });\n      yield _this.addLayer(layer);\n      _this.isLoaded = true;\n    })();\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    const _this$sourceTile$data = this.sourceTile.data.data,\n      {\n        rasterData\n      } = _this$sourceTile$data,\n      res = _objectWithoutProperties(_this$sourceTile$data, _excluded);\n    return {\n      data: rasterData,\n      // 栅格数\n      options: {\n        parser: _objectSpread({\n          type: 'rasterRgb',\n          extent: this.sourceTile.bounds\n        }, res),\n        transforms: rawSource.transforms\n      }\n    };\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport RasterLayer from \"../../raster\";\nimport Tile from \"./Tile\";\nexport default class RasterTerrainRGBTile extends Tile {\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const attributes = _this.parent.getLayerAttributeConfig();\n      const layerOptions = _this.getLayerOptions();\n      const sourceOptions = _this.getSourceOption();\n      const layer = new RasterLayer(_objectSpread({}, layerOptions)).source(sourceOptions.data, sourceOptions.options);\n\n      // 初始化数据映射\n      // tslint:disable-next-line: no-unused-expression\n      attributes && Object.keys(attributes).forEach(type => {\n        var _attributes$attr, _attributes$attr2;\n        const attr = type;\n        // @ts-ignore\n        layer[attr]((_attributes$attr = attributes[attr]) === null || _attributes$attr === void 0 ? void 0 : _attributes$attr.field, (_attributes$attr2 = attributes[attr]) === null || _attributes$attr2 === void 0 ? void 0 : _attributes$attr2.values);\n      });\n      yield _this.addLayer(layer);\n      _this.isLoaded = true;\n    })();\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    return {\n      data: this.sourceTile.data,\n      options: {\n        parser: {\n          type: 'image',\n          extent: this.sourceTile.bounds\n        },\n        transforms: rawSource.transforms\n      }\n    };\n  }\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nconst _excluded = [\"rasterData\"];\nimport { getDefaultDomain } from '@antv/l7-utils';\nimport RasterLayer from \"../../raster\";\nimport Tile from \"./Tile\";\nconst DEFAULT_COLOR_TEXTURE_OPTION = {\n  positions: [0, 1],\n  colors: ['#000', '#fff']\n};\nexport default class RasterTile extends Tile {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"colorTexture\", void 0);\n  }\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const attributes = _this.parent.getLayerAttributeConfig();\n      const layerOptions = _this.getLayerOptions();\n      const sourceOptions = _this.getSourceOption();\n      const {\n        rampColors,\n        domain\n      } = _this.getLayerOptions();\n      _this.colorTexture = _this.parent.textureService.getColorTexture(rampColors, domain);\n      const layer = new RasterLayer(_objectSpread(_objectSpread({}, layerOptions), {}, {\n        colorTexture: _this.colorTexture\n      })).source(sourceOptions.data, sourceOptions.options);\n\n      // 初始化数据映射\n      // tslint:disable-next-line: no-unused-expression\n      attributes && Object.keys(attributes).forEach(type => {\n        var _attributes$attr, _attributes$attr2;\n        const attr = type;\n        // @ts-ignore\n        layer[attr]((_attributes$attr = attributes[attr]) === null || _attributes$attr === void 0 ? void 0 : _attributes$attr.field, (_attributes$attr2 = attributes[attr]) === null || _attributes$attr2 === void 0 ? void 0 : _attributes$attr2.values);\n      });\n      yield _this.addLayer(layer);\n      _this.isLoaded = true;\n    })();\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    const _this$sourceTile$data = this.sourceTile.data.data,\n      {\n        rasterData\n      } = _this$sourceTile$data,\n      res = _objectWithoutProperties(_this$sourceTile$data, _excluded);\n    return {\n      data: rasterData,\n      options: {\n        parser: _objectSpread({\n          type: 'raster',\n          extent: this.sourceTile.bounds\n        }, res),\n        transforms: rawSource.transforms\n      }\n    };\n  }\n\n  /**\n   * 用于 style 更新 colorTexture 的优化\n   * @param arg\n   */\n  styleUpdate(...arg) {\n    const {\n      rampColors = DEFAULT_COLOR_TEXTURE_OPTION,\n      domain\n    } = arg;\n    this.colorTexture = this.parent.textureService.getColorTexture(rampColors, domain || getDefaultDomain(rampColors));\n    this.layers.forEach(layer => layer.style({\n      colorTexture: this.colorTexture\n    }));\n  }\n  destroy() {\n    this.layers.forEach(layer => layer.destroy());\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Tile from \"./Tile\";\nimport { getTileLayer } from \"./util\";\nexport default class VectorTile extends Tile {\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const attributes = _this.parent.getLayerAttributeConfig();\n      const layerOptions = _this.getLayerOptions();\n      const vectorLayer = getTileLayer(_this.parent.type);\n      const sourceOptions = _this.getSourceOption();\n      if (!sourceOptions) {\n        _this.isLoaded = true;\n        _this.emit('loaded');\n        return;\n      }\n      const layer = new vectorLayer(_objectSpread({}, layerOptions)).source(sourceOptions.data, sourceOptions.options);\n\n      // 初始化数据映射\n      Object.keys(attributes).forEach(type => {\n        var _attributes$attr, _attributes$attr2;\n        const attr = type;\n        // @ts-ignore\n        layer[attr]((_attributes$attr = attributes[attr]) === null || _attributes$attr === void 0 ? void 0 : _attributes$attr.field, (_attributes$attr2 = attributes[attr]) === null || _attributes$attr2 === void 0 ? void 0 : _attributes$attr2.values);\n      });\n      yield _this.addLayer(layer);\n      if (layerOptions.tileMask) {\n        // 瓦片数据裁剪\n        yield _this.addTileMask();\n      }\n      _this.setLayerMinMaxZoom(layer);\n      _this.isLoaded = true;\n      _this.emit('loaded');\n    })();\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    const {\n      sourceLayer = 'defaultLayer',\n      featureId = 'id'\n    } = this.parent.getLayerConfig();\n    const features = this.getFeatures(sourceLayer);\n    return {\n      data: {\n        type: 'FeatureCollection',\n        features\n      },\n      options: {\n        parser: {\n          type: 'geojson',\n          featureId\n        },\n        transforms: rawSource.transforms\n      }\n    };\n  }\n  setLayerMinMaxZoom(layer) {\n    // 文本图层设置，可见范围\n    if (layer.getModelType() === 'text') {\n      layer.updateLayerConfig({\n        maxZoom: this.z + 1,\n        minZoom: this.z - 1\n      });\n    }\n  }\n  // 获取瓦片数据\n\n  getFeatures(sourceLayer) {\n    const source = this.sourceTile.data;\n    return source.getTileData(sourceLayer);\n  }\n\n  /**\n   * 在一个 Tile 中可能存在一个相同 ID 的 feature\n   * @param id\n   * @returns\n   */\n  getFeatureById(id) {\n    const layer = this.getMainLayer();\n    if (!layer) {\n      return [];\n    }\n    const res = layer.getSource().data.dataArray.filter(d => d._id === id);\n    return res;\n  }\n}", "import { RasterTileType } from '@antv/l7-core';\nimport DebugTile from \"./DebugTile\";\nimport ImageTile from \"./ImageTile\";\nimport MaskLayer from \"./MaskTile\";\nimport RasterRGBTile from \"./RasterRGBTile\";\nimport RasterTerrainRGBTile from \"./RasterTerrainRGBTile\";\nimport RasterTile from \"./RasterTile\";\nimport VectorTile from \"./VectorTile\";\nexport function getTileFactory(layer) {\n  const tileType = layer.type;\n  switch (tileType) {\n    case 'PolygonLayer':\n      return VectorTile;\n    case 'LineLayer':\n      return VectorTile;\n    case 'PointLayer':\n      return VectorTile;\n    case 'TileDebugLayer':\n      return DebugTile;\n    case 'MaskLayer':\n      return MaskLayer;\n    case 'RasterLayer':\n      const {\n        dataType\n      } = layer.getSource().parser;\n      switch (dataType) {\n        case RasterTileType.RGB:\n        case RasterTileType.CUSTOMRGB:\n          return RasterRGBTile;\n        case RasterTileType.ARRAYBUFFER:\n        case RasterTileType.CUSTOMARRAYBUFFER:\n          return RasterTile;\n        case RasterTileType.TERRAINRGB:\n        case RasterTileType.CUSTOMTERRAINRGB:\n          return RasterTerrainRGBTile;\n        default:\n          return ImageTile;\n      }\n    default:\n      return VectorTile;\n  }\n}\nexport * from \"../interface\";\nexport * from \"./Tile\";", "// TileLayer 需要代理的子图层的方法\n// 一般都是在 BaseLayer 上的方法\nexport const ProxyFuncs = [\n/**\n * 1. 需要作用到所属子图层才会生效的方法\n * 2. 不需要主动重新创建 model 的方法\n */\n'shape', 'color', 'size', 'style', 'animate', 'filter', 'rotate', 'scale', 'setBlend', 'setSelect', 'setActive', 'disableMask', 'enableMask', 'addMask', 'removeMask'];", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { lodashUtil } from '@antv/l7-utils';\nimport { TileLayerService } from \"../service/TileLayerService\";\nimport { TilePickService } from \"../service/TilePickService\";\nimport { getTileFactory } from \"../tile\";\nimport { ProxyFuncs } from \"../utils/constants\";\nconst {\n  debounce\n} = lodashUtil;\nexport default class BaseTileLayer {\n  constructor(parent) {\n    _defineProperty(this, \"parent\", void 0);\n    _defineProperty(this, \"tileLayerService\", void 0);\n    _defineProperty(this, \"mapService\", void 0);\n    _defineProperty(this, \"layerService\", void 0);\n    _defineProperty(this, \"rendererService\", void 0);\n    _defineProperty(this, \"pickingService\", void 0);\n    _defineProperty(this, \"tilePickService\", void 0);\n    _defineProperty(this, \"tilesetManager\", void 0);\n    // 瓦片数据管理器\n    _defineProperty(this, \"initedTileset\", false);\n    // 瓦片是否加载成功\n    _defineProperty(this, \"lastViewStates\", void 0);\n    _defineProperty(this, \"mapchange\", () => {\n      var _this$tilesetManager;\n      // 图层不可见时，不触发加载瓦片\n      if (this.parent.isVisible() === false) {\n        return;\n      }\n      const {\n        latLonBounds,\n        zoom\n      } = this.getCurrentView();\n      if (this.lastViewStates && this.lastViewStates.zoom === zoom && this.lastViewStates.latLonBounds.toString() === latLonBounds.toString()) {\n        return;\n      }\n      this.lastViewStates = {\n        zoom,\n        latLonBounds\n      };\n      (_this$tilesetManager = this.tilesetManager) === null || _this$tilesetManager === void 0 || _this$tilesetManager.throttleUpdate(zoom, latLonBounds);\n    });\n    //  防抖操作\n    _defineProperty(this, \"viewchange\", debounce(this.mapchange, 24));\n    this.parent = parent;\n    const container = this.parent.getContainer();\n    this.rendererService = container.rendererService;\n    this.layerService = container.layerService;\n    this.mapService = container.mapService;\n    this.pickingService = container.pickingService;\n\n    // 初始化瓦片管理服务\n    this.tileLayerService = new TileLayerService({\n      rendererService: this.rendererService,\n      layerService: this.layerService,\n      parent\n    });\n    // 初始化拾取服务\n    this.tilePickService = new TilePickService({\n      tileLayerService: this.tileLayerService,\n      layerService: this.layerService,\n      parent\n    });\n\n    // 重置\n    this.parent.setLayerPickService(this.tilePickService);\n    this.proxy(parent);\n    this.initTileSetManager();\n  }\n  initTileSetManager() {\n    var _this$tilesetManager2;\n    const source = this.parent.getSource();\n    this.tilesetManager = source.tileset;\n    if (!this.initedTileset) {\n      this.bindTilesetEvent();\n      this.initedTileset = true;\n    }\n\n    // 图层不可见时，不触发加载瓦片\n    if (this.parent.isVisible() === false) {\n      return;\n    }\n    const {\n      latLonBounds,\n      zoom\n    } = this.getCurrentView();\n    (_this$tilesetManager2 = this.tilesetManager) === null || _this$tilesetManager2 === void 0 || _this$tilesetManager2.update(zoom, latLonBounds);\n  }\n  getCurrentView() {\n    const bounds = this.mapService.getBounds();\n    const latLonBounds = [bounds[0][0], bounds[0][1], bounds[1][0], bounds[1][1]];\n    const zoom = this.mapService.getZoom();\n    return {\n      latLonBounds,\n      zoom\n    };\n  }\n  bindTilesetEvent() {\n    // 瓦片数据加载成功\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this.tilesetManager.on('tile-loaded', tile => {\n      // 将事件抛出，图层上可以监听使用\n    });\n\n    // 瓦片数据从缓存删除或被执行重新加载\n    this.tilesetManager.on('tile-unload', tile => {\n      // 将事件抛出，图层上可以监听使用\n      this.tileUnLoad(tile);\n    });\n\n    // 瓦片数据加载失败\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this.tilesetManager.on('tile-error', (error, tile) => {\n      // 将事件抛出，图层上可以监听使用\n      this.tileError(error);\n    });\n\n    // 瓦片显隐状态更新\n    this.tilesetManager.on('tile-update', () => {\n      this.tileUpdate();\n    });\n\n    // 地图视野发生改变\n    this.mapService.on('zoomend', this.mapchange);\n    this.mapService.on('moveend', this.viewchange);\n  }\n  render() {\n    this.tileLayerService.render();\n  }\n  getLayers() {\n    return this.tileLayerService.getLayers();\n  }\n  getTiles() {\n    return this.tileLayerService.getTiles();\n  }\n  getTile(key) {\n    return this.tileLayerService.getTile(key);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  tileLoaded(tile) {\n    //\n  }\n  tileError(error) {\n    console.warn('error:', error);\n  }\n  destroy() {\n    var _this$tilesetManager3;\n    this.mapService.off('zoomend', this.mapchange);\n    this.mapService.off('moveend', this.viewchange);\n    (_this$tilesetManager3 = this.tilesetManager) === null || _this$tilesetManager3 === void 0 || _this$tilesetManager3.destroy();\n    this.tileLayerService.destroy();\n  }\n  // 重新加载\n  reload() {\n    var _this$tilesetManager4;\n    // 瓦片重新加载\n    this.tilesetManager.clear();\n    const {\n      latLonBounds,\n      zoom\n    } = this.getCurrentView();\n    (_this$tilesetManager4 = this.tilesetManager) === null || _this$tilesetManager4 === void 0 || _this$tilesetManager4.update(zoom, latLonBounds);\n  }\n  tileUnLoad(tile) {\n    this.tileLayerService.removeTile(tile.key);\n  }\n  tileUpdate() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.tilesetManager) {\n        return;\n      }\n      const minZoom = _this.parent.getMinZoom();\n      const maxZoom = _this.parent.getMaxZoom();\n      const tiles = _this.tilesetManager.tiles.filter(tile => tile.isLoaded) // 过滤未加载完成的\n      .filter(tile => tile.isVisibleChange) // 过滤未发生变化的\n      .filter(tile => tile.data) //\n      .filter(tile => tile.z >= minZoom && tile.z < maxZoom); // 过滤不可见见\n      yield Promise.all(tiles.map( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (tile) {\n          // 未加载瓦片\n          if (!_this.tileLayerService.hasTile(tile.key)) {\n            const tileInstance = getTileFactory(_this.parent);\n            const tileLayer = new tileInstance(tile, _this.parent);\n            yield tileLayer.initTileLayer();\n            _this.tilePickService.setPickState();\n            if (tileLayer.getLayers().length !== 0) {\n              _this.tileLayerService.addTile(tileLayer);\n              _this.tileLayerService.updateTileVisible(tile);\n              _this.layerService.reRender();\n            }\n          } else {\n            // 已加载瓦片\n            _this.tileLayerService.updateTileVisible(tile);\n            _this.tilePickService.setPickState();\n            _this.layerService.reRender();\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()));\n      if (_this.tilesetManager.isLoaded) {\n        // 将事件抛出，图层上可以使用瓦片\n        _this.parent.emit('tiles-loaded', _this.tilesetManager.currentTiles);\n      }\n    })();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setPickState(layers) {\n    return;\n  }\n  pickRender(target) {\n    this.tilePickService.pickRender(target);\n  }\n  selectFeature(pickedColors) {\n    this.tilePickService.selectFeature(pickedColors);\n  }\n  highlightPickedFeature(pickedColors) {\n    this.tilePickService.highlightPickedFeature(pickedColors);\n  }\n\n  /**\n   * 实现 TileLayer 对子图层方法的代理\n   * @param parent\n   */\n  proxy(parent) {\n    ProxyFuncs.forEach(func => {\n      // @ts-ignore\n      const oldStyleFunc = parent[func].bind(parent);\n      // @ts-ignore\n      parent[func] = (...args) => {\n        oldStyleFunc(...args);\n        this.getLayers().map(child => {\n          // @ts-ignore\n          child[func](...args);\n        });\n        // Tip: 目前在更新 RasterData 的 colorTexture 的时候需要额外优化\n        if (func === 'style') {\n          this.getTiles().forEach(tile => tile.styleUpdate(...args));\n        }\n        return parent;\n      };\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../../core/BaseLayer\";\nexport default class TileDebugLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'TileDebugLayer');\n    _defineProperty(this, \"zIndex\", 10000);\n    _defineProperty(this, \"defaultSourceConfig\", {\n      data: [],\n      options: {\n        parser: {\n          type: 'testTile'\n        }\n      }\n    });\n  }\n  buildModels() {\n    return _asyncToGenerator(function* () {\n      return;\n    })();\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { lodashUtil } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { earthTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/atmosphere/atmosphere_frag.glsl' */\nconst atmoSphereFrag = \"\\nlayout(std140) uniform commonUniforms {\\n float u_opacity;\\n};\\nin vec3 vVertexNormal;\\nin float v_offset;\\nin vec4 v_Color;\\n\\n#pragma include \\\"scene_uniforms\\\"\\nout vec4 outputColor;\\nvoid main() {\\n    \\n    \\n    // float intensity = pow(0.5 + dot(normalize(vVertexNormal), normalize(u_CameraPosition)), 3.0);\\n    float intensity = pow(v_offset + dot(normalize(vVertexNormal), normalize(u_CameraPosition)), 3.0);\\n    // \\u53BB\\u9664\\u80CC\\u9762\\n    if(intensity > 1.0) intensity = 0.0;\\n\\n    outputColor = vec4(v_Color.rgb, v_Color.a * intensity * u_opacity);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/atmosphere/atmosphere_vert.glsl' */\nconst atmoSphereVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n float u_opacity;\\n};\\n\\n#pragma include \\\"scene_uniforms\\\"\\nout vec3 vVertexNormal;\\nout vec4 v_Color;\\nout float v_offset;\\n\\nvoid main() {\\n    float EARTH_RADIUS = 100.0;\\n\\n    v_Color = a_Color;\\n\\n    v_offset = min(((length(u_CameraPosition) - EARTH_RADIUS)/600.0) * 0.5 + 0.4, 1.0);\\n    vVertexNormal = a_Normal;\\n\\n    gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\\n}\\n\";\nconst {\n  isNumber\n} = lodashUtil;\nexport default class EarthAtomSphereModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      NORMAL: 9,\n      UV: 10\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity = 1\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_opacity: isNumber(opacity) ? opacity : 1.0\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    return '';\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      // TODO: 调整图层的绘制顺序 地球大气层\n      _this2.layer.zIndex = -997;\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'earthAtmoSphere',\n        vertexShader: atmoSphereVert,\n        fragmentShader: atmoSphereFrag,\n        defines: _this2.getDefines(),\n        triangulation: earthTriangulation,\n        depth: {\n          enable: false\n        },\n        blend: _this2.getBlend()\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // point layer size;\n    // this.styleAttributeService.registerStyleAttribute({\n    //   name: 'size',\n    //   type: AttributeType.Attribute,\n    //   descriptor: {\n    //     name: 'a_Size',\n    //     shaderLocation: this.attributeLocation.SIZE,\n    //     buffer: {\n    //       usage: gl.DYNAMIC_DRAW,\n    //       data: [],\n    //       type: gl.FLOAT,\n    //     },\n    //     size: 1,\n    //     update: (feature: IEncodeFeature) => {\n    //       const { size = 1 } = feature;\n    //       return Array.isArray(size) ? [size[0]] : [size as number];\n    //     },\n    //   },\n    // });\n\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport BaseModel from \"../../core/BaseModel\";\nimport { earthTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/base/base_frag.glsl' */\nconst baseFrag = \"uniform sampler2D u_texture;\\n\\nin vec2 v_texCoord;\\nin float v_lightWeight;\\nout vec4 outputColor;\\n\\nvoid main() {\\n    vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));\\n    color.xyz = color.xyz * v_lightWeight;\\n    outputColor = color;\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/base/base_vert.glsl' */\nconst baseVert = \"// attribute vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\n// attribute vec2 a_Extrude;\\n// attribute float a_Size;\\n// attribute float a_Shape;\\n\\nlayout(std140) uniform commonUniforms {\\n\\tvec4 u_sunLight: [1.0, -10.5, 12.0,0.0];\\n\\tfloat u_ambientRatio : 0.5;\\n\\tfloat u_diffuseRatio : 0.3;\\n\\tfloat u_specularRatio : 0.2;\\n};\\n\\n#pragma include \\\"scene_uniforms\\\"\\n\\nout vec2 v_texCoord;\\nout float v_lightWeight;\\n\\nfloat calc_lighting(vec4 pos) {\\n\\n\\tvec3 worldPos = vec3(pos * u_ModelMatrix);\\n\\n\\tvec3 worldNormal = a_Normal;\\n\\n\\t// cal light weight\\n\\tvec3 viewDir = normalize(u_CameraPosition - worldPos);\\n\\n\\tvec3 lightDir = normalize(u_sunLight.xyz);\\n\\n\\tvec3 halfDir = normalize(viewDir+lightDir);\\n\\t// lambert\\n\\tfloat lambert = dot(worldNormal, lightDir);\\n\\t// specular\\n\\tfloat specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\\n\\t//sum to light weight\\n\\tfloat lightWeight = u_ambientRatio + u_diffuseRatio * lambert + u_specularRatio * specular;\\n\\n\\treturn lightWeight;\\n}\\n\\nvoid main() {\\n\\n\\tv_texCoord = a_Uv;\\n\\n\\tfloat lightWeight = calc_lighting(vec4(a_Position, 1.0));\\n\\tv_lightWeight = lightWeight;\\n\\n\\tgl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\\n}\\n\";\nexport default class BaseEarthModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    // T: 当前的地球时间 - 控制太阳的方位\n    _defineProperty(this, \"earthTime\", 3.4);\n    _defineProperty(this, \"sunX\", 1000);\n    _defineProperty(this, \"sunY\", 1000);\n    _defineProperty(this, \"sunZ\", 1000);\n    _defineProperty(this, \"sunRadius\", Math.sqrt(this.sunX * this.sunX + this.sunY * this.sunY + this.sunZ * this.sunZ));\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      NORMAL: 9,\n      UV: 10\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      animateOption,\n      globalOptions\n    } = this.layer.getLayerConfig();\n    if (animateOption !== null && animateOption !== void 0 && animateOption.enable) {\n      // @ts-ignore\n      // T: rotateY 方法只有在地球模式下存在\n      this.mapService.rotateY({\n        reg: 0.002\n      });\n      this.earthTime += 0.02;\n      this.sunY = 10;\n      this.sunX = Math.cos(this.earthTime) * (this.sunRadius - this.sunY);\n      this.sunZ = Math.sin(this.earthTime) * (this.sunRadius - this.sunY);\n    }\n    const commonOptions = {\n      u_sunLight: [this.sunX, this.sunY, this.sunZ, 0.0],\n      u_ambientRatio: (globalOptions === null || globalOptions === void 0 ? void 0 : globalOptions.ambientRatio) || 0.6,\n      // 环境光\n      u_diffuseRatio: (globalOptions === null || globalOptions === void 0 ? void 0 : globalOptions.diffuseRatio) || 0.4,\n      // 漫反射\n      u_specularRatio: (globalOptions === null || globalOptions === void 0 ? void 0 : globalOptions.specularRatio) || 0.1 // 高光反射\n      // u_texture: this.texture,\n    };\n    this.textures = [this.texture];\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  setEarthTime(time) {\n    this.earthTime = time;\n    this.sunY = 10;\n    this.sunX = Math.cos(this.earthTime) * (this.sunRadius - this.sunY);\n    this.sunZ = Math.sin(this.earthTime) * (this.sunRadius - this.sunY);\n    this.layerService.throttleRenderLayers();\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        globalOptions\n      } = _this.layer.getLayerConfig();\n      if ((globalOptions === null || globalOptions === void 0 ? void 0 : globalOptions.earthTime) !== undefined) {\n        _this.setEarthTime(globalOptions.earthTime);\n      }\n      const source = _this.layer.getSource();\n      const {\n        createTexture2D\n      } = _this.rendererService;\n      _this.texture = createTexture2D({\n        height: 0,\n        width: 0\n      });\n      source.data.images.then(imageData => {\n        _this.texture = createTexture2D({\n          data: imageData[0],\n          width: imageData[0].width,\n          height: imageData[0].height\n        });\n        _this.textures = [_this.texture];\n        _this.layerService.reRender();\n      });\n      _this.initUniformsBuffer();\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    return '';\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      // Tip: 调整图层的绘制顺序 地球大气层\n      _this2.layer.zIndex = -998;\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'earthBase',\n        vertexShader: baseVert,\n        fragmentShader: baseFrag,\n        defines: _this2.getDefines(),\n        triangulation: earthTriangulation,\n        depth: {\n          enable: true\n        },\n        blend: _this2.getBlend()\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // this.styleAttributeService.registerStyleAttribute({\n    //   name: 'size',\n    //   type: AttributeType.Attribute,\n    //   descriptor: {\n    //     name: 'a_Size',\n    //     shaderLocation: this.attributeLocation.SIZE,\n    //     buffer: {\n    //       usage: gl.DYNAMIC_DRAW,\n    //       data: [],\n    //       type: gl.FLOAT,\n    //     },\n    //     size: 1,\n    //     update: (feature: IEncodeFeature) => {\n    //       const { size = 1 } = feature;\n    //       return Array.isArray(size) ? [size[0]] : [size as number];\n    //     },\n    //   },\n    // });\n\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { lodashUtil } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { earthOuterTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/bloomshpere/bloomsphere_frag.glsl' */\nconst bloomSphereFrag = \"\\nin vec3 vVertexNormal;\\nin vec4 v_Color;\\n\\nlayout(std140) uniform commonUniforms {\\n float u_opacity;\\n};\\nout vec4 outputColor;\\n#pragma include \\\"scene_uniforms\\\"\\nvoid main() {\\n    float intensity =  - dot(normalize(vVertexNormal), normalize(u_CameraPosition));\\n    // \\u53BB\\u9664\\u80CC\\u9762\\n    if(intensity > 1.0) intensity = 0.0;\\n\\n    outputColor = vec4(v_Color.rgb, v_Color.a * intensity * u_opacity);\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/bloomshpere/bloomsphere_vert.glsl' */\nconst bloomSphereVert = \"layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_COLOR) vec4 a_Color;\\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nlayout(std140) uniform commonUniforms {\\n float u_opacity;\\n};\\n#pragma include \\\"scene_uniforms\\\"\\n\\nout vec3 vVertexNormal;\\nout vec4 v_Color;\\n\\nvoid main() {\\n    v_Color = a_Color;\\n\\n    vVertexNormal = a_Normal;\\n\\n    gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\\n}\\n\";\nconst {\n  isNumber\n} = lodashUtil;\nexport default class EarthBloomSphereModel extends BaseModel {\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      NORMAL: 9,\n      UV: 10\n    });\n  }\n  getCommonUniformsInfo() {\n    const {\n      opacity = 1\n    } = this.layer.getLayerConfig();\n    const commonOptions = {\n      u_opacity: isNumber(opacity) ? opacity : 1.0\n    };\n    const commonBufferInfo = this.getUniformsBufferInfo(commonOptions);\n    return commonBufferInfo;\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.initUniformsBuffer();\n      return _this.buildModels();\n    })();\n  }\n  clearModels() {\n    return '';\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      // Tip: 调整图层的绘制顺序，让它保持在地球后面（减少锯齿现象）\n      _this2.layer.zIndex = -999;\n      const model = yield _this2.layer.buildLayerModel({\n        moduleName: 'earthBloom',\n        vertexShader: bloomSphereVert,\n        fragmentShader: bloomSphereFrag,\n        defines: _this2.getDefines(),\n        triangulation: earthOuterTriangulation,\n        depth: {\n          enable: false\n        },\n        blend: _this2.getBlend()\n      });\n      return [model];\n    })();\n  }\n  registerBuiltinAttributes() {\n    // this.styleAttributeService.registerStyleAttribute({\n    //   name: 'size',\n    //   type: AttributeType.Attribute,\n    //   descriptor: {\n    //     name: 'a_Size',\n    //     shaderLocation: this.attributeLocation.SIZE,\n    //     buffer: {\n    //       usage: gl.DYNAMIC_DRAW,\n    //       data: [],\n    //       type: gl.FLOAT,\n    //     },\n    //     size: 1,\n    //     update: (feature: IEncodeFeature) => {\n    //       const { size = 1 } = feature;\n    //       return Array.isArray(size) ? [size[0]] : [size as number];\n    //     },\n    //   },\n    // });\n\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'normal',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Normal',\n        shaderLocation: this.attributeLocation.NORMAL,\n        buffer: {\n          usage: gl.STATIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 3,\n        update: (feature, featureIdx, vertex, attributeIdx, normal) => {\n          return normal;\n        }\n      }\n    });\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport EarthAtomSphereModel from \"./models/atmosphere\";\nimport BaseEarthModel from \"./models/base\";\nimport EarthBloomSphereModel from \"./models/bloomsphere\";\nconst EarthModels = {\n  base: BaseEarthModel,\n  atomSphere: EarthAtomSphereModel,\n  bloomSphere: EarthBloomSphereModel\n};\nconst earthLayerTypes = ['base', 'atomSphere', 'bloomSphere'];\nexport default class EarthLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'EarthLayer');\n    _defineProperty(this, \"defaultSourceConfig\", {\n      data: [],\n      options: {\n        parser: {\n          type: 'json'\n        }\n      }\n    });\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const shape = _this.getModelType();\n      _this.layerModel = new EarthModels[shape](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n\n  /**\n   * 设置当前地球时间\n   * @param time\n   */\n  setEarthTime(time) {\n    if (this.layerModel && this.layerModel.setEarthTime) {\n      this.layerModel.setEarthTime(time);\n    } else {\n      console.warn('请在 scene loaded 之后执行该方法！');\n    }\n  }\n  getModelType() {\n    var _shapeAttribute$scale;\n    const shapeAttribute = this.styleAttributeService.getLayerStyleAttribute('shape');\n    let shape = (shapeAttribute === null || shapeAttribute === void 0 || (_shapeAttribute$scale = shapeAttribute.scale) === null || _shapeAttribute$scale === void 0 ? void 0 : _shapeAttribute$scale.field) || 'base';\n    if (earthLayerTypes.indexOf(shape) < 0) {\n      shape = 'base';\n    }\n    return shape;\n  }\n}", "export function createProgram(gl, vshader, fshader) {\n  // Create shader object\n  const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vshader); // 创建顶点着色器对象\n  const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fshader); // 创建片元着色器对象\n  if (!vertexShader || !fragmentShader) {\n    return null;\n  }\n\n  // Create a program object\n  const program = gl.createProgram(); // 创建程序对象\n  if (!program) {\n    return null;\n  }\n\n  // Attach the shader objects\n  gl.attachShader(program, vertexShader); // 绑定着色器对象\n  gl.attachShader(program, fragmentShader);\n\n  // Link the program object\n  gl.linkProgram(program); // 链接着色器对象\n\n  // Check the result of linking\n  const linked = gl.getProgramParameter(program, gl.LINK_STATUS); // 判断着色器对象是否链接成功\n  if (!linked) {\n    const error = gl.getProgramInfoLog(program);\n    console.warn('Failed to link program: ' + error);\n    gl.deleteProgram(program);\n    gl.deleteShader(fragmentShader);\n    gl.deleteShader(vertexShader);\n    return null;\n  }\n  const numAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n  for (let i = 0; i < numAttributes; i++) {\n    const attribute = gl.getActiveAttrib(program, i);\n    // @ts-ignore\n    program[attribute.name] = gl.getAttribLocation(program, attribute.name);\n  }\n  const numUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  for (let i$1 = 0; i$1 < numUniforms; i$1++) {\n    const uniform = gl.getActiveUniform(program, i$1);\n    // @ts-ignore\n    program[uniform.name] = gl.getUniformLocation(program, uniform.name);\n  }\n\n  // @ts-ignore\n  program.vertexShader = vertexShader;\n  // @ts-ignore\n  program.fragmentShader = fragmentShader;\n  return program;\n}\nexport function loadShader(gl, type, source) {\n  // Create shader object\n  const shader = gl.createShader(type); // 生成着色器对象\n  if (shader == null) {\n    console.warn('unable to create shader');\n    return null;\n  }\n\n  // Set the shader program\n  gl.shaderSource(shader, source); // 载入着色器\n\n  // Compile the shader\n  gl.compileShader(shader); // 编译着色器代码\n\n  // Check the result of compilation\n  const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS); // 判断着色器对象是否生成成功\n  // gl.SHADER_TYPE、gl.DELETE_STATUS、gl.COMPILE_STATUS\n  if (!compiled) {\n    const error = gl.getShaderInfoLog(shader);\n    console.warn('Failed to compile shader: ' + error);\n    gl.deleteShader(shader);\n    return null;\n  }\n  return shader;\n}\nexport function createTexture(gl, filter, data, width, height) {\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n  gl.bindTexture(gl.TEXTURE_2D, null);\n  return texture;\n}\nexport function createDataTexture(gl, filter, data) {\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n  gl.bindTexture(gl.TEXTURE_2D, null);\n  return texture;\n}\nexport function bindTexture(gl, texture, unit) {\n  gl.activeTexture(gl.TEXTURE0 + unit);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n}\nexport function createBuffer(gl, data) {\n  const buffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n  return buffer;\n}\nexport function bindAttriBuffer(gl, attrName, vertices, count, program) {\n  const buffer = gl.createBuffer();\n  if (!buffer) {\n    console.warn('failed create vertex buffer');\n  }\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer); // 将缓冲区对象绑定到目标\n  gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW); // 向缓冲区对象中写入数据\n\n  const attr = gl.getAttribLocation(program, attrName);\n  gl.vertexAttribPointer(attr, count, gl.FLOAT, false, 0, 0);\n  gl.enableVertexAttribArray(attr);\n  gl.bindBuffer(gl.ARRAY_BUFFER, null);\n  return {\n    buffer,\n    attr,\n    count\n  };\n}\nexport function bindAttriIndicesBuffer(gl, indices) {\n  const buffer = gl.createBuffer();\n  if (!buffer) {\n    console.warn('failed create vertex buffer');\n  } else {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n  }\n  return buffer;\n}\nexport function bindUnifrom(gl, unifromName, data, program, vec) {\n  const uniform = gl.getUniformLocation(program, unifromName);\n  // @ts-ignore\n  if (uniform === null || uniform < 0) {\n    console.warn('无法获取 uniform 变量的存储位置');\n  } else {\n    setUnifrom(gl, uniform, data, vec);\n  }\n  return uniform;\n}\nexport function setUnifrom(gl, location, data, vec) {\n  switch (vec) {\n    case 'float':\n      gl.uniform1f(location, data);\n      break;\n    case 'vec2':\n      gl.uniform2fv(location, data);\n      break;\n    case 'vec3':\n      gl.uniform3fv(location, data);\n      break;\n    case 'vec4':\n      gl.uniform4fv(location, data);\n      break;\n    case 'bool':\n      gl.uniform1i(location, data); // 1 - true    0 - false\n      break;\n    case 'sampler2d':\n      break;\n    case 'mat4':\n      gl.uniformMatrix4fv(location, false, data);\n      break;\n  }\n}\nexport function initFramebuffer(gl) {\n  const {\n    drawingBufferWidth,\n    drawingBufferHeight\n  } = gl;\n  const OFFER_SCREEN_WIDTH = drawingBufferWidth;\n  const OFFER_SCREEN_HEIGHT = drawingBufferHeight;\n  const FRAMEBUFFER = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, FRAMEBUFFER);\n  const depthbuffer = gl.createRenderbuffer();\n  gl.bindRenderbuffer(gl.RENDERBUFFER, depthbuffer);\n  gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, OFFER_SCREEN_WIDTH, OFFER_SCREEN_HEIGHT);\n  gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, depthbuffer);\n  const texture = gl.createTexture();\n  // @ts-ignore\n  FRAMEBUFFER.texture = texture;\n  // @ts-ignore\n  FRAMEBUFFER.width = OFFER_SCREEN_WIDTH;\n  // @ts-ignore\n  FRAMEBUFFER.height = OFFER_SCREEN_HEIGHT;\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, OFFER_SCREEN_WIDTH, OFFER_SCREEN_HEIGHT, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n  gl.bindTexture(gl.TEXTURE_2D, null);\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  return {\n    FRAMEBUFFER,\n    OFFER_SCREEN_WIDTH,\n    OFFER_SCREEN_HEIGHT\n  };\n}", "/**\n * drawProgram          drawVert drawFrag\n * screenProgram        screenVert screenFrag\n * updateProgram        updateVert updateFrag\n * fullScreenProgram    fullScreenVert fullScreenFrag\n */\nexport const drawVert = `\n precision mediump float;\n\n attribute float a_index;\n\n uniform sampler2D u_particles;\n uniform float u_particles_res;\n\n varying vec2 v_particle_pos;\n\n void main() {\n     vec4 color = texture2D(u_particles, vec2(\n         fract(a_index / u_particles_res),\n         floor(a_index / u_particles_res) / u_particles_res)\n     );\n\n     // decode current particle position from the pixel's RGBA value\n     v_particle_pos = vec2( color.r / 255.0 + color.b, color.g / 255.0 + color.a);\n\n     gl_PointSize = 1.0;\n     gl_Position = vec4(2.0 * v_particle_pos.x - 1.0, 1.0 - 2.0 * v_particle_pos.y, 0, 1);\n }`;\nexport const drawFrag = `\n precision mediump float;\n\n uniform sampler2D u_wind;\n uniform vec2 u_wind_min;\n uniform vec2 u_wind_max;\n uniform sampler2D u_color_ramp;\n\n varying vec2 v_particle_pos;\n\n void main() {\n     vec2 velocity = mix(u_wind_min, u_wind_max, texture2D(u_wind, v_particle_pos).rg);\n     float speed_t = length(velocity) / length(u_wind_max);\n\n     // color ramp is encoded in a 16x16 texture\n     vec2 ramp_pos = vec2( fract(16.0 * speed_t), floor(16.0 * speed_t) / 16.0);\n\n     gl_FragColor = texture2D(u_color_ramp, ramp_pos);\n }`;\nexport const updateVert = `\n precision mediump float;\n\n attribute vec2 a_pos;\n\n varying vec2 v_tex_pos;\n\n void main() {\n     v_tex_pos = a_pos;\n     gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n     // framebuffer 始终用铺满屏幕的 texture\n }`;\nexport const updateFrag = `\n precision highp float;\n\n uniform sampler2D u_particles;\n uniform sampler2D u_wind;\n uniform vec2 u_wind_res;\n uniform vec2 u_wind_min;\n uniform vec2 u_wind_max;\n uniform float u_rand_seed;\n uniform float u_speed_factor;\n uniform float u_drop_rate;\n uniform float u_drop_rate_bump;\n\n varying vec2 v_tex_pos;\n\n // pseudo-random generator\n const vec3 rand_constants = vec3(12.9898, 78.233, 4375.85453);\n float rand(const vec2 co) {\n float t = dot(rand_constants.xy, co);\n     return fract(sin(t) * (rand_constants.z + t));\n }\n\n // wind speed lookup; use manual bilinear filtering based on 4 adjacent pixels for smooth interpolation\n vec2 lookup_wind(const vec2 uv) {\n     // return texture2D(u_wind, uv).rg; // lower-res hardware filtering\n     vec2 px = 1.0 / u_wind_res;\n     vec2 vc = (floor(uv * u_wind_res)) * px;\n     vec2 f = fract(uv * u_wind_res);\n     vec2 tl = texture2D(u_wind, vc).rg;\n     vec2 tr = texture2D(u_wind, vc + vec2(px.x, 0)).rg;\n     vec2 bl = texture2D(u_wind, vc + vec2(0, px.y)).rg;\n     vec2 br = texture2D(u_wind, vc + px).rg;\n     return mix(mix(tl, tr, f.x), mix(bl, br, f.x), f.y);\n }\n\n void main() {\n     vec4 color = texture2D(u_particles, v_tex_pos);\n     vec2 pos = vec2(\n         color.r / 255.0 + color.b,\n         color.g / 255.0 + color.a); // decode particle position from pixel RGBA\n     vec2 velocity = mix(u_wind_min, u_wind_max, lookup_wind(pos));\n     float speed_t = length(velocity) / length(u_wind_max);\n\n     // take EPSG:4236 distortion into account for calculating where the particle moved\n     float distortion = cos(radians(pos.y * 180.0 - 90.0));\n     vec2 offset = vec2(velocity.x / distortion, -velocity.y) * 0.0001 * u_speed_factor;\n\n     // update particle position, wrapping around the date line\n     pos = fract(1.0 + pos + offset);\n\n     // a random seed to use for the particle drop\n     vec2 seed = (pos + v_tex_pos) * u_rand_seed;\n\n     // drop rate is a chance a particle will restart at random position, to avoid degeneration\n     float drop_rate = u_drop_rate + speed_t * u_drop_rate_bump;\n     float drop = step(1.0 - drop_rate, rand(seed));\n\n     vec2 random_pos = vec2(\n         rand(seed + 1.3),\n         rand(seed + 2.1));\n         pos = mix(pos, random_pos, drop);\n\n     // encode the new particle position back into RGBA\n     gl_FragColor = vec4(\n         fract(pos * 255.0),\n         floor(pos * 255.0) / 255.0);\n }`;\nexport const fullScreenVert = `\n     precision mediump float;\n\n     attribute vec2 a_pos;\n\n     varying vec2 v_tex_pos;\n\n     void main() {\n         v_tex_pos = a_pos;\n         gl_Position = vec4(1.0 - 2.0 * a_pos, 0.0, 1.0);\n         gl_PointSize = 100.0;\n }`;\nexport const fullScreenFrag = `\n precision mediump float;\n\n uniform sampler2D u_screen;\n uniform float u_opacity;\n varying vec2 v_tex_pos;\n\n void main() {\n     vec4 color = texture2D(u_screen, 1.0 - v_tex_pos);\n\n     // a hack to guarantee opacity fade out even with a value close to 1.0\n     gl_FragColor = vec4(floor(255.0 * color * u_opacity) / 255.0);\n }`;", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as glUtils from \"./utils\";\nimport { drawFrag, drawVert, fullScreenFrag, fullScreenVert, updateFrag, updateVert } from \"./windShader\";\nfunction getColorRamp(colors) {\n  let canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  canvas.width = 256;\n  canvas.height = 1;\n  const gradient = ctx.createLinearGradient(0, 0, 256, 0);\n  for (const stop of Object.keys(colors)) {\n    gradient.addColorStop(+stop, colors[+stop]);\n  }\n  ctx.fillStyle = gradient;\n  ctx.fillRect(0, 0, 256, 1);\n\n  // @ts-ignore dispose canvas element\n  canvas = null;\n  return new Uint8Array(ctx.getImageData(0, 0, 256, 1).data);\n}\nfunction bindAttribute(gl, buffer, attribute, numComponents) {\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.enableVertexAttribArray(attribute);\n  gl.vertexAttribPointer(attribute, numComponents, gl.FLOAT, false, 0, 0);\n}\nfunction bindFramebuffer(gl, framebuffer, texture) {\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  if (texture) {\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n  }\n}\nexport class Wind {\n  constructor(options) {\n    _defineProperty(this, \"width\", 512);\n    _defineProperty(this, \"height\", 512);\n    _defineProperty(this, \"pixels\", void 0);\n    _defineProperty(this, \"fadeOpacity\", void 0);\n    _defineProperty(this, \"speedFactor\", void 0);\n    _defineProperty(this, \"dropRate\", void 0);\n    _defineProperty(this, \"dropRateBump\", void 0);\n    _defineProperty(this, \"gl\", void 0);\n    _defineProperty(this, \"drawProgram\", void 0);\n    _defineProperty(this, \"fullScreenProgram\", void 0);\n    _defineProperty(this, \"updateProgram\", void 0);\n    _defineProperty(this, \"rampColors\", void 0);\n    _defineProperty(this, \"numParticles\", 65536);\n    _defineProperty(this, \"numParticlesSize\", void 0);\n    _defineProperty(this, \"particleStateResolution\", void 0);\n    _defineProperty(this, \"quadBuffer\", void 0);\n    _defineProperty(this, \"particleIndexBuffer\", void 0);\n    _defineProperty(this, \"framebuffer\", void 0);\n    _defineProperty(this, \"colorRampTexture\", void 0);\n    _defineProperty(this, \"backgroundTexture\", void 0);\n    _defineProperty(this, \"screenTexture\", void 0);\n    _defineProperty(this, \"particleStateTexture0\", void 0);\n    _defineProperty(this, \"particleStateTexture1\", void 0);\n    _defineProperty(this, \"windTexture\", void 0);\n    _defineProperty(this, \"windData\", void 0);\n    this.gl = options.glContext;\n    this.width = options.imageWidth;\n    this.height = options.imageHeight;\n    this.fadeOpacity = options.fadeOpacity;\n    this.speedFactor = options.speedFactor;\n    this.dropRate = options.dropRate;\n    this.dropRateBump = options.dropRateBump;\n    this.rampColors = options.rampColors;\n    this.init();\n  }\n  init() {\n    const gl = this.gl;\n    this.fadeOpacity = 0.996; // how fast the particle trails fade on each frame\n    this.speedFactor = 0.25; // how fast the particles move\n    this.dropRate = 0.003; // how often the particles move to a random place\n    this.dropRateBump = 0.01; // drop rate increase relative to individual particle speed\n\n    this.drawProgram = glUtils.createProgram(gl, drawVert, drawFrag);\n    this.fullScreenProgram = glUtils.createProgram(gl, fullScreenVert, fullScreenFrag);\n    this.updateProgram = glUtils.createProgram(gl, updateVert, updateFrag);\n    this.quadBuffer = glUtils.createBuffer(gl, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]));\n    this.framebuffer = gl.createFramebuffer();\n    this.colorRampTexture = glUtils.createTexture(this.gl, this.gl.LINEAR, getColorRamp(this.rampColors), 16, 16);\n    const emptyPixels = new Uint8Array(this.width * this.height * 4);\n\n    // screen textures to hold the drawn screen for the previous and the current frame\n\n    this.backgroundTexture = glUtils.createTexture(gl, gl.NEAREST, emptyPixels, this.width, this.height);\n    this.screenTexture = glUtils.createTexture(gl, gl.NEAREST, emptyPixels, this.width, this.height);\n\n    // we create a square texture where each pixel will hold a particle position encoded as RGBA\n    const particleRes = this.particleStateResolution = Math.ceil(Math.sqrt(this.numParticles));\n    // particleRes size\n    this.numParticlesSize = particleRes * particleRes;\n    const particleState = new Uint8Array(this.numParticlesSize * 4);\n    for (let i = 0; i < particleState.length; i++) {\n      particleState[i] = Math.floor(Math.random() * 256); // randomize the initial particle positions\n    }\n    // textures to hold the particle state for the current and the next frame\n    this.particleStateTexture0 = glUtils.createTexture(gl, gl.NEAREST, particleState, particleRes, particleRes);\n    this.particleStateTexture1 = glUtils.createTexture(gl, gl.NEAREST, particleState, particleRes, particleRes);\n    const particleIndices = new Float32Array(this.numParticlesSize);\n    for (let i$1 = 0; i$1 < this.numParticlesSize; i$1++) {\n      particleIndices[i$1] = i$1;\n    }\n    this.particleIndexBuffer = glUtils.createBuffer(gl, particleIndices);\n  }\n  setWind(windData) {\n    this.windData = windData;\n    this.windTexture = glUtils.createDataTexture(this.gl, this.gl.LINEAR, windData.image);\n  }\n\n  /**\n   * 更新风场粒子数量\n   * @param num\n   */\n  updateParticelNum(num) {\n    const gl = this.gl;\n    if (num !== this.numParticles) {\n      this.numParticles = num; // params number\n\n      // we create a square texture where each pixel will hold a particle position encoded as RGBA\n      const particleRes = this.particleStateResolution = Math.ceil(Math.sqrt(this.numParticles));\n      this.numParticlesSize = particleRes * particleRes;\n      const particleState = new Uint8Array(this.numParticlesSize * 4);\n      for (let i = 0; i < particleState.length; i++) {\n        particleState[i] = Math.floor(Math.random() * 256); // randomize the initial particle positions\n      }\n      // textures to hold the particle state for the current and the next frame\n      this.particleStateTexture0 = glUtils.createTexture(gl, gl.NEAREST, particleState, particleRes, particleRes);\n      this.particleStateTexture1 = glUtils.createTexture(gl, gl.NEAREST, particleState, particleRes, particleRes);\n      const particleIndices = new Float32Array(this.numParticlesSize);\n      for (let i$1 = 0; i$1 < this.numParticlesSize; i$1++) {\n        particleIndices[i$1] = i$1;\n      }\n      this.particleIndexBuffer = glUtils.createBuffer(gl, particleIndices);\n    }\n  }\n\n  /**\n   * 更新风场风向风速\n   * @param uMin\n   * @param uMax\n   * @param vMin\n   * @param vMax\n   */\n  updateWindDir(uMin, uMax, vMin, vMax) {\n    this.windData.uMin = uMin;\n    this.windData.uMax = uMax;\n    this.windData.vMin = vMin;\n    this.windData.vMax = vMax;\n  }\n\n  /**\n   * update rampColors\n   * @param rampColors\n   */\n  updateColorRampTexture(rampColors) {\n    if (this.isColorChanged(rampColors)) {\n      this.rampColors = rampColors;\n      const gl = this.gl;\n      gl.deleteTexture(this.colorRampTexture);\n      this.colorRampTexture = glUtils.createTexture(gl, gl.LINEAR, getColorRamp(rampColors), 16, 16);\n    }\n  }\n  isColorChanged(rampColors) {\n    const keys = Object.keys(rampColors);\n    for (const item of keys) {\n      const key = Number(item);\n      // exist new key -> color need update\n      if (!this.rampColors[key]) {\n        return true;\n      }\n      // value changed -> color need update\n      if (this.rampColors[key] && this.rampColors[key] !== rampColors[key]) {\n        return true;\n      }\n    }\n    return false;\n  }\n  reSize(width, height) {\n    if (width !== this.width || height !== this.height) {\n      const gl = this.gl;\n      gl.deleteTexture(this.backgroundTexture);\n      gl.deleteTexture(this.screenTexture);\n      this.width = width;\n      this.height = height;\n      const emptyPixels = new Uint8Array(width * height * 4);\n      // screen textures to hold the drawn screen for the previous and the current frame\n      this.backgroundTexture = glUtils.createTexture(gl, gl.NEAREST, emptyPixels, width, height);\n      this.screenTexture = glUtils.createTexture(gl, gl.NEAREST, emptyPixels, width, height);\n    }\n  }\n  draw() {\n    var _this$windData;\n    if ((_this$windData = this.windData) !== null && _this$windData !== void 0 && _this$windData.image) {\n      const gl = this.gl;\n      glUtils.bindTexture(gl, this.windTexture, 0);\n      glUtils.bindTexture(gl, this.particleStateTexture0, 1);\n      this.drawScreen(); // draw Particles into framebuffer\n      this.updateParticles();\n      return {\n        d: this.pixels,\n        w: this.width,\n        h: this.height\n      };\n    } else {\n      return {\n        d: new Uint8Array([0, 0, 0, 0]),\n        w: 1,\n        h: 1\n      };\n    }\n  }\n  drawScreen() {\n    const gl = this.gl;\n\n    // draw the screen into a temporary framebuffer to retain it as the background on the next frame\n    bindFramebuffer(gl, this.framebuffer, this.screenTexture);\n    gl.viewport(0, 0, this.width, this.height);\n    gl.disable(gl.BLEND);\n    this.drawFullTexture(this.backgroundTexture, this.fadeOpacity);\n    this.drawParticles();\n    this.pixels = new Uint8Array(4 * this.width * this.height);\n    gl.readPixels(0, 0, this.width, this.height, gl.RGBA, gl.UNSIGNED_BYTE, this.pixels);\n    bindFramebuffer(gl, null, null);\n    gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n\n    //   save the current screen as the background for the next frame\n    const temp = this.backgroundTexture;\n    this.backgroundTexture = this.screenTexture;\n    this.screenTexture = temp;\n  }\n  drawFullTexture(texture, opacity) {\n    const gl = this.gl;\n    const program = this.fullScreenProgram;\n    gl.useProgram(program);\n\n    // bindAttribute(gl, this.quadBuffer, program.a_pos, 2);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.quadBuffer);\n    gl.vertexAttribPointer(program.a_pos, 2, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(program.a_pos);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    glUtils.bindTexture(gl, texture, 2);\n    gl.uniform1i(program.u_screen, 2);\n    gl.uniform1f(program.u_opacity, opacity);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n    // gl.drawArrays(gl.POINTS, 0, 6);\n  }\n  drawParticles() {\n    const gl = this.gl;\n    const program = this.drawProgram;\n    gl.useProgram(program);\n    bindAttribute(gl, this.particleIndexBuffer, program.a_index, 1);\n    glUtils.bindTexture(gl, this.colorRampTexture, 2);\n    gl.uniform1i(program.u_wind, 0);\n    gl.uniform1i(program.u_particles, 1);\n    gl.uniform1i(program.u_color_ramp, 2);\n    gl.uniform1f(program.u_particles_res, this.particleStateResolution);\n    gl.uniform2f(program.u_wind_min, this.windData.uMin, this.windData.vMin);\n    gl.uniform2f(program.u_wind_max, this.windData.uMax, this.windData.vMax);\n    gl.drawArrays(gl.POINTS, 0, this.numParticlesSize);\n  }\n  updateParticles() {\n    const gl = this.gl;\n    bindFramebuffer(gl, this.framebuffer, this.particleStateTexture1);\n    gl.viewport(0, 0, this.particleStateResolution, this.particleStateResolution);\n    const program = this.updateProgram;\n    gl.useProgram(program);\n    bindAttribute(gl, this.quadBuffer, program.a_pos, 2);\n    gl.uniform1i(program.u_wind, 0);\n    gl.uniform1i(program.u_particles, 1);\n    gl.uniform1f(program.u_rand_seed, Math.random());\n    gl.uniform2f(program.u_wind_res, this.windData.image.width * 2, this.windData.image.height * 2);\n    gl.uniform2f(program.u_wind_min, this.windData.uMin, this.windData.vMin);\n    gl.uniform2f(program.u_wind_max, this.windData.uMax, this.windData.vMax);\n    gl.uniform1f(program.u_speed_factor, this.speedFactor);\n    gl.uniform1f(program.u_drop_rate, this.dropRate);\n    gl.uniform1f(program.u_drop_rate_bump, this.dropRateBump);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    // swap the particle state textures so the new one becomes the current one\n    const temp = this.particleStateTexture0;\n    this.particleStateTexture0 = this.particleStateTexture1;\n    this.particleStateTexture1 = temp;\n    bindFramebuffer(gl, null, null);\n\n    // gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n  }\n  destroy() {\n    // private drawProgram: WebGLProgram;\n    // private fullScreenProgram: WebGLProgram;\n    // private updateProgram: WebGLProgram;\n\n    // private quadBuffer: WebGLBuffer | null;\n    // private particleIndexBuffer: WebGLBuffer | null;\n\n    // private framebuffer: WebGLFramebuffer | null;\n\n    // private colorRampTexture: WebGLTexture | null;\n    // private backgroundTexture: WebGLTexture | null;\n    // private screenTexture: WebGLTexture | null;\n    // private particleStateTexture0: WebGLTexture | null;\n    // private particleStateTexture1: WebGLTexture | null;\n    // private windTexture: WebGLTexture | null;\n\n    this.gl.deleteBuffer(this.quadBuffer);\n    this.gl.deleteBuffer(this.particleIndexBuffer);\n    this.gl.deleteFramebuffer(this.framebuffer);\n\n    // @ts-ignore\n    this.gl.deleteShader(this.drawProgram.vertexShader);\n    // @ts-ignore\n    this.gl.deleteShader(this.drawProgram.fragmentShader);\n    this.gl.deleteProgram(this.drawProgram);\n\n    // @ts-ignore\n    this.gl.deleteShader(this.fullScreenProgram.vertexShader);\n    // @ts-ignore\n    this.gl.deleteShader(this.fullScreenProgram.fragmentShader);\n    this.gl.deleteProgram(this.fullScreenProgram);\n\n    // @ts-ignore\n    this.gl.deleteShader(this.updateProgram.vertexShader);\n    // @ts-ignore\n    this.gl.deleteShader(this.updateProgram.fragmentShader);\n    this.gl.deleteProgram(this.updateProgram);\n    this.gl.deleteTexture(this.colorRampTexture);\n    this.gl.deleteTexture(this.backgroundTexture);\n    this.gl.deleteTexture(this.screenTexture);\n    this.gl.deleteTexture(this.particleStateTexture0);\n    this.gl.deleteTexture(this.particleStateTexture1);\n    this.gl.deleteTexture(this.windTexture);\n  }\n}", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { AttributeType, gl } from '@antv/l7-core';\nimport { FrequencyController } from '@antv/l7-utils';\nimport BaseModel from \"../../core/BaseModel\";\nimport { RasterImageTriangulation } from \"../../core/triangulation\";\n/* babel-plugin-inline-import '../shaders/wind_frag.glsl' */\nconst WindFrag = \"precision mediump float;\\nuniform float u_opacity: 1.0;\\nuniform sampler2D u_texture;\\nvarying vec2 v_texCoord;\\nvoid main() {\\n  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));\\n  gl_FragColor = color;\\n  gl_FragColor.a *= u_opacity;\\n}\\n\";\n/* babel-plugin-inline-import '../shaders/wind_vert.glsl' */\nconst WindVert = \"precision highp float;\\nuniform mat4 u_ModelMatrix;\\n\\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\\n\\nvarying vec2 v_texCoord;\\n#pragma include \\\"projection\\\"\\nvoid main() {\\n  v_texCoord = a_Uv;\\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\\n\\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\\n}\\n\";\nimport { Wind } from \"./windRender\";\nconst defaultRampColors = {\n  0.0: '#3288bd',\n  0.1: '#66c2a5',\n  0.2: '#abdda4',\n  0.3: '#e6f598',\n  0.4: '#fee08b',\n  0.5: '#fdae61',\n  0.6: '#f46d43',\n  1.0: '#d53e4f'\n};\nexport default class WindModel extends BaseModel {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"texture\", void 0);\n    _defineProperty(this, \"colorModel\", void 0);\n    _defineProperty(this, \"wind\", void 0);\n    _defineProperty(this, \"imageCoords\", void 0);\n    _defineProperty(this, \"sizeScale\", 0.5);\n    // https://mapbox.github.io/webgl-wind/demo/\n    // source: 'http://nomads.ncep.noaa.gov',\n    _defineProperty(this, \"frequency\", new FrequencyController(7.2));\n    _defineProperty(this, \"cacheZoom\", void 0);\n  }\n  get attributeLocation() {\n    return Object.assign(super.attributeLocation, {\n      MAX: super.attributeLocation.MAX,\n      UV: 9\n    });\n  }\n  render(options) {\n    this.drawColorMode(options);\n    // Tip: 控制风场的平均更新频率\n    this.frequency.run(() => {\n      this.drawWind();\n    });\n  }\n  getUninforms() {\n    throw new Error('Method not implemented.');\n  }\n  initModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var _source$data, _source$data2;\n      const {\n        uMin = -21.32,\n        uMax = 26.8,\n        vMin = -21.57,\n        vMax = 21.42,\n        fadeOpacity = 0.996,\n        speedFactor = 0.25,\n        dropRate = 0.003,\n        dropRateBump = 0.01,\n        rampColors = defaultRampColors,\n        sizeScale = 0.5\n        // mask\n      } = _this.layer.getLayerConfig();\n      const {\n        createTexture2D\n      } = _this.rendererService;\n      const source = _this.layer.getSource();\n      _this.texture = createTexture2D({\n        height: 0,\n        width: 0\n      });\n      _this.cacheZoom = Math.floor(_this.mapService.getZoom());\n      const glContext = _this.rendererService.getGLContext();\n      _this.imageCoords = (_source$data = source.data) === null || _source$data === void 0 ? void 0 : _source$data.dataArray[0].coordinates;\n      (_source$data2 = source.data) === null || _source$data2 === void 0 || (_source$data2 = _source$data2.images) === null || _source$data2 === void 0 || _source$data2.then(imageData => {\n        var _this$texture;\n        _this.sizeScale = sizeScale * _this.getZoomScale();\n        const {\n          imageWidth,\n          imageHeight\n        } = _this.getWindSize();\n        const options = {\n          glContext,\n          imageWidth,\n          imageHeight,\n          fadeOpacity,\n          speedFactor,\n          dropRate,\n          dropRateBump,\n          rampColors\n        };\n        _this.wind = new Wind(options);\n\n        // imageData[0] 风场图\n        _this.wind.setWind({\n          uMin,\n          uMax,\n          vMin,\n          vMax,\n          image: imageData[0]\n        });\n        (_this$texture = _this.texture) === null || _this$texture === void 0 || _this$texture.destroy();\n        _this.texture = createTexture2D({\n          width: imageWidth,\n          height: imageHeight\n        });\n        _this.layerService.reRender();\n      });\n      const model = yield _this.layer.buildLayerModel({\n        moduleName: 'wind',\n        vertexShader: WindVert,\n        fragmentShader: WindFrag,\n        defines: _this.getDefines(),\n        triangulation: RasterImageTriangulation,\n        primitive: gl.TRIANGLES,\n        depth: {\n          enable: false\n        }\n      });\n      _this.colorModel = model;\n      return [model];\n    })();\n  }\n  getWindSize() {\n    const p1 = this.mapService.lngLatToPixel(this.imageCoords[0]);\n    const p2 = this.mapService.lngLatToPixel(this.imageCoords[1]);\n    const imageWidth = Math.min(Math.floor((p2.x - p1.x) * this.sizeScale), 2048);\n    const imageHeight = Math.min(Math.floor((p1.y - p2.y) * this.sizeScale), 2048);\n    return {\n      imageWidth,\n      imageHeight\n    };\n  }\n  buildModels() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.initModels();\n    })();\n  }\n  clearModels() {\n    var _this$texture2, _this$wind;\n    (_this$texture2 = this.texture) === null || _this$texture2 === void 0 || _this$texture2.destroy();\n    (_this$wind = this.wind) === null || _this$wind === void 0 || _this$wind.destroy();\n  }\n  registerBuiltinAttributes() {\n    // point layer size;\n    this.styleAttributeService.registerStyleAttribute({\n      name: 'uv',\n      type: AttributeType.Attribute,\n      descriptor: {\n        name: 'a_Uv',\n        shaderLocation: this.attributeLocation.UV,\n        buffer: {\n          // give the WebGL driver a hint that this buffer may change\n          usage: gl.DYNAMIC_DRAW,\n          data: [],\n          type: gl.FLOAT\n        },\n        size: 2,\n        update: (feature, featureIdx, vertex) => {\n          return [vertex[3], vertex[4]];\n        }\n      }\n    });\n  }\n  getZoomScale() {\n    return Math.min((this.cacheZoom + 4) / 30 * 2, 2);\n  }\n  drawWind() {\n    if (this.wind) {\n      const {\n        uMin = -21.32,\n        uMax = 26.8,\n        vMin = -21.57,\n        vMax = 21.42,\n        numParticles = 65535,\n        fadeOpacity = 0.996,\n        speedFactor = 0.25,\n        dropRate = 0.003,\n        dropRateBump = 0.01,\n        rampColors = defaultRampColors,\n        sizeScale = 0.5\n      } = this.layer.getLayerConfig();\n      let newNumParticles = numParticles;\n      const currentZoom = Math.floor(this.mapService.getZoom());\n      if (typeof sizeScale === 'number' && sizeScale !== this.sizeScale || currentZoom !== this.cacheZoom) {\n        const zoomScale = this.getZoomScale();\n        this.sizeScale = sizeScale;\n        newNumParticles *= zoomScale;\n        const {\n          imageWidth,\n          imageHeight\n        } = this.getWindSize();\n        this.wind.reSize(imageWidth, imageHeight);\n        this.cacheZoom = currentZoom;\n      }\n      this.wind.updateWindDir(uMin, uMax, vMin, vMax);\n      this.wind.updateParticelNum(newNumParticles);\n      this.wind.updateColorRampTexture(rampColors);\n      this.wind.fadeOpacity = fadeOpacity;\n      this.wind.speedFactor = speedFactor;\n      this.wind.dropRate = dropRate;\n      this.wind.dropRateBump = dropRateBump;\n      const {\n        d,\n        w,\n        h\n      } = this.wind.draw();\n      // 恢复 L7 渲染流程中 gl 状态\n      this.rendererService.setBaseState();\n      this.texture.update({\n        data: d,\n        width: w,\n        height: h\n      });\n    }\n  }\n  drawColorMode(options = {}) {\n    var _this$colorModel;\n    const {\n      opacity\n    } = this.layer.getLayerConfig();\n    this.layerService.beforeRenderData(this.layer);\n    this.layer.hooks.beforeRender.call();\n    this.layerService.renderMask(this.layer.masks);\n    (_this$colorModel = this.colorModel) === null || _this$colorModel === void 0 || _this$colorModel.draw({\n      uniforms: {\n        u_opacity: opacity || 1.0,\n        u_texture: this.texture\n      },\n      blend: this.getBlend(),\n      stencil: this.getStencil(options)\n    });\n    this.layer.hooks.afterRender.call();\n  }\n}", "import WindModel from \"./wind\";\nconst WindModels = {\n  wind: WindModel\n};\nexport default WindModels;", "import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport WindModels from \"./models\";\nexport default class WindLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'WindLayer');\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modelType = _this.getModelType();\n      _this.layerModel = new WindModels[modelType](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n  renderModels(options = {}) {\n    if (this.layerModel) {\n      this.layerModel.render(options); // 独立的渲染流程\n    }\n    return this;\n  }\n  getDefaultConfig() {\n    const type = this.getModelType();\n    const defaultConfig = {\n      wind: {}\n    };\n    return defaultConfig[type];\n  }\n  getModelType() {\n    return 'wind';\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createLayerContainer } from '@antv/l7-core';\nimport { PolygonLayer } from '@antv/l7-layers';\nimport { DOM } from '@antv/l7-utils';\nimport { Control } from \"./baseControl\";\nexport { Swipe };\nexport default class Swipe extends Control {\n  constructor(...args) {\n    super(...args);\n    /**\n     * 是否正在拖动卷帘\n     */\n    _defineProperty(this, \"isMoving\", false);\n    /**\n     * 掩模图层实例\n     */\n    _defineProperty(this, \"maskLayer\", void 0);\n    _defineProperty(this, \"move\", e => {\n      // 阻止事件冒泡到地图上\n      e.stopPropagation();\n      switch (e.type) {\n        case 'touchcancel':\n        case 'touchend':\n        case 'mouseup':\n          {\n            var _this$scene;\n            this.isMoving = false;\n            ['mouseup', 'mousemove', 'touchend', 'touchcancel', 'touchmove'].forEach(eventName => {\n              document.removeEventListener(eventName, this.move);\n            });\n            (_this$scene = this.scene) === null || _this$scene === void 0 || _this$scene.render();\n            break;\n          }\n        case 'mousedown':\n        case 'touchstart':\n          {\n            this.isMoving = true;\n            ['mouseup', 'mousemove', 'touchend', 'touchcancel', 'touchmove'].forEach(eventName => {\n              document.addEventListener(eventName, this.move);\n            });\n            // fallthrough\n          }\n        case 'mousemove':\n        case 'touchmove':\n          {\n            if (this.isMoving) {\n              if (this.controlOption.orientation === 'vertical') {\n                let pageX;\n                if ('pageX' in e) {\n                  pageX = e.pageX;\n                } else if (e.touches && e.touches.length && e.touches[0].pageX) {\n                  pageX = e.touches[0].pageX;\n                } else if (e.changedTouches && e.changedTouches.length) {\n                  pageX = e.changedTouches[0].pageX;\n                }\n                if (!pageX) {\n                  break;\n                }\n                const containerRect = this.getContainerDOMRect();\n                const containerSize = this.getContainerSize();\n                const containerWidth = containerSize[0];\n                const containerRectLeft = (containerRect === null || containerRect === void 0 ? void 0 : containerRect.left) || 0;\n                const offsetX = pageX - containerRectLeft + window.scrollX - document.documentElement.clientLeft;\n                const width = containerWidth - Math.min(Math.max(0, containerWidth - offsetX), containerWidth);\n                const ratio = width / containerWidth;\n                this.setOptions({\n                  ratio\n                });\n                this.emit('moving', {\n                  size: [width, containerSize[1]],\n                  ratio: [ratio, 0]\n                });\n              } else {\n                let pageY;\n                if ('pageY' in e) {\n                  pageY = e.pageY;\n                } else if (e.touches && e.touches.length && e.touches[0].pageY) {\n                  pageY = e.touches[0].pageY;\n                } else if (e.changedTouches && e.changedTouches.length) {\n                  pageY = e.changedTouches[0].pageY;\n                }\n                if (!pageY) {\n                  break;\n                }\n                const containerRect = this.getContainerDOMRect();\n                const containerSize = this.getContainerSize();\n                const containerHeight = containerSize[1];\n                const containerRectLeft = (containerRect === null || containerRect === void 0 ? void 0 : containerRect.top) || 0;\n                const offsetY = pageY - containerRectLeft + window.scrollY - document.documentElement.clientTop;\n                const height = containerHeight - Math.min(Math.max(0, containerHeight - offsetY), containerHeight);\n                const ratio = height / containerHeight;\n                this.setOptions({\n                  ratio\n                });\n                this.emit('moving', {\n                  size: [containerSize[0], height],\n                  ratio: [0, ratio]\n                });\n              }\n            }\n            break;\n          }\n        default:\n          break;\n      }\n    });\n    _defineProperty(this, \"getMaskLayer\", () => {\n      console.log(this.getMaskGeoData());\n      return new PolygonLayer({\n        visible: false\n      }).source(this.getMaskGeoData()).shape('fill').color('red').style({\n        opacity: 0.1\n      });\n    });\n    _defineProperty(this, \"updateMask\", () => {\n      var _this$maskLayer;\n      if (!this.mapsService) return;\n      const geoJSON = this.getMaskGeoData();\n      (_this$maskLayer = this.maskLayer) === null || _this$maskLayer === void 0 || _this$maskLayer.setData(geoJSON);\n    });\n  }\n  getDefault() {\n    return _objectSpread(_objectSpread({}, super.getDefault()), {}, {\n      layers: [],\n      rightLayers: [],\n      ratio: 0.5,\n      orientation: 'vertical'\n    });\n  }\n  onAdd() {\n    const container = DOM.create('div', 'l7-control-swipe');\n    DOM.create('button', 'l7-control-swipe__button', container);\n    const {\n      orientation = 'vertical',\n      ratio = 0.5\n    } = this.controlOption;\n    if (orientation === 'horizontal') {\n      container.style.top = ratio * 100 + '%';\n      container.style.left = '';\n    } else {\n      container.style.left = ratio * 100 + '%';\n      container.style.top = '';\n    }\n    container.classList.add(orientation);\n    return container;\n  }\n  addTo(sceneContainer) {\n    // 初始化各个 Service 实例\n    this.mapsService = sceneContainer.mapService;\n    this.renderService = sceneContainer.rendererService;\n    this.layerService = sceneContainer.layerService;\n    this.controlService = sceneContainer.controlService;\n    this.configService = sceneContainer.globalConfigService;\n    this.scene = sceneContainer.sceneService;\n    this.sceneContainer = sceneContainer;\n    this.isShow = true;\n\n    // 初始化 container\n    this.container = this.onAdd();\n    const {\n      className,\n      style,\n      layers,\n      rightLayers\n    } = this.controlOption;\n    if (className) {\n      this.setClassName(className);\n    }\n    if (style) {\n      this.setStyle(style);\n    }\n\n    // 将 container 插入容器中\n    // this.scene.getSceneContainer().appendChild(this.container);\n    this.mapsService.getMarkerContainer().appendChild(this.container);\n    this.maskLayer = this.getMaskLayer();\n    this.registerEvent();\n\n    // 添加掩模图层到 scene\n    const layerContainer = createLayerContainer(sceneContainer);\n    this.maskLayer.setContainer(layerContainer);\n    this.scene.addLayer(this.maskLayer);\n\n    // 给图层挂载掩模\n    this.addMaskToLayers(layers, false);\n    this.addMaskToLayers(rightLayers, true);\n    this.emit('add', this);\n    return this;\n  }\n  onRemove() {\n    if (this.maskLayer) {\n      var _this$layerService;\n      const {\n        layers,\n        rightLayers\n      } = this.controlOption;\n      this.removeMaskFromLayers(layers);\n      this.removeMaskFromLayers(rightLayers);\n      (_this$layerService = this.layerService) === null || _this$layerService === void 0 || _this$layerService.remove(this.maskLayer);\n    }\n    this.unRegisterEvent();\n    this.removeAllListeners();\n  }\n  show() {\n    var _this$scene2;\n    const container = this.container;\n    DOM.removeClass(container, 'l7-control-swipe_hide');\n    // 启用掩模\n    const {\n      layers,\n      rightLayers\n    } = this.controlOption;\n    layers.forEach(layer => layer.enableMask());\n    rightLayers.forEach(layer => layer.enableMask());\n    (_this$scene2 = this.scene) === null || _this$scene2 === void 0 || _this$scene2.render();\n    this.isShow = true;\n    this.emit('show', this);\n  }\n  hide() {\n    var _this$scene3;\n    const container = this.container;\n    DOM.addClass(container, 'l7-control-swipe_hide');\n    // 禁用掩模\n    const {\n      layers,\n      rightLayers\n    } = this.controlOption;\n    layers.forEach(layer => layer.disableMask());\n    rightLayers.forEach(layer => layer.disableMask());\n    (_this$scene3 = this.scene) === null || _this$scene3 === void 0 || _this$scene3.render();\n    this.isShow = false;\n    this.emit('hide', this);\n  }\n  setOptions(newOptions) {\n    const controlOption = _objectSpread(_objectSpread({}, this.controlOption), newOptions);\n    if (newOptions.className) {\n      this.setClassName(newOptions.className);\n    }\n    if (newOptions.style) {\n      this.setStyle(newOptions.style);\n    }\n    if (newOptions.orientation || newOptions.ratio !== undefined) {\n      this.setOrientationAndRatio(controlOption.orientation, controlOption.ratio);\n    }\n    if (newOptions.layers) {\n      const newLayers = newOptions.layers;\n      const oldLayers = this.controlOption.layers;\n      this.setLayers(newLayers, oldLayers, false);\n    }\n    if (newOptions.rightLayers) {\n      const newLayers = newOptions.rightLayers;\n      const oldLayers = this.controlOption.rightLayers;\n      this.setLayers(newLayers, oldLayers, true);\n    }\n    this.controlOption = controlOption;\n    this.updateMask();\n  }\n  registerEvent() {\n    this.container.addEventListener('mousedown', this.move);\n    this.container.addEventListener('touchstart', this.move);\n    this.mapsService.on('camerachange', this.updateMask);\n  }\n  unRegisterEvent() {\n    var _this$mapsService;\n    this.container.removeEventListener('mousedown', this.move);\n    this.container.removeEventListener('touchstart', this.move);\n    (_this$mapsService = this.mapsService) === null || _this$mapsService === void 0 || _this$mapsService.off('camerachange', this.updateMask);\n  }\n  setOrientationAndRatio(orientation = 'vertical', ratio = 0.5) {\n    this.container.classList.remove('horizontal', 'vertical');\n    this.container.classList.add(orientation);\n    if (orientation === 'horizontal') {\n      this.container.style.top = ratio * 100 + '%';\n      this.container.style.left = '';\n    } else {\n      this.container.style.left = ratio * 100 + '%';\n      this.container.style.top = '';\n    }\n  }\n  setLayers(newLayers, oldLayers, isRightLayer = false) {\n    const addLayers = newLayers.filter(layer => oldLayers.includes(layer) === false);\n    const removeLayers = oldLayers.filter(layer => newLayers.includes(layer) === false);\n    this.addMaskToLayers(addLayers, isRightLayer);\n    this.removeMaskFromLayers(removeLayers);\n  }\n  addMaskToLayers(layers, isRightLayer) {\n    layers.forEach(layer => {\n      layer.updateLayerConfig({\n        maskInside: isRightLayer ? false : true\n      });\n      layer.addMask(this.maskLayer);\n    });\n  }\n  removeMaskFromLayers(layers) {\n    layers.forEach(layer => {\n      // reset default is true\n      layer.updateLayerConfig({\n        maskInside: true\n      });\n      layer.removeMask(this.maskLayer);\n    });\n  }\n  getMaskGeoData() {\n    const {\n      ratio = 0.5,\n      orientation = 'vertical'\n    } = this.controlOption;\n    const isVertical = orientation === 'vertical';\n    const [sw, ne] = this.getBounds();\n    const [swLng, swLat] = sw;\n    const [neLng, neLat] = ne;\n    let coordinate;\n    if (isVertical) {\n      const centerLng = swLng + (neLng - swLng) * ratio;\n      coordinate = [[swLng, neLat], [centerLng, neLat], [centerLng, swLat], sw, [swLng, neLat]];\n    } else {\n      const size = this.getContainerSize();\n      const lngLat = this.mapsService.containerToLngLat([size[0], size[1] * ratio]);\n      const centerLat = lngLat.lat;\n      coordinate = [[swLng, neLat], ne, [neLng, centerLat], [swLng, centerLat], [swLng, neLat]];\n    }\n    const geoJSON = {\n      type: 'FeatureCollection',\n      features: [{\n        type: 'Feature',\n        properties: {},\n        geometry: {\n          type: 'Polygon',\n          coordinates: [coordinate]\n        }\n      }]\n    };\n    return geoJSON;\n  }\n  getContainerDOMRect() {\n    var _this$mapsService$get;\n    const rect = (_this$mapsService$get = this.mapsService.getContainer()) === null || _this$mapsService$get === void 0 ? void 0 : _this$mapsService$get.getBoundingClientRect();\n    return rect;\n  }\n  getContainerSize() {\n    const size = this.mapsService.getSize();\n    return size;\n  }\n  getBounds() {\n    const bounds = this.mapsService.getBounds();\n    return bounds;\n  }\n\n  /**\n   * 添加要剪裁的图层\n   * @param layer 剪裁的图层\n   * @param addRight 是否添加图层到右侧, 默认添加到左侧.\n   */\n  addLayer(layer, addRight = false) {\n    const layers = Array.isArray(layer) ? layer : [layer];\n    if (addRight) {\n      const rightLayers = this.controlOption.rightLayers.concat(...layers);\n      this.setOptions({\n        rightLayers\n      });\n    } else {\n      const leftLayers = this.controlOption.layers.concat(...layers);\n      this.setOptions({\n        layers: leftLayers\n      });\n    }\n  }\n\n  /**\n   * 移除剪裁的图层\n   */\n  removeLayer(layer) {\n    const layers = Array.isArray(layer) ? layer : [layer];\n    const leftLayers = this.controlOption.layers.filter(layer => layers.includes(layer));\n    const rightLayers = this.controlOption.rightLayers.filter(layer => layers.includes(layer));\n    this.setOptions({\n      layers: leftLayers,\n      rightLayers\n    });\n  }\n\n  /**\n   * 清除所有图层\n   */\n  removeLayers() {\n    this.setOptions({\n      layers: [],\n      rightLayers: []\n    });\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { PositionType } from '@antv/l7-core';\nimport { DOM } from '@antv/l7-utils';\nimport { createL7Icon } from \"../utils/icon\";\nimport { Control } from \"./baseControl\";\nexport { Zoom };\nexport default class Zoom extends Control {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"disabled\", void 0);\n    _defineProperty(this, \"zoomInButton\", void 0);\n    _defineProperty(this, \"zoomOutButton\", void 0);\n    _defineProperty(this, \"zoomNumDiv\", void 0);\n    _defineProperty(this, \"zoomIn\", () => {\n      if (!this.disabled && this.mapsService.getZoom() < this.mapsService.getMaxZoom()) {\n        this.mapsService.zoomIn();\n      }\n    });\n    _defineProperty(this, \"zoomOut\", () => {\n      if (!this.disabled && this.mapsService.getZoom() > this.mapsService.getMinZoom()) {\n        this.mapsService.zoomOut();\n      }\n    });\n    _defineProperty(this, \"updateDisabled\", () => {\n      const mapsService = this.mapsService;\n      this.zoomInButton.removeAttribute('disabled');\n      this.zoomOutButton.removeAttribute('disabled');\n      if (this.disabled || mapsService.getZoom() <= mapsService.getMinZoom()) {\n        this.zoomOutButton.setAttribute('disabled', 'true');\n      }\n      if (this.controlOption.showZoom && this.zoomNumDiv) {\n        this.zoomNumDiv.innerText = String(Math.floor(mapsService.getZoom()));\n      }\n      if (this.disabled || mapsService.getZoom() >= mapsService.getMaxZoom()) {\n        this.zoomInButton.setAttribute('disabled', 'true');\n      }\n    });\n  }\n  getDefault(option) {\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      position: PositionType.BOTTOMRIGHT,\n      name: 'zoom',\n      zoomInText: createL7Icon('l7-icon-enlarge'),\n      zoomInTitle: 'Zoom in',\n      zoomOutText: createL7Icon('l7-icon-narrow'),\n      zoomOutTitle: 'Zoom out',\n      showZoom: false\n    });\n  }\n  setOptions(newOptions) {\n    super.setOptions(newOptions);\n    if (this.checkUpdateOption(newOptions, ['zoomInText', 'zoomInTitle', 'zoomOutText', 'zoomOutTitle', 'showZoom'])) {\n      this.resetButtonGroup(this.container);\n    }\n  }\n  onAdd() {\n    const container = DOM.create('div', 'l7-control-zoom');\n    this.resetButtonGroup(container);\n    this.mapsService.on('zoomend', this.updateDisabled);\n    this.mapsService.on('zoomchange', this.updateDisabled);\n    return container;\n  }\n  onRemove() {\n    this.mapsService.off('zoomend', this.updateDisabled);\n    this.mapsService.off('zoomchange', this.updateDisabled);\n  }\n  disable() {\n    this.disabled = true;\n    this.updateDisabled();\n    return this;\n  }\n  enable() {\n    this.disabled = false;\n    this.updateDisabled();\n    return this;\n  }\n  resetButtonGroup(container) {\n    DOM.clearChildren(container);\n    this.zoomInButton = this.createButton(this.controlOption.zoomInText, this.controlOption.zoomInTitle, 'l7-button-control', container, this.zoomIn);\n    if (this.controlOption.showZoom) {\n      this.zoomNumDiv = this.createButton('0', '', 'l7-button-control l7-control-zoom__number', container);\n    }\n    this.zoomOutButton = this.createButton(this.controlOption.zoomOutText, this.controlOption.zoomOutTitle, 'l7-button-control', container, this.zoomOut);\n    this.updateDisabled();\n  }\n  createButton(html, tile, className, container, fn) {\n    const link = DOM.create('button', className, container);\n    if (typeof html === 'string') {\n      link.innerHTML = html;\n    } else {\n      link.append(html);\n    }\n    link.title = tile;\n    if (fn) {\n      link.addEventListener('click', fn);\n    }\n    return link;\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM, anchorTranslate, anchorType, applyAnchorClass } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\nimport { createL7Icon } from \"../utils/icon\";\nexport { Popup };\nexport default class Popup extends EventEmitter {\n  get lngLat() {\n    var _this$popupOption$lng;\n    return (_this$popupOption$lng = this.popupOption.lngLat) !== null && _this$popupOption$lng !== void 0 ? _this$popupOption$lng : {\n      lng: 0,\n      lat: 0\n    };\n  }\n  set lngLat(newLngLat) {\n    this.popupOption.lngLat = newLngLat;\n  }\n  constructor(cfg) {\n    super();\n    /**\n     * 配置\n     * @protected\n     */\n    _defineProperty(this, \"popupOption\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"sceneService\", void 0);\n    _defineProperty(this, \"layerService\", void 0);\n    _defineProperty(this, \"scene\", void 0);\n    /**\n     * 关闭按钮对应的 DOM\n     * @protected\n     */\n    _defineProperty(this, \"closeButton\", void 0);\n    /**\n     * Popup 的总容器 DOM，包含 content 和 tip\n     * @protected\n     */\n    _defineProperty(this, \"container\", void 0);\n    /**\n     * popup 气泡容器\n     * @protected\n     */\n    _defineProperty(this, \"content\", void 0);\n    /**\n     * popup 气泡标题\n     * @protected\n     */\n    _defineProperty(this, \"contentTitle\", void 0);\n    /**\n     * popup 内容容器\n     * @protected\n     */\n    _defineProperty(this, \"contentPanel\", void 0);\n    /**\n     * 气泡箭头对应的 DOM\n     * @protected\n     */\n    _defineProperty(this, \"tip\", void 0);\n    /**\n     * 当前是否展示\n     * @protected\n     */\n    _defineProperty(this, \"isShow\", true);\n    _defineProperty(this, \"onMouseMove\", e => {\n      var _container$getBoundin;\n      const container = this.mapsService.getMapContainer();\n      const {\n        left = 0,\n        top = 0\n      } = (_container$getBoundin = container === null || container === void 0 ? void 0 : container.getBoundingClientRect()) !== null && _container$getBoundin !== void 0 ? _container$getBoundin : {};\n      this.setPopupPosition(e.clientX - left, e.clientY - top);\n    });\n    /**\n     * 将经纬度转换成对应的像素偏移位置\n     * @protected\n     */\n    _defineProperty(this, \"updateLngLatPosition\", () => {\n      if (!this.mapsService || this.popupOption.followCursor) {\n        return;\n      }\n      const {\n        lng,\n        lat\n      } = this.lngLat;\n      const {\n        x,\n        y\n      } = this.mapsService.lngLatToContainer([lng, lat]);\n      this.setPopupPosition(x, y);\n    });\n    //zoom时计算PopUp的位置并更新\n    _defineProperty(this, \"updateLngLatPositionWhenZoom\", ev => {\n      if (!this.mapsService || this.popupOption.followCursor) {\n        return;\n      }\n      const map = ev.map;\n      const viewHalf = map.getSize();\n      viewHalf.x = viewHalf.x / 2;\n      viewHalf.y = viewHalf.y / 2;\n      const center = ev.center;\n      const zoom = ev.zoom;\n      const projectedCenter = map.DE(this.lngLat, zoom, center);\n      projectedCenter.x = Math.round(projectedCenter.x);\n      projectedCenter.y = Math.round(projectedCenter.y);\n      this.setPopupPosition(projectedCenter.x, projectedCenter.y, true);\n    });\n    _defineProperty(this, \"onKeyDown\", e => {\n      if (e.keyCode === 27) {\n        this.remove();\n      }\n    });\n    _defineProperty(this, \"onCloseButtonClick\", e => {\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      }\n      this.hide();\n    });\n    //更新位置 支持zoom时更新\n    _defineProperty(this, \"updatePosition\", (ev, zoom = true) => {\n      const hasPosition = !!this.lngLat;\n      const {\n        className,\n        style,\n        maxWidth,\n        anchor,\n        stopPropagation\n      } = this.popupOption;\n      if (!this.mapsService || !hasPosition || !this.content) {\n        return;\n      }\n      const popupContainer = this.mapsService.getMarkerContainer();\n      // 如果当前没有创建 Popup 容器则创建\n      if (!this.container && popupContainer) {\n        this.container = DOM.create('div', `l7-popup ${className !== null && className !== void 0 ? className : ''} ${!this.isShow ? 'l7-popup-hide' : ''}`, popupContainer);\n        if (style) {\n          this.container.setAttribute('style', style);\n        }\n        this.tip = DOM.create('div', 'l7-popup-tip', this.container);\n        this.container.appendChild(this.content);\n\n        // 高德地图需要阻止事件冒泡 // 测试mapbox 地图不需要添加\n        if (stopPropagation) {\n          ['mousemove', 'mousedown', 'mouseup', 'click', 'dblclick'].forEach(type => {\n            this.container.addEventListener(type, e => {\n              e.stopPropagation();\n            });\n          });\n        }\n        this.container.style.whiteSpace = 'nowrap';\n      }\n      if (zoom) {\n        this.updateLngLatPositionWhenZoom(ev);\n      } else {\n        this.updateLngLatPosition();\n      }\n      DOM.setTransform(this.container, `${anchorTranslate[anchor]}`);\n      applyAnchorClass(this.container, anchor, 'popup');\n      if (maxWidth) {\n        const {\n          width\n        } = this.container.getBoundingClientRect();\n        if (width > parseFloat(maxWidth)) {\n          this.container.style.width = maxWidth;\n        }\n      } else {\n        this.container.style.removeProperty('width');\n      }\n    });\n    _defineProperty(this, \"updateWhenZoom\", ev => {\n      this.updatePosition(ev, true);\n    });\n    _defineProperty(this, \"update\", () => {\n      this.updatePosition(null, false);\n    });\n    this.popupOption = _objectSpread(_objectSpread({}, this.getDefault(cfg !== null && cfg !== void 0 ? cfg : {})), cfg);\n    const {\n      lngLat\n    } = this.popupOption;\n    if (lngLat) {\n      this.lngLat = lngLat;\n    }\n  }\n  getIsShow() {\n    return this.isShow;\n  }\n  addTo(scene) {\n    this.mapsService = scene.mapService;\n    this.sceneService = scene.sceneService;\n    this.layerService = scene.layerService;\n    //天地图仅监听zoomchange 不注册camerachane,对于平移,在mapsService中实现\n    // this.mapsService.on('zoomchange', this.updateWhenZoom);\n    this.mapsService.on('camerachange', this.update);\n    this.mapsService.on('viewchange', this.update);\n    this.scene = scene;\n    this.update();\n    // 临时关闭\n    this.updateCloseOnClick();\n    this.updateCloseOnEsc();\n    this.updateFollowCursor();\n    const {\n      html,\n      text,\n      title\n    } = this.popupOption;\n    if (html) {\n      this.setHTML(html);\n    } else if (text) {\n      this.setText(text);\n    }\n    if (title) {\n      this.setTitle(title);\n    }\n    this.emit('open');\n    return this;\n  }\n\n  // 移除popup\n  remove() {\n    if (!(this !== null && this !== void 0 && this.isOpen())) {\n      return;\n    }\n    if (this.content) {\n      DOM.remove(this.content);\n    }\n    if (this.container) {\n      DOM.remove(this.container);\n      // @ts-ignore\n      delete this.container;\n    }\n    if (this.mapsService) {\n      // TODO: mapbox AMap 事件同步\n      this.mapsService.off('camerachange', this.update);\n      this.mapsService.off('viewchange', this.update);\n      //天地图的缩放事件\n      // this.mapsService.off('zoomchange', this.updateWhenZoom);\n      this.updateCloseOnClick(true);\n      this.updateCloseOnEsc(true);\n      this.updateFollowCursor(true);\n      // @ts-ignore\n      delete this.mapsService;\n    }\n    this.emit('close');\n    return this;\n  }\n\n  /**\n   * 获取 option 配置\n   */\n  getOptions() {\n    return this.popupOption;\n  }\n  setOptions(option) {\n    this.show();\n    const {\n      className: oldClassName\n    } = this.popupOption;\n    this.popupOption = _objectSpread(_objectSpread({}, this.popupOption), option);\n    if (this.checkUpdateOption(option, ['html', 'text', 'title', 'closeButton', 'closeButtonOffsets', 'maxWidth', 'anchor', 'stopPropagation', 'lngLat', 'offsets'])) {\n      if (this.container) {\n        DOM.remove(this.container);\n        // @ts-ignore\n        this.container = undefined;\n      }\n      if (this.popupOption.html) {\n        this.setHTML(this.popupOption.html);\n      } else if (this.popupOption.text) {\n        this.setText(this.popupOption.text);\n      }\n      if (this.popupOption.title) {\n        this.setTitle(this.popupOption.title);\n      }\n    }\n    if (this.checkUpdateOption(option, ['closeOnEsc'])) {\n      this.updateCloseOnEsc();\n    }\n    if (this.checkUpdateOption(option, ['closeOnClick'])) {\n      this.updateCloseOnClick();\n    }\n    if (this.checkUpdateOption(option, ['followCursor'])) {\n      this.updateFollowCursor();\n    }\n    if (this.checkUpdateOption(option, ['html']) && option.html) {\n      this.setHTML(option.html);\n    } else if (this.checkUpdateOption(option, ['text']) && option.text) {\n      this.setText(option.text);\n    }\n    if (this.checkUpdateOption(option, ['className'])) {\n      var _option$className;\n      if (oldClassName) {\n        this.container.classList.remove(oldClassName !== null && oldClassName !== void 0 ? oldClassName : '');\n      }\n      this.container.classList.add((_option$className = option.className) !== null && _option$className !== void 0 ? _option$className : '');\n    }\n    if (this.checkUpdateOption(option, ['style'])) {\n      var _option$style;\n      DOM.addStyle(this.container, (_option$style = option.style) !== null && _option$style !== void 0 ? _option$style : '');\n    }\n    if (this.checkUpdateOption(option, ['lngLat']) && option.lngLat) {\n      this.setLnglat(option.lngLat);\n    }\n    return this;\n  }\n  open() {\n    this.addTo(this.scene);\n    return this;\n  }\n  close() {\n    this.remove();\n    return this;\n  }\n  show() {\n    if (this.isShow) {\n      return;\n    }\n    if (this.container) {\n      DOM.removeClass(this.container, 'l7-popup-hide');\n    }\n    this.isShow = true;\n    this.emit('show');\n    return this;\n  }\n  hide() {\n    if (!this.isShow) {\n      return;\n    }\n    if (this.container) {\n      DOM.addClass(this.container, 'l7-popup-hide');\n    }\n    this.isShow = false;\n    this.emit('hide');\n    return this;\n  }\n\n  /**\n   * 设置 HTML 内容\n   * @param html\n   */\n  setHTML(html) {\n    this.popupOption.html = html;\n    return this.setDOMContent(html);\n  }\n\n  /**\n   * 设置 Popup 展示文本\n   * @param text\n   */\n  setText(text) {\n    this.popupOption.text = text;\n    return this.setDOMContent(window.document.createTextNode(text));\n  }\n  setTitle(title) {\n    this.show();\n    this.popupOption.title = title;\n    if (title) {\n      if (!this.contentTitle) {\n        this.contentTitle = DOM.create('div', 'l7-popup-content__title');\n        if (this.content.firstChild) {\n          this.content.insertBefore(this.contentTitle, this.content.firstChild);\n        } else {\n          this.content.append(this.contentTitle);\n        }\n      }\n      DOM.clearChildren(this.contentTitle);\n      DOM.appendElementType(this.contentTitle, title);\n    } else if (this.contentTitle) {\n      DOM.remove(this.contentTitle);\n      this.contentTitle = undefined;\n    }\n  }\n\n  /**\n   * 将地图自动平移到气泡位置\n   */\n  panToPopup() {\n    const {\n      lng,\n      lat\n    } = this.lngLat;\n    if (this.popupOption.autoPan) {\n      this.mapsService.panTo([lng, lat]);\n    }\n    return this;\n  }\n  setLngLat(lngLat) {\n    return this.setLnglat(lngLat);\n  }\n\n  /**\n   * 设置 Popup 所在经纬度\n   * @param lngLat\n   */\n  setLnglat(lngLat) {\n    this.show();\n    this.lngLat = lngLat;\n    if (Array.isArray(lngLat)) {\n      this.lngLat = {\n        lng: lngLat[0],\n        lat: lngLat[1]\n      };\n    }\n    if (this.mapsService) {\n      // 防止事件重复监听\n      // this.mapsService.off('zoonanim', this.updateWhenZoom);\n      this.mapsService.off('camerachange', this.update);\n      this.mapsService.off('viewchange', this.update);\n\n      // this.mapsService.on('zoonanim', this.updateWhenZoom);\n      this.mapsService.on('camerachange', this.update);\n      this.mapsService.on('viewchange', this.update);\n    }\n    this.update();\n    if (this.popupOption.autoPan) {\n      setTimeout(() => {\n        this.panToPopup();\n      }, 0);\n    }\n    return this;\n  }\n\n  /**\n   * 获取 Popup 所在经纬度\n   */\n  getLnglat() {\n    return this.lngLat;\n  }\n\n  /**\n   * 设置 Popup 最大宽度\n   * @param maxWidth\n   */\n  setMaxWidth(maxWidth) {\n    this.popupOption.maxWidth = maxWidth;\n    this.update();\n    return this;\n  }\n  isOpen() {\n    return !!this.mapsService;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getDefault(option) {\n    // tslint:disable-next-line:no-object-literal-type-assertion\n    return {\n      closeButton: true,\n      closeOnClick: false,\n      maxWidth: '240px',\n      offsets: [0, 0],\n      anchor: anchorType.BOTTOM,\n      stopPropagation: true,\n      autoPan: false,\n      autoClose: true,\n      closeOnEsc: false,\n      followCursor: false\n    };\n  }\n\n  /**\n   * 设置 Popup 内容 HTML\n   * @param element\n   */\n  setDOMContent(element) {\n    this.show();\n    this.createContent();\n    DOM.appendElementType(this.contentPanel, element);\n    this.update();\n    return this;\n  }\n\n  /**\n   * 绑定地图点击事件触发销毁 Popup\n   * @protected\n   */\n  updateCloseOnClick(onlyClear) {\n    const mapsService = this.mapsService;\n    if (mapsService) {\n      mapsService === null || mapsService === void 0 || mapsService.off('click', this.onCloseButtonClick);\n      if (this.popupOption.closeOnClick && !onlyClear) {\n        requestAnimationFrame(() => {\n          mapsService === null || mapsService === void 0 || mapsService.on('click', this.onCloseButtonClick);\n        });\n      }\n    }\n  }\n  updateCloseOnEsc(onlyClear) {\n    window.removeEventListener('keydown', this.onKeyDown);\n    if (this.popupOption.closeOnEsc && !onlyClear) {\n      window.addEventListener('keydown', this.onKeyDown);\n    }\n  }\n  updateFollowCursor(onlyClear) {\n    var _this$mapsService;\n    const container = (_this$mapsService = this.mapsService) === null || _this$mapsService === void 0 ? void 0 : _this$mapsService.getContainer();\n    if (container) {\n      container === null || container === void 0 || container.removeEventListener('mousemove', this.onMouseMove);\n      if (this.popupOption.followCursor && !onlyClear) {\n        container === null || container === void 0 || container.addEventListener('mousemove', this.onMouseMove);\n      }\n    }\n  }\n  /**\n   * 创建 Popup 内容容器的 DOM （在每次 setHTML 或 setText 时都会被调用）\n   * @protected\n   */\n  createContent() {\n    if (this.content) {\n      DOM.remove(this.content);\n    }\n    this.contentTitle = undefined;\n    this.content = DOM.create('div', 'l7-popup-content', this.container);\n    this.setTitle(this.popupOption.title);\n    if (this.popupOption.closeButton) {\n      const closeButton = createL7Icon('l7-icon-guanbi');\n      DOM.addClass(closeButton, 'l7-popup-close-button');\n      this.content.appendChild(closeButton);\n      if (this.popupOption.closeButtonOffsets) {\n        // 关闭按钮的偏移\n        closeButton.style.right = this.popupOption.closeButtonOffsets[0] + 'px';\n        closeButton.style.top = this.popupOption.closeButtonOffsets[1] + 'px';\n      }\n\n      // this.closeButton.type = 'button';\n      closeButton.setAttribute('aria-label', 'Close popup');\n      closeButton.addEventListener('click', () => {\n        this.hide();\n      });\n\n      // 防止点击 Popup 关闭按钮时，触发 Layer click 事件\n      closeButton.addEventListener('pointerup', e => {\n        e.stopPropagation();\n      });\n      closeButton.addEventListener('pointerdown', e => {\n        e.stopPropagation();\n      });\n      this.closeButton = closeButton;\n    } else {\n      this.closeButton = undefined;\n    }\n    this.contentPanel = DOM.create('div', 'l7-popup-content__panel', this.content);\n  }\n  /**\n   * 设置 Popup 相对于地图容器的 Position\n   * @param {Number} left\n   * @param {Number} top\n   * @param {Boolean} [useTransition=false] 是否使用过度效果\n   * @protected\n   */\n  setPopupPosition(left, top, useTransition = false) {\n    if (this.container) {\n      const {\n        offsets\n      } = this.popupOption;\n      this.container.style.left = left + offsets[0] + 'px';\n      this.container.style.top = top - offsets[1] + 'px';\n      if (useTransition) {\n        this.container.style.transition = 'left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)';\n      } else {\n        this.container.style.transition = '';\n      }\n    }\n  }\n\n  /**\n   * 检查当前传入 option 是否包含 keys 字段\n   * @param option\n   * @param keys\n   * @protected\n   */\n  checkUpdateOption(option, keys) {\n    return keys.some(key => key in option);\n  }\n}", "import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM, lodashUtil } from '@antv/l7-utils';\nimport Popup from \"./popup\";\nconst {\n  get\n} = lodashUtil;\nexport { LayerPopup };\nexport default class LayerPopup extends Popup {\n  constructor(...args) {\n    super(...args);\n    /**\n     * 用于统计当前帧当中，layer 被点击的次数\n     */\n    _defineProperty(this, \"layerClickCountByFrame\", 0);\n    /**\n     * 用于保存图层对应的事件回调以及配置信息\n     * @protected\n     */\n    _defineProperty(this, \"layerConfigMap\", new WeakMap());\n    /**\n     * 当期正在展示的图层以及对应元素 id 的信息\n     * @protected\n     */\n    _defineProperty(this, \"displayFeatureInfo\", void 0);\n    _defineProperty(this, \"onLayerClick\", (layer, e) => {\n      requestAnimationFrame(() => {\n        if (this.popupOption.closeOnClick) {\n          this.layerClickCountByFrame++;\n        }\n        if (this.isShow && this.isSameFeature(layer, e.featureId)) {\n          this.hide();\n        } else {\n          const {\n            title,\n            content\n          } = this.getLayerInfoFrag(layer, e);\n          this.setDOMContent(content);\n          this.setLnglat(e.lngLat);\n          this.setTitle(title);\n          this.setDisplayFeatureInfo({\n            layer,\n            featureId: e.featureId\n          });\n          this.show();\n        }\n      });\n    });\n    _defineProperty(this, \"onSceneClick\", () => {\n      this.layerClickCountByFrame = 0;\n      requestAnimationFrame(() => {\n        if (!this.layerClickCountByFrame) {\n          this.hide();\n        }\n      });\n    });\n    _defineProperty(this, \"onLayerHide\", () => {\n      this.hide();\n      this.setDisplayFeatureInfo(undefined);\n    });\n    /**\n     * 覆盖 Popup 中的默认的 closeOnClick 行为\n     */\n    // tslint:disable-next-line:no-empty\n    _defineProperty(this, \"updateCloseOnClick\", () => {});\n  }\n  get layerConfigItems() {\n    var _ref;\n    const {\n      config,\n      items\n    } = this.popupOption;\n    return (_ref = config !== null && config !== void 0 ? config : items) !== null && _ref !== void 0 ? _ref : [];\n  }\n  addTo(scene) {\n    super.addTo(scene);\n    this.bindLayerEvent();\n    this.hide();\n    return this;\n  }\n  remove() {\n    super.remove();\n    this.unbindLayerEvent();\n    return this;\n  }\n  setOptions(option) {\n    this.unbindLayerEvent();\n    const newOption = _objectSpread({}, option);\n    const trigger = newOption.trigger || this.popupOption.trigger;\n    const items = newOption.items || this.popupOption.items;\n    const isEmptyItems = (items === null || items === void 0 ? void 0 : items.length) === 0;\n    newOption.followCursor = trigger === 'hover' && !isEmptyItems;\n    const isShow = this.isShow;\n    super.setOptions(newOption);\n    this.bindLayerEvent();\n    if (isEmptyItems || !isShow) {\n      this.hide();\n    }\n    return this;\n  }\n  getDefault(option) {\n    const isHoverTrigger = option.trigger !== 'click';\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      trigger: 'hover',\n      followCursor: isHoverTrigger,\n      lngLat: {\n        lng: 0,\n        lat: 0\n      },\n      offsets: [0, 10],\n      closeButton: false,\n      closeOnClick: true,\n      autoClose: false,\n      closeOnEsc: false\n    });\n  }\n\n  /**\n   * 绑定对应的图层事件\n   * @protected\n   */\n  bindLayerEvent() {\n    const {\n      trigger,\n      closeOnClick\n    } = this.popupOption;\n    this.layerConfigItems.forEach(configItem => {\n      var _layer$getSource;\n      const layer = this.getLayerByConfig(configItem);\n      if (!layer) {\n        return;\n      }\n      const layerInfo = _objectSpread({}, configItem);\n      if (trigger === 'hover') {\n        const onMouseMove = this.onLayerMouseMove.bind(this, layer);\n        const onMouseOut = this.onLayerMouseOut.bind(this, layer);\n        layerInfo.onMouseMove = onMouseMove;\n        layerInfo.onMouseOut = onMouseOut;\n        layer === null || layer === void 0 || layer.on('mousemove', onMouseMove);\n        layer === null || layer === void 0 || layer.on('mouseout', onMouseOut);\n      } else {\n        var _this$mapsService;\n        const onLayerClick = this.onLayerClick.bind(this, layer);\n        layerInfo.onClick = onLayerClick;\n        layer === null || layer === void 0 || layer.on('click', onLayerClick);\n        const mapContainer = (_this$mapsService = this.mapsService) === null || _this$mapsService === void 0 ? void 0 : _this$mapsService.getMapContainer();\n        if (mapContainer && closeOnClick) {\n          mapContainer.addEventListener('click', this.onSceneClick);\n        }\n      }\n      const source = layer === null || layer === void 0 || (_layer$getSource = layer.getSource) === null || _layer$getSource === void 0 ? void 0 : _layer$getSource.call(layer);\n      const onSourceUpdate = this.onSourceUpdate.bind(this);\n      source === null || source === void 0 || source.on('update', onSourceUpdate);\n      layerInfo.onSourceUpdate = onSourceUpdate;\n      this.layerConfigMap.set(layer, layerInfo);\n    });\n  }\n\n  /**\n   * 解绑对应的图层事件\n   * @protected\n   */\n  unbindLayerEvent() {\n    this.layerConfigItems.forEach(configItem => {\n      var _this$mapsService2;\n      const layer = this.getLayerByConfig(configItem);\n      const layerInfo = layer && this.layerConfigMap.get(layer);\n      if (!layerInfo) {\n        return;\n      }\n      const {\n        onMouseMove,\n        onMouseOut,\n        onClick,\n        onSourceUpdate\n      } = layerInfo;\n      if (onMouseMove) {\n        layer.off('mousemove', onMouseMove);\n      }\n      if (onMouseOut) {\n        layer.off('mouseout', onMouseOut);\n      }\n      if (onClick) {\n        layer.off('click', onClick);\n      }\n      if (onSourceUpdate) {\n        var _layer$getSource2;\n        layer === null || layer === void 0 || (_layer$getSource2 = layer.getSource()) === null || _layer$getSource2 === void 0 || _layer$getSource2.off('update', onSourceUpdate);\n      }\n      const mapContainer = (_this$mapsService2 = this.mapsService) === null || _this$mapsService2 === void 0 ? void 0 : _this$mapsService2.getMapContainer();\n      if (mapContainer) {\n        mapContainer.removeEventListener('click', this.onSceneClick);\n      }\n    });\n  }\n  onLayerMouseMove(layer, e) {\n    if (!this.isSameFeature(layer, e.featureId)) {\n      const {\n        title,\n        content\n      } = this.getLayerInfoFrag(layer, e);\n      this.setDOMContent(content);\n      this.setTitle(title);\n      this.setDisplayFeatureInfo({\n        layer,\n        featureId: e.featureId\n      });\n      this.show();\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onLayerMouseOut(layer, e) {\n    this.setDisplayFeatureInfo(undefined);\n    if (this.isShow) {\n      this.hide();\n    }\n  }\n  onSourceUpdate() {\n    this.hide();\n    this.setDisplayFeatureInfo(undefined);\n  }\n\n  /**\n   * 通过当前图层和对应选中的元素获取气泡展示的 HTML 内容\n   * @param layer\n   * @param e\n   * @protected\n   */\n  getLayerInfoFrag(layer, e) {\n    const layerInfo = this.layerConfigMap.get(layer);\n    let titleFrag;\n    const contentFrag = document.createDocumentFragment();\n    if (layerInfo) {\n      let feature = e.feature;\n      if (feature.type === 'Feature' && 'properties' in feature && 'geometry' in feature) {\n        feature = feature.properties;\n      }\n      const {\n        title,\n        fields,\n        customContent\n      } = layerInfo;\n      if (title) {\n        titleFrag = document.createDocumentFragment();\n        const titleElement = title instanceof Function ? title(feature) : title;\n        DOM.appendElementType(titleFrag, titleElement);\n      }\n      if (customContent) {\n        const content = customContent instanceof Function ? customContent(feature) : customContent;\n        DOM.appendElementType(contentFrag, content);\n      } else if (fields !== null && fields !== void 0 && fields.length) {\n        fields === null || fields === void 0 || fields.forEach(fieldConfig => {\n          var _ref2, _ref3;\n          const {\n            field,\n            formatField,\n            formatValue,\n            getValue\n          } = typeof fieldConfig === 'string' ?\n          // tslint:disable-next-line:no-object-literal-type-assertion\n          {\n            field: fieldConfig\n          } : fieldConfig;\n          const row = DOM.create('div', 'l7-layer-popup__row');\n          const value = getValue ? getValue(e.feature) : get(feature, field);\n          const fieldElement = (_ref2 = formatField instanceof Function ? formatField(field, feature) : formatField) !== null && _ref2 !== void 0 ? _ref2 : field;\n          let valueElement = (_ref3 = formatValue instanceof Function ? formatValue(value, feature) : formatValue) !== null && _ref3 !== void 0 ? _ref3 : value;\n          const fieldSpan = DOM.create('span', 'l7-layer-popup__key', row);\n          DOM.appendElementType(fieldSpan, fieldElement);\n          DOM.appendElementType(fieldSpan, document.createTextNode('：'));\n          const valueSpan = DOM.create('span', 'l7-layer-popup__value', row);\n\n          // 当 value 中每项元素均为基础数据类型时，用逗号隔开\n          if (Array.isArray(valueElement) && valueElement.every(item => !(item instanceof Object))) {\n            valueElement = valueElement.map(item => String(item)).join(',');\n          }\n          DOM.appendElementType(valueSpan, valueElement);\n          contentFrag.appendChild(row);\n        });\n      }\n    }\n    return {\n      title: titleFrag,\n      content: contentFrag\n    };\n  }\n\n  /**\n   * 通过 Layer 配置访问到真实的 Layer 实例\n   * @param configItem\n   * @protected\n   */\n  getLayerByConfig(configItem) {\n    const layer = configItem.layer;\n    if (layer instanceof Object) {\n      return layer;\n    }\n    if (typeof layer === 'string') {\n      return this.layerService.getLayer(layer) || this.layerService.getLayerByName(layer);\n    }\n  }\n\n  /**\n   * 判断当前展示的 Feature 是否和上一次查看的一致\n   * @param layer\n   * @param featureId\n   * @protected\n   */\n  isSameFeature(layer, featureId) {\n    const displayFeatureInfo = this.displayFeatureInfo;\n    return displayFeatureInfo && layer === displayFeatureInfo.layer && featureId === displayFeatureInfo.featureId;\n  }\n  setDisplayFeatureInfo(displayFeatureInfo) {\n    const oldDisplayFeatureInfo = this.displayFeatureInfo;\n    if (oldDisplayFeatureInfo) {\n      oldDisplayFeatureInfo.layer.off('hide', this.onLayerHide);\n    }\n    if (displayFeatureInfo) {\n      displayFeatureInfo.layer.on('hide', this.onLayerHide);\n    }\n    this.displayFeatureInfo = displayFeatureInfo;\n  }\n}", "import Marker from \"./marker\";\nimport MarkerLayer from \"./marker-layer\";\nimport \"./assets/iconfont/iconfont.js\";\n// 引入样式\nfunction loadStyles(css, doc) {\n  var isMiniAli = typeof my !== 'undefined' && !!my && typeof my.showToast === 'function' && my.isFRM !== true;\n  var isWeChatMiniProgram = typeof wx !== 'undefined' && wx !== null && (typeof wx.request !== 'undefined' || typeof wx.miniProgram !== 'undefined');\n  if (isMiniAli || isWeChatMiniProgram) {\n    return;\n  }\n  if (!doc) doc = document;\n  if (!doc) {\n    return;\n  }\n  var head = doc.head || doc.getElementsByTagName('head')[0];\n  if (!head) {\n    head = doc.createElement('head');\n    var body = doc.body || doc.getElementsByTagName('body')[0];\n    if (body) {\n      body.parentNode.insertBefore(head, body);\n    } else {\n      doc.documentElement.appendChild(head);\n    }\n  }\n  var style = doc.createElement('style');\n  style.type = 'text/css';\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(doc.createTextNode(css));\n  }\n  head.appendChild(style);\n  return style;\n}\nloadStyles(`.l7-marker-container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.l7-marker {\n  position: absolute !important;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  cursor: pointer;\n}\n.l7-marker-cluster {\n  width: 40px;\n  height: 40px;\n  background-color: rgba(181, 226, 140, 0.6);\n  background-clip: padding-box;\n  border-radius: 20px;\n}\n.l7-marker-cluster div {\n  width: 30px;\n  height: 30px;\n  margin-top: 5px;\n  margin-left: 5px;\n  font:\n    12px 'Helvetica Neue',\n    Arial,\n    Helvetica,\n    sans-serif;\n  text-align: center;\n  background-color: rgba(110, 204, 57, 0.6);\n  border-radius: 15px;\n}\n.l7-marker-cluster span {\n  line-height: 30px;\n}\n.l7-touch .l7-control-attribution,\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n  box-shadow: none;\n}\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n  background-clip: padding-box;\n  border: 2px solid rgba(0, 0, 0, 0.2);\n}\n.mapboxgl-ctrl-logo,\n.amap-logo {\n  display: none !important;\n}\n.l7-select-box {\n  border: 3px dashed gray;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 999;\n  box-sizing: border-box;\n}\n.l7-control-container {\n  font:\n    12px/1.5 'Helvetica Neue',\n    Arial,\n    Helvetica,\n    sans-serif;\n}\n.l7-control-container .l7-control {\n  position: relative;\n  z-index: 999;\n  float: left;\n  clear: both;\n  color: #595959;\n  font-size: 12px;\n  pointer-events: visiblePainted;\n  /* IE 9-10 doesn't have auto */\n  pointer-events: auto;\n}\n.l7-control-container .l7-control.l7-control--hide {\n  display: none;\n}\n.l7-control-container .l7-top {\n  top: 0;\n  display: flex;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n}\n.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {\n  margin-top: 8px;\n}\n.l7-control-container .l7-right {\n  right: 0;\n  display: flex;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n}\n.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {\n  margin-right: 8px;\n}\n.l7-control-container .l7-bottom {\n  bottom: 0;\n  display: flex;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n}\n.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {\n  margin-bottom: 8px;\n}\n.l7-control-container .l7-left {\n  left: 0;\n  display: flex;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n}\n.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {\n  margin-left: 8px;\n}\n.l7-control-container .l7-center {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n}\n.l7-control-container .l7-center.l7-top,\n.l7-control-container .l7-center.l7-bottom {\n  width: 100%;\n}\n.l7-control-container .l7-center.l7-left,\n.l7-control-container .l7-center.l7-right {\n  height: 100%;\n}\n.l7-control-container .l7-center .l7-control {\n  margin-right: 8px;\n  margin-bottom: 8px;\n}\n.l7-control-container .l7-row {\n  flex-direction: row;\n}\n.l7-control-container .l7-row.l7-top {\n  align-items: flex-start;\n}\n.l7-control-container .l7-row.l7-bottom {\n  align-items: flex-end;\n}\n.l7-control-container .l7-column {\n  flex-direction: column;\n}\n.l7-control-container .l7-column.l7-left {\n  align-items: flex-start;\n}\n.l7-control-container .l7-column.l7-right {\n  align-items: flex-end;\n}\n.l7-button-control {\n  min-width: 28px;\n  height: 28px;\n  background-color: #fff;\n  border-width: 0;\n  border-radius: 2px;\n  outline: 0;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 6px;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);\n  line-height: 16px;\n}\n.l7-button-control .l7-iconfont {\n  fill: #595959;\n  color: #595959;\n  width: 16px;\n  height: 16px;\n}\n.l7-button-control.l7-button-control--row {\n  padding: 0 16px 0 13px;\n}\n.l7-button-control.l7-button-control--row * + .l7-button-control__text {\n  margin-left: 8px;\n}\n.l7-button-control.l7-button-control--column {\n  height: 44px;\n  flex-direction: column;\n}\n.l7-button-control.l7-button-control--column .l7-iconfont {\n  margin-top: 3px;\n}\n.l7-button-control.l7-button-control--column .l7-button-control__text {\n  margin-top: 3px;\n  font-size: 10px;\n  -webkit-transform: scale(0.83333);\n          transform: scale(0.83333);\n}\n.l7-button-control:not(:disabled):hover {\n  background-color: #f3f3f3;\n}\n.l7-button-control:not(:disabled):active {\n  background-color: #f3f3f3;\n}\n.l7-button-control:disabled {\n  background-color: #fafafa;\n  color: #bdbdbd;\n  cursor: not-allowed;\n}\n.l7-button-control:disabled .l7-iconfont {\n  fill: #bdbdbd;\n  color: #bdbdbd;\n}\n.l7-button-control:disabled:hover {\n  background-color: #fafafa;\n}\n.l7-button-control:disabled:active {\n  background-color: #fafafa;\n}\n.l7-popper {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 5;\n  color: #595959;\n}\n.l7-popper.l7-popper-hide {\n  display: none;\n}\n.l7-popper .l7-popper-content {\n  min-height: 28px;\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);\n}\n.l7-popper .l7-popper-arrow {\n  width: 0;\n  height: 0;\n  border-width: 4px;\n  border-style: solid;\n  border-top-color: transparent;\n  border-bottom-color: transparent;\n  border-left-color: transparent;\n  border-right-color: transparent;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);\n}\n.l7-popper.l7-popper-left {\n  flex-direction: row;\n}\n.l7-popper.l7-popper-left .l7-popper-arrow {\n  border-left-color: #fff;\n  margin: 10px 0;\n}\n.l7-popper.l7-popper-right {\n  flex-direction: row-reverse;\n}\n.l7-popper.l7-popper-right .l7-popper-arrow {\n  border-right-color: #fff;\n  margin: 10px 0;\n}\n.l7-popper.l7-popper-top {\n  flex-direction: column;\n}\n.l7-popper.l7-popper-top .l7-popper-arrow {\n  border-top-color: #fff;\n  margin: 0 10px;\n}\n.l7-popper.l7-popper-bottom {\n  flex-direction: column-reverse;\n}\n.l7-popper.l7-popper-bottom .l7-popper-arrow {\n  border-bottom-color: #fff;\n  margin: 0 10px;\n}\n.l7-popper.l7-popper-start {\n  align-items: flex-start;\n}\n.l7-popper.l7-popper-end {\n  align-items: flex-end;\n}\n.l7-select-control--normal {\n  padding: 4px 0;\n}\n.l7-select-control--normal .l7-select-control-item {\n  display: flex;\n  align-items: center;\n  height: 24px;\n  padding: 0 16px;\n  font-size: 12px;\n  line-height: 24px;\n}\n.l7-select-control--normal .l7-select-control-item > * + * {\n  margin-left: 6px;\n}\n.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {\n  width: 14px;\n  height: 14px;\n}\n.l7-select-control--normal .l7-select-control-item:hover {\n  background-color: #f3f3f3;\n}\n.l7-select-control--image {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  box-sizing: content-box;\n  max-width: 460px;\n  max-height: 400px;\n  margin: 12px 0 0 12px;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.l7-select-control--image .l7-select-control-item {\n  position: relative;\n  display: flex;\n  flex: 0 0 calc((100% - (12px + 9px) * 2) / 3);\n  flex-direction: column;\n  justify-content: center;\n  box-sizing: content-box;\n  margin-right: 12px;\n  margin-bottom: 12px;\n  overflow: hidden;\n  font-size: 12px;\n  border: 1px solid #fff;\n  border-radius: 2px;\n}\n.l7-select-control--image .l7-select-control-item img {\n  width: 100%;\n  height: 80px;\n}\n.l7-select-control--image .l7-select-control-item input[type='checkbox'] {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 26px;\n}\n.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {\n  margin-left: 8px;\n}\n.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {\n  border-color: #0370fe;\n}\n.l7-select-control-item {\n  cursor: pointer;\n}\n.l7-select-control-item input[type='checkbox'] {\n  margin: 0;\n  cursor: pointer;\n}\n.l7-select-control--multiple .l7-select-control-item:hover {\n  background-color: transparent;\n}\n.l7-control-logo {\n  width: 89px;\n  height: 16px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.l7-control-logo img {\n  height: 100%;\n  width: 100%;\n}\n.l7-control-logo .l7-control-logo-link {\n  display: block;\n  cursor: pointer;\n}\n.l7-control-logo .l7-control-logo-link img {\n  cursor: pointer;\n}\n.l7-control-mouse-location {\n  background-color: #fff;\n  border-radius: 2px;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);\n  padding: 2px 4px;\n  min-width: 130px;\n}\n.l7-control-zoom {\n  overflow: hidden;\n  border-radius: 2px;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);\n}\n.l7-control-zoom .l7-button-control {\n  font-size: 16px;\n  border-bottom: 1px solid #f0f0f0;\n  border-radius: 0;\n  box-shadow: 0 0 0;\n}\n.l7-control-zoom .l7-button-control .l7-iconfont {\n  width: 14px;\n  height: 14px;\n}\n.l7-control-zoom .l7-button-control:last-child {\n  border-bottom: 0;\n}\n.l7-control-zoom .l7-control-zoom__number {\n  color: #595959;\n  padding: 0;\n}\n.l7-control-zoom .l7-control-zoom__number:hover {\n  background-color: #fff;\n}\n.l7-control-scale {\n  display: flex;\n  flex-direction: column;\n}\n.l7-control-scale .l7-control-scale-line {\n  box-sizing: border-box;\n  padding: 2px 5px 1px;\n  overflow: hidden;\n  color: #595959;\n  font-size: 10px;\n  line-height: 1.1;\n  white-space: nowrap;\n  background: #fff;\n  border: 2px solid #000;\n  border-top: 0;\n  transition: width 0.1s;\n}\n.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {\n  margin-top: -2px;\n  border-top: 2px solid #777;\n  border-bottom: none;\n}\n.l7-right .l7-control-scale {\n  display: flex;\n  align-items: flex-end;\n}\n.l7-right .l7-control-scale .l7-control-scale-line {\n  text-align: right;\n}\n.l7-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  display: flex;\n  will-change: transform;\n  pointer-events: none;\n}\n.l7-popup.l7-popup-hide {\n  display: none;\n}\n.l7-popup .l7-popup-content {\n  position: relative;\n  padding: 16px;\n  font-size: 14px;\n  background: #fff;\n  border-radius: 3px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.l7-popup .l7-popup-content .l7-popup-content__title {\n  margin-bottom: 8px;\n  font-weight: bold;\n}\n.l7-popup .l7-popup-content .l7-popup-close-button,\n.l7-popup .l7-popup-content .l7-popup-content__title,\n.l7-popup .l7-popup-content .l7-popup-content__panel {\n  white-space: normal;\n  -webkit-user-select: text;\n     -moz-user-select: text;\n      -ms-user-select: text;\n          user-select: text;\n  pointer-events: initial;\n}\n.l7-popup .l7-popup-content .l7-popup-close-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 18px;\n  height: 18px;\n  padding: 0;\n  font-size: 14px;\n  line-height: 18px;\n  text-align: center;\n  background-color: transparent;\n  border: 0;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n}\n.l7-popup .l7-popup-tip {\n  position: relative;\n  z-index: 1;\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n}\n.l7-popup.l7-popup-anchor-bottom,\n.l7-popup.l7-popup-anchor-bottom-left,\n.l7-popup.l7-popup-anchor-bottom-right {\n  flex-direction: column-reverse;\n}\n.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,\n.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,\n.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {\n  bottom: 1px;\n}\n.l7-popup.l7-popup-anchor-top,\n.l7-popup.l7-popup-anchor-top-left,\n.l7-popup.l7-popup-anchor-top-right {\n  flex-direction: column;\n}\n.l7-popup.l7-popup-anchor-top .l7-popup-tip,\n.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,\n.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {\n  top: 1px;\n}\n.l7-popup.l7-popup-anchor-left {\n  flex-direction: row;\n}\n.l7-popup.l7-popup-anchor-right {\n  flex-direction: row-reverse;\n}\n.l7-popup-anchor-top .l7-popup-tip {\n  position: relative;\n  align-self: center;\n  border-top: none;\n  border-bottom-color: #fff;\n}\n.l7-popup-anchor-top-left .l7-popup-tip {\n  align-self: flex-start;\n  border-top: none;\n  border-bottom-color: #fff;\n  border-left: none;\n}\n.l7-popup-anchor-top-right .l7-popup-tip {\n  align-self: flex-end;\n  border-top: none;\n  border-right: none;\n  border-bottom-color: #fff;\n}\n.l7-popup-anchor-bottom .l7-popup-tip {\n  align-self: center;\n  border-top-color: #fff;\n  border-bottom: none;\n}\n.l7-popup-anchor-bottom-left .l7-popup-tip {\n  align-self: flex-start;\n  border-top-color: #fff;\n  border-bottom: none;\n  border-left: none;\n}\n.l7-popup-anchor-bottom-right .l7-popup-tip {\n  align-self: flex-end;\n  border-top-color: #fff;\n  border-right: none;\n  border-bottom: none;\n}\n.l7-popup-anchor-left .l7-popup-tip {\n  align-self: center;\n  border-right-color: #fff;\n  border-left: none;\n}\n.l7-popup-anchor-right .l7-popup-tip {\n  right: 1px;\n  align-self: center;\n  border-right: none;\n  border-left-color: #fff;\n}\n.l7-popup-anchor-top-left .l7-popup-content {\n  border-top-left-radius: 0;\n}\n.l7-popup-anchor-top-right .l7-popup-content {\n  border-top-right-radius: 0;\n}\n.l7-popup-anchor-bottom-left .l7-popup-content {\n  border-bottom-left-radius: 0;\n}\n.l7-popup-anchor-bottom-right .l7-popup-content {\n  border-bottom-right-radius: 0;\n}\n.l7-popup-track-pointer {\n  display: none;\n}\n.l7-popup-track-pointer * {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  pointer-events: none;\n}\n.l7-map:hover .l7-popup-track-pointer {\n  display: flex;\n}\n.l7-map:active .l7-popup-track-pointer {\n  display: none;\n}\n.l7-layer-popup__row {\n  font-size: 12px;\n}\n.l7-layer-popup__row + .l7-layer-popup__row {\n  margin-top: 4px;\n}\n.l7-control-swipe {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 6;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  touch-action: none;\n}\n.l7-control-swipe_hide {\n  display: none;\n}\n.l7-control-swipe:before {\n  position: absolute;\n  top: -5000px;\n  bottom: -5000px;\n  left: 50%;\n  z-index: -1;\n  width: 4px;\n  background: #fff;\n  -webkit-transform: translate(-2px, 0);\n          transform: translate(-2px, 0);\n  content: '';\n}\n.l7-control-swipe.horizontal:before {\n  top: 50%;\n  right: -5000px;\n  bottom: auto;\n  left: -5000px;\n  width: auto;\n  height: 4px;\n}\n.l7-control-swipe__button {\n  display: block;\n  width: 28px;\n  height: 28px;\n  margin: 0;\n  padding: 0;\n  color: #595959;\n  font-weight: bold;\n  font-size: inherit;\n  text-align: center;\n  text-decoration: none;\n  background-color: #fff;\n  border: none;\n  border-radius: 2px;\n  outline: none;\n}\n.l7-control-swipe,\n.l7-control-swipe__button {\n  cursor: ew-resize;\n}\n.l7-control-swipe.horizontal,\n.l7-control-swipe.horizontal button {\n  cursor: ns-resize;\n}\n.l7-control-swipe:after,\n.l7-control-swipe__button:before,\n.l7-control-swipe__button:after {\n  position: absolute;\n  top: 25%;\n  bottom: 25%;\n  left: 50%;\n  width: 2px;\n  background: currentColor;\n  -webkit-transform: translate(-1px, 0);\n          transform: translate(-1px, 0);\n  content: '';\n}\n.l7-control-swipe__button:after {\n  -webkit-transform: translateX(4px);\n          transform: translateX(4px);\n}\n.l7-control-swipe__button:before {\n  -webkit-transform: translateX(-6px);\n          transform: translateX(-6px);\n}\n`); // import './css/index.less';\nexport * from \"./control/baseControl\";\nexport { ExportImage } from \"./control/exportImage\";\nexport { Fullscreen } from \"./control/fullscreen\";\nexport { GeoLocate } from \"./control/geoLocate\";\nexport { LayerSwitch } from \"./control/layerSwitch\";\nexport { Logo } from \"./control/logo\";\nexport { MapTheme } from \"./control/mapTheme\";\nexport { MouseLocation } from \"./control/mouseLocation\";\nexport { Scale } from \"./control/scale\";\nexport { Swipe } from \"./control/swipe\";\nexport { Zoom } from \"./control/zoom\";\nexport * from \"./interface\";\nexport { LayerPopup } from \"./popup/layerPopup\";\nexport { Popup } from \"./popup/popup\";\nexport { Marker, MarkerLayer };", null, null, null, null, null, null, null, null, null, null, null, null, null, null, "/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n", null, "import EventEmitter from './index.js'\n\nexport { EventEmitter }\nexport default EventEmitter\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "let wasm;\n\nconst cachedTextDecoder =\n  typeof TextDecoder !== 'undefined'\n    ? new TextDecoder('utf-8', { ignoreBOM: true, fatal: true })\n    : {\n        decode: () => {\n          throw Error('TextDecoder not available');\n        },\n      };\n\nif (typeof TextDecoder !== 'undefined') {\n  cachedTextDecoder.decode();\n}\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n  if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n    cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n  }\n  return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n  ptr = ptr >>> 0;\n  return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nlet heap_next = heap.length;\n\nfunction addHeapObject(obj) {\n  if (heap_next === heap.length) heap.push(heap.length + 1);\n  const idx = heap_next;\n  heap_next = heap[idx];\n\n  heap[idx] = obj;\n  return idx;\n}\n\nfunction getObject(idx) {\n  return heap[idx];\n}\n\nfunction dropObject(idx) {\n  if (idx < 132) return;\n  heap[idx] = heap_next;\n  heap_next = idx;\n}\n\nfunction takeObject(idx) {\n  const ret = getObject(idx);\n  dropObject(idx);\n  return ret;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst cachedTextEncoder =\n  typeof TextEncoder !== 'undefined'\n    ? new TextEncoder('utf-8')\n    : {\n        encode: () => {\n          throw Error('TextEncoder not available');\n        },\n      };\n\nconst encodeString =\n  typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n        return cachedTextEncoder.encodeInto(arg, view);\n      }\n    : function (arg, view) {\n        const buf = cachedTextEncoder.encode(arg);\n        view.set(buf);\n        return {\n          read: arg.length,\n          written: buf.length,\n        };\n      };\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n  if (realloc === undefined) {\n    const buf = cachedTextEncoder.encode(arg);\n    const ptr = malloc(buf.length, 1) >>> 0;\n    getUint8Memory0()\n      .subarray(ptr, ptr + buf.length)\n      .set(buf);\n    WASM_VECTOR_LEN = buf.length;\n    return ptr;\n  }\n\n  let len = arg.length;\n  let ptr = malloc(len, 1) >>> 0;\n\n  const mem = getUint8Memory0();\n\n  let offset = 0;\n\n  for (; offset < len; offset++) {\n    const code = arg.charCodeAt(offset);\n    if (code > 0x7f) break;\n    mem[ptr + offset] = code;\n  }\n\n  if (offset !== len) {\n    if (offset !== 0) {\n      arg = arg.slice(offset);\n    }\n    ptr = realloc(ptr, len, (len = offset + arg.length * 3), 1) >>> 0;\n    const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n    const ret = encodeString(arg, view);\n\n    offset += ret.written;\n  }\n\n  WASM_VECTOR_LEN = offset;\n  return ptr;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n  if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n    cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n  }\n  return cachedInt32Memory0;\n}\n/**\n * @param {string} source\n * @param {string} stage\n * @param {boolean} validation_enabled\n * @returns {string}\n */\nexport function glsl_compile(source, stage, validation_enabled) {\n  let deferred3_0;\n  let deferred3_1;\n  try {\n    const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n    const ptr0 = passStringToWasm0(\n      source,\n      wasm.__wbindgen_malloc,\n      wasm.__wbindgen_realloc,\n    );\n    const len0 = WASM_VECTOR_LEN;\n    const ptr1 = passStringToWasm0(\n      stage,\n      wasm.__wbindgen_malloc,\n      wasm.__wbindgen_realloc,\n    );\n    const len1 = WASM_VECTOR_LEN;\n    wasm.glsl_compile(retptr, ptr0, len0, ptr1, len1, validation_enabled);\n    var r0 = getInt32Memory0()[retptr / 4 + 0];\n    var r1 = getInt32Memory0()[retptr / 4 + 1];\n    deferred3_0 = r0;\n    deferred3_1 = r1;\n    return getStringFromWasm0(r0, r1);\n  } finally {\n    wasm.__wbindgen_add_to_stack_pointer(16);\n    wasm.__wbindgen_free(deferred3_0, deferred3_1, 1);\n  }\n}\n\n/**\n */\nexport class WGSLComposer {\n  static __wrap(ptr) {\n    ptr = ptr >>> 0;\n    const obj = Object.create(WGSLComposer.prototype);\n    obj.__wbg_ptr = ptr;\n\n    return obj;\n  }\n\n  __destroy_into_raw() {\n    const ptr = this.__wbg_ptr;\n    this.__wbg_ptr = 0;\n\n    return ptr;\n  }\n\n  free() {\n    const ptr = this.__destroy_into_raw();\n    wasm.__wbg_wgslcomposer_free(ptr);\n  }\n  /**\n   */\n  constructor() {\n    const ret = wasm.wgslcomposer_new();\n    return WGSLComposer.__wrap(ret);\n  }\n  /**\n   * @param {string} source\n   */\n  load_composable(source) {\n    const ptr0 = passStringToWasm0(\n      source,\n      wasm.__wbindgen_malloc,\n      wasm.__wbindgen_realloc,\n    );\n    const len0 = WASM_VECTOR_LEN;\n    wasm.wgslcomposer_load_composable(this.__wbg_ptr, ptr0, len0);\n  }\n  /**\n   * @param {string} source\n   * @returns {string}\n   */\n  wgsl_compile(source) {\n    let deferred2_0;\n    let deferred2_1;\n    try {\n      const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n      const ptr0 = passStringToWasm0(\n        source,\n        wasm.__wbindgen_malloc,\n        wasm.__wbindgen_realloc,\n      );\n      const len0 = WASM_VECTOR_LEN;\n      wasm.wgslcomposer_wgsl_compile(retptr, this.__wbg_ptr, ptr0, len0);\n      var r0 = getInt32Memory0()[retptr / 4 + 0];\n      var r1 = getInt32Memory0()[retptr / 4 + 1];\n      deferred2_0 = r0;\n      deferred2_1 = r1;\n      return getStringFromWasm0(r0, r1);\n    } finally {\n      wasm.__wbindgen_add_to_stack_pointer(16);\n      wasm.__wbindgen_free(deferred2_0, deferred2_1, 1);\n    }\n  }\n}\n\nasync function __wbg_load(module, imports) {\n  if (typeof Response === 'function' && module instanceof Response) {\n    if (typeof WebAssembly.instantiateStreaming === 'function') {\n      try {\n        return await WebAssembly.instantiateStreaming(module, imports);\n      } catch (e) {\n        if (module.headers.get('Content-Type') != 'application/wasm') {\n          console.warn(\n            '`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n',\n            e,\n          );\n        } else {\n          throw e;\n        }\n      }\n    }\n\n    const bytes = await module.arrayBuffer();\n    return await WebAssembly.instantiate(bytes, imports);\n  } else {\n    const instance = await WebAssembly.instantiate(module, imports);\n\n    if (instance instanceof WebAssembly.Instance) {\n      return { instance, module };\n    } else {\n      return instance;\n    }\n  }\n}\n\nfunction __wbg_get_imports() {\n  const imports = {};\n  imports.wbg = {};\n  imports.wbg.__wbindgen_string_new = function (arg0, arg1) {\n    const ret = getStringFromWasm0(arg0, arg1);\n    return addHeapObject(ret);\n  };\n  imports.wbg.__wbindgen_object_drop_ref = function (arg0) {\n    takeObject(arg0);\n  };\n  imports.wbg.__wbg_log_1d3ae0273d8f4f8a = function (arg0) {\n    console.log(getObject(arg0));\n  };\n  imports.wbg.__wbg_log_576ca876af0d4a77 = function (arg0, arg1) {\n    console.log(getObject(arg0), getObject(arg1));\n  };\n  imports.wbg.__wbindgen_throw = function (arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n  };\n\n  return imports;\n}\n\nfunction __wbg_init_memory(imports, maybe_memory) {}\n\nfunction __wbg_finalize_init(instance, module) {\n  wasm = instance.exports;\n  __wbg_init.__wbindgen_wasm_module = module;\n  cachedInt32Memory0 = null;\n  cachedUint8Memory0 = null;\n\n  return wasm;\n}\n\nfunction initSync(module) {\n  if (wasm !== undefined) return wasm;\n\n  const imports = __wbg_get_imports();\n\n  __wbg_init_memory(imports);\n\n  if (!(module instanceof WebAssembly.Module)) {\n    module = new WebAssembly.Module(module);\n  }\n\n  const instance = new WebAssembly.Instance(module, imports);\n\n  return __wbg_finalize_init(instance, module);\n}\n\nasync function __wbg_init(input) {\n  if (wasm !== undefined) return wasm;\n\n  if (typeof input === 'undefined') {\n    // input = new URL('glsl_wgsl_compiler_bg.wasm', import.meta.url);\n  }\n  const imports = __wbg_get_imports();\n\n  if (\n    typeof input === 'string' ||\n    (typeof Request === 'function' && input instanceof Request) ||\n    (typeof URL === 'function' && input instanceof URL)\n  ) {\n    input = fetch(input);\n  }\n\n  __wbg_init_memory(imports);\n\n  const { instance, module } = await __wbg_load(await input, imports);\n\n  return __wbg_finalize_init(instance, module);\n}\n\nexport { initSync };\nexport default __wbg_init;\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "// src/device/DeviceAttribute.ts\nvar DeviceAttribute = class {\n  constructor(device, options) {\n    const { buffer, offset, stride, normalized, size, divisor, shaderLocation } = options;\n    this.buffer = buffer;\n    this.attribute = {\n      shaderLocation,\n      buffer: buffer.get(),\n      offset: offset || 0,\n      stride: stride || 0,\n      normalized: normalized || false,\n      divisor: divisor || 0\n    };\n    if (size) {\n      this.attribute.size = size;\n    }\n  }\n  get() {\n    return this.buffer;\n  }\n  updateBuffer(options) {\n    this.buffer.subData(options);\n  }\n  destroy() {\n    this.buffer.destroy();\n  }\n};\nexport {\n  DeviceAttribute as default\n};\n", "// src/device/constants.ts\nimport {\n  AddressMode,\n  BlendFactor,\n  BlendMode,\n  BufferFrequencyHint,\n  CompareFunction,\n  CullMode,\n  Format,\n  PrimitiveTopology,\n  StencilOp\n} from \"@antv/g-device-api\";\nimport { gl } from \"@antv/l7-core\";\nvar typedArrayCtorMap = {\n  [gl.FLOAT]: Float32Array,\n  [gl.UNSIGNED_BYTE]: Uint8Array,\n  [gl.SHORT]: Int16Array,\n  [gl.UNSIGNED_SHORT]: Uint16Array,\n  [gl.INT]: Int32Array,\n  [gl.UNSIGNED_INT]: Uint32Array\n};\nvar primitiveMap = {\n  [gl.POINTS]: PrimitiveTopology.POINTS,\n  [gl.LINES]: PrimitiveTopology.LINES,\n  [gl.LINE_LOOP]: PrimitiveTopology.LINES,\n  [gl.LINE_STRIP]: PrimitiveTopology.LINE_STRIP,\n  [gl.TRIANGLES]: PrimitiveTopology.TRIANGLES,\n  [gl.TRIANGLE_FAN]: PrimitiveTopology.TRIANGLES,\n  [gl.TRIANGLE_STRIP]: PrimitiveTopology.TRIANGLE_STRIP\n};\nvar sizeFormatMap = {\n  [1]: Format.F32_R,\n  [2]: Format.F32_RG,\n  [3]: Format.F32_RGB,\n  [4]: Format.F32_RGBA\n};\nvar hintMap = {\n  [gl.STATIC_DRAW]: BufferFrequencyHint.STATIC,\n  [gl.DYNAMIC_DRAW]: BufferFrequencyHint.DYNAMIC,\n  [gl.STREAM_DRAW]: BufferFrequencyHint.DYNAMIC\n};\nvar wrapModeMap = {\n  [gl.REPEAT]: AddressMode.REPEAT,\n  [gl.CLAMP_TO_EDGE]: AddressMode.CLAMP_TO_EDGE,\n  [gl.MIRRORED_REPEAT]: AddressMode.MIRRORED_REPEAT\n};\nvar depthFuncMap = {\n  [gl.NEVER]: CompareFunction.NEVER,\n  [gl.ALWAYS]: CompareFunction.ALWAYS,\n  [gl.LESS]: CompareFunction.LESS,\n  [gl.LEQUAL]: CompareFunction.LEQUAL,\n  [gl.GREATER]: CompareFunction.GREATER,\n  [gl.GEQUAL]: CompareFunction.GEQUAL,\n  [gl.EQUAL]: CompareFunction.EQUAL,\n  [gl.NOTEQUAL]: CompareFunction.NOTEQUAL\n};\nvar cullFaceMap = {\n  [gl.FRONT]: CullMode.FRONT,\n  [gl.BACK]: CullMode.BACK\n};\nvar blendEquationMap = {\n  [gl.FUNC_ADD]: BlendMode.ADD,\n  [gl.MIN_EXT]: BlendMode.MIN,\n  [gl.MAX_EXT]: BlendMode.MAX,\n  [gl.FUNC_SUBTRACT]: BlendMode.SUBSTRACT,\n  [gl.FUNC_REVERSE_SUBTRACT]: BlendMode.REVERSE_SUBSTRACT\n};\nvar blendFuncMap = {\n  [gl.ZERO]: BlendFactor.ZERO,\n  [gl.ONE]: BlendFactor.ONE,\n  [gl.SRC_COLOR]: BlendFactor.SRC,\n  [gl.ONE_MINUS_SRC_COLOR]: BlendFactor.ONE_MINUS_SRC,\n  [gl.SRC_ALPHA]: BlendFactor.SRC_ALPHA,\n  [gl.ONE_MINUS_SRC_ALPHA]: BlendFactor.ONE_MINUS_SRC_ALPHA,\n  [gl.DST_COLOR]: BlendFactor.DST,\n  [gl.ONE_MINUS_DST_COLOR]: BlendFactor.ONE_MINUS_DST,\n  [gl.DST_ALPHA]: BlendFactor.DST_ALPHA,\n  [gl.ONE_MINUS_DST_ALPHA]: BlendFactor.ONE_MINUS_DST_ALPHA,\n  [gl.CONSTANT_COLOR]: BlendFactor.CONST,\n  [gl.ONE_MINUS_CONSTANT_COLOR]: BlendFactor.ONE_MINUS_CONSTANT,\n  [gl.CONSTANT_ALPHA]: BlendFactor.CONST,\n  [gl.ONE_MINUS_CONSTANT_ALPHA]: BlendFactor.ONE_MINUS_CONSTANT,\n  [gl.SRC_ALPHA_SATURATE]: BlendFactor.SRC_ALPHA_SATURATE\n};\nvar stencilOpMap = {\n  [gl.REPLACE]: StencilOp.REPLACE,\n  [gl.KEEP]: StencilOp.KEEP,\n  [gl.ZERO]: StencilOp.ZERO,\n  [gl.INVERT]: StencilOp.INVERT,\n  [gl.INCR]: StencilOp.INCREMENT_CLAMP,\n  [gl.DECR]: StencilOp.DECREMENT_CLAMP,\n  [gl.INCR_WRAP]: StencilOp.INCREMENT_WRAP,\n  [gl.DECR_WRAP]: StencilOp.DECREMENT_WRAP\n};\nvar stencilFuncMap = {\n  [gl.ALWAYS]: CompareFunction.ALWAYS,\n  [gl.EQUAL]: CompareFunction.EQUAL,\n  [gl.GEQUAL]: CompareFunction.GEQUAL,\n  [gl.GREATER]: CompareFunction.GREATER,\n  [gl.LEQUAL]: CompareFunction.LEQUAL,\n  [gl.LESS]: CompareFunction.LESS,\n  [gl.NEVER]: CompareFunction.NEVER,\n  [gl.NOTEQUAL]: CompareFunction.NOTEQUAL\n};\nexport {\n  blendEquationMap,\n  blendFuncMap,\n  cullFaceMap,\n  depthFuncMap,\n  hintMap,\n  primitiveMap,\n  sizeFormatMap,\n  stencilFuncMap,\n  stencilOpMap,\n  typedArrayCtorMap,\n  wrapModeMap\n};\n", "// src/device/utils/typedarray.ts\nvar dtypes = {\n  \"[object Int8Array]\": 5120,\n  \"[object Int16Array]\": 5122,\n  \"[object Int32Array]\": 5124,\n  \"[object Uint8Array]\": 5121,\n  \"[object Uint8ClampedArray]\": 5121,\n  \"[object Uint16Array]\": 5123,\n  \"[object Uint32Array]\": 5125,\n  \"[object Float32Array]\": 5126,\n  \"[object Float64Array]\": 5121,\n  \"[object ArrayBuffer]\": 5121\n};\nfunction isTypedArray(x) {\n  return Object.prototype.toString.call(x) in dtypes;\n}\nfunction extend3ChannelsTo4(array, valueToInsert) {\n  const originalLength = array.length;\n  const insertCount = Math.ceil(originalLength / 3);\n  const newLength = originalLength + insertCount;\n  const newArray = new Float32Array(newLength);\n  for (let i = 0; i < newLength; i += 4) {\n    newArray[i] = array[i / 4 * 3];\n    newArray[i + 1] = array[i / 4 * 3 + 1];\n    newArray[i + 2] = array[i / 4 * 3 + 2];\n    newArray[i + 3] = valueToInsert;\n  }\n  return newArray;\n}\nexport {\n  extend3ChannelsTo4,\n  isTypedArray\n};\n", "// src/device/DeviceBuffer.ts\nimport { BufferUsage } from \"@antv/g-device-api\";\nimport { gl } from \"@antv/l7-core\";\nimport { hintMap, typedArrayCtorMap } from \"./constants\";\nimport { isTypedArray } from \"./utils/typedarray\";\nvar DeviceBuffer = class {\n  constructor(device, options) {\n    this.isDestroyed = false;\n    const { data, usage, type, isUBO, label } = options;\n    let typed;\n    if (isTypedArray(data)) {\n      typed = data;\n    } else {\n      typed = new typedArrayCtorMap[this.type || gl.FLOAT](data);\n    }\n    this.type = type;\n    this.size = typed.byteLength;\n    this.buffer = device.createBuffer({\n      viewOrSize: typed,\n      usage: isUBO ? BufferUsage.UNIFORM : BufferUsage.VERTEX,\n      hint: hintMap[usage || gl.STATIC_DRAW]\n    });\n    if (label) {\n      device.setResourceName(this.buffer, label);\n    }\n  }\n  get() {\n    return this.buffer;\n  }\n  destroy() {\n    if (!this.isDestroyed) {\n      this.buffer.destroy();\n    }\n    this.isDestroyed = true;\n  }\n  subData({\n    data,\n    offset\n  }) {\n    let typed;\n    if (isTypedArray(data)) {\n      typed = data;\n    } else {\n      typed = new typedArrayCtorMap[this.type || gl.FLOAT](data);\n    }\n    this.buffer.setSubData(offset, new Uint8Array(typed.buffer));\n  }\n};\nexport {\n  DeviceBuffer as default\n};\n", "// src/device/utils/HashMap.ts\nfunction hashCodeNumberUpdate(hash, v = 0) {\n  hash += v;\n  hash += hash << 10;\n  hash += hash >>> 6;\n  return hash >>> 0;\n}\nfunction hashCodeNumberFinish(hash) {\n  hash += hash << 3;\n  hash ^= hash >>> 11;\n  hash += hash << 15;\n  return hash >>> 0;\n}\nfunction nullHashFunc() {\n  return 0;\n}\nvar HashBucket = class {\n  constructor() {\n    this.keys = [];\n    this.values = [];\n  }\n};\nvar HashMap = class {\n  constructor(keyEqualFunc, keyHashFunc) {\n    this.keyEqualFunc = keyEqualFunc;\n    this.keyHashFunc = keyHashFunc;\n    this.buckets = /* @__PURE__ */ new Map();\n  }\n  findBucketIndex(bucket, k) {\n    for (let i = 0; i < bucket.keys.length; i++)\n      if (this.keyEqualFunc(k, bucket.keys[i]))\n        return i;\n    return -1;\n  }\n  findBucket(k) {\n    const bw = this.keyHashFunc(k);\n    return this.buckets.get(bw);\n  }\n  get(k) {\n    const bucket = this.findBucket(k);\n    if (bucket === void 0)\n      return null;\n    const bi = this.findBucketIndex(bucket, k);\n    if (bi < 0)\n      return null;\n    return bucket.values[bi];\n  }\n  add(k, v) {\n    const bw = this.keyHashFunc(k);\n    if (this.buckets.get(bw) === void 0)\n      this.buckets.set(bw, new HashBucket());\n    const bucket = this.buckets.get(bw);\n    bucket.keys.push(k);\n    bucket.values.push(v);\n  }\n  delete(k) {\n    const bucket = this.findBucket(k);\n    if (bucket === void 0)\n      return;\n    const bi = this.findBucketIndex(bucket, k);\n    if (bi === -1)\n      return;\n    bucket.keys.splice(bi, 1);\n    bucket.values.splice(bi, 1);\n  }\n  clear() {\n    this.buckets.clear();\n  }\n  size() {\n    let acc = 0;\n    for (const bucket of this.buckets.values())\n      acc += bucket.values.length;\n    return acc;\n  }\n  *values() {\n    for (const bucket of this.buckets.values())\n      for (let j = bucket.values.length - 1; j >= 0; j--)\n        yield bucket.values[j];\n  }\n};\nexport {\n  HashMap,\n  hashCodeNumberFinish,\n  hashCodeNumberUpdate,\n  nullHashFunc\n};\n", "// src/device/DeviceCache.ts\nimport {\n  TransparentBlack,\n  bindingsDescriptorCopy,\n  bindingsDescriptorEquals,\n  inputLayoutDescriptorCopy,\n  inputLayoutDescriptorEquals,\n  renderPipelineDescriptorCopy,\n  renderPipelineDescriptorEquals\n} from \"@antv/g-device-api\";\nimport { HashMap, hashCodeNumberFinish, hashCodeNumberUpdate, nullHashFunc } from \"./utils/HashMap\";\nfunction blendStateHash(hash, a) {\n  hash = hashCodeNumberUpdate(hash, a.blendMode);\n  hash = hashCodeNumberUpdate(hash, a.blendSrcFactor);\n  hash = hashCodeNumberUpdate(hash, a.blendDstFactor);\n  return hash;\n}\nfunction attachmentStateHash(hash, a) {\n  hash = blendStateHash(hash, a.rgbBlendState);\n  hash = blendStateHash(hash, a.alphaBlendState);\n  hash = hashCodeNumberUpdate(hash, a.channelWriteMask);\n  return hash;\n}\nfunction colorHash(hash, a) {\n  hash = hashCodeNumberUpdate(hash, a.r << 24 | a.g << 16 | a.b << 8 | a.a);\n  return hash;\n}\nfunction megaStateDescriptorHash(hash, a) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  for (let i = 0; i < a.attachmentsState.length; i++)\n    hash = attachmentStateHash(hash, a.attachmentsState[i]);\n  hash = colorHash(hash, a.blendConstant || TransparentBlack);\n  hash = hashCodeNumberUpdate(hash, a.depthCompare);\n  hash = hashCodeNumberUpdate(hash, a.depthWrite ? 1 : 0);\n  hash = hashCodeNumberUpdate(hash, (_a = a.stencilFront) == null ? void 0 : _a.compare);\n  hash = hashCodeNumberUpdate(hash, (_b = a.stencilFront) == null ? void 0 : _b.passOp);\n  hash = hashCodeNumberUpdate(hash, (_c = a.stencilFront) == null ? void 0 : _c.failOp);\n  hash = hashCodeNumberUpdate(hash, (_d = a.stencilFront) == null ? void 0 : _d.depthFailOp);\n  hash = hashCodeNumberUpdate(hash, (_e = a.stencilBack) == null ? void 0 : _e.compare);\n  hash = hashCodeNumberUpdate(hash, (_f = a.stencilBack) == null ? void 0 : _f.passOp);\n  hash = hashCodeNumberUpdate(hash, (_g = a.stencilBack) == null ? void 0 : _g.failOp);\n  hash = hashCodeNumberUpdate(hash, (_h = a.stencilBack) == null ? void 0 : _h.depthFailOp);\n  hash = hashCodeNumberUpdate(hash, a.stencilWrite ? 1 : 0);\n  hash = hashCodeNumberUpdate(hash, a.cullMode);\n  hash = hashCodeNumberUpdate(hash, a.frontFace ? 1 : 0);\n  hash = hashCodeNumberUpdate(hash, a.polygonOffset ? 1 : 0);\n  return hash;\n}\nfunction renderPipelineDescriptorHash(a) {\n  let hash = 0;\n  hash = hashCodeNumberUpdate(hash, a.program.id);\n  if (a.inputLayout !== null)\n    hash = hashCodeNumberUpdate(hash, a.inputLayout.id);\n  hash = megaStateDescriptorHash(hash, a.megaStateDescriptor);\n  for (let i = 0; i < a.colorAttachmentFormats.length; i++)\n    hash = hashCodeNumberUpdate(hash, a.colorAttachmentFormats[i] || 0);\n  hash = hashCodeNumberUpdate(hash, a.depthStencilAttachmentFormat || 0);\n  return hashCodeNumberFinish(hash);\n}\nfunction bindingsDescriptorHash(a) {\n  let hash = 0;\n  if (a.samplerBindings) {\n    for (let i = 0; i < a.samplerBindings.length; i++) {\n      const binding = a.samplerBindings[i];\n      if (binding !== null && binding.texture !== null)\n        hash = hashCodeNumberUpdate(hash, binding.texture.id);\n    }\n  }\n  if (a.uniformBufferBindings) {\n    for (let i = 0; i < a.uniformBufferBindings.length; i++) {\n      const binding = a.uniformBufferBindings[i];\n      if (binding !== null && binding.buffer !== null) {\n        hash = hashCodeNumberUpdate(hash, binding.buffer.id);\n        hash = hashCodeNumberUpdate(hash, binding.binding);\n        hash = hashCodeNumberUpdate(hash, binding.offset);\n        hash = hashCodeNumberUpdate(hash, binding.size);\n      }\n    }\n  }\n  if (a.storageBufferBindings) {\n    for (let i = 0; i < a.storageBufferBindings.length; i++) {\n      const binding = a.storageBufferBindings[i];\n      if (binding !== null && binding.buffer !== null) {\n        hash = hashCodeNumberUpdate(hash, binding.buffer.id);\n        hash = hashCodeNumberUpdate(hash, binding.binding);\n        hash = hashCodeNumberUpdate(hash, binding.offset);\n        hash = hashCodeNumberUpdate(hash, binding.size);\n      }\n    }\n  }\n  if (a.storageTextureBindings) {\n    for (let i = 0; i < a.storageTextureBindings.length; i++) {\n      const binding = a.storageTextureBindings[i];\n      if (binding !== null && binding.texture !== null) {\n        hash = hashCodeNumberUpdate(hash, binding.texture.id);\n        hash = hashCodeNumberUpdate(hash, binding.binding);\n      }\n    }\n  }\n  return hashCodeNumberFinish(hash);\n}\nfunction programDescriptorEquals(a, b) {\n  var _a, _b, _c, _d;\n  return ((_a = a.vertex) == null ? void 0 : _a.glsl) === ((_b = b.vertex) == null ? void 0 : _b.glsl) && ((_c = a.fragment) == null ? void 0 : _c.glsl) === ((_d = b.fragment) == null ? void 0 : _d.glsl);\n}\nfunction programDescriptorCopy(a) {\n  var _a, _b;\n  return {\n    vertex: {\n      glsl: (_a = a.vertex) == null ? void 0 : _a.glsl\n    },\n    fragment: {\n      glsl: (_b = a.fragment) == null ? void 0 : _b.glsl\n    }\n  };\n}\nvar RenderCache = class {\n  constructor(device) {\n    this.device = device;\n    this.bindingsCache = new HashMap(\n      bindingsDescriptorEquals,\n      bindingsDescriptorHash\n    );\n    this.renderPipelinesCache = new HashMap(\n      renderPipelineDescriptorEquals,\n      renderPipelineDescriptorHash\n    );\n    this.inputLayoutsCache = new HashMap(\n      inputLayoutDescriptorEquals,\n      nullHashFunc\n    );\n    this.programCache = new HashMap(\n      programDescriptorEquals,\n      nullHashFunc\n    );\n  }\n  createBindings(descriptor) {\n    var _a;\n    let bindings = this.bindingsCache.get(descriptor);\n    if (bindings === null) {\n      const descriptorCopy = bindingsDescriptorCopy(descriptor);\n      descriptorCopy.uniformBufferBindings = (_a = descriptorCopy.uniformBufferBindings) == null ? void 0 : _a.filter(\n        ({ size }) => size && size > 0\n      );\n      bindings = this.device.createBindings(descriptorCopy);\n      this.bindingsCache.add(descriptorCopy, bindings);\n    }\n    return bindings;\n  }\n  createRenderPipeline(descriptor) {\n    let renderPipeline = this.renderPipelinesCache.get(descriptor);\n    if (renderPipeline === null) {\n      const descriptorCopy = renderPipelineDescriptorCopy(descriptor);\n      descriptorCopy.colorAttachmentFormats = descriptorCopy.colorAttachmentFormats.filter(\n        (f) => f\n      );\n      renderPipeline = this.device.createRenderPipeline(descriptorCopy);\n      this.renderPipelinesCache.add(descriptorCopy, renderPipeline);\n    }\n    return renderPipeline;\n  }\n  createInputLayout(descriptor) {\n    descriptor.vertexBufferDescriptors = descriptor.vertexBufferDescriptors.filter((d) => !!d);\n    let inputLayout = this.inputLayoutsCache.get(descriptor);\n    if (inputLayout === null) {\n      const descriptorCopy = inputLayoutDescriptorCopy(descriptor);\n      inputLayout = this.device.createInputLayout(descriptorCopy);\n      this.inputLayoutsCache.add(descriptorCopy, inputLayout);\n    }\n    return inputLayout;\n  }\n  createProgram(descriptor) {\n    let program = this.programCache.get(descriptor);\n    if (program === null) {\n      const descriptorCopy = programDescriptorCopy(descriptor);\n      program = this.device.createProgram(descriptor);\n      this.programCache.add(descriptorCopy, program);\n    }\n    return program;\n  }\n  destroy() {\n    for (const bindings of this.bindingsCache.values())\n      bindings.destroy();\n    for (const renderPipeline of this.renderPipelinesCache.values())\n      renderPipeline.destroy();\n    for (const inputLayout of this.inputLayoutsCache.values())\n      inputLayout.destroy();\n    for (const program of this.programCache.values())\n      program.destroy();\n    this.bindingsCache.clear();\n    this.renderPipelinesCache.clear();\n    this.inputLayoutsCache.clear();\n    this.programCache.clear();\n  }\n};\nexport {\n  RenderCache\n};\n", "// src/device/DeviceElements.ts\nimport { BufferUsage } from \"@antv/g-device-api\";\nimport { gl } from \"@antv/l7-core\";\nimport { typedArrayCtorMap } from \"./constants\";\nimport { isTypedArray } from \"./utils/typedarray\";\nvar DeviceElements = class {\n  constructor(device, options) {\n    const { data, type, count = 0 } = options;\n    let typed;\n    if (isTypedArray(data)) {\n      typed = data;\n    } else {\n      typed = new typedArrayCtorMap[this.type || gl.UNSIGNED_INT](data);\n    }\n    this.type = type;\n    this.count = count;\n    this.indexBuffer = device.createBuffer({\n      viewOrSize: typed,\n      usage: BufferUsage.INDEX\n    });\n  }\n  get() {\n    return this.indexBuffer;\n  }\n  subData({\n    data\n  }) {\n    let typed;\n    if (isTypedArray(data)) {\n      typed = data;\n    } else {\n      typed = new typedArrayCtorMap[this.type || gl.UNSIGNED_INT](data);\n    }\n    this.indexBuffer.setSubData(0, new Uint8Array(typed.buffer));\n  }\n  destroy() {\n    this.indexBuffer.destroy();\n  }\n};\nexport {\n  DeviceElements as default\n};\n", "// src/device/DeviceTexture2D.ts\nimport {\n  TextureUsage as DeviceTextureUsage,\n  FilterMode,\n  Format,\n  MipmapFilterMode\n} from \"@antv/g-device-api\";\nimport { TextureUsage, gl } from \"@antv/l7-core\";\nimport { wrapModeMap } from \"./constants\";\nimport { extend3ChannelsTo4 } from \"./utils/typedarray\";\nfunction isTexture2D(t) {\n  return !!(t && t[\"texture\"]);\n}\nvar DeviceTexture2D = class {\n  constructor(device, options) {\n    this.device = device;\n    this.options = options;\n    this.isDestroy = false;\n    const {\n      wrapS = gl.CLAMP_TO_EDGE,\n      wrapT = gl.CLAMP_TO_EDGE,\n      aniso,\n      mag = gl.NEAREST,\n      min = gl.NEAREST\n    } = options;\n    this.createTexture(options);\n    this.sampler = device.createSampler({\n      addressModeU: wrapModeMap[wrapS],\n      addressModeV: wrapModeMap[wrapT],\n      minFilter: min === gl.NEAREST ? FilterMode.POINT : FilterMode.BILINEAR,\n      magFilter: mag === gl.NEAREST ? FilterMode.POINT : FilterMode.BILINEAR,\n      mipmapFilter: MipmapFilterMode.NO_MIP,\n      // lodMinClamp: 0,\n      // lodMaxClamp: 0,\n      maxAnisotropy: aniso\n    });\n  }\n  createTexture(options) {\n    const {\n      type = gl.UNSIGNED_BYTE,\n      width,\n      height,\n      flipY = false,\n      format = gl.RGBA,\n      alignment = 1,\n      usage = TextureUsage.SAMPLED,\n      // premultiplyAlpha = false,\n      unorm = false,\n      // colorSpace = gl.BROWSER_DEFAULT_WEBGL,\n      // x = 0,\n      // y = 0,\n      // copy = false,\n      label\n    } = options;\n    let { data } = options;\n    this.width = width;\n    this.height = height;\n    let pixelFormat = Format.U8_RGBA_RT;\n    if (type === gl.UNSIGNED_BYTE && format === gl.RGBA) {\n      pixelFormat = unorm ? Format.U8_RGBA_NORM : Format.U8_RGBA_RT;\n    } else if (type === gl.UNSIGNED_BYTE && format === gl.LUMINANCE) {\n      pixelFormat = Format.U8_LUMINANCE;\n    } else if (type === gl.FLOAT && format === gl.LUMINANCE) {\n      pixelFormat = Format.F32_LUMINANCE;\n    } else if (type === gl.FLOAT && format === gl.RGB) {\n      if (this.device.queryVendorInfo().platformString === \"WebGPU\") {\n        if (data) {\n          data = extend3ChannelsTo4(data, 0);\n        }\n        pixelFormat = Format.F32_RGBA;\n      } else {\n        pixelFormat = Format.F32_RGB;\n      }\n    } else if (type === gl.FLOAT && format === gl.RGBA) {\n      pixelFormat = Format.F32_RGBA;\n    } else if (type === gl.FLOAT && format === gl.RED) {\n      pixelFormat = Format.F32_R;\n    } else {\n      throw new Error(`create texture error, type: ${type}, format: ${format}`);\n    }\n    this.texture = this.device.createTexture({\n      format: pixelFormat,\n      width,\n      height,\n      usage: usage === TextureUsage.SAMPLED ? DeviceTextureUsage.SAMPLED : DeviceTextureUsage.RENDER_TARGET,\n      pixelStore: {\n        unpackFlipY: flipY,\n        packAlignment: alignment\n      },\n      // mipLevelCount: usage === TextureUsage.RENDER_TARGET ? 1 : mipmap ? 1 : 0,\n      mipLevelCount: 1\n    });\n    if (label) {\n      this.device.setResourceName(this.texture, label);\n    }\n    if (data) {\n      this.texture.setImageData([data]);\n    }\n  }\n  get() {\n    return this.texture;\n  }\n  update(props) {\n    const { data } = props;\n    this.texture.setImageData([data]);\n  }\n  bind() {\n  }\n  resize({ width, height }) {\n    if (this.width !== width || this.height !== height) {\n      this.destroy();\n    }\n    this.options.width = width;\n    this.options.height = height;\n    this.createTexture(this.options);\n    this.isDestroy = false;\n  }\n  getSize() {\n    return [this.width, this.height];\n  }\n  destroy() {\n    var _a;\n    if (!this.isDestroy && !this.texture.destroyed) {\n      (_a = this.texture) == null ? void 0 : _a.destroy();\n    }\n    this.isDestroy = true;\n  }\n};\nexport {\n  DeviceTexture2D as default,\n  isTexture2D\n};\n", "// src/device/DeviceFramebuffer.ts\nimport { Format, TextureUsage } from \"@antv/g-device-api\";\nimport { isTexture2D } from \"./DeviceTexture2D\";\nvar DeviceFramebuffer = class {\n  constructor(device, options) {\n    this.device = device;\n    this.options = options;\n    this.createColorRenderTarget();\n    this.createDepthRenderTarget();\n  }\n  createColorRenderTarget(resize = false) {\n    const { width, height, color } = this.options;\n    if (color) {\n      if (isTexture2D(color)) {\n        if (resize) {\n          color.resize({ width, height });\n        }\n        this.colorTexture = color.get();\n        this.colorRenderTarget = this.device.createRenderTargetFromTexture(this.colorTexture);\n        this.width = color[\"width\"];\n        this.height = color[\"height\"];\n      } else if (width && height) {\n        this.colorTexture = this.device.createTexture({\n          format: Format.U8_RGBA_RT,\n          usage: TextureUsage.RENDER_TARGET,\n          width,\n          height\n        });\n        this.colorRenderTarget = this.device.createRenderTargetFromTexture(this.colorTexture);\n        this.width = width;\n        this.height = height;\n      }\n    }\n  }\n  createDepthRenderTarget(resize = false) {\n    const { width, height, depth } = this.options;\n    if (depth) {\n      if (isTexture2D(depth)) {\n        if (resize) {\n          depth.resize({ width, height });\n        }\n        this.depthTexture = depth.get();\n        this.depthRenderTarget = this.device.createRenderTargetFromTexture(this.depthTexture);\n        this.width = depth[\"width\"];\n        this.height = depth[\"height\"];\n      } else if (width && height) {\n        this.depthTexture = this.device.createTexture({\n          format: Format.D24_S8,\n          usage: TextureUsage.RENDER_TARGET,\n          width,\n          height\n        });\n        this.depthRenderTarget = this.device.createRenderTargetFromTexture(this.depthTexture);\n        this.width = width;\n        this.height = height;\n      }\n    }\n  }\n  get() {\n    return this.colorRenderTarget;\n  }\n  destroy() {\n    var _a, _b;\n    (_a = this.colorRenderTarget) == null ? void 0 : _a.destroy();\n    (_b = this.depthRenderTarget) == null ? void 0 : _b.destroy();\n  }\n  resize({ width, height }) {\n    if (this.width !== width || this.height !== height) {\n      this.destroy();\n      this.colorTexture.destroyed = true;\n      this.depthTexture.destroyed = true;\n      this.options.width = width;\n      this.options.height = height;\n      this.createColorRenderTarget(true);\n      this.createDepthRenderTarget(true);\n    }\n  }\n};\nexport {\n  DeviceFramebuffer as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/device/DeviceModel.ts\nimport {\n  BlendFactor,\n  BlendMode,\n  ChannelWriteMask,\n  CompareFunction,\n  CullMode,\n  Format,\n  StencilOp,\n  TransparentBlack,\n  VertexStepMode,\n  ViewportOrigin\n} from \"@antv/g-device-api\";\nimport { gl } from \"@antv/l7-core\";\nimport { lodashUtil } from \"@antv/l7-utils\";\nimport DeviceFramebuffer from \"./DeviceFramebuffer\";\nimport DeviceTexture2D from \"./DeviceTexture2D\";\nimport {\n  blendEquationMap,\n  blendFuncMap,\n  cullFaceMap,\n  depthFuncMap,\n  primitiveMap,\n  sizeFormatMap,\n  stencilFuncMap,\n  stencilOpMap\n} from \"./constants\";\nvar { isPlainObject, isTypedArray, isNil } = lodashUtil;\nvar DeviceModel = class {\n  constructor(device, options, service) {\n    this.device = device;\n    this.options = options;\n    this.service = service;\n    this.destroyed = false;\n    this.uniforms = {};\n    this.vertexBuffers = [];\n    const { vs, fs, attributes, uniforms, count, elements, diagnosticDerivativeUniformityEnabled } = options;\n    this.options = options;\n    const diagnosticDerivativeUniformityHeader = diagnosticDerivativeUniformityEnabled ? \"\" : this.service[\"viewportOrigin\"] === ViewportOrigin.UPPER_LEFT ? \"diagnostic(off,derivative_uniformity);\" : \"\";\n    this.program = service.renderCache.createProgram({\n      vertex: {\n        glsl: vs\n      },\n      fragment: {\n        glsl: fs,\n        postprocess: (fs2) => diagnosticDerivativeUniformityHeader + fs2\n      }\n    });\n    if (uniforms) {\n      this.uniforms = this.extractUniforms(uniforms);\n    }\n    const vertexBufferDescriptors = [];\n    let inferredCount = 0;\n    Object.keys(attributes).forEach((name) => {\n      const attribute = attributes[name];\n      const buffer = attribute.get();\n      this.vertexBuffers.push(buffer.get());\n      const {\n        offset = 0,\n        stride = 0,\n        // TODO: normalized\n        size = 1,\n        divisor = 0,\n        shaderLocation = 0\n      } = attribute[\"attribute\"];\n      vertexBufferDescriptors.push({\n        arrayStride: stride || size * 4,\n        // TODO: L7 hasn't use instanced array for now.\n        stepMode: VertexStepMode.VERTEX,\n        attributes: [\n          {\n            format: sizeFormatMap[size],\n            shaderLocation,\n            offset,\n            divisor\n          }\n        ]\n      });\n      inferredCount = buffer[\"size\"] / size;\n    });\n    if (!count) {\n      this.options.count = inferredCount;\n    }\n    if (elements) {\n      this.indexBuffer = elements.get();\n    }\n    const inputLayout = service.renderCache.createInputLayout({\n      vertexBufferDescriptors,\n      indexBufferFormat: elements ? Format.U32_R : null,\n      program: this.program\n    });\n    this.inputLayout = inputLayout;\n    this.pipeline = this.createPipeline(options);\n  }\n  createPipeline(options, pick) {\n    var _a;\n    const { primitive = gl.TRIANGLES, depth, cull, blend, stencil } = options;\n    const depthParams = this.initDepthDrawParams({ depth });\n    const depthEnabled = !!(depthParams && depthParams.enable);\n    const cullParams = this.initCullDrawParams({ cull });\n    const cullEnabled = !!(cullParams && cullParams.enable);\n    const blendParams = this.getBlendDrawParams({ blend });\n    const blendEnabled = !!(blendParams && blendParams.enable);\n    const stencilParams = this.getStencilDrawParams({ stencil });\n    const stencilEnabled = !!(stencilParams && stencilParams.enable);\n    const pipeline = this.device.createRenderPipeline({\n      inputLayout: this.inputLayout,\n      program: this.program,\n      topology: primitiveMap[primitive],\n      colorAttachmentFormats: [Format.U8_RGBA_RT],\n      depthStencilAttachmentFormat: Format.D24_S8,\n      megaStateDescriptor: {\n        attachmentsState: [\n          pick ? {\n            channelWriteMask: ChannelWriteMask.ALL,\n            rgbBlendState: {\n              blendMode: BlendMode.ADD,\n              blendSrcFactor: BlendFactor.ONE,\n              blendDstFactor: BlendFactor.ZERO\n            },\n            alphaBlendState: {\n              blendMode: BlendMode.ADD,\n              blendSrcFactor: BlendFactor.ONE,\n              blendDstFactor: BlendFactor.ZERO\n            }\n          } : {\n            channelWriteMask: stencilEnabled && stencilParams.opFront.zpass === StencilOp.REPLACE ? ChannelWriteMask.NONE : ChannelWriteMask.ALL,\n            rgbBlendState: {\n              blendMode: blendEnabled && blendParams.equation.rgb || BlendMode.ADD,\n              blendSrcFactor: blendEnabled && blendParams.func.srcRGB || BlendFactor.SRC_ALPHA,\n              blendDstFactor: blendEnabled && blendParams.func.dstRGB || BlendFactor.ONE_MINUS_SRC_ALPHA\n            },\n            alphaBlendState: {\n              blendMode: blendEnabled && blendParams.equation.alpha || BlendMode.ADD,\n              blendSrcFactor: blendEnabled && blendParams.func.srcAlpha || BlendFactor.ONE,\n              blendDstFactor: blendEnabled && blendParams.func.dstAlpha || BlendFactor.ONE\n            }\n          }\n        ],\n        blendConstant: blendEnabled ? TransparentBlack : void 0,\n        depthWrite: depthEnabled,\n        depthCompare: depthEnabled && depthParams.func || CompareFunction.LESS,\n        cullMode: cullEnabled && cullParams.face || CullMode.NONE,\n        stencilWrite: stencilEnabled,\n        stencilFront: {\n          compare: stencilEnabled ? stencilParams.func.cmp : CompareFunction.ALWAYS,\n          passOp: stencilParams.opFront.zpass,\n          failOp: stencilParams.opFront.fail,\n          depthFailOp: stencilParams.opFront.zfail,\n          mask: stencilParams.opFront.mask\n        },\n        stencilBack: {\n          compare: stencilEnabled ? stencilParams.func.cmp : CompareFunction.ALWAYS,\n          passOp: stencilParams.opBack.zpass,\n          failOp: stencilParams.opBack.fail,\n          depthFailOp: stencilParams.opBack.zfail,\n          mask: stencilParams.opBack.mask\n        }\n      }\n    });\n    if (stencilEnabled && !isNil((_a = stencil == null ? void 0 : stencil.func) == null ? void 0 : _a.ref)) {\n      pipeline.stencilFuncReference = stencil.func.ref;\n    }\n    return pipeline;\n  }\n  updateAttributesAndElements() {\n  }\n  /**\n   * No need to implement this method, you should update data on `Attribute` like this:\n   *\n   * @example\n   * ```ts\n   * attribute.updateBuffer({\n   *   data: [],\n   *   offset: 0,\n   * });\n   * ```\n   */\n  updateAttributes() {\n  }\n  addUniforms(uniforms) {\n    this.uniforms = __spreadValues(__spreadValues({}, this.uniforms), this.extractUniforms(uniforms));\n  }\n  draw(options, pick) {\n    const mergedOptions = __spreadValues(__spreadValues({}, this.options), options);\n    const {\n      count = 0,\n      instances,\n      elements,\n      uniforms = {},\n      uniformBuffers,\n      textures\n    } = mergedOptions;\n    this.uniforms = __spreadValues(__spreadValues({}, this.uniforms), this.extractUniforms(uniforms));\n    const { renderPass, currentFramebuffer, width, height } = this.service;\n    this.pipeline = this.createPipeline(mergedOptions, pick);\n    const device = this.service[\"device\"];\n    const tmpHeight = device[\"swapChainHeight\"];\n    device[\"swapChainHeight\"] = (currentFramebuffer == null ? void 0 : currentFramebuffer[\"height\"]) || height;\n    renderPass.setViewport(\n      0,\n      0,\n      (currentFramebuffer == null ? void 0 : currentFramebuffer[\"width\"]) || width,\n      (currentFramebuffer == null ? void 0 : currentFramebuffer[\"height\"]) || height\n    );\n    device[\"swapChainHeight\"] = tmpHeight;\n    renderPass.setPipeline(this.pipeline);\n    if (!isNil(this.pipeline.stencilFuncReference)) {\n      renderPass.setStencilReference(this.pipeline.stencilFuncReference);\n    }\n    renderPass.setVertexInput(\n      this.inputLayout,\n      this.vertexBuffers.map((buffer) => ({\n        buffer\n      })),\n      elements ? {\n        buffer: this.indexBuffer,\n        offset: 0\n      } : null\n    );\n    if (uniformBuffers) {\n      this.bindings = device.createBindings({\n        pipeline: this.pipeline,\n        uniformBufferBindings: uniformBuffers.map((uniformBuffer, i) => {\n          const buffer = uniformBuffer;\n          return {\n            binding: i,\n            buffer: buffer.get(),\n            size: buffer[\"size\"]\n          };\n        }),\n        samplerBindings: textures == null ? void 0 : textures.map((t) => ({\n          texture: t[\"texture\"],\n          sampler: t[\"sampler\"]\n        }))\n      });\n    }\n    if (this.bindings) {\n      renderPass.setBindings(this.bindings);\n      Object.keys(this.uniforms).forEach((uniformName) => {\n        const uniform = this.uniforms[uniformName];\n        if (uniform instanceof DeviceTexture2D) {\n          this.uniforms[uniformName] = uniform.get();\n        } else if (uniform instanceof DeviceFramebuffer) {\n          this.uniforms[uniformName] = uniform.get()[\"texture\"];\n        }\n      });\n      this.program.setUniformsLegacy(this.uniforms);\n    }\n    if (elements) {\n      const indexCount = elements[\"count\"];\n      if (indexCount === 0) {\n        renderPass.draw(count, instances);\n      } else {\n        renderPass.drawIndexed(indexCount, instances);\n      }\n    } else {\n      renderPass.draw(count, instances);\n    }\n  }\n  destroy() {\n    var _a, _b, _c;\n    (_a = this.vertexBuffers) == null ? void 0 : _a.forEach((buffer) => buffer.destroy());\n    (_b = this.indexBuffer) == null ? void 0 : _b.destroy();\n    (_c = this.bindings) == null ? void 0 : _c.destroy();\n    this.pipeline.destroy();\n    this.destroyed = true;\n  }\n  initDepthDrawParams({ depth }) {\n    if (depth) {\n      return {\n        enable: depth.enable === void 0 ? true : !!depth.enable,\n        mask: depth.mask === void 0 ? true : !!depth.mask,\n        func: depthFuncMap[depth.func || gl.LESS],\n        range: depth.range || [0, 1]\n      };\n    }\n  }\n  getBlendDrawParams({ blend }) {\n    const { enable, func, equation, color = [0, 0, 0, 0] } = blend || {};\n    return {\n      enable: !!enable,\n      func: {\n        srcRGB: blendFuncMap[func && func.srcRGB || gl.SRC_ALPHA],\n        srcAlpha: blendFuncMap[func && func.srcAlpha || gl.SRC_ALPHA],\n        dstRGB: blendFuncMap[func && func.dstRGB || gl.ONE_MINUS_SRC_ALPHA],\n        dstAlpha: blendFuncMap[func && func.dstAlpha || gl.ONE_MINUS_SRC_ALPHA]\n      },\n      equation: {\n        rgb: blendEquationMap[equation && equation.rgb || gl.FUNC_ADD],\n        alpha: blendEquationMap[equation && equation.alpha || gl.FUNC_ADD]\n      },\n      color\n    };\n  }\n  /**\n   * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#stencil\n   */\n  getStencilDrawParams({ stencil }) {\n    const {\n      enable,\n      mask = 4294967295,\n      func = {\n        cmp: gl.ALWAYS,\n        ref: 0,\n        mask: 4294967295\n      },\n      opFront = {\n        fail: gl.KEEP,\n        zfail: gl.KEEP,\n        zpass: gl.KEEP\n      },\n      opBack = {\n        fail: gl.KEEP,\n        zfail: gl.KEEP,\n        zpass: gl.KEEP\n      }\n    } = stencil || {};\n    return {\n      enable: !!enable,\n      mask,\n      func: __spreadProps(__spreadValues({}, func), {\n        cmp: stencilFuncMap[func.cmp]\n      }),\n      opFront: {\n        fail: stencilOpMap[opFront.fail],\n        zfail: stencilOpMap[opFront.zfail],\n        zpass: stencilOpMap[opFront.zpass],\n        mask: func.mask\n      },\n      opBack: {\n        fail: stencilOpMap[opBack.fail],\n        zfail: stencilOpMap[opBack.zfail],\n        zpass: stencilOpMap[opBack.zpass],\n        mask: func.mask\n      }\n    };\n  }\n  /**\n   * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#culling\n   */\n  initCullDrawParams({ cull }) {\n    if (cull) {\n      const { enable, face = gl.BACK } = cull;\n      return {\n        enable: !!enable,\n        face: cullFaceMap[face]\n      };\n    }\n  }\n  /**\n   * 考虑结构体命名, eg:\n   * a: { b: 1 }  ->  'a.b'\n   * a: [ { b: 1 } ] -> 'a[0].b'\n   */\n  extractUniforms(uniforms) {\n    const extractedUniforms = {};\n    Object.keys(uniforms).forEach((uniformName) => {\n      this.extractUniformsRecursively(uniformName, uniforms[uniformName], extractedUniforms, \"\");\n    });\n    return extractedUniforms;\n  }\n  extractUniformsRecursively(uniformName, uniformValue, uniforms, prefix) {\n    if (uniformValue === null || typeof uniformValue === \"number\" || // u_A: 1\n    typeof uniformValue === \"boolean\" || // u_A: false\n    Array.isArray(uniformValue) && typeof uniformValue[0] === \"number\" || // u_A: [1, 2, 3]\n    isTypedArray(uniformValue) || // u_A: Float32Array\n    // @ts-ignore\n    uniformValue === \"\" || \"resize\" in uniformValue) {\n      uniforms[`${prefix && prefix + \".\"}${uniformName}`] = uniformValue;\n      return;\n    }\n    if (isPlainObject(uniformValue)) {\n      Object.keys(uniformValue).forEach((childName) => {\n        this.extractUniformsRecursively(\n          childName,\n          // @ts-ignore\n          uniformValue[childName],\n          uniforms,\n          `${prefix && prefix + \".\"}${uniformName}`\n        );\n      });\n    }\n    if (Array.isArray(uniformValue)) {\n      uniformValue.forEach((child, idx) => {\n        Object.keys(child).forEach((childName) => {\n          this.extractUniformsRecursively(\n            childName,\n            // @ts-ignore\n            child[childName],\n            uniforms,\n            `${prefix && prefix + \".\"}${uniformName}[${idx}]`\n          );\n        });\n      });\n    }\n  }\n};\nexport {\n  DeviceModel as default\n};\n", "// src/device/utils/webgl.ts\nfunction isWebGL2(gl) {\n  if (typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n  return Boolean(gl && gl._version === 2);\n}\nexport {\n  isWebGL2\n};\n", "var __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/device/index.ts\nimport {\n  Format,\n  TextureUsage,\n  TransparentBlack,\n  ViewportOrigin,\n  WebGLDeviceContribution,\n  WebGPUDeviceContribution,\n  colorNewFromRGBA\n} from \"@antv/g-device-api\";\nimport { lodashUtil } from \"@antv/l7-utils\";\nimport DeviceAttribute from \"./DeviceAttribute\";\nimport DeviceBuffer from \"./DeviceBuffer\";\nimport { RenderCache } from \"./DeviceCache\";\nimport DeviceElements from \"./DeviceElements\";\nimport DeviceFramebuffer from \"./DeviceFramebuffer\";\nimport DeviceModel from \"./DeviceModel\";\nimport DeviceTexture2D from \"./DeviceTexture2D\";\nimport { isWebGL2 } from \"./utils/webgl\";\nvar { isUndefined } = lodashUtil;\nvar DeviceRendererService = class {\n  constructor() {\n    this.uniformBuffers = [];\n    this.queryVerdorInfo = () => {\n      return this.device.queryVendorInfo().platformString;\n    };\n    this.createModel = (options) => new DeviceModel(this.device, options, this);\n    this.createAttribute = (options) => new DeviceAttribute(this.device, options);\n    this.createBuffer = (options) => new DeviceBuffer(this.device, options);\n    this.createElements = (options) => new DeviceElements(this.device, options);\n    this.createTexture2D = (options) => new DeviceTexture2D(this.device, options);\n    this.createFramebuffer = (options) => new DeviceFramebuffer(this.device, options);\n    this.useFramebuffer = (framebuffer, drawCommands) => {\n      this.currentFramebuffer = framebuffer;\n      this.beginFrame();\n      drawCommands();\n      this.endFrame();\n      this.currentFramebuffer = null;\n    };\n    this.useFramebufferAsync = (framebuffer, drawCommands) => __async(this, null, function* () {\n      this.currentFramebuffer = framebuffer;\n      this.preRenderPass = this.renderPass;\n      this.beginFrame();\n      yield drawCommands();\n      this.endFrame();\n      this.currentFramebuffer = null;\n      this.renderPass = this.preRenderPass;\n    });\n    this.clear = (options) => {\n      const { color, depth, stencil, framebuffer = null } = options;\n      if (framebuffer) {\n        framebuffer.clearOptions = { color, depth, stencil };\n      } else {\n        const platformString = this.queryVerdorInfo();\n        if (platformString === \"WebGL1\") {\n          const gl = this.getGLContext();\n          if (!isUndefined(stencil)) {\n            gl.clearStencil(stencil);\n            gl.clear(gl.STENCIL_BUFFER_BIT);\n          } else if (!isUndefined(depth)) {\n            gl.clearDepth(depth);\n            gl.clear(gl.DEPTH_BUFFER_BIT);\n          }\n        } else if (platformString === \"WebGL2\") {\n          const gl = this.getGLContext();\n          if (!isUndefined(stencil)) {\n            gl.clearBufferiv(gl.STENCIL, 0, [stencil]);\n          } else if (!isUndefined(depth)) {\n            gl.clearBufferfv(gl.DEPTH, 0, [depth]);\n          }\n        }\n      }\n    };\n    this.viewport = ({\n      // x,\n      // y,\n      width,\n      height\n    }) => {\n      this.swapChain.configureSwapChain(width, height);\n      this.createMainColorDepthRT(width, height);\n      this.width = width;\n      this.height = height;\n    };\n    this.readPixels = (options) => {\n      const { framebuffer, x, y, width, height } = options;\n      const readback = this.device.createReadback();\n      const texture = framebuffer[\"colorTexture\"];\n      const result = readback.readTextureSync(\n        texture,\n        x,\n        /**\n         * Origin is at lower-left corner. Width / height is already multiplied by dpr.\n         * WebGPU needs flipY\n         */\n        this.viewportOrigin === ViewportOrigin.LOWER_LEFT ? y : this.height - y,\n        width,\n        height,\n        new Uint8Array(width * height * 4)\n      );\n      if (this.viewportOrigin !== ViewportOrigin.LOWER_LEFT) {\n        for (let j = 0; j < result.length; j += 4) {\n          const t = result[j];\n          result[j] = result[j + 2];\n          result[j + 2] = t;\n        }\n      }\n      readback.destroy();\n      return result;\n    };\n    this.readPixelsAsync = (options) => __async(this, null, function* () {\n      const { framebuffer, x, y, width, height } = options;\n      const readback = this.device.createReadback();\n      const texture = framebuffer[\"colorTexture\"];\n      const result = yield readback.readTexture(\n        texture,\n        x,\n        /**\n         * Origin is at lower-left corner. Width / height is already multiplied by dpr.\n         * WebGPU needs flipY\n         */\n        this.viewportOrigin === ViewportOrigin.LOWER_LEFT ? y : this.height - y,\n        width,\n        height,\n        new Uint8Array(width * height * 4)\n      );\n      if (this.viewportOrigin !== ViewportOrigin.LOWER_LEFT) {\n        for (let j = 0; j < result.length; j += 4) {\n          const t = result[j];\n          result[j] = result[j + 2];\n          result[j + 2] = t;\n        }\n      }\n      readback.destroy();\n      return result;\n    });\n    this.getViewportSize = () => {\n      return {\n        width: this.width,\n        height: this.height\n      };\n    };\n    this.getContainer = () => {\n      var _a;\n      return (_a = this.canvas) == null ? void 0 : _a.parentElement;\n    };\n    this.getCanvas = () => {\n      return this.canvas;\n    };\n    this.getGLContext = () => {\n      return this.device[\"gl\"];\n    };\n    this.destroy = () => {\n      var _a;\n      this.canvas = null;\n      (_a = this.uniformBuffers) == null ? void 0 : _a.forEach((buffer) => {\n        buffer.destroy();\n      });\n      this.device.destroy();\n      this.renderCache.destroy();\n    };\n  }\n  init(canvas, cfg) {\n    return __async(this, null, function* () {\n      const { enableWebGPU, shaderCompilerPath, antialias } = cfg;\n      this.canvas = canvas;\n      const deviceContribution = enableWebGPU ? new WebGPUDeviceContribution({\n        shaderCompilerPath\n      }) : new WebGLDeviceContribution({\n        // Use WebGL2 first and downgrade to WebGL1 if WebGL2 is not supported.\n        targets: [\"webgl2\", \"webgl1\"],\n        antialias,\n        onContextLost(e) {\n          console.warn(\"context lost\", e);\n        },\n        onContextCreationError(e) {\n          console.warn(\"context creation error\", e);\n        },\n        onContextRestored(e) {\n          console.warn(\"context restored\", e);\n        }\n      });\n      const swapChain = yield deviceContribution.createSwapChain(canvas);\n      swapChain.configureSwapChain(canvas.width, canvas.height);\n      this.device = swapChain.getDevice();\n      this.swapChain = swapChain;\n      this.renderCache = new RenderCache(this.device);\n      this.currentFramebuffer = null;\n      this.viewportOrigin = this.device.queryVendorInfo().viewportOrigin;\n      const gl = this.device[\"gl\"];\n      this.extensionObject = {\n        // @ts-ignore\n        OES_texture_float: !isWebGL2(gl) && this.device[\"OES_texture_float\"]\n      };\n      this.createMainColorDepthRT(canvas.width, canvas.height);\n    });\n  }\n  createMainColorDepthRT(width, height) {\n    if (this.mainColorRT) {\n      this.mainColorRT.destroy();\n    }\n    if (this.mainDepthRT) {\n      this.mainDepthRT.destroy();\n    }\n    this.mainColorRT = this.device.createRenderTargetFromTexture(\n      this.device.createTexture({\n        format: Format.U8_RGBA_RT,\n        width,\n        height,\n        usage: TextureUsage.RENDER_TARGET\n      })\n    );\n    this.mainDepthRT = this.device.createRenderTargetFromTexture(\n      this.device.createTexture({\n        format: Format.D24_S8,\n        width,\n        height,\n        usage: TextureUsage.RENDER_TARGET\n      })\n    );\n  }\n  beginFrame() {\n    this.device.beginFrame();\n    const { currentFramebuffer, swapChain, mainColorRT, mainDepthRT } = this;\n    const colorAttachment = currentFramebuffer ? currentFramebuffer[\"colorRenderTarget\"] : mainColorRT;\n    const colorResolveTo = currentFramebuffer ? null : swapChain.getOnscreenTexture();\n    const depthStencilAttachment = currentFramebuffer ? currentFramebuffer[\"depthRenderTarget\"] : mainDepthRT;\n    const { color = [0, 0, 0, 0], depth = 1, stencil = 0 } = (\n      // @ts-ignore\n      (currentFramebuffer == null ? void 0 : currentFramebuffer.clearOptions) || {}\n    );\n    const colorClearColor = colorAttachment ? colorNewFromRGBA(color[0] * 255, color[1] * 255, color[2] * 255, color[3]) : TransparentBlack;\n    const depthClearValue = depthStencilAttachment ? depth : void 0;\n    const stencilClearValue = depthStencilAttachment ? stencil : void 0;\n    const renderPass = this.device.createRenderPass({\n      colorAttachment: [colorAttachment],\n      colorResolveTo: [colorResolveTo],\n      colorClearColor: [colorClearColor],\n      // colorStore: [!!currentFramebuffer],\n      colorStore: [true],\n      depthStencilAttachment,\n      depthClearValue,\n      stencilClearValue\n    });\n    this.renderPass = renderPass;\n  }\n  endFrame() {\n    this.device.submitPass(this.renderPass);\n    this.device.endFrame();\n  }\n  getPointSizeRange() {\n    const gl = this.device[\"gl\"];\n    return gl.getParameter(gl.ALIASED_POINT_SIZE_RANGE);\n  }\n  testExtension(name) {\n    return !!this.getGLContext().getExtension(name);\n  }\n  // TODO: 临时方法\n  setState() {\n  }\n  setBaseState() {\n  }\n  setCustomLayerDefaults() {\n  }\n  setDirty(flag) {\n    this.isDirty = flag;\n  }\n  getDirty() {\n    return this.isDirty;\n  }\n};\nexport {\n  DeviceRendererService as default\n};\n", "var __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/regl/index.ts\nimport regl from \"regl\";\nimport ReglAttribute from \"./ReglAttribute\";\nimport ReglBuffer from \"./ReglBuffer\";\nimport ReglElements from \"./ReglElements\";\nimport ReglFramebuffer from \"./ReglFramebuffer\";\nimport ReglModel from \"./ReglModel\";\nimport ReglTexture2D from \"./ReglTexture2D\";\nvar ReglRendererService = class {\n  constructor() {\n    this.uniformBuffers = [];\n    this.queryVerdorInfo = () => {\n      return \"WebGL1\";\n    };\n    this.createModel = (options) => new ReglModel(this.gl, options);\n    this.createAttribute = (options) => new ReglAttribute(this.gl, options);\n    this.createBuffer = (options) => new ReglBuffer(this.gl, options);\n    this.createElements = (options) => new ReglElements(this.gl, options);\n    this.createTexture2D = (options) => new ReglTexture2D(this.gl, options);\n    this.createFramebuffer = (options) => new ReglFramebuffer(this.gl, options);\n    this.useFramebuffer = (framebuffer, drawCommands) => {\n      this.gl({\n        framebuffer: framebuffer ? framebuffer.get() : null\n      })(drawCommands);\n    };\n    this.useFramebufferAsync = (framebuffer, drawCommands) => __async(this, null, function* () {\n      this.gl({\n        framebuffer: framebuffer ? framebuffer.get() : null\n      })(drawCommands);\n    });\n    this.clear = (options) => {\n      var _a;\n      const { color, depth, stencil, framebuffer = null } = options;\n      const reglClearOptions = {\n        color,\n        depth,\n        stencil\n      };\n      reglClearOptions.framebuffer = framebuffer === null ? framebuffer : framebuffer.get();\n      (_a = this.gl) == null ? void 0 : _a.clear(reglClearOptions);\n    };\n    this.viewport = ({\n      x,\n      y,\n      width,\n      height\n    }) => {\n      this.gl._gl.viewport(x, y, width, height);\n      this.width = width;\n      this.height = height;\n      this.gl._refresh();\n    };\n    this.readPixels = (options) => {\n      const { framebuffer, x, y, width, height } = options;\n      const readPixelsOptions = {\n        x,\n        y,\n        width,\n        height\n      };\n      if (framebuffer) {\n        readPixelsOptions.framebuffer = framebuffer.get();\n      }\n      return this.gl.read(readPixelsOptions);\n    };\n    this.readPixelsAsync = (options) => __async(this, null, function* () {\n      return this.readPixels(options);\n    });\n    this.getViewportSize = () => {\n      return {\n        width: this.gl._gl.drawingBufferWidth,\n        height: this.gl._gl.drawingBufferHeight\n      };\n    };\n    this.getContainer = () => {\n      var _a;\n      return (_a = this.canvas) == null ? void 0 : _a.parentElement;\n    };\n    this.getCanvas = () => {\n      return this.canvas;\n    };\n    this.getGLContext = () => {\n      return this.gl._gl;\n    };\n    this.destroy = () => {\n      var _a, _b, _c;\n      this.canvas = null;\n      (_c = (_b = (_a = this.gl) == null ? void 0 : _a._gl) == null ? void 0 : _b.getExtension(\"WEBGL_lose_context\")) == null ? void 0 : _c.loseContext();\n      this.gl.destroy();\n      this.gl = null;\n    };\n  }\n  init(canvas, cfg, gl) {\n    return __async(this, null, function* () {\n      this.canvas = canvas;\n      if (gl) {\n        this.gl = gl;\n      } else {\n        this.gl = yield new Promise((resolve, reject) => {\n          regl({\n            canvas: this.canvas,\n            attributes: {\n              alpha: true,\n              // use TAA instead of MSAA\n              // @see https://www.khronos.org/registry/webgl/specs/1.0/#5.2.1\n              antialias: cfg.antialias,\n              premultipliedAlpha: true,\n              preserveDrawingBuffer: cfg.preserveDrawingBuffer,\n              stencil: cfg.stencil\n            },\n            // TODO: use extensions\n            extensions: [\n              \"OES_element_index_uint\",\n              \"OES_standard_derivatives\",\n              // wireframe\n              \"ANGLE_instanced_arrays\"\n              // VSM shadow map\n            ],\n            optionalExtensions: [\n              \"oes_texture_float_linear\",\n              \"OES_texture_float\",\n              \"EXT_texture_filter_anisotropic\",\n              \"EXT_blend_minmax\",\n              \"WEBGL_depth_texture\",\n              \"WEBGL_lose_context\"\n            ],\n            profile: true,\n            onDone: (err, r) => {\n              if (err || !r) {\n                reject(err);\n              }\n              resolve(r);\n            }\n          });\n        });\n      }\n      this.extensionObject = {\n        OES_texture_float: this.testExtension(\"OES_texture_float\")\n      };\n    });\n  }\n  getPointSizeRange() {\n    return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE);\n  }\n  testExtension(name) {\n    return !!this.getGLContext().getExtension(name);\n  }\n  // TODO: 临时方法\n  setState() {\n    this.gl({\n      cull: {\n        enable: false,\n        face: \"back\"\n      },\n      viewport: {\n        x: 0,\n        y: 0,\n        height: this.width,\n        width: this.height\n      },\n      blend: {\n        enable: true,\n        equation: \"add\"\n      },\n      framebuffer: null\n    });\n    this.gl._refresh();\n  }\n  setBaseState() {\n    this.gl({\n      cull: {\n        enable: false,\n        face: \"back\"\n      },\n      viewport: {\n        x: 0,\n        y: 0,\n        height: this.width,\n        width: this.height\n      },\n      blend: {\n        enable: false,\n        equation: \"add\"\n      },\n      framebuffer: null\n    });\n    this.gl._refresh();\n  }\n  setCustomLayerDefaults() {\n    const gl = this.getGLContext();\n    gl.disable(gl.CULL_FACE);\n  }\n  setDirty(flag) {\n    this.isDirty = flag;\n  }\n  getDirty() {\n    return this.isDirty;\n  }\n  beginFrame() {\n  }\n  endFrame() {\n  }\n};\nexport {\n  ReglRendererService as default\n};\n", "// src/regl/ReglAttribute.ts\nvar ReglAttribute = class {\n  constructor(gl, options) {\n    const { buffer, offset, stride, normalized, size, divisor } = options;\n    this.buffer = buffer;\n    this.attribute = {\n      buffer: buffer.get(),\n      offset: offset || 0,\n      stride: stride || 0,\n      normalized: normalized || false,\n      divisor: divisor || 0\n    };\n    if (size) {\n      this.attribute.size = size;\n    }\n  }\n  get() {\n    return this.attribute;\n  }\n  updateBuffer(options) {\n    this.buffer.subData(options);\n  }\n  destroy() {\n    this.buffer.destroy();\n  }\n};\nexport {\n  ReglAttribute as default\n};\n", "// src/regl/constants.ts\nimport { gl } from \"@antv/l7-core\";\nvar primitiveMap = {\n  [gl.POINTS]: \"points\",\n  [gl.LINES]: \"lines\",\n  [gl.LINE_LOOP]: \"line loop\",\n  [gl.LINE_STRIP]: \"line strip\",\n  [gl.TRIANGLES]: \"triangles\",\n  [gl.TRIANGLE_FAN]: \"triangle fan\",\n  [gl.TRIANGLE_STRIP]: \"triangle strip\"\n};\nvar usageMap = {\n  [gl.STATIC_DRAW]: \"static\",\n  [gl.DYNAMIC_DRAW]: \"dynamic\",\n  [gl.STREAM_DRAW]: \"stream\"\n};\nvar dataTypeMap = {\n  [gl.BYTE]: \"int8\",\n  // [gl.UNSIGNED_INT]: 'int16',\n  [gl.INT]: \"int32\",\n  [gl.UNSIGNED_BYTE]: \"uint8\",\n  [gl.UNSIGNED_SHORT]: \"uint16\",\n  [gl.UNSIGNED_INT]: \"uint32\",\n  [gl.FLOAT]: \"float\"\n};\nvar formatMap = {\n  [gl.ALPHA]: \"alpha\",\n  [gl.LUMINANCE]: \"luminance\",\n  [gl.LUMINANCE_ALPHA]: \"luminance alpha\",\n  [gl.RGB]: \"rgb\",\n  [gl.RGBA]: \"rgba\",\n  [gl.RGBA4]: \"rgba4\",\n  [gl.RGB5_A1]: \"rgb5 a1\",\n  [gl.RGB565]: \"rgb565\",\n  [gl.DEPTH_COMPONENT]: \"depth\",\n  [gl.DEPTH_STENCIL]: \"depth stencil\"\n};\nvar mipmapMap = {\n  [gl.DONT_CARE]: \"dont care\",\n  [gl.NICEST]: \"nice\",\n  [gl.FASTEST]: \"fast\"\n};\nvar filterMap = {\n  [gl.NEAREST]: \"nearest\",\n  [gl.LINEAR]: \"linear\",\n  [gl.LINEAR_MIPMAP_LINEAR]: \"mipmap\",\n  [gl.NEAREST_MIPMAP_LINEAR]: \"nearest mipmap linear\",\n  [gl.LINEAR_MIPMAP_NEAREST]: \"linear mipmap nearest\",\n  [gl.NEAREST_MIPMAP_NEAREST]: \"nearest mipmap nearest\"\n};\nvar wrapModeMap = {\n  [gl.REPEAT]: \"repeat\",\n  [gl.CLAMP_TO_EDGE]: \"clamp\",\n  [gl.MIRRORED_REPEAT]: \"mirror\"\n};\nvar colorSpaceMap = {\n  [gl.NONE]: \"none\",\n  [gl.BROWSER_DEFAULT_WEBGL]: \"browser\"\n};\nvar depthFuncMap = {\n  [gl.NEVER]: \"never\",\n  [gl.ALWAYS]: \"always\",\n  [gl.LESS]: \"less\",\n  [gl.LEQUAL]: \"lequal\",\n  [gl.GREATER]: \"greater\",\n  [gl.GEQUAL]: \"gequal\",\n  [gl.EQUAL]: \"equal\",\n  [gl.NOTEQUAL]: \"notequal\"\n};\nvar blendEquationMap = {\n  [gl.FUNC_ADD]: \"add\",\n  [gl.MIN_EXT]: \"min\",\n  [gl.MAX_EXT]: \"max\",\n  [gl.FUNC_SUBTRACT]: \"subtract\",\n  [gl.FUNC_REVERSE_SUBTRACT]: \"reverse subtract\"\n};\nvar blendFuncMap = {\n  [gl.ZERO]: \"zero\",\n  [gl.ONE]: \"one\",\n  [gl.SRC_COLOR]: \"src color\",\n  [gl.ONE_MINUS_SRC_COLOR]: \"one minus src color\",\n  [gl.SRC_ALPHA]: \"src alpha\",\n  [gl.ONE_MINUS_SRC_ALPHA]: \"one minus src alpha\",\n  [gl.DST_COLOR]: \"dst color\",\n  [gl.ONE_MINUS_DST_COLOR]: \"one minus dst color\",\n  [gl.DST_ALPHA]: \"dst alpha\",\n  [gl.ONE_MINUS_DST_ALPHA]: \"one minus dst alpha\",\n  [gl.CONSTANT_COLOR]: \"constant color\",\n  [gl.ONE_MINUS_CONSTANT_COLOR]: \"one minus constant color\",\n  [gl.CONSTANT_ALPHA]: \"constant alpha\",\n  [gl.ONE_MINUS_CONSTANT_ALPHA]: \"one minus constant alpha\",\n  [gl.SRC_ALPHA_SATURATE]: \"src alpha saturate\"\n};\nvar stencilFuncMap = {\n  [gl.NEVER]: \"never\",\n  [gl.ALWAYS]: \"always\",\n  [gl.LESS]: \"less\",\n  [gl.LEQUAL]: \"lequal\",\n  [gl.GREATER]: \"greater\",\n  [gl.GEQUAL]: \"gequal\",\n  [gl.EQUAL]: \"equal\",\n  [gl.NOTEQUAL]: \"notequal\"\n};\nvar stencilOpMap = {\n  [gl.ZERO]: \"zero\",\n  [gl.KEEP]: \"keep\",\n  [gl.REPLACE]: \"replace\",\n  [gl.INVERT]: \"invert\",\n  [gl.INCR]: \"increment\",\n  [gl.DECR]: \"decrement\",\n  [gl.INCR_WRAP]: \"increment wrap\",\n  [gl.DECR_WRAP]: \"decrement wrap\"\n};\nvar cullFaceMap = {\n  [gl.FRONT]: \"front\",\n  [gl.BACK]: \"back\"\n};\nexport {\n  blendEquationMap,\n  blendFuncMap,\n  colorSpaceMap,\n  cullFaceMap,\n  dataTypeMap,\n  depthFuncMap,\n  filterMap,\n  formatMap,\n  mipmapMap,\n  primitiveMap,\n  stencilFuncMap,\n  stencilOpMap,\n  usageMap,\n  wrapModeMap\n};\n", "// src/regl/ReglBuffer.ts\nimport { gl } from \"@antv/l7-core\";\nimport { dataTypeMap, usageMap } from \"./constants\";\nvar ReglBuffer = class {\n  constructor(reGl, options) {\n    this.isDestroyed = false;\n    const { data, usage, type } = options;\n    this.buffer = reGl.buffer({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE]\n      // length: 0,\n    });\n  }\n  get() {\n    return this.buffer;\n  }\n  destroy() {\n    if (!this.isDestroyed) {\n      this.buffer.destroy();\n    }\n    this.isDestroyed = true;\n  }\n  subData({\n    data,\n    offset\n  }) {\n    this.buffer.subdata(data, offset);\n  }\n};\nexport {\n  ReglBuffer as default\n};\n", "// src/regl/ReglElements.ts\nimport { gl } from \"@antv/l7-core\";\nimport { dataTypeMap, usageMap } from \"./constants\";\nvar ReglElements = class {\n  constructor(reGl, options) {\n    const { data, usage, type, count } = options;\n    this.elements = reGl.elements({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE],\n      count\n    });\n  }\n  get() {\n    return this.elements;\n  }\n  subData({\n    data\n  }) {\n    this.elements.subdata(data);\n  }\n  destroy() {\n  }\n};\nexport {\n  ReglElements as default\n};\n", "// src/regl/ReglFramebuffer.ts\nvar ReglFramebuffer = class {\n  constructor(reGl, options) {\n    const { width, height, color, colors } = options;\n    const framebufferOptions = {\n      width,\n      height\n    };\n    if (Array.isArray(colors)) {\n      framebufferOptions.colors = colors.map(\n        (c) => c.get()\n      );\n    }\n    if (color && typeof color !== \"boolean\") {\n      framebufferOptions.color = color.get();\n    }\n    this.framebuffer = reGl.framebuffer(framebufferOptions);\n  }\n  get() {\n    return this.framebuffer;\n  }\n  destroy() {\n    this.framebuffer.destroy();\n  }\n  resize({ width, height }) {\n    this.framebuffer.resize(width, height);\n  }\n};\nexport {\n  ReglFramebuffer as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/regl/ReglModel.ts\nimport { ClipSpaceNearZ, preprocessShader_GLSL, ViewportOrigin } from \"@antv/g-device-api\";\nimport { gl, removeDuplicateUniforms } from \"@antv/l7-core\";\nimport { lodashUtil } from \"@antv/l7-utils\";\nimport {\n  blendEquationMap,\n  blendFuncMap,\n  cullFaceMap,\n  depthFuncMap,\n  primitiveMap,\n  stencilFuncMap,\n  stencilOpMap\n} from \"./constants\";\nvar { isPlainObject, isTypedArray } = lodashUtil;\nvar ReglModel = class {\n  constructor(reGl, options) {\n    this.destroyed = false;\n    this.uniforms = {};\n    this.reGl = reGl;\n    const { vs, fs, attributes, uniforms, primitive, count, elements, depth, cull, instances } = options;\n    const vendorInfo = {\n      platformString: \"WebGL1\",\n      glslVersion: \"#version 100\",\n      explicitBindingLocations: false,\n      separateSamplerTextures: false,\n      viewportOrigin: ViewportOrigin.LOWER_LEFT,\n      clipSpaceNearZ: ClipSpaceNearZ.NEGATIVE_ONE,\n      supportMRT: false\n    };\n    const reglUniforms = {};\n    this.options = options;\n    if (uniforms) {\n      this.uniforms = this.extractUniforms(uniforms);\n      Object.keys(uniforms).forEach((uniformName) => {\n        reglUniforms[uniformName] = reGl.prop(uniformName);\n      });\n    }\n    const reglAttributes = {};\n    Object.keys(attributes).forEach((name) => {\n      reglAttributes[name] = attributes[name].get();\n    });\n    const frag = removeDuplicateUniforms(\n      preprocessShader_GLSL(vendorInfo, \"frag\", fs, null, false)\n    );\n    const vert = removeDuplicateUniforms(\n      preprocessShader_GLSL(vendorInfo, \"vert\", vs, null, false)\n    );\n    const drawParams = {\n      attributes: reglAttributes,\n      frag,\n      uniforms: reglUniforms,\n      vert,\n      // @ts-ignore\n      colorMask: reGl.prop(\"colorMask\"),\n      lineWidth: 1,\n      blend: {\n        // @ts-ignore\n        enable: reGl.prop(\"blend.enable\"),\n        // @ts-ignore\n        func: reGl.prop(\"blend.func\"),\n        // @ts-ignore\n        equation: reGl.prop(\"blend.equation\"),\n        // @ts-ignore\n        color: reGl.prop(\"blend.color\")\n      },\n      stencil: {\n        // @ts-ignore\n        enable: reGl.prop(\"stencil.enable\"),\n        // @ts-ignore\n        mask: reGl.prop(\"stencil.mask\"),\n        // @ts-ignore\n        func: reGl.prop(\"stencil.func\"),\n        // @ts-ignore\n        opFront: reGl.prop(\"stencil.opFront\"),\n        // @ts-ignore\n        opBack: reGl.prop(\"stencil.opBack\")\n      },\n      primitive: primitiveMap[primitive === void 0 ? gl.TRIANGLES : primitive]\n    };\n    if (instances) {\n      drawParams.instances = instances;\n    }\n    if (count) {\n      drawParams.count = count;\n    } else if (elements) {\n      drawParams.elements = elements.get();\n    }\n    this.initDepthDrawParams({ depth }, drawParams);\n    this.initCullDrawParams({ cull }, drawParams);\n    this.drawCommand = reGl(drawParams);\n    this.drawParams = drawParams;\n  }\n  updateAttributesAndElements(attributes, elements) {\n    const reglAttributes = {};\n    Object.keys(attributes).forEach((name) => {\n      reglAttributes[name] = attributes[name].get();\n    });\n    this.drawParams.attributes = reglAttributes;\n    this.drawParams.elements = elements.get();\n    this.drawCommand = this.reGl(this.drawParams);\n  }\n  updateAttributes(attributes) {\n    const reglAttributes = {};\n    Object.keys(attributes).forEach((name) => {\n      reglAttributes[name] = attributes[name].get();\n    });\n    this.drawParams.attributes = reglAttributes;\n    this.drawCommand = this.reGl(this.drawParams);\n  }\n  addUniforms(uniforms) {\n    this.uniforms = __spreadValues(__spreadValues({}, this.uniforms), this.extractUniforms(uniforms));\n  }\n  draw(options, pick) {\n    if (this.drawParams.attributes && Object.keys(this.drawParams.attributes).length === 0) {\n      return;\n    }\n    const uniforms = __spreadValues(__spreadValues({}, this.uniforms), this.extractUniforms(options.uniforms || {}));\n    const reglDrawProps = {};\n    Object.keys(uniforms).forEach((uniformName) => {\n      const type = typeof uniforms[uniformName];\n      if (type === \"boolean\" || type === \"number\" || Array.isArray(uniforms[uniformName]) || // @ts-ignore\n      uniforms[uniformName].BYTES_PER_ELEMENT) {\n        reglDrawProps[uniformName] = uniforms[uniformName];\n      } else {\n        reglDrawProps[uniformName] = uniforms[uniformName].get();\n      }\n    });\n    reglDrawProps.blend = pick ? this.getBlendDrawParams({\n      blend: { enable: false }\n    }) : this.getBlendDrawParams(options);\n    reglDrawProps.stencil = this.getStencilDrawParams(options);\n    reglDrawProps.colorMask = this.getColorMaskDrawParams(options, pick);\n    this.drawCommand(reglDrawProps);\n  }\n  destroy() {\n    var _a, _b;\n    (_b = (_a = this.drawParams) == null ? void 0 : _a.elements) == null ? void 0 : _b.destroy();\n    if (this.options.attributes) {\n      Object.values(this.options.attributes).forEach((attr) => {\n        attr == null ? void 0 : attr.destroy();\n      });\n    }\n    this.destroyed = true;\n  }\n  /**\n   * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#depth-buffer\n   */\n  initDepthDrawParams({ depth }, drawParams) {\n    if (depth) {\n      drawParams.depth = {\n        enable: depth.enable === void 0 ? true : !!depth.enable,\n        mask: depth.mask === void 0 ? true : !!depth.mask,\n        func: depthFuncMap[depth.func || gl.LESS],\n        range: depth.range || [0, 1]\n      };\n    }\n  }\n  getBlendDrawParams({ blend }) {\n    const { enable, func, equation, color = [0, 0, 0, 0] } = blend || {};\n    return {\n      enable: !!enable,\n      func: {\n        srcRGB: blendFuncMap[func && func.srcRGB || gl.SRC_ALPHA],\n        srcAlpha: blendFuncMap[func && func.srcAlpha || gl.SRC_ALPHA],\n        dstRGB: blendFuncMap[func && func.dstRGB || gl.ONE_MINUS_SRC_ALPHA],\n        dstAlpha: blendFuncMap[func && func.dstAlpha || gl.ONE_MINUS_SRC_ALPHA]\n      },\n      equation: {\n        rgb: blendEquationMap[equation && equation.rgb || gl.FUNC_ADD],\n        alpha: blendEquationMap[equation && equation.alpha || gl.FUNC_ADD]\n      },\n      color\n    };\n  }\n  /**\n   * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#stencil\n   */\n  getStencilDrawParams({ stencil }) {\n    const {\n      enable,\n      mask = -1,\n      func = {\n        cmp: gl.ALWAYS,\n        ref: 0,\n        mask: -1\n      },\n      opFront = {\n        fail: gl.KEEP,\n        zfail: gl.KEEP,\n        zpass: gl.KEEP\n      },\n      opBack = {\n        fail: gl.KEEP,\n        zfail: gl.KEEP,\n        zpass: gl.KEEP\n      }\n    } = stencil || {};\n    return {\n      enable: !!enable,\n      mask,\n      func: __spreadProps(__spreadValues({}, func), {\n        cmp: stencilFuncMap[func.cmp]\n      }),\n      opFront: {\n        fail: stencilOpMap[opFront.fail],\n        zfail: stencilOpMap[opFront.zfail],\n        zpass: stencilOpMap[opFront.zpass]\n      },\n      opBack: {\n        fail: stencilOpMap[opBack.fail],\n        zfail: stencilOpMap[opBack.zfail],\n        zpass: stencilOpMap[opBack.zpass]\n      }\n    };\n  }\n  getColorMaskDrawParams({ stencil }, pick) {\n    const colorMask = (stencil == null ? void 0 : stencil.enable) && stencil.opFront && !pick ? [false, false, false, false] : [true, true, true, true];\n    return colorMask;\n  }\n  /**\n   * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#culling\n   */\n  initCullDrawParams({ cull }, drawParams) {\n    if (cull) {\n      const { enable, face = gl.BACK } = cull;\n      drawParams.cull = {\n        enable: !!enable,\n        face: cullFaceMap[face]\n      };\n    }\n  }\n  /**\n   * 考虑结构体命名, eg:\n   * a: { b: 1 }  ->  'a.b'\n   * a: [ { b: 1 } ] -> 'a[0].b'\n   */\n  extractUniforms(uniforms) {\n    const extractedUniforms = {};\n    Object.keys(uniforms).forEach((uniformName) => {\n      this.extractUniformsRecursively(uniformName, uniforms[uniformName], extractedUniforms, \"\");\n    });\n    return extractedUniforms;\n  }\n  extractUniformsRecursively(uniformName, uniformValue, uniforms, prefix) {\n    if (uniformValue === null || typeof uniformValue === \"number\" || // u_A: 1\n    typeof uniformValue === \"boolean\" || // u_A: false\n    Array.isArray(uniformValue) && typeof uniformValue[0] === \"number\" || // u_A: [1, 2, 3]\n    isTypedArray(uniformValue) || // u_A: Float32Array\n    // @ts-ignore\n    uniformValue === \"\" || \"resize\" in uniformValue) {\n      uniforms[`${prefix && prefix + \".\"}${uniformName}`] = uniformValue;\n      return;\n    }\n    if (isPlainObject(uniformValue)) {\n      Object.keys(uniformValue).forEach((childName) => {\n        this.extractUniformsRecursively(\n          childName,\n          // @ts-ignore\n          uniformValue[childName],\n          uniforms,\n          `${prefix && prefix + \".\"}${uniformName}`\n        );\n      });\n    }\n    if (Array.isArray(uniformValue)) {\n      uniformValue.forEach((child, idx) => {\n        Object.keys(child).forEach((childName) => {\n          this.extractUniformsRecursively(\n            childName,\n            // @ts-ignore\n            child[childName],\n            uniforms,\n            `${prefix && prefix + \".\"}${uniformName}[${idx}]`\n          );\n        });\n      });\n    }\n  }\n};\nexport {\n  ReglModel as default\n};\n", "// src/regl/ReglTexture2D.ts\nimport { gl } from \"@antv/l7-core\";\nimport {\n  colorSpaceMap,\n  dataTypeMap,\n  filterMap,\n  formatMap,\n  mipmapMap,\n  wrapModeMap\n} from \"./constants\";\nvar ReglTexture2D = class {\n  constructor(reGl, options) {\n    this.isDestroy = false;\n    const {\n      data,\n      type = gl.UNSIGNED_BYTE,\n      width,\n      height,\n      flipY = false,\n      format = gl.RGBA,\n      mipmap = false,\n      wrapS = gl.CLAMP_TO_EDGE,\n      wrapT = gl.CLAMP_TO_EDGE,\n      aniso = 0,\n      alignment = 1,\n      premultiplyAlpha = false,\n      mag = gl.NEAREST,\n      min = gl.NEAREST,\n      colorSpace = gl.BROWSER_DEFAULT_WEBGL,\n      x = 0,\n      y = 0,\n      copy = false\n    } = options;\n    this.width = width;\n    this.height = height;\n    const textureOptions = {\n      width,\n      height,\n      // @ts-ignore\n      type: dataTypeMap[type],\n      format: formatMap[format],\n      wrapS: wrapModeMap[wrapS],\n      wrapT: wrapModeMap[wrapT],\n      // @ts-ignore\n      mag: filterMap[mag],\n      min: filterMap[min],\n      alignment,\n      flipY,\n      colorSpace: colorSpaceMap[colorSpace],\n      premultiplyAlpha,\n      aniso,\n      // copy pixels from current bind framebuffer\n      x,\n      y,\n      copy\n    };\n    if (data) {\n      textureOptions.data = data;\n    }\n    if (typeof mipmap === \"number\") {\n      textureOptions.mipmap = mipmapMap[mipmap];\n    } else if (typeof mipmap === \"boolean\") {\n      textureOptions.mipmap = mipmap;\n    }\n    this.texture = reGl.texture(textureOptions);\n  }\n  get() {\n    return this.texture;\n  }\n  update(props = {}) {\n    this.texture(props);\n  }\n  bind() {\n    this.texture._texture.bind();\n  }\n  resize({ width, height }) {\n    this.texture.resize(width, height);\n    this.width = width;\n    this.height = height;\n  }\n  getSize() {\n    return [this.width, this.height];\n  }\n  destroy() {\n    var _a;\n    if (!this.isDestroy) {\n      (_a = this.texture) == null ? void 0 : _a.destroy();\n    }\n    this.isDestroy = true;\n  }\n};\nexport {\n  ReglTexture2D as default\n};\n", "// src/boxSelect.ts\nimport { DOM, getBBoxFromPoints } from \"@antv/l7-utils\";\nimport { EventEmitter } from \"eventemitter3\";\nvar BoxSelectEventList = [\"selectstart\", \"selecting\", \"selectend\"];\nvar BoxSelect = class extends EventEmitter {\n  constructor(scene, options = {}) {\n    super();\n    this.isEnable = false;\n    this.onDragStart = (e) => {\n      this.box.style.display = \"block\";\n      this.startEvent = this.endEvent = e;\n      this.syncBoxBound();\n      this.emit(\"selectstart\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.onDragging = (e) => {\n      this.endEvent = e;\n      this.syncBoxBound();\n      this.emit(\"selecting\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.onDragEnd = (e) => {\n      this.endEvent = e;\n      this.box.style.display = \"none\";\n      this.emit(\"selectend\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.scene = scene;\n    this.options = options;\n  }\n  get container() {\n    return this.scene.getMapService().getMarkerContainer();\n  }\n  enable() {\n    if (this.isEnable) {\n      return;\n    }\n    const { className } = this.options;\n    this.scene.setMapStatus({\n      dragEnable: false\n    });\n    this.container.style.cursor = \"crosshair\";\n    if (!this.box) {\n      const box = DOM.create(\"div\", void 0, this.container);\n      box.classList.add(\"l7-select-box\");\n      if (className) {\n        box.classList.add(className);\n      }\n      box.style.display = \"none\";\n      this.box = box;\n    }\n    this.scene.on(\"dragstart\", this.onDragStart);\n    this.scene.on(\"dragging\", this.onDragging);\n    this.scene.on(\"dragend\", this.onDragEnd);\n    this.isEnable = true;\n  }\n  disable() {\n    if (!this.isEnable) {\n      return;\n    }\n    this.scene.setMapStatus({\n      dragEnable: true\n    });\n    this.container.style.cursor = \"auto\";\n    this.scene.off(\"dragstart\", this.onDragStart);\n    this.scene.off(\"dragging\", this.onDragging);\n    this.scene.off(\"dragend\", this.onDragEnd);\n    this.isEnable = false;\n  }\n  syncBoxBound() {\n    const { x: x1, y: y1 } = this.startEvent;\n    const { x: x2, y: y2 } = this.endEvent;\n    const left = Math.min(x1, x2);\n    const top = Math.min(y1, y2);\n    const width = Math.abs(x1 - x2);\n    const height = Math.abs(y1 - y2);\n    this.box.style.top = `${top}px`;\n    this.box.style.left = `${left}px`;\n    this.box.style.width = `${width}px`;\n    this.box.style.height = `${height}px`;\n  }\n  getLngLatBox() {\n    const {\n      lngLat: { lng: lng1, lat: lat1 }\n    } = this.startEvent;\n    const {\n      lngLat: { lng: lng2, lat: lat2 }\n    } = this.endEvent;\n    return getBBoxFromPoints([\n      [lng1, lat1],\n      [lng2, lat2]\n    ]);\n  }\n};\nexport {\n  BoxSelectEventList,\n  BoxSelect as default\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/index.ts\nimport { Logo } from \"@antv/l7-component\";\nimport { SceneEventList, createLayerContainer, createSceneContainer } from \"@antv/l7-core\";\nimport { MaskLayer, TileLayer } from \"@antv/l7-layers\";\nimport { DeviceRendererService, ReglRendererService } from \"@antv/l7-renderer\";\nimport { DOM, SceneConifg } from \"@antv/l7-utils\";\nimport BoxSelect, { BoxSelectEventList } from \"./boxSelect\";\nvar Scene = class {\n  constructor(config) {\n    const { id, map, renderer = \"device\" } = config;\n    const sceneContainer = createSceneContainer();\n    this.container = sceneContainer;\n    map.setContainer(sceneContainer, id);\n    if (renderer === \"regl\") {\n      sceneContainer.rendererService = new ReglRendererService();\n    } else {\n      sceneContainer.rendererService = new DeviceRendererService();\n    }\n    this.sceneService = sceneContainer.sceneService;\n    this.mapService = sceneContainer.mapService;\n    this.iconService = sceneContainer.iconService;\n    this.fontService = sceneContainer.fontService;\n    this.controlService = sceneContainer.controlService;\n    this.layerService = sceneContainer.layerService;\n    this.debugService = sceneContainer.debugService;\n    this.debugService.setEnable(config.debug);\n    this.markerService = sceneContainer.markerService;\n    this.interactionService = sceneContainer.interactionService;\n    this.popupService = sceneContainer.popupService;\n    this.boxSelect = new BoxSelect(this, {});\n    this.initComponent(id);\n    this.sceneService.init(config);\n    this.initControl();\n  }\n  get map() {\n    return this.mapService.map;\n  }\n  get loaded() {\n    return this.sceneService.loaded;\n  }\n  getServiceContainer() {\n    return this.container;\n  }\n  getSize() {\n    return this.mapService.getSize();\n  }\n  getMinZoom() {\n    return this.mapService.getMinZoom();\n  }\n  getMaxZoom() {\n    return this.mapService.getMaxZoom();\n  }\n  getType() {\n    return this.mapService.getType();\n  }\n  getMapContainer() {\n    return this.mapService.getMapContainer();\n  }\n  getMapCanvasContainer() {\n    return this.mapService.getMapCanvasContainer();\n  }\n  getMapService() {\n    return this.mapService;\n  }\n  /**\n   * 对外暴露 debugService\n   * @returns\n   */\n  getDebugService() {\n    return this.debugService;\n  }\n  exportPng(type) {\n    return __async(this, null, function* () {\n      return this.sceneService.exportPng(type);\n    });\n  }\n  exportMap(type) {\n    return __async(this, null, function* () {\n      return this.sceneService.exportPng(type);\n    });\n  }\n  registerRenderService(render) {\n    if (this.sceneService.loaded) {\n      const renderSerivce = new render(this);\n      renderSerivce.init();\n    } else {\n      this.on(\"loaded\", () => {\n        const renderSerivce = new render(this);\n        renderSerivce.init();\n      });\n    }\n  }\n  setBgColor(color) {\n    this.mapService.setBgColor(color);\n  }\n  addLayer(layer) {\n    if (this.loaded) {\n      this.preAddLayer(layer);\n    } else {\n      this.once(\"loaded\", () => {\n        this.preAddLayer(layer);\n      });\n    }\n  }\n  // layer 管理\n  preAddLayer(layer) {\n    const layerContainer = createLayerContainer(this.container);\n    layer.setContainer(layerContainer);\n    this.sceneService.addLayer(layer);\n    if (layer.inited) {\n      this.initTileLayer(layer);\n      const maskInstance = this.initMask(layer);\n      this.addMask(maskInstance, layer.id);\n    } else {\n      layer.on(\"inited\", () => {\n        this.initTileLayer(layer);\n        const maskInstance = this.initMask(layer);\n        this.addMask(maskInstance, layer.id);\n      });\n    }\n  }\n  // 兼容历史接口\n  initMask(layer) {\n    const { mask, maskfence, maskColor = \"#000\", maskOpacity = 0 } = layer.getLayerConfig();\n    if (!mask || !maskfence) {\n      return void 0;\n    }\n    const maskInstance = new MaskLayer().source(maskfence).shape(\"fill\").style({\n      color: maskColor,\n      opacity: maskOpacity\n    });\n    return maskInstance;\n  }\n  addMask(mask, layerId) {\n    if (!mask) {\n      return;\n    }\n    const parent = this.getLayer(layerId);\n    if (parent) {\n      const layerContainer = createLayerContainer(this.container);\n      mask.setContainer(layerContainer);\n      parent.addMaskLayer(mask);\n      this.sceneService.addMask(mask);\n    } else {\n      console.warn(\"parent layer not find!\");\n    }\n  }\n  getPickedLayer() {\n    return this.layerService.pickedLayerId;\n  }\n  getLayers() {\n    return this.layerService.getLayers();\n  }\n  getLayer(id) {\n    return this.layerService.getLayer(id);\n  }\n  getLayerByName(name) {\n    return this.layerService.getLayerByName(name);\n  }\n  removeLayer(layer, parentLayer) {\n    return __async(this, null, function* () {\n      yield this.layerService.remove(layer, parentLayer);\n    });\n  }\n  removeAllLayer() {\n    return __async(this, null, function* () {\n      yield this.layerService.removeAllLayers();\n    });\n  }\n  render() {\n    this.sceneService.render();\n  }\n  setEnableRender(flag) {\n    this.layerService.setEnableRender(flag);\n  }\n  // asset method\n  /**\n   * 为 layer/point/text 支持 iconfont 模式支持\n   * @param fontUnicode\n   * @param name\n   */\n  addIconFont(name, fontUnicode) {\n    this.fontService.addIconFont(name, fontUnicode);\n  }\n  addIconFonts(options) {\n    options.forEach(([name, fontUnicode]) => {\n      this.fontService.addIconFont(name, fontUnicode);\n    });\n  }\n  /**\n   * 用户自定义添加第三方字体\n   * @param fontFamily\n   * @param fontPath\n   */\n  addFontFace(fontFamily, fontPath) {\n    this.fontService.once(\"fontloaded\", (e) => {\n      this.emit(\"fontloaded\", e);\n    });\n    this.fontService.addFontFace(fontFamily, fontPath);\n  }\n  addImage(id, img) {\n    return __async(this, null, function* () {\n      yield this.iconService.addImage(id, img);\n    });\n  }\n  hasImage(id) {\n    return this.iconService.hasImage(id);\n  }\n  removeImage(id) {\n    this.iconService.removeImage(id);\n  }\n  addIconFontGlyphs(fontFamily, glyphs) {\n    this.fontService.addIconGlyphs(glyphs);\n  }\n  // map control method\n  addControl(ctr) {\n    this.controlService.addControl(ctr, this.container);\n  }\n  removeControl(ctr) {\n    this.controlService.removeControl(ctr);\n  }\n  getControlByName(name) {\n    return this.controlService.getControlByName(name);\n  }\n  // marker\n  addMarker(marker) {\n    this.markerService.addMarker(marker);\n  }\n  addMarkerLayer(layer) {\n    this.markerService.addMarkerLayer(layer);\n  }\n  removeMarkerLayer(layer) {\n    this.markerService.removeMarkerLayer(layer);\n  }\n  removeAllMarkers() {\n    this.markerService.removeAllMarkers();\n  }\n  removeAllMakers() {\n    console.warn(\"removeAllMakers 已废弃，请使用 removeAllMarkers\");\n    this.markerService.removeAllMarkers();\n  }\n  addPopup(popup) {\n    this.popupService.addPopup(popup);\n  }\n  removePopup(popup) {\n    this.popupService.removePopup(popup);\n  }\n  on(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.on(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.on(type, handle);\n    } else {\n      this.mapService.on(type, handle);\n    }\n  }\n  once(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.once(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.once(type, handle);\n    } else {\n      this.mapService.once(type, handle);\n    }\n  }\n  emit(type, handle) {\n    SceneEventList.indexOf(type) === -1 ? this.mapService.on(type, handle) : this.sceneService.emit(type, handle);\n  }\n  off(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.off(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.off(type, handle);\n    } else {\n      this.mapService.off(type, handle);\n    }\n  }\n  // implements IMapController\n  getZoom() {\n    return this.mapService.getZoom();\n  }\n  getCenter(options) {\n    return this.mapService.getCenter(options);\n  }\n  setCenter(center, options) {\n    return this.mapService.setCenter(center, options);\n  }\n  getPitch() {\n    return this.mapService.getPitch();\n  }\n  setPitch(pitch) {\n    return this.mapService.setPitch(pitch);\n  }\n  getRotation() {\n    return this.mapService.getRotation();\n  }\n  getBounds() {\n    return this.mapService.getBounds();\n  }\n  setRotation(rotation) {\n    this.mapService.setRotation(rotation);\n  }\n  zoomIn() {\n    this.mapService.zoomIn();\n  }\n  zoomOut() {\n    this.mapService.zoomOut();\n  }\n  panTo(p) {\n    this.mapService.panTo(p);\n  }\n  panBy(x, y) {\n    this.mapService.panBy(x, y);\n  }\n  getContainer() {\n    return this.mapService.getContainer();\n  }\n  setZoom(zoom) {\n    this.mapService.setZoom(zoom);\n  }\n  fitBounds(bound, options) {\n    const { fitBoundsOptions, animate } = this.sceneService.getSceneConfig();\n    this.mapService.fitBounds(\n      bound,\n      // 选项优先级：用户传入，覆盖animate直接配置，覆盖Scene配置项传入\n      options || __spreadProps(__spreadValues({}, fitBoundsOptions), {\n        animate\n      })\n    );\n  }\n  setZoomAndCenter(zoom, center) {\n    this.mapService.setZoomAndCenter(zoom, center);\n  }\n  setMapStyle(style) {\n    this.mapService.setMapStyle(style);\n  }\n  setMapStatus(options) {\n    this.mapService.setMapStatus(options);\n  }\n  // conversion Method\n  pixelToLngLat(pixel) {\n    return this.mapService.pixelToLngLat(pixel);\n  }\n  lngLatToPixel(lnglat) {\n    return this.mapService.lngLatToPixel(lnglat);\n  }\n  containerToLngLat(pixel) {\n    return this.mapService.containerToLngLat(pixel);\n  }\n  lngLatToContainer(lnglat) {\n    return this.mapService.lngLatToContainer(lnglat);\n  }\n  destroy() {\n    this.sceneService.destroy();\n  }\n  registerPostProcessingPass(constructor) {\n    this.container.postProcessingPass.name = new constructor();\n  }\n  // 控制 shader pick 计算\n  enableShaderPick() {\n    this.layerService.enableShaderPick();\n  }\n  diasbleShaderPick() {\n    this.layerService.disableShaderPick();\n  }\n  enableBoxSelect(once = true) {\n    this.boxSelect.enable();\n    if (once) {\n      this.boxSelect.once(\"selectend\", () => {\n        this.disableBoxSelect();\n      });\n    }\n  }\n  disableBoxSelect() {\n    this.boxSelect.disable();\n  }\n  // 数据协议\n  static addProtocol(protocol, handler) {\n    SceneConifg.REGISTERED_PROTOCOLS[protocol] = handler;\n  }\n  static removeProtocol(protocol) {\n    delete SceneConifg.REGISTERED_PROTOCOLS[protocol];\n  }\n  getProtocol(protocol) {\n    return SceneConifg.REGISTERED_PROTOCOLS[protocol];\n  }\n  startAnimate() {\n    this.layerService.startAnimate();\n  }\n  stopAnimate() {\n    this.layerService.stopAnimate();\n  }\n  // get current point size info\n  getPointSizeRange() {\n    return this.sceneService.getPointSizeRange();\n  }\n  initComponent(id) {\n    this.controlService.init(\n      {\n        container: DOM.getContainer(id)\n      },\n      this.container\n    );\n    this.markerService.init(this.container);\n    this.popupService.init(this.container);\n  }\n  initControl() {\n    const { logoVisible, logoPosition } = this.sceneService.getSceneConfig();\n    if (logoVisible) {\n      this.addControl(new Logo({ position: logoPosition }));\n    }\n  }\n  initTileLayer(layer) {\n    if (layer.getSource().isTile) {\n      layer.tileLayer = new TileLayer(layer);\n    }\n  }\n};\nexport {\n  Scene\n};\n", "// src/version.ts\nvar version = \"2.22.5\";\nexport {\n  version\n};\n"],
  "mappings": "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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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",
  "names": ["rewind", "extent", "length", "size", "project", "j", "classifyRings", "polygon", "signedArea", "sum", "VectorTile", "min", "length", "tmp", "KDBush", "getX", "getY", "Supercluster", "extend", "log", "index", "extent", "reduce", "wx", "point", "cluster", "count", "earcut", "last", "signedArea", "my", "Node", "sum", "require_eventemitter3", "prefix", "EventEmitter", "length", "isTypedArray", "extend", "leftPad", "number", "line", "lines", "fileNumber", "gl", "set", "u", "v", "raf", "get", "name", "array", "stats", "transposeData", "createBuffer", "options", "point", "triangle", "count", "image", "format", "color", "arrayShape", "wrap", "unit", "a", "b", "a0", "a1", "a2", "a3", "a4", "a5", "i", "size", "slice", "join", "proc", "AttributeRecord", "env", "isStatic", "id", "elements", "result", "prefix", "value", "cmp", "assert", "GL", "filter", "check", "type", "ELEMENTS", "COUNT", "program", "pendingStats", "merge", "stats$$1", "args", "index", "regl", "length", "year", "date", "hours", "minutes", "seconds", "milliseconds", "convert", "format", "rewind", "extent", "index", "csv", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "djb2hash", "last", "index", "index", "polygon", "size", "last", "scale", "min", "max", "polygon", "slice", "last", "extent", "polygon", "rewind", "extent", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "sum", "polygon", "extent", "size", "project", "index", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "extent", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__async", "getVectorTile", "getCustomData", "json", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "VectorSource", "Protobuf", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__async", "DEFAULT_CONFIG", "getVectorTile", "getCustomData", "VectorSource", "band", "length", "index", "min", "max", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__async", "operation", "formatData", "extent", "min", "max", "format", "operation", "__async", "operation", "image", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__async", "operation", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__async", "format", "operation", "_a", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "DEFAULT_CONFIG", "extent", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "_a", "extent", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__objRest", "rasterRgb", "_a", "extent", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__objRest", "rasterRgb", "_a", "extent", "min", "max", "format", "operation", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__async", "DEFAULT_CONFIG", "getVectorTile", "mapboxVectorTile", "__defProp", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "Supercluster", "point", "index", "__defProp", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__async", "_a", "size", "point", "latitude", "point", "hexagon", "x0", "y0", "x1", "y1", "dx", "dy", "y", "x", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "R_EARTH", "size", "point", "index", "__defProp", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "mapboxVectorTile", "csv", "rasterRgb", "import_eventemitter3", "map", "color", "import_eventemitter3", "import_supercluster", "cluster", "point", "Supercluster", "d", "L", "a", "l", "e", "import_eventemitter3", "EventEmitter", "import_eventemitter3", "SelectControlConstant", "defaultValue", "index", "longitude", "latitude", "transform", "index", "defaultValue", "transform", "scale", "pow10", "import_eventemitter3", "filter", "cluster", "min", "max", "index", "map", "array", "t1", "constant_default", "constant_default", "color", "rgb", "isNumberArray", "number_default", "number_default", "i", "constant_default", "number_default", "isNumberArray", "number_default", "scale", "hsl", "hue", "hcl", "hue", "cubehelix", "hue", "ascending_default", "bisector_default", "ascendingComparator", "ascending_default", "ascendingBisect", "bisector_default", "ascending_default", "bisectRight", "bisectLeft", "bisect_default", "number_default", "array", "slice", "map", "e10", "e5", "e2", "ticks_default", "count", "reverse", "tickIncrement", "tickStep", "number_default", "Map", "map", "size", "key", "Set", "set", "array", "map", "slice", "index", "scale", "slice", "constant_default", "number_default", "identity", "normalize", "constant_default", "i", "bisect_default", "transform", "clamp", "piecewise", "scale", "number_default", "map", "slice", "u", "length", "identity_default", "map", "locale", "group", "identity_default", "align", "zero", "prefix", "format", "length", "formatPrefix", "value", "max", "count", "tickStep", "scale", "count", "ticks_default", "tickIncrement", "linear", "identity", "transform", "scale", "count", "u", "v", "ticks_default", "transform", "scale", "identity", "quantile", "scale", "bisect_default", "ascending_default", "slice", "scale", "bisect_default", "slice", "scale", "bisect_default", "slice", "count", "date", "date", "date", "date", "date", "date", "date", "date", "date", "date", "date", "date", "date", "date", "date", "date", "locale", "formatYear", "formats", "pad", "format", "day", "length", "map", "locale", "defaultLocale", "date", "date", "durationSecond", "durationMinute", "durationHour", "durationDay", "durationWeek", "year", "month", "day", "hour", "minute", "second", "millisecond", "format", "scale", "identity", "formatYear", "date", "bisector_default", "i", "tickStep", "map", "t0", "t1", "count", "transformer", "t0", "t1", "transform", "identity", "clamp", "scale", "copy", "transformer", "t0", "t1", "identity", "transform", "clamp", "scale", "copy", "identity", "scale", "v", "isString", "linear", "identity", "quantile", "scale", "index", "clamp", "nice", "LayerStylePlugin", "isNumber", "array", "color", "filter", "LayerStylePlugin", "extent", "index", "_excluded", "_excluded2", "isFunction", "isNumber", "index", "extent", "v", "scale", "count", "earcut", "lineStyleType", "LinearDir", "TextureBlend", "SizeUnitType", "CanvasUpdateType", "import_earcut", "count", "last", "index", "point", "ShapeType3D", "ShapeType2D", "import_earcut", "earcut", "v", "ab", "index", "point", "point", "earcut", "size", "index", "v", "size", "planeFrag", "planeVert", "image", "SPRITE_ANIMATE_DIR", "index", "size", "isEqual", "size", "createBuffer", "models_default", "models_default", "gamma", "models_default", "models_default", "size", "lineStyleObj", "size", "import_earcut", "earcut", "v", "size", "lineStyleObj", "size", "size", "size", "line_frag", "line_vert", "size", "models_default", "models_default", "size", "isNumber", "size", "size", "pointExtrudeFrag", "pointExtrudeVert", "ExtrudeModel", "size", "pointFillFrag", "pointFillVert", "FillModel", "unit", "size", "pointFillFrag", "pointFillVert", "unit", "size", "ImageModel", "size", "PointTriangulation", "size", "pointFillFrag", "pointFillVert", "unit", "size", "point", "isEqual", "index", "gamma", "extent", "size", "FillModel", "ImageModel", "ExtrudeModel", "models_default", "models_default", "v", "image", "ExtrudeModel", "size", "image", "polygonExtrudeFrag", "polygonExtrudeVert", "size", "FillModel", "image", "image", "FillModel", "ExtrudeModel", "ImageModel", "models_default", "models_default", "_excluded", "_excluded2", "rasterFrag", "rasterVert", "RasterModel", "RasterModel", "models_default", "models_default", "index", "v", "Node", "cmp", "merge", "prefix", "Tree", "_a", "index", "size", "sort", "head", "tmp", "sum", "t1", "t0", "u3", "sum", "u", "bc", "ca", "ab", "u", "abt", "bct", "cat", "_8", "_16", "fin", "fin2", "ab", "bc", "_8", "_8b", "_16", "_48", "fin", "point", "epsilon", "ab", "v", "cmp", "tmp", "index", "least", "pt", "nextPt", "evt", "union", "intersection", "difference", "union", "index", "polygon", "import_eventemitter3", "color", "models_default", "models_default", "_excluded", "_excluded", "RasterTile", "VectorTile", "VectorTile", "RasterTile", "isNumber", "isNumber", "gl", "filter", "unit", "gradient", "gl", "models_default", "models_default", "geoJSON", "size", "layer", "import_eventemitter3", "map", "head", "isNil", "splice", "min", "max", "isNumber", "toString", "max", "default_1", "v", "color", "d", "b", "__assign", "__generator", "v", "PathParser", "EventEmitter", "GL", "ResourceType", "CompareFunction", "FrontFace", "CullMode", "BlendFactor", "BlendMode", "AddressMode", "FilterMode", "MipmapFilterMode", "PrimitiveTopology", "BufferUsage", "BufferFrequencyHint", "VertexStepMode", "TextureEvent", "TextureDimension", "TextureUsage", "ChannelWriteMask", "StencilOp", "SamplerFormatKind", "ViewportOrigin", "ClipSpaceNearZ", "QueryPoolType", "FormatTypeFlags", "FormatCompFlags", "FormatFlags", "Format", "v", "v", "align", "isNil", "size", "format", "isNil", "gl", "length", "v", "_a", "rest", "ResourceBase_GL", "_a", "Bindings_GL", "gl", "translateVertexFormat", "size", "translateIndexFormat", "format", "translateAddressMode", "filter", "getPlatformBuffer", "getPlatformSampler", "translateQueryPoolType", "translateTextureDimension", "Buffer_GL", "isNumber", "align", "InputLayout_GL", "isNil", "Texture_GL", "TextureUsage", "RenderTarget_GL", "ProgramCompileState_GL", "Program_GL", "count", "index", "QueryPool_GL", "Readback_GL", "length", "RenderPipeline_GL", "ComputePipeline_GL", "ResourceCreationTracker", "v", "Sampler_GL", "ComputePass_GL", "RenderBundle_GL", "Device_GL", "isInteger", "gl2", "WebGLDeviceContribution", "ptr", "GPUTextureUsage", "GPUMapMode", "ResourceBase_WebGPU", "Bindings_WebGPU", "group", "gpuBindGroupEntries", "i", "Buffer_WebGPU", "ComputePass_WebGPU", "ComputePipeline_WebGPU", "InputLayout_WebGPU", "Program_WebGPU", "depthTextureName", "QueryPool_WebGPU", "Readback_WebGPU", "RenderPass_WebGPU", "RenderPipeline_WebGPU", "Sampler_WebGPU", "Texture_WebGPU", "RenderBundle_WebGPU", "Device_WebGPU", "glsl_compile", "bb", "WebGPUDeviceContribution", "init", "size", "dtypes", "isTypedArray", "array", "isTypedArray", "v", "_a", "size", "count", "isTypedArray", "min", "format", "TextureUsage", "_a", "color", "TextureUsage", "_a", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "isPlainObject", "isTypedArray", "isNil", "count", "size", "_a", "color", "prefix", "isWebGL2", "gl", "__async", "isUndefined", "color", "gl", "_a", "isWebGL2", "TextureUsage", "gl", "size", "primitiveMap", "wrapModeMap", "depthFuncMap", "blendEquationMap", "blendFuncMap", "stencilFuncMap", "stencilOpMap", "cullFaceMap", "count", "color", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "isPlainObject", "isTypedArray", "count", "primitiveMap", "_a", "depthFuncMap", "color", "blendFuncMap", "blendEquationMap", "stencilFuncMap", "stencilOpMap", "cullFaceMap", "prefix", "format", "min", "copy", "wrapModeMap", "_a", "__async", "_a", "color", "gl", "regl", "import_eventemitter3", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__async", "map", "color", "_a"]
}
